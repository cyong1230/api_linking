Pandas	O
timeseries	O
plot	O
setting	O
x-axis	O
major	O
and	O
minor	O
ticks	O
and	O
labels	O

I	O
want	O
to	O
be	O
able	O
to	O
set	O
the	O
major	O
and	O
minor	O
xticks	O
and	O
their	O
labels	O
for	O
a	O
time	O
series	O
graph	O
plotted	O
from	O
a	O
Pandas	O
time	O
series	O
object	O
.	O

The	O
Pandas	O
0.9	O
"	O
what's	O
new	O
"	O
page	O
says	O
:	O

"	O
you	O
can	O
either	O
use	O
to_pydatetime	B-API
or	O
register	O
a	O
converter	O
for	O
the	O

Timestamp	O
type	O
"	O

but	O
I	O
can't	O
work	O
out	O
how	O
to	O
do	O
that	O
so	O
that	O
I	O
can	O
use	O
the	O
matplotlib	O
`	O
ax.xaxis.set_major_locator	O
`	O
and	O
`	O
ax.xaxis.set_major_formatter	O
`	O
(	O
and	O
minor	O
)	O
commands	O
.	O

If	O
I	O
use	O
them	O
without	O
converting	O
the	O
pandas	O
times	O
,	O
the	O
x-axis	O
ticks	O
and	O
labels	O
end	O
up	O
wrong	O
.	O

By	O
using	O
the	O
'	O
xticks	O
'	O
parameter	O
I	O
can	O
pass	O
the	O
major	O
ticks	O
to	O
pandas.plot	O
,	O
and	O
then	O
set	O
the	O
major	O
tick	O
labels	O
.	O

I	O
can't	O
work	O
out	O
how	O
to	O
do	O
the	O
minor	O
ticks	O
using	O
this	O
approach	O
.	O

(	O
I	O
can	O
set	O
the	O
labels	O
on	O
the	O
default	O
minor	O
ticks	O
set	O
by	O
pandas.plot	O
)	O

Here	O
is	O
my	O
test	O
code	O
:	O

`	O
import	O
pandas	O

print	O
'	O
pandas.__version__	O
is	O
'	O
,	O
pandas.__version__	O

print	O
'	O
matplotlib.__version__	O
is	O
'	O
,	O
matplotlib.__version__	O

dStart	O
=	O
datetime.datetime	O
(	O
2011	O
,	O
5	O
,	O
1	O
)	O
#	O
1	O
May	O

dEnd	O
=	O
datetime.datetime	O
(	O
2011	O
,	O
7	O
,	O
1	O
)	O
#	O
1	O
July	O

dateIndex	O
=	O
pandas.date_range	B-API
(	O
start	O
=d	O
Start	O
,	O
end	O
=d	O
End	O
,	O
freq='D	O
')	O

print	O
"	O
1	O
May	O
to	O
1	O
July	O
2011	O
"	O
,	O
dateIndex	O

testSeries	O
=	O
pandas.Series	B-API
(	O
data=	O
np.random.randn	O
(	O
len	O
(	O
dateIndex	O
))	O
,	O

index	O
=d	O
ateIndex	O
)	O

ax	O
=	O
plt.figure	O
(	O
figsize	O
=(	O
7	O
,	O
4	O
)	O
,	O
dpi=300	O
)	O
.add_subplot	O
(	O
111	O
)	O

testSeries.plot	O
(	O
ax=ax	O
,	O
style='v	O
-	O
'	O
,	O
label='first	O
line	O
')	O

#	O
using	O
MatPlotLib	O
date	O
time	O
locators	O
and	O
formatters	O
doesn't	O
work	O
with	O
new	O

#	O
pandas	O
datetime	O
index	O

ax.xaxis.set_minor_locator	O
(	O
matplotlib.dates.WeekdayLocator	O
(	O
byweekday	O
=(	O
1	O
)	O
,	O

interval=1	O
))	O

ax.xaxis.set_minor_formatter	O
(	O
matplotlib.dates.DateFormatter	O
(	O
'	O
%d\n%a	O
'))	O

ax.xaxis.grid	O
(	O
True	O
,	O
which=	O
"	O
minor	O
")	O

ax.xaxis.grid	O
(	O
False	O
,	O
which=	O
"	O
major	O
")	O

ax.xaxis.set_major_formatter	O
(	O
matplotlib.dates.DateFormatter	O
(	O
'	O
\n\n\n%b%Y	O
'))	O


#	O
set	O
the	O
major	O
xticks	O
and	O
labels	O
through	O
pandas	O

ax2	O
=	O
plt.figure	O
(	O
figsize	O
=(	O
7	O
,	O
4	O
)	O
,	O
dpi=300	O
)	O
.add_subplot	O
(	O
111	O
)	O

xticks	O
=	O
pandas.date_range	B-API
(	O
start	O
=d	O
Start	O
,	O
end	O
=d	O
End	O
,	O
freq='W	O
-Tue	O
')	O

print	O
"	O
xticks	O
:	O
"	O
,	O
xticks	O

testSeries.plot	O
(	O
ax=ax2	O
,	O
style=	O
'	O
-v	O
'	O
,	O
label='second	O
line	O
'	O
,	O

xticks=	O
)	O

ax2.set_xticklabels	O
(	O
[	O
x.strftime	O
(	O
'	O
%a\n%d\n%h\n%Y	O
')	O
for	O
x	O
in	O
xticks	O
]);	O

#	O
set	O
the	O
text	O
of	O
the	O
first	O
few	O
minor	O
ticks	O
created	O
by	O
pandas.plot	O

#	O
ax2.set_xticklabels(['a','b','c','d','e	O
'	O
]	O
,	O
minor=True	O
)	O

#	O
remove	O
the	O
minor	O
xtick	O
labels	O
set	O
by	O
pandas.plot	O

ax2.set_xticklabels	O
(	O
[]	O
,	O
minor=True	O
)	O

#	O
turn	O
the	O
minor	O
ticks	O
created	O
by	O
pandas.plot	O
off	O

#	O


print	O
testSeries['6/4/2011':'6	O
/	O
7	O
/	O
2011	O
'	O
]	O

`	O

and	O
it's	O
output	O
:	O

@CODE	O

@CODE	O

@CODE	O

Update	O
:	O
I've	O
been	O
able	O
to	O
get	O
closer	O
to	O
the	O
layout	O
I	O
wanted	O
by	O
using	O
a	O
loop	O
to	O
build	O
the	O
major	O
xtick	O
labels	O
:	O

@CODE	O

But	O
this	O
is	O
a	O
bit	O
like	O
doing	O
the	O
x-axis	O
using	O
ax.annotate	O
,	O
possible	O
but	O
not	O
ideal	O
.	O

Both	O
`	O
pandas	O
`	O
and	O
`	O
matplotlib.dates	O
`	O
use	O
`	O
matplotlib.units	O
`	O
for	O
locating	O
the	O
ticks	O
.	O

But	O
while	O
`	O
matplotlib.dates	O
`	O
has	O
convenient	O
ways	O
to	O
set	O
the	O
ticks	O
manually	O
,	O
pandas	O
seems	O
to	O
have	O
the	O
focus	O
on	O
auto	O
formatting	O
so	O
far	O
(	O
you	O
can	O
have	O
a	O
look	O
at	O
the	O
code	O
for	O
date	O
conversion	O
and	O
formatting	O
in	O
pandas	O
)	O
.	O

So	O
for	O
the	O
moment	O
it	O
seems	O
more	O
reasonable	O
to	O
use	O
`	O
matplotlib.dates	O
`	O
(	O
as	O
mentioned	O
by	O
@BrenBarn	O
in	O
his	O
comment	O
)	O
.	O

@CODE	O

(	O
my	O
locale	O
is	O
German	O
,	O
so	O
that	O
Tuesday	O
[	O
Tue	O
]	O
becomes	O
Dienstag	O
[	O
Di	O
]	O
)	O
