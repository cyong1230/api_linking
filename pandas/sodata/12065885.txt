How to filter the DataFrame rows of pandas by "within"/"in"?
I have a DataFrame 'rpt' of Python pandas: @CODE
I can filter the rows whose stock id is '600809' like this: `rpt[rpt['STK_ID']=='600809']` @CODE
and I want to get all the rows of some stocks together, such as `['600809','600141','600329']`, that means I want a syntax like this: @CODE
Since pandas not accept above command, how to achieve the target?
Say hi to my Chinese brother. These are Chinese stocks!
Use the `isin` method. `rpt[rpt['STK_ID'].isin(stk_list)]`.
what about the negation of this- what would be the correct way of going about a `!isin()`?
@dbyte: You just use the `~` operator: `rpt[~rpt['STK_ID'].isin(stk_list)]`
perfect! thanks!
Jk...thanks Bren :)
Is there a direct way to do this on one level of a multiindex (i.e. without the reset_index?)
Related to what @mathtick asked: is there a way to do this on an index in general (needn't necessarily be a multindex)?
@user1669710: Indexes also have an `isin` method.
Thanks, just tried it!
In case anyone needs the syntax for an index: `df[df.index.isin(ls)]` where ls is your list
you can also use ranges by using: @CODE
`isin()` is ideal if you have a list of exact matches, but if you have a list of partial matches or substrings to look for, you can filter using the `str.contains` method and regular expressions. 
For example, if we want to return a DataFrame where all of the stock IDs which begin with `'600'` and then are followed by any three digits: @CODE
Suppose now we have a list of strings which we want the values in `'STK_ID'` to end with, e.g. @CODE
We can join these strings with the regex 'or' character `|` and pass the string to `str.contains` to filter the DataFrame: @CODE
Finally, `contains` can ignore case (by setting `case=False`), allowing you to be more general when specifying the strings you want to match. 
For example, @CODE
would match `PANDAS`, `PanDAs`, `paNdAs123`, and so on.
You can also directly query your DataFrame for this information. @CODE
Or similarly search for ranges: @CODE
