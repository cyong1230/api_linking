If you can quickly transform your data to what OpenGL understands as color array , you could create a vertex array describing quads , one for each sensor , then update your color array and draw this orthographically on screen .
If you can quickly transform your datapoints to an opengl texture you can draw one quad with fixed UV coordinates that is bound to this texture .
Pygame has support for conversion of Numpy / Numarray to surfaces , Pygame can then transform such surfaces which involves resampling , after resampling you can blit it on screen .
The Figure class then uses this as the default value for one of its arguments .
If you're using pyplot / pylab and ` show() ` to create a popup window , you need to call ` figure ( num=1 ,... )` ** before ** you plot anything - pyplot / pylab creates a figure as soon as you draw something , and the size of the popup appears to be fixed at this point .
Thanks , this works for me , since it just resizes the plot area , i.e. I can make extra space for the xticks .
For me draw does not open a window to display the plot , only the blocking show at the end displays the solution .
With matplotlib 0.98.3 the right import is from matplotlib.pyplot import plot , draw , show
The draw back png's are not interactive :\
How to wait until matplotlib animation ends ?
If you want to draw ` .png ` images then you should try #URL
There's no direct support for this , but here's some code from a mailing list posting that illlustrates two independent vertical axes : #CODE
The scope of the original question seems to have been for N rather than 2 scaled plots - when I try this with 3 or more it dies ( using a2 , a3 and so on for additional axes instances . ) Any idea how to get a whole bunch of datasets rendering properly scaled at once ?
Make a second axes that shares the x-axis .
The new axes will overlay ax ( or the current axes if ax is None ) .
Take a look at ` subplots_adjust ` , or just use ` axes ` ` ([ left , bottom , width , height ])` .
as a point of style , there's no need to use subplot when you only have one plot per figure .
clears the current axes .
Or subplot ( 121 ) / subplot ( 122 ) for the same plot , different position .
1 Bar for less than 1 hour change intervals , another for changes between 1 - 5 hours , and so on .
Something like the graph below ( but than I would like multiple X axes , but that doesn't really matter . )
Plot logarithmic axes with matplotlib in python
If you need log on both axes , use [ loglog ] ( #URL )
That allows you to change the scale after the Axes object is created .
If you want log scales on both axes , try ` loglog() ` or on x-axis only try ` semilogx() `
However both bar and hist has optional arguments to set the y-scale to log , which work fine .
One more possibility is Gnuplot , which can draw some kind of pseudo 3D bar charts , and gnuplot.py allows interfacing to Gnuplot from Python .
Matplotlib : Legend not displayed properly
Has anyone a clue why my legend is screwed up ?
Am I understanding correctly that there should only be 10 items listed in the legend ?
Assuming the bug is related to the auto-legend feature , you might be able to work around it by being explicit about what you want in the legend : #CODE
The following graph represents the required time to plot and save random scatter plots and it's self explanatory .
The axes generated by `` mpl.subplots `` cannot be used this way ?
Make the axis invisible ( e.g. with ` plt.gca() .axison = False `) and then draw them manually with ` plt.arrow ` .
this seems to remove the spines but leave the tick marks in place .
matplotlib can use different backends for rendering , agg is pure draw with no UI , so you can only save images e.g. #CODE
the axes display the pixel coordinates .
I've found myself getting very confused with axes , axis , figures , artists etc !
It looks like you're dealing with the ` matplotlib.pyplot ` interface , which means that you'll be able to bypass most of the dealing with artists , axes , and the like .
A ` Figure ` is a container for all the ` Axes `
An ` Axes ` is the space where what you draw ( i.e. your plot ) actually shows up
An ` Axis ` is the actual ` x ` and ` y ` axes
The trick is at the end , in the custom refresh method !
Update the SubplotParams with kwargs ( defaulting to rc where None ) and update the subplot locations
Since it looks like you're just using a single subplot , you may want to skip ` add_subplot ` and go straight to ` add_axes ` .
This will allow you to give the size of the axes ( in figure-relative coordinates ) , so you can make it as large as you want within the figure .
The yticks function plots the ticks on the y axis ; I am not sure whether you originally meant this or the ylabel function , but the procedure is alwasy the same , you have to add rotation= ' vertical '
However , this still doesn't draw the ticks in the bars .
How to scale matplotlib subplot heights individually
I need the data points to all be square , AND the columns to be lined up , so the heights have to change according to how many rows each subplot has .
Don't use subplot but axes to create your subplots - the latter allows arbitrary positioning of the subplot .
But you can deemphasize the plots themselves and the axes will look greater .
Axis are drawn automatically by all plotting functions I've seen so far , e.g. #CODE
matplotlib axes documentation
It sounds like your problem has been addressed in the new Matplotlib 0.99 with the Axis spine placement feature .
I mean the dimensions of the Figure object .
I think you need to " artificially synthesize " the exact form of plot you want by using ` xticks ` to set the tick labels to the strings representing the dates ( of course placing the ticks at equispaced intervals even though the dates you're representing aren't equispaced ) and then using a plain ` plot ` .
Show / hide a plot's legend
I want to provide a checkbox option to show / hide a plot's legend .
Is there a way to hide a legend ?
I've tried using pyplot's '` _nolegend_ `' and it appears to work on select legend entries but it creates a ValueError if applied to all entries .
I can brute force the legend to hide by clearing and redrawing the whole plot but ...
For an image or contour plot , you can use the keyword ` origin = None | ' lower ' | ' upper '` and for a line plot , you can set the ylimits high to low .
Directly setting the axis limits with " ylim ([ y1 , y2 ])" or " axis ([ x1 , x2 , y1 , y2 ])" worked will .
Do I need to use the subplot command ?
To answer your main question , you want to use the subplot command .
First , calling subplot doesn't give you multiple plots ; subplot is called to create a single plot , as well as to create multiple plots .
the line just above creates a matplotlib figure instance ; this object's add_subplot method is then called for every plotting window ( informally think of an x y axis comprising a single subplot ) .
211 ( which could also be written in 3-tuple form as ( 2 , 1 , 1 ) means two rows of plot windows ; one column ; the third digit specifies the positioning relative to the other subplot windows -- in this case , this is the first plot ( which places it on row 1 , hence the 1 . plot number one , " and
i appreciate this question because it's clear and exaustive . but i need to plot 25 subplot in a 5x5 matrix layout .
i get this error : __ValueError : Argument to subplot must be a 3 digits long__
where ` axes ` is a ` numpy.ndarray ` of AxesSubplot objects , making it very convenient to go through the different subplots just using array indices ` [ i , j ]` .
I don't think there is anything built-in , but you can do it by leaving more space above your axes and using ` figtext ` : #CODE
If I call ` subtitle_string =( ' Upper panel : Max , Avg , Min , Footprint % | Lower panel : Footprint % and Critical Cells % ')` and then ` plt.suptitle ( title_string , y= 0.99 , fontsize=17 )` in a chart with two subplots , the subtitle gets printed above the second subplot instead of the first and I don't see the legend printed .
work with Figure 1
work with Figure 2
work with Figure 1
work with Figure 2
A better option for serious software development is to use the object-oriented way where you have figure objects containing axes objects whose plot methods you call .
At the time , when I was writing the code I was deciding between the pylab approach and the " artist objects " approach that EOL and JKS are refering to , and the " ax " variables were just a left-over from that .
` subplot ` will let you plot more than one figure on the same canvas .
I'm not sure if I'm explaining myself clearly , but another way of asking this question is this : how do I pass a figure object to a function and then have the function draw something to the passed figure object and then return it back to the main script to add other things like the title or something ?
It just required a bit of reading here with the figure and axes classes .
This is the right idea , except generally the figure contains one or more axes and most of the action is in calling the axes methods to make your plots , so it's easier to make the figure , then the axes , and pass the axes ( or some object within them ) to the functions .
Matplotlib Legend for Scatter with custom colours
I'm a bit of newbie at this and am trying to create a scatter chart with custom bubble sizes and colours .
The chart displays fine but how do I get a legend saying what the colours refer to .
That's great for lines but not sure how to apply it to a scatter where each separate point is a different colour ?
In general , the items in the legend are related with some kind of plotted object .
The ` scatter ` function / method treats all circles as a single object , see : #CODE
Hence , calling ` scatter ` multiple times .
Unfortunately , newer version of matplotlib seem not to use a rectangle in the legend .
Thus the legend will contain very large circles , since you increased the size of your scatter plot objects .
The legend function as a ` markerscale ` keyword argument to control the size of legend markers , but it seems to be broken .
The Legend guide recommends using Proxy Artist in similar cases .
( It's harder - a bit harder , or MUCH harder , depending - in other languages that do draw lots of distinctions of this sort ) .
I don't know if any of the other things are important so I just included the whole function . converterd is a dictionary mapping I believe that the user can provide as a parameter to find a converter automatically . checkrows is just a number provided by the user as a parameter in the beginning to check for validity .
How to add strings to the axes in Axes3D instead of numbers ?
Matplotlib square boxplot
You can use Axes.set_aspect to do this if you set the aspect to the ratio of axes limits .
How can I get the ( x , y ) values of the line that is ploted by a contour plot ( matplotlib ) ?
Is there an easy way to get the ( x , y ) values of a contour line that was plotted like this : #CODE
Look at the collections property of the returned ContourSet .
You should be able to set the y axis with the ylim function : is it what you are asking for ?
I can , but using ` ylim ` fixed it ; for some reason hist doesn't always set it correctly .
Those particular errors stem from the lack of the development package for libpng .
how to get it working for scatter plot ?
@USER it should work just as in my example ( change ` plot ` to ` scatter `) .
What you're doing is respecifying the number of columns in your second call to subplot , which in turn changes the configuration and causes pyplot to start over .
subplot ( 121 )
subplot ( 122 )
You must use xticks and the ha ( or ' horizontalalignment ') parameter : #CODE
look at help ( xticks ) and help ( matplotlib.text.Text ) for more options
I am not able to change width of border of ` subplot ` , how can I do it ?
Sharing contour plot attributes between subplots
I'm plotting several contour plots side by side for visualizing the time evolution of certain function .
I want each contour's value and color to be shared between all subplots , but each time I add a new subplot , the contour values are recomputed ( as shown in the image below ) , so any comparison between them is meaningless .
I've tried setting manually different combinations of ` cmap ` , ` colorbar ` and ` axes ` attributes on each subplot instance , without success .
How can I share the contour plot attributes between all the subplots ?
You can directly specify the contour values to be used in the contour plot .
I assume it is not sufficient to have four axes on one figure .
I have a pretty big array ( 10 , 700000 ) of floats , representing the discrete wavelet transform coefficients of a sound file .
Have you tried to transform the axis ?
This means there must be gaps in the data for the non-existent coordinates , unless there is a way to provide a transform function instead of just lists ( never tried ) .
You can use a transform like this one : #CODE
Basically it will transform the first coordinate of an array or list with the ` mylog2 ` function ( that you can transform as you wish - it's home-made as a simplification of log2 ) .
The advantage is , you can re-use that for another transform should you need it , and you can easily control it too .
That's why I say the data had to be adapted , it's still worth mentioning for the axes in themselves .
Matplotlib allows you to draw rectangles ( they would be your " rectangular pixels ") : #CODE
Note that the extents of the axes are not set by add_patch() , but you can set them yourself to the values you want ( axes.set_xlim , ) .
I would guess that thrope's solution does draw rectangles like this ( with the ` nearest ` neighbor option ) , but directly through Matplotlib .
All you need is a graphics library that can draw text and half circles , which is possible in pretty much everything .
Matplotlib : draw grid lines behind other graph elements
Quitting matplotlib.pyplot animation gracefully
As there are over 500 files , I will occasionally want to close the animation window in the middle of the plotting .
Can anyone help me find a way to close the animation window while the script is running whilst looking graceful ( well more graceful than a series of python traceback errors ) ?
If you update the data and do the draw in a loop , you should be able to interrupt it .
Why won't my Python scatter plot work ?
I created a very simple scatter plot using pylab .
When I change " scatter " to " plot " it graphs the data , but each point is part of a line and that makes the whole things a scribbly mess .
I bet engineSize , fuelMile are stings , try printing them , if that is the case , you have to convert them to float before passing them as arguments to scatter #CODE
Byte 17 : Button states ( b1-b4 )
This is some good reading on using matplotlib for animation with the various GUI backends .
I would like to know how can I make it so the arrows have a length of sqrt ( 2 ) ( as their x and y coordinates have length 1 ) .
This will produce arrows sqrt ( 2 ) in proportion to the y axis .
But that didn't help that much :( I need them to be sqrt ( 2 ) .
BUT if I reload the page , the pie will draw itself with the same image .
How do I draw properly with Matplotlib in Django ?
Plotting scatter , line , and bar graphs .
color the points in a scatter plot based on a third column
generate dozens of scatter plots over different dimensions of a large data set to find which variables are important
I'm using some simple matplotlib functions to draw a pie chart :
You could also adjust the line width after you draw your pie chart : #CODE
I was fearing that I might need to do something with the Figure class etc .
I want to dynamically update the scatter plot based on the y-axis data received from a socket connection .
I have been looking through the docs for Axes , Axis , and Artist , but no luck ; the matplotlib gallery also has no hint .
How to make a 3D scatter plot in Python ?
I also need it be a scatter plot .
I actually just want a simple scatter plot . thanks :)
Can you suggest a way to plot a confusion matrix with xticks on top of the axis with vertical rotation ?
I forgot that I needed to refresh the figure .
Reading your post , and trying by myself , I found one very simple way of setting the ticks on top on the axes :
The hist function wants a tuple as the first argument .
draw a border around subplots in matplotlib
anyone know how to draw a border around an individual subplot within a figure in matplotlib ?
.. but Axes objects have no ' edgecolor ' , and I can't seem to find a way to outline the plot from the figure level either .
I'm actually wrapping mpl code and adding a wx UI with controls that I would like to have context depending on which subplot is selected .
i.e. User clicks on subplot within figure canvas -- subplot is ' selected ' ( has an outline drawn around it , ideally sawtooth ) -- GUI updates to present controls to modify that specific subplot .
You essentially want to draw outside of the axes , right ?
* hist * can do 2D data , unless I'm not getting your point .
Use ` xlim ` and ` ylim ` to set the limits of the plot .
` xlim ( -3 , 3 )` and ` ylim ( -3 , 3 )` should do it .
I changed the data input from pairs to two 1D arrays since this is how data is supplied to scatter ( x , y ) and alike functions #CODE
Alternatively , markevery supports a float input which ` markers will be spaced at approximately equal distances along the line ; the distance along the line between markers is determined by multiplying the display-coordinate distance of the axes bounding-box diagonal by the value ` #URL
Use xlim and ylim to set the range to be displayed , [ 0 ; 100 ] and [ 0 ; 1 ] in this case .
Use xticks and yticks to control the spacing of the ticks , 10 and 0.01 in this case ( 11 steps for both ) .
By changing curves , the previous one should disappear , the legend should change and its axis as well .
I have a scatter plot graph with a bunch of random x , y coordinates .
where the ` gca() ` function returns the current Axes instance and the ` [: : -1 ]` reverses the list .
So I googled around and found out how to draw shapes and lines - using add_patch and add_line respectively to the axes ( I believe ) .
The other option is to render and save the plots to png files and later build an animation from those .
I just want to know , how do I SHOW the circles and lines in a plot using pylab.plot() , I don't know the syntax for pylab.plot() that lets you just draw a standard plot with some shapes , and no graph or anything .
This uses python multiprocessing library to run the matplotlib animation in a separate process .
It sounds like Mark has the answer you were looking for , but if you decide to go with whatnick's approach and build an animation from individual pngs , here is the code to implement Amit's suggestion to use mencoder ( from #URL ): #CODE
To annotate my figures with Greek letters in the matplotlib package of Python , I use the following : #CODE
I'm trying to plot a figure without tickmarks or numbers on either of the axes ( I use axes in the traditional sense , not the matplotlib nomenclature ! ) .
In this second option , you can still use ` plt.xlabel() ` and ` plt.ylabel() ` to add labels to the axes .
EDIT with answer and picture ( can be done similarly with ` hist `) : #CODE
In matplotlib , how to draw a bar graphs of multiple datasets to put smallest bars to front ?
Is there a way to get matplotlib to draw the bars with the smallest on top ?
@USER , see edits , I added some code that'll auto z order all the rectangle patches if they are plotted at the same x coordinate .
You can draw them in order , like this , or do the zorder
I know this is an old question , but I came across it for my own purposes , and since it seemed like something I'd do over and over , I put together a wrapper for the hist function ( which is what I'll be using ; modification to bar should be trivial ): #CODE
This takes the datasets as anonymous arguments , and any labels as keyword arguments ( for the legend ) , as well as any other keyword argument usable with hist .
Matplotlib : Formatting dates on the x-axis in a 3D Bar graph
Do you just want the xticks to be strings instead of numbers ?
It uses the ` bar ` and ` scatter ` methods from ` pylab ` .
How to specify the axes properly ?
I would just draw them manually .
Some classes such as Line2D have a " set_antialiased " method , but Text lacks this .
I believe the anti-aliasing of Text objects is up to the font engine being used .
If you want to create a legend for this kind of graph , I think you need to use proxy " Artists " #URL
I just started toying around with Matplotlib's Animation capabilities in order to produce a Google Finance looking chart .
So I would assume the solution would be to do the intelligent animation for the bottom chart , i.e. , the blit-ing bit , while the top chart is just re-drawn altogether .
Yea the whole animation thing works surprisingly well in Matplotlib .
You are right , if you try to redraw the entire figure in the on_motion , it messes up the animation of the yellow rectangle .
Grid lines in parasitic axes in matplotlib
Can you draw the grid lines in a plot with parasitic axes in matplotlib ?
I try this , based on the samples for grids and for parasitic axes , but grid drawing is not performed : #CODE
Axis label colour is lost , however .
you saved me , I was about to go back to generating the axes manually
How to make an axes occupy multiple subplots with pyplot ( Python )
The figure should have a subplot layout of two by two , where the first plot should occupy the first two subplot cells ( i.e. the whole first row of plot cells ) and the other plots should be positioned underneath the first one in cells 3 and 4 .
I know that matlab allows this by using the subplot command like so #CODE
Is it also possible in pyplot to have a single axes occupy more than one subplot ?
for example in the second subplot ( ` subplot ( 2 , 2 , 3 )`) , the axes will go to the third section of the 2*2 matrix i.e , to the bottom-left corner .
draw points using matplotlib.pyplot [[ x1 , y1 ] , [ x2 , y2 ]]
I want to draw graph using a list of ` ( x , y )` pairs instead of using two lists , one of X's and one of Y's .
I am using matplotlib to draw charts and graphs .
I would like to refresh my list of values with new data , and than refresh the image on the background .
Regardless of order of the ` plot ` and ` scatter ` calls , this plot comes out the same , and not as I'd like .
pyplot.ginput() causes axes to change ?
On the first click , the ranges of the axes of the clicked image change to add 200 on each side .
On the first click of the mouse , the axes change from ( 0 , imageWidth ) and ( 0 , imageHeight ) to ( -200 , imageWidth+200 ) and ( -200 , imageHeight+200 ) .
I would like to utilize customer markers in both scatter and line charts .
This means that colormaps that do not include white color are not useful .
How cool would an open-source , auto converter for matlab to python be ??
This may or may not work , but you might want to try a Matlab to Python converter such as mat2py .
From there , I traced ` psd ` back to ` Axes ` and then ` mlab ` .
How to switch axes in matplotlib ?
I am asking how to switch x and y axes after I have plotted all data .
Commenting that call out solves the problem , though obviously , I would still like to be able to put a legend on my graphs ...
Also for animation I have used pyplot.pause ( time_duration ) .
From the pyplot tutorial , Working with multiple figures and axes :
axes with ` cla() ` .
Generate a heatmap in MatPlotLib using a scatter data set
I have a set of X , Y data points ( about 10k ) that are easy to plot as a scatter plot but that I would like to represent as a heatmap .
For a hexagon , the distance from center to a vertex joining two sides is also longer than from center to middle of a side , only the ratio is smaller ( 2 / sqrt ( 3 ) ? 1.15 for hexagon vs . sqrt ( 2 ) ? 1.41 for square ) .
I'm trying to get this as some sort of normal ` axes ` instance , where I can add a title , axis labels , etc . and then do the normal ` savefig() ` like I would do for any other typical matplotlib plot .
If you want to get an axes instance , use Matplotlib's object-oriented interface : ` fig = plt.figure() ` ` ax = fig.gca() ` ` ax.imshow ( ... )` ` fig.savefig ( ... )`
What I would do to get the same orientation as a scatter plot is ` plt.imshow ( heatmap.T , extent=extent , origin = ' lower ')`
@USER , what if I want to draw on the first figure ?
Add an ` Axes ` using ` add_subplot ` .
* ` functions ( but use instead Axes . * plotting functions ) .
I also had this problem specifically when I was trying to use the annotate function .
Yes , you can use spines for this .
Matplotlib allows you to create axes with any kind of transformation ; perhaps I can write an alternate polar() function with the transform I'm looking for .
Now , automatically created subclasses of NorthPolarAxes such as NorthPolarAxesSubplot can access the transform functions .
matplotlib : how to refresh figure.canvas
I can't understand how to refresh FigureCanvasWxAgg instance .
@USER , Thank you , sharing the figure is my idea for increasing performance since I wouldn't like to create a new plot and draw it another time .
As I said in the comments , I don't think that the figure canvas refresh is your problem , in fact I think it's doing exactly what it's supposed to ( redrawing itself based on it's last state [ ie as it was in your subplot ]) .
If you are running on a * nix OS the problem is your session is terminated and all processes requiring a session are also terminated when you disconnect .
Creating a Colormap Legend in Matplotlib
How do I add a legend showing the numeric value for the different shades of gray .
When the number of data input is approx . greater than 15000 , I get in the ( append ) line of my code : #CODE
See the API docs for ` contour ` : if the fourth argument is a sequence then it specifies which contour lines to plot .
My solution is a more manual way of getting at the same piece of information using the same underlying concept : setting up the implicit equation as f ( x , y ) such that f ( x , y ) = 0 is equivalent to the original implicit equation and isolating its zero contour .
My only remaining issue is that the contour plot appears behind my gridlines , as opposed to a regular plot , which I can force to the front with zorder .
@USER , it looks like support for contour respecting zorder has only recently been added to the matplotlib source .
How to format contour lines from Matplotlib
I have used a contour line to produce the plot .
My remaining problem is with formatting the contour line eg width , color and especially zorder , where the contour appears behind my gridlines .
You should try xticks #CODE
On the downside , only the functions ` plot ` , ` xlim ` , ` ylim ` , ` show ` , and ` save ` are wrapped .
Is it expensive to draw ?
If I now call ` dostuff ` , then the figure does not refresh : #CODE
To get the canvas to draw .
Why doesn't my answer to this SO question of yours about " refresh decorator " make it simple ?
An iPython-specific approach might be hooks , #URL -- refresh e.g. in ` pre_prompt_hook ` -- but why force your code to be iPython-only ?
I'd like to display a colorbar representing an image's raw values along side a matplotlib imshow subplot which displays that image , normalized .
I've been able to draw the image and a colorbar successfully like this , but the colorbar min and max values represent the normalized ( 0 , 1 ) image instead of the raw ( 0 , 99 ) image .
How to create a draggable legend in matplotlib ?
I'm drawing a legend on an axes object in matplotlib but the default positioning which claims to place it in a smart place doesn't seem to work .
Ideally , I'd like to have the legend be draggable by the user .
I thought I'd share a solution to the draggable legend problem since
How can I draw a log-normalized imshow plot with a colorbar representing the raw data in matplotlib
If you leave them out , the axes labels will be in a san-serif font and match the rest of the axes labels .
Python - animation with matplotlib.pyplot
The matplotlib docs provide an entire section of examples on animation ( see this scipy tutorial also ) .
So , it seems one cannot do the following ( it raises an error , since ` axes ` does not have a ` set_linewidth ` method ): #CODE
Is there an easy / clean way ( may be one can set ` x ` - and ` y ` - axes parameters individually , etc ) ?
In any event , it is simple and gives you fine-grained control over the appearance of the axes .
This is not the same as changing the color / thickness of the axes .
I suggest to use spines .
I could generate your animation without problems using only the GTKAgg backend .
In the colorbar function , there is a keyword called ` cax ` which stands for ` colorbar axes ` ( which is not what you have called a ` cax `) , a better name for the result of ` imshow ` might be ` img ` .
( This is a very old question I know ) The reason you are seeing this issue is because you have mixed the use of the state machine ( matplotlib.pyplot ) with the OO approach of adding images to an axes .
creates and returns an Image which has been added to the axes
creates and returns an Image which has been added to the current axes , and sets the image to be the " current " image / mappable ( which can then be automatically picked up by the ` plt.colorbar ` function ) .
If ax is the current axes in pyplot , then the kwarg ` ax=ax ` is not needed .
Is there a way to access the image from the axes object itself ?
Say you are writing a function that gets passed an axes object that already has an image plotted to it , and you want your function to add a colorbar .
You could use the `` images `` attribute on the axes to get a list of images within the Axes .
Alternatively , the " active " image on the axes is available with `` gci `` ( from memory ) .
That way you wouldn't have to programatically calculate your true drawing area by substracting margins , labels and axis widths from the figure extend .
It can be generalized to account for a margin around the axes holding the image .
Create matplotlib legend out of the figure
I added the legend this way : #CODE
but the legend appears inside the plot .
' right ' shows the legend at the right of the axes
How can I add a newline to a plot's label ( e.g. xlabel or ylabel ) in Matplotlib ?
You might want to proactively double-escape LaTeX commands to make sure they are not interpreted by Python : ` xlabel ( ' $\\Sigma$ ')`
regarding centering : ` ylabel ( ' this is vertical\ntest ' , multialignment= ' center ')` from #URL
Where is ` Figure ` from ?
When I do that and try to plot their scatter plot , I get this error : #CODE
draw csv file data as a heatmap using numpy and matplotlib
the available colormaps are in the module cm ; dir ( matplotlib.cm ) to get a list of the installed colormaps ( there are dozens ); the Matplotlib Site has an excellent visual display of them ( as a set of matplotlib plots of course ) .
Also , I had to delete the header and first column , is there a way to leave them and get labels for the axes ?
( If not , you might want to check out the matplotlib gallery page to give yourself some ideas , or maybe just draw a picture and post it . ) #CODE
making binned boxplot in matplotlib with numpy and scipy in Python
I have a 2-d array containing pairs of values and I'd like to make a boxplot of the y-values by different bins of the x-values .
then I'd like to bin my_array [: , 0 ] and then for each of the bins , produce a boxplot of the corresponding my_array [: , 1 ] values that fall into each box .
i.e. , I want each data point to fall into some bin , so that I can make a boxplot .
He needs the actual values that fall into each bin in order to make a boxplot for each bin .
I need to delete all the lines on a subplot , to then redraw them ( i'm making a redraw function to be used when i add / remove some lines )
If you have the ` Axes ` object stored , you reference each line by the ` lines ` member : #CODE
Otherwise it will do so on the next draw event ( which you cause by that terrible hack you mentioned ) .
plotting stem with a continuous line
I need to plot a stem plot of my signal using python and matplotlib .
From what I've deduced , there is a problem with using the TkAgg backend , which comes with the basic Python dist and appears to be the default for matplotlib , when using matplotlib with IDLE .
I would like to control the location of matplotlib clabels on a contour plot , but without utilizing the manual=True flag in clabel .
The first one is to programmatically place text on the contour figure .
Assuming you have a contour ` c ` you can find the contour lines in ` c.collections ` .
For every contour line invoke ` get_paths ` and place your text on that path .
( notice that there's a new left= arg , and that each individual bar width is max ( xticks ) - min ( xticks ) , rather than just max ( xticks ) . )
I set the ticks on the x-axis using " xticks " .
If the bar itelf is being cut in half ( as you'll see when you turn the axes off ) , you need to do the same for all b in e [ 2 ] as well .
Python , Matplotlib , subplot : How to set the axis range ?
How can I set the y axis range of the second subplot to e.g. [ 0,100 0 ] ?
if i use this with hexbin , uses ylim after plot() exposes white background on both plots
Sometimes you really want to set the axes limits before you plot the data .
In that case , you can set the " autoscaling " feature of the ` Axes ` or ` AxesSubplot ` object .
Here is a modified version of the FFT subplot snippet from your code : #CODE
Using axes objects is a great approach for this .
To add and manipulate the axes objects directly : #CODE
I'm having some issues with my first attempts at using matplotlib and scipy to make some scatter plots of my data ( too many variables , trying to see many things at once ) .
Check this page : Text Rendering with LaTeX .
For some reason the above code doesn't output even the normal scatter graph- so some wires are getting crossed somewhere- I suspect my use of python / scipy is incorrect .
How can I link axes of imshow plots for zooming and panning ?
2 are images of the same dimensions plotted with imshow , and the other is some other kind of subplot .
I'd like to be able to link the x and y axes of the imshow plots so that when I zoom in one ( using the zoom tool provided by the NavigationToolbar ) , the other zooms to the same coordinates , and when I pan in one , the other pans as well .
Subplot methods such as scatter and histogram can be passed kwargs specifying an axes for sharex and sharey , but imshow has no such configuration .
1 ) This will link the axes of all plots in a canvas since all I've done is get rid of the checks for a.in_axes()
2 ) This worked well for panning , but zooming caused all subplots to zoom from the same global point , rather than from the same point in each of their respective axes .
Fixing color in scatter plots in matplotlib
I want to fix the color range on multiple scatter plots and add in a colorbar to each plot ( which will be the same in each figure ) .
Essentially , I'm fixing all aspects of the axes and colorspace etc .
Interesting to see that the subplot is associated with all plt .
So , maybe it's my use of errorbar underneath my scatter command ... but , I will investigate .
( Not sure if " aspect ratio " is the right term here , so in case it is not - I need both X and Y axes to have 1:1 scale , so that ( 0 , 1 ) on both X and Y takes an exact same amount of screen space . And I need to keep it 1:1 no matter how I resize the window .
Better ` plt.axis ( ' scaling ')` , it works better if you want to modify the axes with ` xlim() ` and ` ylim() ` .
Easiest way to plot values as symbols in scatter plot ?
In an answer to an earlier question of mine regarding fixing the colorspace for scatter images of 4D data , Tom10 suggested plotting values as symbols in order to double-check my data .
So , what's the easiest way to plot numerical values as the symbol in a scatter plot instead of ' o ' for example ?
Do you need a loop to evaluate the values for plotting as suggested in the matplotlib demo section for 3D text scatter plots ?
How do I add space between the ticklabels and the axes in matplotlib ?
shown after bullet point 6 ( Figure 1 ) , where the dendrogram is plotted to the left of the gene expression matrix , where the rows have been reordered to reflect the clustering .
For example , ` ( 0.5 , 0 , 0.5 , 1 )` adds an ` Axes ` on the right half of the figure .
` ( 0 , 0.5 , 1 , 0.5 )` adds an ` Axes ` on the top half of the figure .
How can I adjust the axes appropriately to do that ?
Right now , I'm manually creating Locator and Formatter objects thusly : #CODE
Plotting 3-tuple data points in a surface / contour plot using matplotlib
I assume that I will somehow need to transform my Y variables , but I have not seen any example yet , that shows how to do this .
So , my question is this : given a set of ( X , Y , Z ) points , how may I generate Surface and contour plots from that data ?
BTW , just to clarify , I do NOT want to create scatter plots .
for do a contour plot you need interpolate your data to a regular grid #URL
contour in 3D #URL #CODE
Is there a simple pythonic way of transforming that to an imshow / contour plot compatible format ?
Introduction to 3D plotting with some simple practical examples ( simple 2D graphs : contour and surface )
Some colormaps end on a similar color as they start , so in this case it might be best not to end on 1 , but if you wanted to , of course , you could use NUM_COLORS+1 or linspace .
Another option would be the hist function - it has an option ' cumulative=True ' that might be useful .
+1 for matplotlib's ` date2num ` , and the ` cumulative ` option in ` hist ` .
I want the axes to be centered and have the colorbar be outside of that alignment , either to the left or to the right of the pcolor matrix .
I am not sure why the extra subplot trick works ?
How can I draw only half of a matrix , e.g. the upper / lower part of a matrix , with pcolor for example ?
Suppose I have a n x n matrix and I draw it using pcolor ( my_matrix ) .
Graphing a line and scatter points using Matplotlib ?
The xlim and ylim calls are because quiver doesn't do a very good job of setting the limits automatically .
For animation , how would I go about updating the data ?
You can manually set xticks ( and yticks ) using pylab.xticks : #CODE
The following sample code will produce a basic line plot with no axes and save it as an SVG file : #CODE
You can adjust the position of the axes in the figure by making the axes manually .
The pyplot ( or pylab ) command for making an axes includes this in its docstring :
axes ( rect , axisbg= ' w ') where rect =[ left , bottom , width , height ] in normalized ( 0 , 1 ) units . axisbg is the background color for the axis , default white
Matplotlib : one line , plotted against two related x axes in different units ?
I have one y variable , which I am trying to plot against two related x axes , on the top and bottom of the figure ( e.g. y= " number of things in cube " , x1= " side length of cube " , x2= " volume of cube ") .
This plots two lines in the same figure , scaled with respect to different x axes .
ax_freq.set_viewlim_mode ( " transform ")
This basically involves defining our own conversion / transform .
You change the background color of the axes using the ` rcParams ` as in the example and all following plots will be green , to set the colour for the current plot only use ` gca() .set_axis_bgcolor ( ' green ')`
Scale legend box border , dashed and dotted lines when the figure size is changed with matplotlib
The problem I'm having is that as the figure is then pretty small , I can scale font sizes , axis sizes , line widths etc ., but what I've been unable to figure out is how to scale dashed or dotted lines , as well as the thickness of the legend border box .
Compared to the normal size , the small plot suffers from a legend box with too thick borders , and the dashed line is too coarse , i.e. too long dashes and too long distance between the dashes .
and the legend box line width , #CODE
As new data arrives , I'd like to draw it on a given subplot .
How do I switch between subplots so that I don't have to create new subplot objects each time ?
Assign subplot to a variable : #CODE
Then you can draw lines and points and whatever else you want with references to ` plt1 ` and ` plt2 `
This one causes the first subplot to disappear entirely .
I commented out the ` axes() ` line as that would create a new ` axes ` at an arbitrary location , rather than a pre-fabricated ` subplot ` with a calculated position .
Calling ` subplot ` actually creates an ` Axes ` instance , which means it can use the same properties as that of an ` Axes ` .
One workaround is to just not used shared axes .
You want adjustable= ' box ' , but when you're using shared axes , it has to be adjustable= ' datalim ' ( and setting it back to ' box ' gives an error ) .
Unfortunately , the shares axes are gone and one has to remove the ticklabels by hand .
Only issue now is that the axis labels are still shown for the " shared " axes ...
I'm looking for the cdf analog of pylab's " hist " function .
lists various rules for the number of bins , e.g. ` num_bins ~ sqrt ( len ( a ) )` .
Interactive Stacked Bar Chart using MatplotLib python
However , I want it to be interactive or dynamic so as when I click on one of the parameters ( A , B , C ) for example in the legend , it should make that parameter at the bottom of the stack so as we could have a better comparison between different candidates depending on the parameter we choose .
matplotlib annotate multiple data sets
If I feed several x / y sets to matplotlib.pyplot.plot , how does ` annotate ` decide how to correlate the xy value to one of the sets ?
Calling annotate with the default ` xy= ` has the effect of associating an annotation with a graphed x / y pair .
With multiples , I didn't know if ` plot ` was going to automatically set up multiple sets of axes , one for each X / Y array -- and , if so , how annotate was going to work .
The answer explains that one call to plot creates one set of axes that scales all the X / Y sets as best it can , and so annotate knows where to go .
* You did * directly give annotate a point ` xy ` , and that's where your label will go , no matter what you did with ` plot ` earlier .
All that the annotate function does is draw some text and an optional arrow at the coordinates you give .
You should think of ` annotate ` as associated with the axes and not the data .
Multiple data sets can be plotted on the same axes , as in your example , or you can have different axes in the same plot , but then when you use annotate , etc , you'd want to specify which axes you wanted to annotate .
Matplotlib autoscale
I think you can use the ` xticks ` function to set string labels : #CODE
The standard colormaps also all have reversed versions .
color plot animation with play , pause , stop cabability using Tkinter with pylab / matplotlib embedding : can't update figure / canvas ?
Goal : GUI to continuously update figure with different matrix data plotted by pylab's pcolor such that there is a running animation .
But user should be able to play , pause , stop animation by Tkinter widget buttons .
Before I get an answer for matplotlib using set_array() , draw() , and canvas.manager.after() ..., I have working code that enables me to start animation , but i can't figure out how to stop or pause it , when just using matplotlib capabilities , so I decided to use Tkinter straigt up instead of matplotlib's Tcl / Tk wrapper .
the contour plots show , but instead of updating the canvas as a new plot everytime like pcolor did , they overplot on themselves .
Do you know how I can clear the previous contour plots , without using an obvious cla() such that i don't see white ?
But , if there is a better way to set the animation than to cla() i would prefer it because i will also have other data on my plot and don't necessarily want to clear it too .
The only question is performance and how smooth your animation needs to be .
Matplotlib legend help
I am also trying to create a legend from these points .
However , I found out if I added a label to each point , then the legend will contain an entry for each point .
All I am really needing to do is mask out numbers in a 2d array that are located beyond this boundary of the circle created with x and y , such that when the 2D array is viewed as a color plot , or contour , inside the circle will be the image , and outside will be white-ed out .
plot , or contour , inside the circle
Unfortunately , with some axes ( non-cartesian axes ) this can be a bit glitchy , in my experience .
Apparently , there isn't a better way to clip contour plots ( That I could find , anyway ... ) .
Compare your code with this basic scatter plot code .
Specifically addressing the question , if there were 5 total subplots , where the last subplot has twice the height as the others , we could use ` m=6 ` .
So this produces a graph of the values ' v ' on the axes X vs Y , using the specified colormap .
The X and Y axes are perfect , but the colormap spreads between the min and max of v .
To set the ranges of the axes , but this only takes arguments for the min and max of X and Y , not the colormap .
With the two different limits you can control the range and legend of the colorbar .
I believe clim() scales the colour axes , but the colours themselves change values .
rpy2 is providing access to the graphics capabilities of R , and rpy2 is becoming compatible with Python 3 ( thanks to the help of Google for funding Greg over the summer ) .
How to enlarge subplot matplotlib ?
What I want to happen is when the subplot is clicked , I want it to take up the whole figure ( delete the other subplot and maximize to fill up the whole figure ) .
You can do this by modifying the axes that subplot returns .
That is , axes can be positioned and sized in any desired way , and subplot is just a function that returns axes positioned in a uniform grid ; but once you have these axes from subplot you can arbitrarily resize and reposition them .
This demo works with iPython : first ` run ` the file , then call ` make() ` , which draws the two axes , and then ` re_form() ` , which removes the second axis and widens the first .
I've found that you can arbitrarily place subplots by creating them with the axes function that takes a list of [ top , left , width , height ] , but this would make the code a little messy and arbitrary .
Or will I have to resort to individually placing each subplot ?
Setting spines in matplotlibrc
For a strange reason I cannot find the way to specify spines configuration in Python's matplotlibrc file .
Any idea on how to cause matplotlib not to draw upper and right spines by default ?
More about info about spines in matplotlib is here
In order to hide the right and top spines of a subplot , you need to both set the colour of the relevant spines to `' none '` , as well as set the tick position to `' left '` for the xtick , and `' bottom '` for the ytick ( in order to hide the tick marks as well as the spines ) .
Due to the nature of the ` rc ` system , and the way that spines are written , altering the code to allow for this would not be straightforward :
They are also agnostic towards whether they are ` top ` , ` right ` , ` left ` , or ` bottom ` these are really just four separate spines stored in a dict .
If you have a large amount of existing code , such that adding the axis parameters manually to each one would be too burdensome , you could alternately use a helper function to iterate through all of the Axis objects and set the values for you .
And here is another example ( though not a contour plot ) from the docs .
Matplotlib animation either freezes after a few frames or just doesn't work
If you want the animation to continue indefinitely you need something like #CODE
The matplotlib animation wiki also suggests using native event loops for anything nontrivial ( probably for this reason )
Using them asynchronously can still be kept really simple but it just doesn't look like the matplotlib developers have put much effort into it ... probably due to animation being a much smaller use case than static image generation .
To use the other backends you need to follow the official matplotlib examples , but that means you have to build a mini-gui application just to run a simple animation , and I find that quite awful !
c ) Nitpicking : ` xlim ([ 0 , 10 ])` and ` ylim ([ 0 , 10 ])` .
Finally , adding axis labels would have helped to see the main difference in the first place , so I would add ` xlabel ( ' x ')` and ` ylabel ( ' y ')` for clarity and correspondingly for the Matlab example .
The draw back comes that they meshgrid the plane and the plane in space may vary ( only keeping its projection the same ) .
Is it possible to wrap the text of xticks in matplotlib in python ?
As you can see the xticks are boned .
` xticks ( rotation=45 )` might look better ...
This simply calls the draw method of the figure periodically .
A quick experiment shows me that you can pan / zoom the main window and the colorbar will stay constant .
My problem is that ` matplotlib ` distributes the ` xticks ` over the entire date range ; and also plots the data using points .
My situation is more like I have an ` Axes ` instance ready ( referenced by ` graph ` in the code above ) and I want to do the following :
Make the ` xticks ` correspond to the exact date values .
I have heard of ` matplotlib.dates.DateLocator ` but I have no idea how create one and then associate it with a specific ` Axes ` object .
What happened is I followed this demo , I modified it to suit my needs had it working , changed it to use a function to draw two graphs but now it doesn't work at all using ` plt.show() ` or ` plt.savefig() `
call the bar3d method ( in my scriptlet , it's called by ax1 an instance of the Axes class ) .
my understanding was that updating l_user.set_data and then invoking canvas.draw() would automatically refresh the figure .
but ` from matplotlib.path import Path ` throws #CODE
What's happening is that the xticks actually extend outside of the displayed figure when using matshow .
You can plug this into a different GUI that supports animation ( GTKAgg , TkAgg , WXAgg ) and use
I had a graphic like the first one you draw , after making the changes I was able to see one similar with yours !
you can clear the figure and redraw , or you can use something like the methods for animation on this page : #URL
oh , did you mean the update / animation ?
try googling " matplotlib tk animation " , it seems to bring up a number of references that might help .
These are subplot grid parameters encoded as a single integer .
For example , " 111 " means " 1x1 grid , first subplot " and " 234 " means " 2x3 grid , 4th subplot " .
The Matlab behavior is explained in the Figure Setup - Displaying Multiple Plots per Figure section of the Matlab documentation .
subplot ( m , n , i ) breaks the figure window into an m-by-n matrix of small
subplots and selects the ithe subplot for the current plot .
The [ matplotlib subplot documentation ] ( #URL ) is less clear in my opinion .
More on colormaps .
Another option , if you'd like to have the image be a fixed fraction of the figure's width / height is to create a " dummy " axes and place the image in it with ` imshow ` .
If it's both , a handy trick is to make a new axes ( specifying its position and size manually ) , use ` imshow ` , and use ` axis ( ' off ')` to turn off ticks , etc .
I want to set the axes of the second subplot such that it has the same limits as the first subplot ( which changes depending on the values plotted ) .
In the second subplot , what should be the arguments for ` plt.ylim() ` function ?
in the first subplot and then set #CODE
in the second subplot .
But that did not work , because the returned value ` ymax ` is the maximum value taken by the ` y ` variable ( mean value ) in the first subplot and not the upper limit of the y-axis .
In the first subplot replace ` plt.subplot ( 211 , axisbg = ' w ')` by ` ax1 = plt.subplot ( 211 , axisbg = ' w ')
Then , in the second subplot , add the arguments ` sharex = ax1 ` and ` sharey = ax1 ` to the subplot command .
That is , the second subplot command will now look : #CODE
Matplotlib : multiple y axes , grid lines applied to both ?
I've got a Matplotlib graph with two y axes , created like : #CODE
I need grid lines but I want them to apply to both y axes not just the left one .
The scales of each axes will differ .
What I get is grid lines that only match the values on the left hand axes .
Edit : Don't think I was completely clear , I want the major ticks on both y axes to be aligned but the scales and ranges are potentially quite different making it tricky to setup the mins and maxes manually to achieve this .
Its not that involved , all you have to do is take the min / max of both ` ydata1 ` and ` ydata2 ` and set it as the y-limits for both axes
Now as you can the plots have two different ranges but with the same number of yticks on the y-axis
When using Matplotlib ( Pylab ) for rendering Text with the same metrics as AriaL ( e.g. , Arial itself or Liberation Sans ) output looks ok - e.g. , the width of the legend box is right .
How can I plot points so they appear over top of the spines with matplotlib ?
Is there a trick I can use to make all the points fully visible , so they are not clipped within the axes frame ?
Edit : Amro's suggestion -- the obvious approach -- is not the preferred approach as these are for ROC graphs ( conventionally drawn with a box from 0 to 1 on both axes ) .
1 on both axes , yet have points drawn on top of the axis lines as many of them do , that would be optimal .
Edit 2 : I'm guessing this can be done using " spine placement " ( new as of MPL 0.99 ) , with the plot area enlarged slightly as Amro suggested , but then with the spines repositioned slightly to be along both 0 axes .
You can extend the axes limits a bit in all directions : #CODE
or use ` margins ( 0.1 , 0.1 )` ?
( I believe Amro's idea needed 1.0 or later as well , since the xlim / ylim kwargs did nothing for me with 0.99.1 . ) #CODE
You can turn the clipping off , either in the plot command , or in the artist objects returned by a call to " plot " .
I need to add zorder=3 as well , so the points appear over the spines ( and , if present , grid ) instead of just peeking out from underneath , but this is the " trick " I needed .
The advantage to this is that the vertical region ( or horizontal , in the case of ` axhspan `) will remain shaded regardless of how you pan / zoom the plot .
( You could also use ` logfile ` if you want each run of the script to append to the file , rather than rewriting it from scratch . )
For what it's worth , you're slightly misunderstanding what ` imshow() ` returns , and how matplotlib axes are structured in general ...
An AxesImage object is responsible for the image displayed ( e.g. colormaps , data , etc ) , but not the axis that the image resides in .
Thanks - I had expected it to be somewhat similar to matlab where image() returns the axes handle .
In matlab I often pass the arguments to axes setters using the ` cellarray{ : } ` notation which would be like the ` *args ` and ` **kwargs ` syntax of python , but in this case it's not quite as straightforward ( though I'm sure there are ways around it ) .
I've been trying to work with AxesImage objects and I've also downloaded SciKits Timeseries - but do I need this , or can is it as easy to use strptime , mktime , and strftime from the time module and roll my own custom axes ?
You shouldn't need any custom axes .
To disable the x-axis labels on some axes when using sharing an x-axis between the plots , you'll need to use something like ` matplotlib.pyplot.setp ( ax1.get_xticklabels() , visible=False )` .
( It's a slightly crude hack , but it's the only way to only display x-axis labels on the bottom subplot when sharing the same x-axis between all subplots ) To adjust the spacing between subplots , see ` subplots_adjust ` .
if you could help to draw what I described , then you could see :) thank you !!
If he just wants the vertical lines ( and no marker at the end of them ) then ` vlines ` is better than ` stem ` .
I use a palette file that I'm able to create using GIMP + Sample a Gradient Along a Path .
How can I remove the axes in an Axes3D class ?
I want to remove the original ( x , y , z ) axes that come by default in Axes3D .
Is it possible to draw a line in a plot to a picture in a sequence of pictures below the plot ?
This demo from the matplotlib gallery shows how to insert pictures , draw lines to them , etc .
It seems that if one assigns the subplot to a variable like that , some other method of setting the axes limits must be used .
As far as I know , ` plt.ylim() ` applies the limits to the current axes , which are set when you do ` plt.subplot() ` .
I also can't believe that ` plt.subplot() ` care about how the axes it returns are used ( put into a variable or not , etc . ) .
Matplotlib draw boxes
And I want to draw them in a rectangular collection of boxes .
I need the grayscale because I want to draw on top of the image with color .
For a list of colormaps , see #URL
I'd like to annotate a plot in matplotlib with filled and non-filled dots .
I can create a circle patch , but the circle scales with my axes which is not my desired effect .
Dear all , I'm trying to perform a scatter plot with color with an associated color bar .
I tried " append " ing to a different array , say y1 , and then y = y1.copy() .
Handling frame resize in matplotlib animation with WXAgg backend
With the following linked example from that page the animation has some obvious problems when the frame is resized .
You have to check the figure size manually , and if it has changed you need to draw the background again .
Heres the part which does that from the qt example , self is a Figure Canvas : #CODE
You should be able to do this with the second argument to ` xticks ` function : #CODE
Hi Thanks for your answer but I have already displayed the ticks using xticks function .
OK i will expand in detail My existing code already has an xticks function self.ax.set_xticklabels ( protocolNames ) where protocolNames = [ DHCP , static , PPOE , etc ] .I want to display the firmware version under these existing values .
Yes this is exactly what i want . the only this is the frogs , turtles are one list and 1.0.0 , 2.0.0 are another list . how do i make join the data from the two lists and leave a space .
It turns out that I probably should not have labeled the original answer as having an irregular grid , but I'll check if the normalization of the axes helps !
Further , as per the ` hist ` documentation ( i.e. ` ax.hist ? ` from ` ipython `) , I think the sum is fine too : #CODE
I want to draw CPU usage plot .
I want to draw diagram which show min_load , avg_load and max_load on the same plot .
Edit : Added legend and fill_between ( maybe there is better way to do this ) .
Usually what I want is a method of Axes and the search results link to an anchor within the Axes page .
acorr .. ylabel ; not so , hmm , structured .
IMHO , you should also establish a basic understanding of Tkinter , which helps you to understand what matplotlib is doing , and why , with objects such as Figures , Axes , and subplots .
For e.g. , he explains roughly Matplotlib's OO architecture , what figures and axes are about , and how they are used .
This answer is for anyone trying to change all the fonts , including for the legend , and for anyone trying to use different fonts and sizes for each thing .
The benefit of this method is that , by having several font dictionaries , you can choose different fonts / sizes / weights / colours for the various titles , choose the font for the tick labels , and choose the font for the legend , all independently .
Hopefully this is a comprehensive answer :) If you have a legend title , god forbid , I can't help you .
The log scaling for Axes in 3D is an ongoing issue in matplotlib .
Currently you can only relabel the axes with : #CODE
This will however not cause the axes to be scaled logarithmic but labeled logarithmic .
I see only the code to draw the major tick marks , not the minor ones .
It seems like it wouldn't be all that hard to modify the code to make it draw the minor tick marks too .
How do I plot multiple X or Y axes in matplotlib ?
( The new spines functionality allows it )
I'm unfamiliar with this voodoo - care to show how to generalize this to more categorical axes ?
I can't figure out how to append mi to the end of a value .
Matplotlib how to draw on figure on PIL image
I've got a new problem here , I wish to inputs a PIL image object , and then draw the figure that generated from matplotlib , and then return the PIL image object .
Many plotting functions including ` imshow ` , ` contourf ` , and others include a ` norm ` argument that takes a ` Normalize ` object .
How do I write text in subscript in the axis labels and the legend ?
I have the following axis labels and legend .
Anyway , try to add small margins to the plot : #CODE
AttributeError : ' module ' object has no attribute ' margins '
Or , use ` ylim ` : #CODE
The solution from the discussion board here was to append plt.close() after the for loop .
While plt.show() would work in this example , the goal is to use interactive to create a crude animation through the following : #CODE
I realize that destroying the figure and then creating a new figure and new axes may not be efficient or even good practice .
Text box with line wrapping in matplotlib ?
This isn't too large of a problem , as we can just draw it , get the size , and then redraw the wrapped text .
This isn't a huge problem , as we can just connect a callback function to the matplotlib draw event .
LaTeX wrapping is a good option ( and definitely simpler ! ) , but I can't seem to find a way to make it automatically fit the size of the axes ...
I have also created a simple textBox() function which will convert any axes into a text box with custom margins and alignment .
Instead of assuming a particular font aspect ratio or average width , I actually draw the string one word at a time and insert newlines once the threshold is hit .
By using set_yscale ( ' log ') you can change that property of the yscale when an object has already been created .
I notice that if I pan outside the region where the data should be and pan back in , the data reappears .
Reduce left and right margins in matplotlib plot
I'm struggling to deal with my plot margins in matplotlib .
Doing so even allows you to draw outside the figure area and also to deal with annoying margins .
I use those properties and I get ` AttributeError : ' Figure ' object has no attribute ' xsize '`
In addition to cutting down the margins , this also tightly groups the space between any subplots : #CODE
Matplotlib 2D polygon in 3D axes
I'm using matplotlib to plot some data as 2D curves in a 3D axes .
I use the ` ax = axes3d.Axes3D() ` to define my axes and ` ax.plot ( x , y , zs= ' z ')` to plot my 2D curves in the 3D space .
And then I preceded to draw this axis for every small increment of x , thus creating the rectangle .
matplotlib numbers in legend
I have a couple of lines and I want to show a legend .
I can even draw numbers near lines myself ( to place them in the best position ) , but how can I then draw a legend with the numbers ?
Putting ` 1 ` , ` 2 ` , etc , and then having a legend would seem to make things confusing ...
If you really need , though , it's not _too_ difficult to do what you want ( it's easiest to just roll your own legend ) , but it seems like a bad idea , in my opinion ...
Could you please share how to add numbers into legend box , please ?
Numbers are not automatic , but if you use a loop to draw your lines then you could add a counter to keep track of the numbers .
Don't know if this is part of your requirement , but the lines are removed by setting their linewidth to 0 and making the space reserved in the legend negative .
Couldn't find a neater way of doing this as I believe a legend is always meant to show a line ( e.g. you can't set numpoints to 0 ) .
You could of course also just add some text in the right spot in your plot and not use a legend at all .
Hiding Axis Labels
I'm trying to hide the axis labels on the first subplot at 211 .
I'd like to label the figure , not just a subplot ( reference : " Isub Event Characteristics ") .
By " hide the axis labels on the first subplot " do you mean the actual axis labels ( which aren't there unless you specify them ) , the tick labels ( i.e. the numbers along the axis ) , the axis ticks , or all of the above ?
I would like to use Matplotlib to generate a scatter plot with a huge amount of data ( about 3 million points ) .
The plot will include xticks in a format like `' %Y-%m-%d '` and as you zoom in , automatically change to one that shows hours , minutes , seconds .
Unfortunately , if you pass ` datetime.datetime ` objects to ` plt.plot ` , the xticks automatically chosen by matplotlib seems to always have seconds equal to zero .
This functionality is now ( at least as of 1.2.0 , maybe 1.1 ) baked into matplotlib via the ` MovieWriter ` class and it's sub-classes in the ` animation ` module .
Documentation for ` animation `
Basically I wanted to make a movie / animation using matplotlib code , but not have it " look like a graph " .
I want the plot to simply update , not append another plot to the figure .
( I.e. you should have a sequence of ` clear ` , ` plot ` , ` draw ` each time you want to show a frame ) I'm guessing , but I think that would cause exactly the behavior you're describing ...
there doesn't seem to be a ` set_data ` for ` scatter ` .
is there a way to update scatter plots ?
Ouh , now see , when you say real time you mean you want a refresh rate higher than 5 Hz matplotlib won't do the job .
The trick is to avoid asking matplotlib to draw complete figures .
Instead call ` plt.hist ` once , then manipulate the existing ` matplotlib.patches.Rectangle ` s in ` patches ` to update the histogram , and call
Here you can find example animation videos : #URL
I would like to draw a standard 2D line graph with pylot , but force the axes ' values to be between 0 and 600 on the x , and 10k and 20k on the y .
However , the axes still adjust to the size of the data .
I tried all of those above answers , and I then summarized a pipeline of how to draw the fixed-axes image .
This is to request a ` ax ` which is ` subplot ( 1 , 1 , 1 )` .
I used this code to create a series of animation .
And below is the example of combing multiple fixed axes images into an animation .
How to do a scatter plot with empty circles in Python ?
In Python , with Matplotlib , how can a scatter plot with empty circles be plotted ?
The goal is to draw empty circles around some of the colored disks already plotted by ` scatter() ` , so as to highlight them , ideally without having to redraw the colored circles .
From the documentation for scatter : #CODE
You can use Prelude's command to do a second scatter plot of the hightlighted points with an empty circle and a first call to plot all the points .
The other option is to not use scatter and draw the patches individually using the circle / ellipse command .
These are in matplotlib.patches , here is some sample code on how to draw circles rectangles etc .
Here's another way : this adds a circle to the current axes , plot or image or whatever : #CODE
( Multiple plots won't work here as I need to display several days and pan the view . )
How can one sweep this out around 360 degrees , to give a 3D contour / surface plot ?
Edit : Just move out of the calling draw_fig the axes building code #CODE
How to draw floating pie charts on an existing plot with matplotlib
To be more specific , I want to draw pie charts over a geographical map using the basemap module .
If you refer to normalized cross spectral density ( as defined in wikipedia ) then matplotlib.mlab.cohere would do the trick .
That is , when I use the " Zoom to Rectangle " tool on one plot , when I release the mouse all 3 plots zoom together .
Previously , I simply plotted all 3 axes on a single plot using different colors .
I know I can capture matplotlib / pyplot mouse events ( #URL ) , and I know I can catch other events ( #URL ) , but I don't know how to tell what zoom has been requested on any one subplot , and how to replicate it on the other two subplots .
The easiest way to do this is by using the ` sharex ` and / or ` sharey ` keywords when creating the axes : #CODE
Interactively this works on separate axes #CODE
I would like to specify the text of my contour label ( instead of the value of the contour I want to put a text )
This is a common gotcha when using shared axes .
I had the inverse problem : The labels on the second subplot wouldn't show .
I want to create an animation with matplotlib to monitor the convergence of a clustering algorithm .
It should draw a scatterplot of my data when called the first time and draw error ellipses each time the plot is updated .
I am trying to use ` canvas_copy_from_bbox() ` and ` restore_region() ` to save the scatterplot and then draw a new set of ellipses whenever I'm updating the plot .
What's happening is that you're adding new patches to the plot each time , and then drawing all of them when you call ` self.canvas.draw() ` .
However , this will probably cause memory consumptions problems over time , as the axes object will keep track of all artists added to it .
If your axes doesn't hang around for a long time , this may be negligible , but you should at least be aware that it will cause a memory leak .
One way around this is to remove the ellipsis artists from the axes by calling ` ax.remove ( ellipsePlot )` for each ellipse after drawing them .
If the number of ellipses is staying the same over time it's better and easier to just update the properties of each ellipse artist object instead of creating and adding new ones .
This will avoid have remove " old " ellipses from the axes , as only the number that you need will ever exist .
MatPlotLib : Multiple datasets on the same scatter plot
I want to plot multiple data sets on the same scatter plot : #CODE
You need a reference to an ` Axes ` object to keep drawing on the same subplot .
In this case , there's one row and one column of subgraphs ( i.e. one subgraph ) and the axes are talking about the first of them .
Something like fig.add_subplot ( 3 , 2 , 5 ) would be the lower-left subplot in a grid of three rows and two columns .
I wanted to rotate a Rectangle in matplotlib but when I apply the transformation , the rectangle doesn't show anymore : #CODE
I want to add a ` Rectangle ` to my ` ax ` ( this works fine ) but instead of a straight rectangle , I want it to be tilted of 45 degrees .
Apparently the transforms on patches are composites of several transforms for dealing with scaling and the bounding box .
Adding the transform to the existing plot transform seems to give something more like what you'd expect .
I think the answer is correct , so I'll just add this comment about why : the fact that it didn't work before is that if you attach a patch without transform , this is defaulted to transData , as you can see from the add_path documentation .
So if you do set it before , you need to add this to your transform .
@USER : if you want to use rect.get_transform() for t_start , then you have to create the Rectangle with a transform= option .
You can find a more general description on how to use spines in that regard here : #URL
It's much , much easier to do that using spines .
Save a subplot in matplotlib
is it possible to save ( to a png ) an individual subplot in a matplotlib figure ?
You create a ` Figure ` , plot on it ( or divide it into subplots and plot on each one ) , and then one of the things you can do with it is call ` savefig ` to save it .
Just create a fresh figure , ` plot ` on it what you meant to plot on the subplot , and save it .
Area inside the second subplot :
Area around the second subplot padded by 10% in the x-direction and 20% in the y-direction :
Is there any external method to send a 3D Figure ?
matplotlib color in 3d plotting from an x , y , z data set without using contour
The link generates the colored 3d plot without using contour .
Matplotlib Legend in a Loop ?
I'm trying to have the legend add an entry for each item that gets plotted in the loop .
My code seems to currently create a legend for the last instance .
Is there a way to get the legend to append each new instance that's plotted ?
You can use one of the predefined colormaps , or define your own .
Unfortunately there is no way to use multiple colormaps per figure , you have to do it manually : #CODE
I get errors if I apply it to the figure , a subplot etc ...
Is there a way to set the figure to only pull colors from one of the colormaps ?
I do realize that what I'm trying to draw here is a line and not a shape , but I don't understand why I can't use this method to draw it anyway .
In matplotlib , this can be done using annotate ( .. ) , but Basemap doesn't have this method .
Ok , found one solution , i.e. simply to draw on matplotlib.pyplot instead of the map object .
how to draw a heart with pylab
How to draw a heart with pylab ?
I searched with google for ways to draw the picture but i want know how to draw it with pylab .
Partially transparent scatter plot , but with a solid color bar
In Python , with Matplotlib , how to simply do a scatter plot with transparency ( alpha 1 ) , but with a color bar that represents their color value , but has alpha = 1 ?
Here is what one gets , with ` from pylab import * ; scatter ( range ( 10 ) , arange ( 0 , 100 , 10 ) , c=range ( 10 ) , alpha= 0.2 ); color_bar = colorbar() ` :
But since it's a scatter plot , what would the color bar indicate ?
I'm not sure how to do this I tried to clear the color bar axes first ( ` color_bar.ax.cla() `) , but then drawing the colorbar again with ` draw_all() ` fails .
Get legend as a separate picture in Matplotlib
I'm developing a Web application and want to display a figure and its legend in different locations on the page .
Which means I need to save the legend as a separate png file .
It can be tricky though to get the size of the legend figure right in an automated manner .
This calculates the size of the legend automatically .
Original ( uncropped ) legend :
Cropped legend :
This is great , but seems to cut the top of the legend text for me .
How to add a plot to a Figure in matplotlib ?
Now I'm using the following code , and have a title and axes .
Currently there is no actual data inside the axes .
The third argument to plot , `' r- '` , tells ` pylab ` to draw a red line connecting the points listed in ` times ` , ` yvals ` .
I managed to get a 2D plot but I can't get the axes to 3D .
Can you please show me an example of code defining the 3D axes ( in a QtabWidget ) with a simple plot ?
If you just want the entire background for both the figure and the axes to be transparent , you can simply specify ` transparent=True ` when saving the figure with ` fig.savefig ` .
If you want more fine-grained control , you can simply set the facecolor and / or alpha values for the figure and axes background patch .
Mixing Matplotlib patches with polar plot ?
I'm trying to plot some data in polar coordinates , but I don't want the standard ticks , labels , axes , etc . that you get with the Matplotlib ` polar() ` function .
All I want is the raw plot and nothing else , as I'm handling everything with manually drawn patches and lines .
1 ) Drawing the data with ` polar() ` , hiding the superfluous stuff ( with ` ax.axes.get_xaxis() .set_visible ( False )` , etc . ) and then drawing my own axes ( with ` Line2D ` , ` Circle ` , etc . ) .
The problem is when I call ` polar() ` and subsequently add a ` Circle ` patch , it's drawn in polar coordinates and ends up looking like an infinity symbol .
The problem is I don't know how to make Line2D draw in polar coordinates and haven't figured out how to use a transform to do that .
That indeed works , thanks.Out of curiosity though , anyone know how I could use Matplotlib's transform support to avoid the manual polar conversion ?
I used the following method to translate a polar plot into a polygon that I could draw on my cartesian / rectangular axes .
How to draw 3D polygon ( say a filled rectangle or triangle ) using vertices values ?
How to draw coastlines over a custom map without resampling
The main differences are that a ) there's no need to manually call ` line.set_picker ( ... )` , b ) there's no need to manually call ` fig.canvas.mpl_connect ` , and c ) this version handles multiple axes and multiple figures .
It would make more sense to pass in a particular artist rather than an axis .
I use matplotlib to display a matrix of numbers as an image , attach labels along the axes , and save the plot to a PNG file .
Matplotlib separates the renderer that handles exact pixel values from the canvas that the figure and axes are drawn on .
However , if we do the exact same thing , but instead draw the figure before displaying the coordinates , we get the correct answer !
Of course , drawing the figure just to draw it again when it's saved is redundant and computationally expensive .
To avoid drawing things twice , you can connect a callback function to the draw event , and output your HTML image map inside this function .
If not , you might want to have a look at [ 3d contour plots in Mayavi ] ( #URL ) .
It looks good except you aren't shifting the location of the z contour by the value of z .
Plus you need to manually define the plotted limits since the z contour solution will extend way beyond your desired contour interval .
I've updated my post with cleaner code that includes plotted contour intervals ( slices ) along other axes .
Just make a one-level contour plot of the equation for each z value within the desired limits .
You can repeat the process along the y and z axes as well for a more solid-looking shape .
It's then up to ` contour ` to find the where in that array the values are equal to ` radius `
There are inconsistences in the repo with * args between the 2d and 3d contour plotting functions .
It should be something like ` contour ( x.ravel() , y , y- ( 1-3 *x ) / 2 , [ 0 ])` .
It is the same as ` contour ( x.ravel() , y , y- ( 1-3 *x ) / 2 , [ 0 ])` .
Certainly the centered axes and grid is easy in TikZ , at least .
Centered axes , see an example here ( look for " zeroed spines ") :
Also , for the basic case , have a look at the centering spines demo in the documentation .
The rest ( centered axis spines ) is easier in gnuplot , but isn't that difficult in matplotlib , either .
center_spines() is nice looking , but it seems xlabel and ylabel are not showing any more .
Also could you modify the code so as to always make both axes appearing ?
This would mean that if the origin is out of the plot area , the two arrowed axes would cross in the nearest corner to it .
How to put the legend out of the plot
I want the legend to be outside of the box .
At the same time , I do not want to change the axes , as the size of the figure gets reduced .
I want to keep the legend box outside the plot area .
( I want the legend to be outside at the right side of the plot area ) .
Is there anyway that I reduce the font size of the text inside the legend box , so that the size of the legend box will be small .
To place the legend outside the plot area , use loc and bbox_to_anchor keywords of legend() .
For example , the following code will place the legend to the right of the plot area : #CODE
Okay - I like the implementation , but when I go to save the figure ( without manually resizing it in the window , which I don't want to do every time ) , the legend is getting chopped off .
To add to what @USER and @USER already said , you can use the ` bbox_to_anchor ` keyword argument to place the legend partially outside the axes and / or decrease the font size .
Before you consider decreasing the font size ( which can make things awfully hard to read ) , try playing around with placing the legend in different places :
If we do the same thing , but use the ` bbox_to_anchor ` keyword argument we can shift the legend slightly outside the axes boundaries : #CODE
Similarly , you can make the legend more horizontal and / or put it at the top of the figure ( I'm also turning on rounded corners and a simple drop shadow ): #CODE
Alternatively , you can shrink the current plot's width , and put the legend entirely outside the axis of the figure : #CODE
And in a similar manner , you can shrink the plot vertically , and put the a horizontal legend at the bottom : #CODE
Have a look at the matplotlib legend guide .
as completeness , you could say that in general ( summed up from the doc ) " ` bbox_to_anchor ` is a tuple of 4 floats ( x , y , width , height of the bbox ) , or a tuple of 2 floats ( x , y ) in normalized axes coordinates .
It is possible to create a legend independent of any Axes object .
If you rather prefer to place the legend interactively / manually rather than programmatically , you can toggle the draggable mode of the legend so that you can drag it to wherever you want .
Starting with a bit of code taken from Joe , this method modifies the window width to automatically fit a legend to the right of the figure .
As noted , you could also place the legend in the plot , or slightly off it to the edge as well .
This creates your graph , and allows you a chance to keep the legend within the plot itself .
The default for the legend if it is not set is to place it in the plot , as shown here .
For an alternative placement , you can closely align the edge of the graph and border of the legend , and remove border lines for a closer fit .
You can move and re-style the legend and graph with code , or with the GUI .
To shift the legend , you have the following options to position the legend inside the graph by assigning x and y values of = 1 .
Make the legend semi-transparant , like so :
This is one of the more simpler examples but I added transparency to the legend and added plt.show() so you can paste this into the interactive shell and get a result : #CODE
If you are using Pandas ` plot() ` wrapper function and want to place legend outside then here's very easy way : #CODE
You can use ` bbox_to_anchor ` to manually specify the location of the legend box , as some other people have pointed out in the answers .
However , the usual issue is that the legend box is cropped , e.g. : #CODE
In order to prevent the legend box from getting cropped , when you save the figure you can use the parameters ` bbox_extra_artists ` and ` bbox_inches ` to ask ` savefig ` to include cropped elements in the saved image :
I wish that matplotlib would natively allow outside location for the legend box as Matlab does : #CODE
In addition to all the excellent answers here , newer versions of ` matplotlib ` and ` pylab ` can automatically determine where to put the legend without interfering with the plots .
This will automatically place the legend outside the plot !
this option is helpful but does not answer the question so i downvoted . as far as i can tell , best never puts the legend outside of the plot
@USER : In the OP's comments ( which seems to be gone now ) it was explicitly clarified that the OP wanted the legend to not cover the graph data , and he thought that outside the plot was the only way to do that .
Graphics over the network using X11 work by the client ( remote ) computer having a DISPLAY environment variable that says where to draw the graphics .
#URL - then when an X11 program tries to draw something , it gets whizzed over the network to mydesktop.example.com , which is the machine you are sitting in front of ( the X server ) and up it pops .
RC variables in matplotlib doesn't apply to graphs , axes in web app
The code I'm using for getting a figure to draw on looks like this : #CODE
Any easy way to plot a 3d scatter in Python that I can rotate around ?
Currently I'm using matplotlib to plot a 3d scatter and while it gets the job done , I can't seem to find a way to rotate it to see my data better .
" the intersection of two 3D objects ( such as polygons or patches ) can not be rendered properly " .
If you're just wanting to rotate the axes programatically , then use ` ax.view_init ( elev , azim )` where ` elev ` and ` azim ` are the elevation and azimuth angles ( in degrees ) that you want to view your plot from .
You can rotate the axes programatically as shown : #CODE
But this just works for non-logarithmic axes ...
You just need to make sure that ` adjustable ` is set to `' box '` on your axes , and you have a set aspect ratio for the axes ( anything other than `' auto '`) .
Now , compare how the top subplot responds to resizing , vs . how the bottom subplot responds :
Unfortunately , this sets only the aspect ratio of the axes of the subplots .
Since I have many different ranges of my axes I would have to set this aspect ratio for every subplot individually .
So what I wanted to do is to set the hight and width of my subplots ( and not just the axes ) to a specific aspect ratio .
How do I reduce the number of ticks on the axes with matplotlib ( without using pyplot ) ?
In pyplot it was ` xticks ( ... )` , but I couldn't find that in matplotlib .
So my remaining issues now are : 1 ) how can I get a loose autoscale view on this so that the y axis view limits are some reasonable number of minutes past the max and min time points , and 2 ) How can I get the y axis to report in am / pm time ?
1 ) The problem was that the autoscale view I was using needed to adjust the scale a * much * tinier amount ( quite a few places to the right of the decimal point ) .
And , as you may already know , you can easily add a legend : #CODE
Just fyi : you can also use the " label " kwarg to plot and then call legend without any arguments .
I know how to draw polygons and also how to fill them , but how do I fill everything except the interior of a polygon ?
If you only need the complement of a rectangle , you could instead draw 4 rectangles around it ( like the 4 rectangles that are visible in your example image ) .
Matplotlib v0.99 Surface with contour : zdir doesn't work
My problem is that zdir doesn't work , that is the contour lines are on the surface and not on x-y plane .
-> xs and ys : These are coordinates for x and y axes
I have collected some data in a textfile and want to create a boxplot .
So what I'd do in the equal length case would be an m times n array , then boxplot the transpose , right ?
` boxplot ` will take any sort of sequence ( Well , anything that has a ` __len__ ` , anyway . It won't work with generators , etc . ) .
You can also do a boxplot in Plot.ly , using the Python API or just the GUI .
How to reduce the font of the text in the legend box printed in the plot ?
I also could put the legend box separately .
But , I am unable to reduce the size of the font in the legend box .
Pls help me in reducing the size of the font in the legend box .
Placing Custom Images in a Plot Window -- as custom data markers or to annotate those markers
How to make more room for subplot text fields in Python's matplotlib ?
How to make more room for subplot text fields in Python's matplotlib ?
Just call ` minorticks_on() ` on the axes and not on the ` pyplot ` object : #CODE
But for the ax subplot it is working .
Do you meant the resolution of your actual plot ( i.e. the number of segments in the line ) or where your xticks are ...
I looked , and it seems this would be possible by creating a custom transform , but that seems rather complicated , I will have to look into it .
I think the only way to do it right is with a custom transform .
Here's your transform .
Actually , you should be able to just monkey patch things without defining a new scale and transform ...
But in case you can upgrade to version 1.3.0 you could have a solution : it seems there is a bunch of new API related to axes ranges .
I'm using 1.3.1 and when I ` set_zlim ` or ` set_zlim3d ` it just limits the axes but doesn't actually clip the data .
I'm brand new to Python ( and programming in general ) I come from a finance background , so please bear with me .
I'll be using 2 axes for two different variables , but I think that's besides the point for now .
How to draw matplotlib graph in eclipse ?
I can draw matplotlib graph in command line ( shell ) environment , but I find that I could not draw the same graph inside the eclipse IDE . such as ` plot ([ 1 , 2 , 3 ])` not show in eclipse , I writed ` show() ` in the end but still not show anything
I want know my setting error not the draw graph code
Simply changing the subplot dimensions doesn't seem to help .
@USER - Not to plug my own answer too much , but there's an example at the bottom of this answer : #URL Basically you just do this : ` [ colormap ( i ) for i in np.linspace ( 0 , 0.9 , num_plots )]` , where ` colormap ` is one of the colormaps in ` matplotlib.pyplot.cm ` and ` numplots ` is the number of unique colors that you want .
If you end up plotting points instead of lines like Joe suggests , you may be able to get away with adding new , finer-sampled collections over the old ( same color of course ) .
The first two allow the package maintainer describes how to install the package , the next two help the installer keep track of what its installed ( and install dependencies ) , and the last lets the user easily switch among multiple collections of installed packages ( e.g. different versions of the same package ) .
How can I remove a line ( or lines ) of a matplotlib axes in such a way as it actually gets garbage collected and releases the memory back ?
So is there a way to just delete one line from an axes and get the memory back ?
Each ` matplotlib ` object ( ` Figure ` , ` Axes ` , etc ) provides access to its child artists via various attributes .
We start out by creating a ` Figure ` object , then add an ` Axes ` object to that figure .
This also extends to lines in an axes object : #CODE
If you were to call ` plt.show() ` using what was done above , you would see a figure containing a set of axes and a single line :
I'm plotting thousands of maps , each with a scatter plot over top of a world map projection .
The artist have a ` remove() ` function which will clean them out of the mpl side of things , and then you only need to keep track of your references .
I'm now plotting just two sets of time-series data , and I need to continue to zoom as above , but now I need to also pan one plot relative to the other ( I'm doing eyeball correlation ) .
In use , I zoom using the ' Zoom to Rectangle ' toolbar button , and I scroll using the " Pan / Zoom " button .
So that I can understand : If you , for example , first scroll one plot so that the axes show non-overlapping portions of the graph , then perform a rectangle zoom , what is the expected behavior ?
Zoom can also occur simultaneously on both axes , and that must be accounted for too .
Plot / scatter position and marker size in the same coordinates
pylab's scatter function displays markers at different co-ordinates in temrs of its axis , but the marker sizes are in terms of pixels .
Is there a way to make a scatter plot ( or draw any shapes , lines etc . ) with the sizes and positions given in the same co-ordinates ?
This size will be independent of the axes , as is the nature of a scatter plot ( it doesn't make sense if you narrow in on a region in a scatter plot that the points get bigger ) .
If you want to say draw circles that are a given size , you should use the circle command in pylab #CODE
If you need something with scatter plot like ability , you could do something like #CODE
Matplotlib Legend Height in pixels
I need to know the size of the legend in pixels .
all of these return 1 , even if the size of the legend changes !
How are you creating your legend ?
However , this is only going to represent the height of the legend in pixels as it is drawn on the screen !
Quick and dirty : draw the figure's canvas before outputting pixel values and be sure to explicitly specify the dpi of the figure when saving ( e.g. ` fig.savefig ( ' temp.png ' , dpi= fig.dpi )` .
Recommended , but slightly more complicated : Connect a callback to the draw event and only work with pixel values when the figure is drawn .
Notice the different in what is printed as the height of the legend for the first and second examples .
How to draw a line outside of an axis in matplotlib ( in figure coordinates ) ?
In particular my goal is to draw lines to group some ticks on the y-axis together .
That would be better , but I can't get it to draw outside of the axes .
I'd like to draw where the tick labels are .
If you're using matplotlib just to show some chart using default font etc you can just delete in ` dist / mpl-data ` folder all but matplotlib.conf and matplotlibrc .
Why your dist is 43.5MB probably is not all due to matplotlib ...
Figure initialization phase : #CODE
Figure is being updated this way ( this called each few seconds in separate thread ): #CODE
Figure save method is called by button press event .
How to draw the largest polygon from a set of points
So , i have a set of points ( x , y ) , and i want to be able to draw the largest polygon with these points as vertices .
As an example , if a want to draw a square , and sort the points by increasing x , and then by increasing y , i won't get a square , but two connecting triangles .
I don't know Matplotlib , but what you need / want is to draw the convex hull of the point set .
I on the other hand already have the convex hull in some sense , i just need to ORDER them such that i get a drawing of the convex hull when i draw lines between them in order .
It is also kind of overkill , since i already have the set which is the convex hull , i just need to sort it correctly to be able to draw it .
You then transform the ( most probably ) Cartesian coordinates of your points into polar coordinates , with respect to this new frame .
If you order your points with respect to their polar angle coordinate , you can draw your convex hull .
I've been following the tutorials for matplotlib , and looking at the Draggable Rectangle Exercise but I'm having a difficult time .
Mainly , there seems to be no ' canvas ' object associate with each Circle object .
It simply outputs the label of each data point to standard output when the points in the scatter plot are clicked on .
I didn't implement the context menu and changing colors and all that stuff yet , but this code outputs the label of each data point to standard output when you click on the points of the scatter plot .
Why you created Circle twice ?
In order to pass the object Circle ?
The point is that I do not really need a high resolution image , I just want to mark certain points and draw the image as a background .
How do you directly overlay a scatter plot on top of a jpg image in matplotlib / Python ?
I would like to use matplotlib to plot the jpg images , then overlay a scatter plot of the ( x , y ) data which gets read from the text file and stored into a Pythonic list .
Below is code that will plot the jpg image , but in all of the scouring I have done of matplotlib , scipy , and PIL manuals and help pages , I cannot find anything that explains how to maintain this plot window and simply overlay a scatter plot of simple markers at various ( x , y ) locations in the image .
keep in mind that each pixel in the image is one unit on the x , y axes .
+1 Yes , this orients the axes to the typical pixel numbering : ( 0 , 0 ) = upper-left
Here's a solution in the FAQ entitled Move the edge of an axes to make room for tick labels .
Python / Matplotlib - Change the relative size of a subplot
Is there a straightforward way to set the height and width parameters for a subplot ?
Is there a way to specify the size of a subplot / grid column in absolute terms ?
ie : To draw a custom colorbar with a fixed width ?
a ) If I comment out ( 1 ) or ( 2 ) only the axis ' get plotted but not the scatter itself .
b ) However , if both ( 1 ) and ( 2 ) are uncommented and I add the vars s=5 , marker= ' + ' to either ( 1 ) XOR ( 2 ) the the figure will show both markers ( one on top of the other ) - the default ' o ' and the ' + ' , meaning that I actually plot the scatter twice .
BUT - if by having both ( 1 ) and ( 2 ) uncommented I'm plotting twice , why do I actually need to have both ( 1 ) and ( 2 ) in order to see any scatter ?
why in case ( a ) I get no scatter plot at all ?
If you want to delay the render / draw then pass a reference : #CODE
i.e. How can I enlarge the size of one subplot , eventually decreasing the other two ?
This will cause the rendered graphic to fill more of the subplot area .
pyplot.imshow ( Z ) has a good look , but it doesn't take my X and Y matrices , so the axes are wrong and it is unable to handle non-linearly spaced points given by X and Y .
Bonus if it allows me to refresh the matrix Z to make an animation .
You could also use a scatter plot to explicitly place points of some size at the exact X and Y points and then set the color to Z : #CODE
or as Paul suggested , using one of the contour functions
It it were me , I'd re-interpolate ( using scipy.interpolate ) the data to a regular grid and use imshow() , setting the extents to fix the axes .
Animating a contour plot can be accomplished like this , but , like I said , the above is inefficient just plain abuse of the contour plot function .
Is it possible to update the data in this CS object , so that i can make some kind of animation in a loop ?
Plotting surface without axes
I want to plot a surface without axes planes ..
I took a quick look and could not find a method that seemed to remove the gray axes planes .
This one disables all the axes stuff : #CODE
I'm new to python and I'm testing the finance matploblib module .
Matplotlib : How to put individual tags for a scatter plot
I am trying to do a scatter plot in Matplotlib and I couldn't find a way to add tags to the points .
Notice ` xytext = ( 0 , 0 )` means no offset , and omitting ` arrowprops ` causes ` plt.annotate ` to not draw an arrow .
In the navigation toolbar of matplotlib , After I click on zoom ( or pan ) , how do I restore it to the original default mouse functionality .
clicking the zoom ( or pan ) button again , restores it .
It's a lightly modified version of an animation example from the docs .
Your solution is great for animation .
But what I want is not animation , I just want a simple MATLAB-like behavior where I can view a certain image / matrix as my algorithm runs .
It is also possible to use matplotlib to draw an animated figure : #CODE
So , first you put them both in the same ` Axes ` , so they appear in the same diagram .
Duplicated colorbars when creating an animation
When I generate a series of contourf plots with a loop , matplotlib creates n duplicated colorbars ( the colorbar has a fixed range )
Ok , but if I generate a colorbar for a contourf plot .
contourf does not generate a colorbar , colorbar does .
If the colorbar has a fixed range , you could call colorbar() once at the beginning and then merely plot your new contourf without calling colorbar()
Why does this only work with ` subplot ` and not ` Figure ` ?
It looks like some of the contour functions in matplotlib.pyplot come close to what I want , but they draw contour lines and I don't want that .
How do I override this behavior , so that the set_aspect setting only applies to the contourf plot and not the entire output .
draw matplotlib rectangle patch with infinite length
I can't seem to find a way to draw a rectangle patch with infinite side length in matplotlib , nor can I find any documentation or conversations as to whether there is a way to do this .
Anyway , looking at the code for Rectangle didn't get me any closer to a solution , so I thought I'd check and see if anyone on here can think of a way around it .
Basically , I have a subplot in matplotlib that I'm drawing a hexbin plot in every time a function is called , but every time I call the function I get a new colorbar , so what I'd really like to do is update the colorbar .
I'm now in this annoying place where I'm trying to delete the colorbar axes altogether and simply recreate it .
Unfortunately , when I delete the colorbar axes , the subplot axes don't reclaim the space , and calling self.subplot.reset_position() isn't doing what I thought it would .
This works for my needs since I only ever have a single subplot .
Clear the whole figure and add the subplot ( +colorbar if wanted ) again .
If there's always a colorbar , you can simply update the axes with autoscale which also updates the colorbar .
I don't know how to only clear a single subplot .
Above code draws a contour fill plot with colorbar , clear it and draw a new contour plot with new colorbar at the same figure .
i am able to identify the colorbar axes and clear the old colorbar .
And specifying ` cax= cb.ax ` simply draws the new colorbar in the old colorbar axes .
How to annotate / highlight a 3d plot in MatPlotLib
Could I recommend you change " annotate " to " highlight " in the title ?
I could not find a good way of preserving the zorder of patches or setting the zorder of a plot_surface .
I had to get around this by plotting an invisible contour plot on one back-plane .
How can I draw a graph or plot with 4 quadrants using Python matplotlib ?
My objective is to draw a graph with 4 quadrants and plot points in the same .
you need subplot see this example :
I ran into some memory problems as well as some other things when I tried to make a bigger image , so I switched to using PIL to draw and numpy to convert image to array .
I have a program that will draw wave function for a potential , and it looks fine when I use the option in plot ( using pylab ) ' - ' for instance : #URL
It will draw a marker at each one of those individual points .
Hi is it possible to apply the following code to tab delimited user defined input that have x and y axes ?
How to draw probabilistic distributions with numpy / matplotlib ?
I want to draw probabilistic functions ( like the binomial distribution ) , but i don't find a function that returns the probability for given parameters .
To clarify : I don't want to draw histograms , and I dont want to fit a line to one .
Am I doing something wrong , or is there something else I need to know about the way that graphs interact with patches ?
Within an axes , the order that the
collections , etc appear is determined
patches , lines , text , with collections
of lines and collections of patches
lines and patches , respectively .
So patches will be drawn below lines by default .
If we look at the raw draw time : #CODE
( I think this example predates the release of a matplotlib version with the ` animation ` module . ) At any rate , it should be possible to use ` ffmpeg ` to create an animated gif , but if I recall correctly , saving as a gif using the ` animation ` module doesn't work quite correctly .
How to draw an axis in the middle of the figure using Matplotlib
I would like to draw a static vertical line that is parallel to the y-axis and which is at the middle of the x-axis .
This line should not move when one pan in the figure .
I want each component to be a different color but they all come out black with a blue legend .
To get the legend right , pass the ` label ` argument while plotting , then just call ` plt.legend() ` without arguments when you're done .
I'm using contourf in pyplot to plot some scalar data , but when my domain is non-square i feel like the data is misrepresented because it always plots it in a square ( though the axis values will increase faster on one side . ) How can i force the axis scaling to be equal , such that if my domain is twice as long in the x-direction the image is actually plotted in a rectangle with this property ?
You'll need to modify your code to specify the axis to draw on .
Draggable legend with multiple axes problem
I m wondering if anyone has a solution for a problem I m having when using a draggable legend in conjunction with multiple axes .
I m using gridspec and figure ( matplotlib 1.0.1 , qt4 backend ) to create 2 axes no pyplot .
When the legend is dragged from one axes to the other and released , its draggability ceases to work .
If a portion of the legend is outside the boundaries of the axis , the legend can be picked up by clicking on that portion , but not if the mouse is clicked on any area of the legend inside the axis .
I tried Adam Fraser s original code but the legend would slip under the 2nd axes in my app .
My app is really quite large - too large to show here , so to illustrate the problem , I ve modded some code from the Matplotlib Legend Guide ( uses pyplot ) as follows : #CODE
It produces a plot with a couple of axes and two legends .
The part of the legend that enters the alien figure becomes unclickable , as if the figure would be catching the mouse position events and not resending them to other handlers .
I'm trying to show a contour plot using matplotlib from a complex array .
I would like to plot this c_arr ( real part ) using contourplot , but so far the only thing that I can get from contour is #CODE
How can this be accomplished using the meshgrid form that contour needs ?
exclude lines from autoscale in matplotlib
I need to make an autoscale function in which I do something like :
( using something like xticks )
When generating an animation via multiple contour plots in NumPy / matplotlib is there a similar function which can help make the animation smoother or do I have to temporal interpolate the data manually ?
And now I need to use a iterator to get all the values of potential , for example for the matplotlib contour function .
Your particular transform seems simple enough not to bother with the built-in tranform objects .
I want a simple way to convert the transform , but my image coordinates are not fixed .
I also want the fractal coordinates zoom and pan to cause an event to recalculate a new data set and apply it to the current fractal coordinates shown on the screen .
So the transform must be aware of the data set resolution .
Any idea how I can write text in the margins ?
I'm pretty sure this requires a transform .
The Path object does not store the points along a Bezier curve , just the minimum parameters it needs .
Secondary axis with twinx() : how to add to legend ?
I also give labels to the lines , and want to show them with ` legend() ` , but I only succeed to get the labels of one axis in the legend : #CODE
So I only get the labels of the first axis in the legend , and not the label ' temp ' of the second axis .
How could I add this third label to the legend ?
You can easily add a second legend by adding the line : #CODE
But if you want all labels on one legend then you should do something like this : #CODE
This is the only solution that can handle axes where the plots overlap with the legends ( the last axes is the one that should plot the legends )
I found an following official matplotlib example that uses host_subplot to display multiple y-axes and all the different labels in one legend .
You append the content of ` col ` list , which is text .
I have an Nx3 matrix in scipy / numpy and I'd like to make a 3 dimensional bar graph out of it , where the X and Y axes are determined by the values of first and second columns of the matrix , the height of each bar is the third column in the matrix , and the number of bars is determined by N .
plotting 3d scatter in matplotlib
I have a collection of Nx3 matrices in scipy / numpy and I'd like to make a 3 dimensional scatter of it , where the X and Y axes are determined by the values of first and second columns of the matrix , the height of each bar is the third column in the matrix , and the number of bars is determined by N .
Each matrix represents a different data group and I want each to be plotted with a different color , and then set a legend for the entire figure .
Also , I'd like to set the xticks and yticks and zticks -- how can I do that ?
Finally , the legend call does not appear , even though I am calling label= "" for each scatter call .
How can I get the legend to appear ?
This fixes the transparency and the legend .
A quick and dirty dummy plot for the legends while keeping the 3d transparency effect you get from scatter : #CODE
plot seems to preform a lot better than scatter here . you can also disable lines connecting your datapoints by explicitly passing ax.plot ( ...., ls= ' None ')
The transparency you get with scatter is dependent on the orientation of the axis , so as you rotate the transparency changes .
It seems you don't get this with plot as it is simply a 2d plot with a little tweak ; scatter gives you an actual collection of 3d patches .
If you need the transparency with the fancy 3d effect , then use scatter and get the legend through some dummy plots .
Or , fix the scatter code so it works with legends ;-)
See the edit to my answer for a dummy plot together with scatter for the 3d transparency effect .
AFAIK , legends for 3d scatter artists are not directly supported .
However , you can use a hack / work-around with a ' proxy artist ' , using something like : #CODE
So the proxy artist won't be added to the axis , but you can use it to create a legend .
Legend colors in Matplotlib table function ?
Does anyone know if it's possible to take the standard color boxes in the legend function in Matplotlib , and put those boxes in the rows of a table ?
It uses a separate axis that spans the whole figure and adds custom rectangle patches in the right spot .
Will give a 3D scatter plot with different colors for each point ( random colors in this example ) .
Is there a way to draw the PNG and output from the Python page that creates the image ?
How do you draw a line between points in matlab ?
However , if there is a way to just simple draw a line between two points that would be much easier .
Here's a simple example to draw the four lines of a unit square : #CODE
Or can use this statement to draw it in one step #CODE
This widget is needed for an animation plot and when the experiment is finished if I click on the plot it should appear a figure , that appears only the first time .
animation demos might be useful .
I am having trouble with axes labels overlapping ticks labels in matplotlib .
I fixed the miscalculation of axes label angles , and I made some adjustments to the spacing .
For the next release , I would like to have 3d axes to take up more than the default axes spacing , since the default was designed to take into account that tick labels and axes labels would be outside the axes , which is not the case for mplot3d .
Triangular contour with meshgrid
I'm trying to recreate the diagram ( or just a contour plot would be okay ) for the Dirichlet distribution that's on Wikipedia using matplotlib and numpy .
I am having trouble easily generating a triangular contourf .
Even if I get a triangle of points , will ` contourf ` handle the non-rectangular input ?
You do not need a rectilinear meshgrid to create a contour plot .
This example should be enough to create a 2D contour .
matplotlib draw showing nothing
I'm using python's matplotlib to do some contours using contour and contourf functions .
And they are also more difficult to pan and zoom since one can get lost and therefore not examine the entire plot , whereas panning along a 1D plot is trivial .
PyLab title / legend labels with multiple line of text
Is it possible to make multiple lines of text inside a title / legend label in pylab ?
I want to make a contour plot of some data , but it is possible that all values in the field at the same value .
This causes an error in matplotlib , which makes sense since there really isn't a contour to be created .
How can I make a " contour " plot for some data if it is a uniform field ?
I want it to look just like the regular contour plot ( to have a box filled with some color and to show a colorbar on the side . The colorbar could be a uniform color , or still show a range of 15 colors , I don't care ) .
Well , ` contourf ` handles it perfectly , it's ` contour ` that chokes .
This way , you'll get a filled ( green , by default ) box if there's a uniform field , and a filled contour plot with lines otherwise .
I wrongly assumed that contourf would fail since contour did .
I'm trying to add a horizontal line to my axes to mark an important ` y ` value , so I'm using : #CODE
What is the plot you are trying to draw an ` axhline ` over ?
Difference between " axes " and " axis " in matplotlib ?
I'm confused about what the different between ` axes ` and ` axis ` is in matplotlib .
Axis is the axis of the plot , the thing that gets ticks and tick labels .
The axes is the area your plot appears in .
Matplotlib - How to set Text below other objects when they overlap ?
Below is the stock chart I draw with matplotlib .
The notes are Text objects drawn with Axes.text() , the volume bars are LineCollection objects drawn with Axes.vlines() .
PyLab : Plotting axes to log scale , but labelling specific points on the axes
But instead of the usual 10^1 , 10^2 , etc labelling , I want to have these datapoints ( 2 , 4 , 8 ... ) indicated on the axes
I'm not entirely sure what Python is putting in ` im1 ` without checking ( but from your question I get the impression that writing ` im1 , = ... ` works while ` im1= ... ` doesn't ) , but I suspect you are failing to draw the image for some reason .
I have written a script ( Python 2.6 ) to grid data in x , y , z ( .csv format ) , and display a contour plot of the data .
I know you can join data over a discontinuity for , eg , financial data , but I'd like to make the jump in the axis more explicit .
It applies a step-function transform to the x-axis .
This will be my first time messing around with custom axes , so we'll just have to see how it goes .
There is a small typo in ` def transform ` of ` InvertedCustomTransform ` , where it should read ` self.upper ` instead of ` upper ` .
However , if you don't want to make a custom transform , you can just use two subplots to create the same effect .
matplotlib - extracting data from contour lines
I would like to get data from a single contour of evenly spaced 2D data ( an image-like data ) .
Based on the example found in a similar question : How can I get the ( x , y ) values of the line that is ploted by a contour plot ( matplotlib ) ?
Based on the plots , this result makes sense and appears to be collection of ( y , x ) pairs for the contour line .
Users of Path objects should not access the vertices and codes arrays
This is important , since many Path objects , as an
I'm using matplotlib to draw some artists ( a couple rectangles , specifically ) on a graph .
I've used google to search and I've read through most of the artist documentation and have had no luck finding what function I need to anchor the rectangle size .
Simply apply the ` transform= ax.transAxes ` keyword to the ` Polygon ` or ` Rectangle ` instance .
This works , but I had to turn off the call to legend ( I'm not sure why , yet ) .
Needed to change it to : legend ([ r ' $\Gamma ( x ) $ '])
I have come up with a much better solution using a for loop to append rectangle patches to a patch collection , then assign a colour map to the whole collection and plot .
Remove the legend on a matplotlib figure
To add a legend to a matplotlib plot , one simply runs ` legend() ` .
How to remove a legend from a plot ?
( The closest I came to this is to run ` legend ([ ])` in order to empty the legend from data . But that leaves an ugly white rectangle in the upper right corner . )
gca() returns the current axes handle , and has that property legend_
Or is there a particular advantage in using ` draw ` ?
Now I agree that ` draw ` is more appropriate ( but I've always used ` show ` to update my graphs ... ) .
this only hides the legend and it doesn't in fact remove the object , right ?
As of matplotlib ` v1.4.0rc4 ` , a ` remove ` method has been added to the legend object .
If you want to plot a Pandas dataframe and want to remove the legend , add legend=None as parameter to the plot command .
Python matplotlib contour plot logarithmic color scale
You can use the ` legend ` function ( ` pylab.legend `) .
If you want it outside the axes , you can pass to it a specific location ( ` loc ` keyword argument ) .
Edit : The legend function takes a ` title ` argument , which might help getting what you want .
However , for a caption without any legend , Paul's answer is more suited .
If you also want to have part of the caption bold ( I wanted the ' Figure 4 . ' in bold font ) , then things become a little more problematic .
Pylab , draw a probability distribution
I ve made a histogram with the hist method .
Some examples on how to draw from the distribution and plot the ` norm , beta , chi and alpha ` : #CODE
I do not want to look at a 3-D plot with 3 axes for this particular application ; just a regular 2-D plot changing the line color as appropriate .
Is your question about how to put a " % " in the ylabel or do you want to transform the data ?
Take a look at the hist function in matplotlib : #URL
How to create a legend for 3D bar in matplotlib ?
How do I create legend for displayed bars ?
You need to use a proxy artist where legends are not supported .
annotate
Look at the arguments that ` xticks ` and ` yticks ` take .
If the x and y axes have the same amount of elements , try adding ` ax.set_aspect ( 1 )` just before the ` save_fig ` call
When using matplotlib with a contour plot , I'm having trouble getting the colorbar to display as I want .
To draw the lines themselves , use the ` plot ` method of an " axes " object .
To draw them all together in the way you want , the best thing would be to use subplots ( ` add_subplot ` method of a figure ) .
You could alternatively just call ` plot ` several times on the same axes , but for that you'd have to compute the data points before-head to place the different signals separately vertically .
Note that VisIt also has a Python scripting interface and can draw 1D , in addition to 2D and 3D , plots ( curves ) .
This might be why they've avoided implementing it as part of Normalize .
I also saw people saying that " using draw instead of plot " can solve this .
Whereas ` pylab.draw() ` will force a draw of figure at that point .
So , for example , imagine a scientific dataset which is rendered as a filled contour plot and there is a bright spot .
I'm trying to combine a normal matplotlib.pyplot ` plt.plot ( x , y )` with variable ` y ` as a function of variable ` x ` with a boxplot .
However , I only want a boxplot on certain ( variable ) locations of ` x ` but this does not seem to work in matplotlib ?
The ` positions ` kwarg to ` boxplot ` allows you to place the boxplots at arbitrary positions .
Iwas always trying to do something like plt.plot ([ x , y ]) in boxplot , but failed ... seemsi misunderstand the kwarg ` positions `
You can use xticks .
Looking through the code for 3d axes , I couldn't find a specification of what I should put as renderer .
There does not appear to be a documented way to get the renderer , but you can probably just peek within the axes structure at the _cachedRenderer .
Note that you have to cause a plot to draw before this is set .
matplotlib annotate xycoords =( ' data ' , ' axes fraction ') => TypeError : ' NoneType ' object is not iterable
When xycoords= ' data ' , the annotataion is still clipped if it falls outside the axes , even with clip_on=False .
Have a look at the ` annotation_clip ` kwarg to annotate : #URL
Using a tuple to indicate different x and y transforms for ` annotate ` was added in matplotlib ` 1.0 ` .
( ` clip_on ` is a generic matplotlib text artist kwarg . Annotation artists don't behave in the same way , apparently . )
it goes outside the axes area .
drawn when the xy is inside the axes .
matplotlib ' auto dimensioning of axes ' not showing all datapoints
Now , under 1.0.1 , the two ' ko ' points end up being outside the axes regardless of whether ax.plot_date is called using a1 and a2 in units of ' days ' or ' datetime.date ' .
it is possible that the two ' ko ' points are not being plotted . but to observe that they are infact being plotted , uncomment the ax.axis ( v ) call ( which works fine in 1.0.1 ) and then look for the two quarter-circles in the bottom corners of the axes area .
while it is true that a cleaner way to expand the xaxis is to use an ax.axis ( v ) statement , the above behavior makes me nervous about the ' auto axes dimensioning ' ... although its more likely that i am incorrectly coding something or another .
I came up with an answer , but I'm locked out of adding it for 8 hours .
I am using pythons hist function to generate 1d histograms each linked to a given experiment .
the tutorial seems to disregard the functionality of hist altogether though
You could either add a ` ax.has_been_closed ` flag to the axes object or your class itself .
( also , if you want to test it from the axes instance , you use ` ax.figure.canvas.manager ` instead of ` fig.canvas.manager `)
How can i boxplot only the non-masked values of a MaskedArray ?
I tought this would happen automatically by ` boxplot ( ma )` but this seems to boxplot the non-masked array .
So it looks like you'll have to give ` boxplot ` some extra help by sending it only the values which are not masked .
Above , the first subplot shows a boxplot of all the data in ` x ` ( ignoring the mask ) , and the second subplot shows a boxplot of only those values which are not masked .
( and which i don't want in my boxplot )
Just to warn you , the " list of specific values to contour " functionality in ` contour3d ` has been broken for quite awhile .
matplotlib colorbar for scatter
How do you create a custom color value for a scatter plot ?
From the matplotlib docs on scatter 1 :
Python / Matplotlib - Figure Borders in wxPython
However , when this happens , the borders around my axes go out of whack .
I have the following lines to annotate TeX on my ` matplotlib ` plot : #CODE
I'm trying to draw a line of best fit for it to verify my hypothesis , but I'm having problems getting meaningful results .
Instead of using ` matplotlib.hist ` , I use ` numpy.histogram ` in combination with ` matplotlib.bar ` to calculate the histogram and draw it in two separate steps .
Python / Matplotlib - Quickly Updating Text on Axes
However , when this is done , the response time to moving the cursor is terribly slow ( because draw gets called and there is a lot of data , but draw must be called or the text doesn't get updated ) .
In my actual program , I want the static text to be within the matplotlib axes , not really above it .
Because the ACTUAL position I'll use in my program is going to be within the matplotlib axes themselves .
You could use blitting , similar to the animation examples here .
I tried adding ` / Library / TeX / Root / bin / universal-darwin ` to the Global Python Path of the Project Properties , but I still get the same errors .
How to create a scatter plot legend with only one symbol for each label ?
How can I create a scatter plot legend without two symbols showing up each time ?
I can understand why you'd want this when you're joining symbols by lines , but for a pure scatter plot , all I want in the legend is one example of the symbol .
In the ` legend ` command you can use the ` scatterpoints ` option : #CODE
Here you can find more information about the keyword arguments for the legend : #URL
Matplotlib has several patches ( shapes ) that appear to meet your needs ( and remove PIL as a dependency ) .
To add an ellipse to a plot , you first create a Ellipse patch and then add that patch to the axes you're currently working on .
This is unnecessary , as it is just returning the current axes object .
I think it is clearer to keep the axes object and directly operate on it rather than repeatedly getting the same object via plt.axes() .
The patches need to be an optional feature that is added later .
Using the above code as an example , show() is called right after plt.plot() , and the patches then need to be put on the plot that that generates if the user asks for them .
Set autoscale limits on plot to have buffer around all points
I would like to plot a set of points using pyplot in matplotlib but have none of the points be on the edge of my axes .
The autoscale ( or something ) sets the ` xlim ` and ` ylim ` such that often the first and last points lie at ` x = xmin ` or ` xmax ` making it difficult to read in some situations .
This is more often problematic with ` loglog() ` or ` semilog() ` plots because the autoscale would like ` xmin ` and ` xmax ` to be exact powers of ten , but if my data contains only three points , e.g. at ` xdata = [ 10**2 , 10**3 , 10**4 ]` then the first and last points will lie on the border of the plot .
Then , the autoscale ` ylim ` are ` 10**0 ` to ` 10**1 ` though the data are only in the top portion of the plot .
The most promising solution involves implementing a Locator ( based on MaxNLocator in this case ) to override MaxNLocator.view_limits .
There is also the margins function ( for put directly in the code ) .
If someone else figure out how margins scale works please point for me and I will update my answer to be more complete .
If you want a direct color mapping with no interpolation , then use one of the discrete colormaps , not a ` LinearSegmentedColormap ` .
When interactive is True , then every pyplot command triggers a draw .
* ` commands automatically update on the screen the relevant axes .
However , method calls on Matplotlib objects like ` ax.plot() ` ( ` ax ` being an Axes object ) do not normally perform automatic updates ; in this case , ` pyplot.draw() ` performs the necessary update .
` ax ` in an Axes object : it's essentially a box ( or circle ) with coordinates ( a figure can thus contain many axes ) .
In practice , Axes object are returned when you create axes in a figure .
Thus , you usually get Axes with commands like : ` fig = pyplot.figure() ; ax = fig.add_subplot ( 111 )` and ` fig , ( ax_scatter , ax_log_hist ) = pyplot.subplots ( 1 , 2 )` .
python matplotlib scatter
I am using matplotlib to scatter plot some data from an Oracle table .
I want to scatter plot by hours 00-23 not by date .
I would like to draw a straight line that goes through all graphs instead of the three red dot I currently use .
I would try ` axvline ( x , y1 , y2 )` ( link ) , but I don't think any of the options in pyplot will draw something that spans across several subplots / graphs .
There's probably a cleaner way to do this -- you might be able to draw lines on the main frame directly -- but the following worked for me : #CODE
With a bit more work you could modify the line drawing to handle the general case of multiple subplot windows , but I'm profoundly lazy .
matplotlib Legend Markers Only Once
However , this causes the legend to put a star in the legend twice , such that it looks like : #CODE
Is there any way to reduce the area the point take on the legend ?
I'm trying to generate a linear regression on a scatter plot I have generated , however my data is in list format , and all of the examples I can find of using ` polyfit ` require using ` arange ` .
How do you find the location of the plot area of an axes in figure coordinates or pixel coordinates ?
As soon as you add color fill you get an error similar to : " AttributeError : ' Polygon ' object has no attribute ' do_3d_projection '" #CODE
You would do that by changing your call to ` xticks ` to ` plt.xticks ( range ( 1 , len ( labels ) +1 ) , labels , size= ' small ')` .
I have some data plotted which includes some limits on each subplot : Both axes have the limits , but since the data fits so nicely within the limits on the second plot , the limits themselves set the boudaries for the y-axis , making them invisible .
I suppose I could write a little function that would do this to any set of axes I passed to it .
I was looking in the wrong place , The old axis vs . axes confusion .
this is what ` margins ` exists to do
For what you're wanting to do , you'd be far better off using annotate .
If you're wanting to adjust vertical alignment , horizontal alignment , etc , just add those as arguments to ` annotate ` ( e.g. ` horizontalalignment= ' right '` or equivalently ` ha= ' right '`)
The tricky part is to have the text of the horizontal and vertical axes line up between the tic marks instead of being centered on the tic marks .
Incidentally , you could just skip with the minor tick grid altogether and draw the grid lines using ` ax.axvline ` and ` ax.axhline ` .
In matplotlib , how do you draw R-style axis ticks that point outward from the axes ?
A better approach is to draw the ticks extending from the axes outward , as is the default in ` ggplot ` , R's plotting system .
and this will draw both the major and minor ticks outward by default , like R .
It's quite simple to do manually with ` annotate ` .
Modifying axes on matplotlib colorbar plot of 2D array
You can use the annotate command to place text annotations at any x and y values you want .
If you want the annotations offset a little , you could change the ` annotate ` line to something like #CODE
+1 Just as a side note , annotate has " offseting the annotations a little " built-in .
draw artist
The exact behavior depends on the backend , so it will be different on different platforms , but generally speaking you need to draw the canvas before trying to copy things from it .
The exact behavior depends on the backend , so it will be different on different platforms , but generally speaking you need to draw the canvas before trying to copy things from it .
I think what happens is that between you initializing the panel and axes and then drawing the axis is moved or resized or something .
Try waiting to get those backgrounds until you actually draw ,
Otherwise the old background will always get on the background you want and you can only get with zoom or pan in the toolbar .
Animating matplotlib axes / ticks
I have a ` matplotlib ` ` axes ` instance inside which I'm animating an ` AxesImage ` via ` blit ` ting .
I am updating the data on the AxesImage ( and subsequently ) drawing its artist quite frequently , and on each update I'd like to move one extra tick placed to highlight the position of something .
I think that the axes bbox does not include the axes , is this possible ?
The axes bbox doesn't include anything outside of the " inside " of the axes ( e.g. it doesn't include the tick labels , title , etc . )
In 2D I would make a circle patch collection and add it to the axes .
In 3D I'm having trouble getting the patches to show up at all , let alone orient them in different directions .
Running this program fills the entire plot window with blue , i.e. the face color of the patches , no matter how I rotate the plot .
If I use a ` CircleCollection ` instead of a ` PatchCollection ` , no patches show up at all .
The ` zs ` parameter in the ` patch_collection_2d_to_3d() ` call is odd ; I would expect to put either ` zs=0 ` ( one z-coordinate for all three patches ) or ` zs =[ 0 , 0 , 0 ]` ( a separate z-coordinate for each patch ) , but both of those throw an error :
To orient the patches differently , I would expect to be able to pass something like ` zdir =[ ' x ' , ' y ' , ' z ']` but the results are no different whether I pass that or `' z '` or ` [ ' z ']` .
matplotlib : can I create AxesSubplot objects , then add them to a Figure instance ?
Looking at the ` matplotlib ` documentation , it seems the standard way to add an ` AxesSubplot ` to a ` Figure ` is to use ` Figure.add_subplot ` : #CODE
Update : I have not managed to decouple creation of Axes and Figures , but following examples in the answers below , can easily re-use previously created axes in new or olf Figure instances .
Typically , you just pass the axes instance to a function .
Also , you can simple add an axes instance to another figure : #CODE
Resizing it to match other subplot " shapes " is also possible , but it's going to quickly become more trouble than it's worth .
The approach of just passing around a figure or axes instance ( or list of instances ) is much simpler for complex cases , in my experience ...
+1 This is useful , but it seems to me that the axes are still coupled to the figures , and / or to some state in pyplot .
Axes are fundamentally linked to a specific figure in matplotlib .
However , you can still completely " decouple the axis creation from the figure making and plotting " by just passing axes and figure objects around .
You can just add the same axes to a different figure .
( Just do ` fig2.axes.append ( ax1 )`) Resizing it to match different subplot shapes is also possible .
adding axes instance to another figure ( last example ) doesn't work for me in Enthought 7.3-2 ( matplotlib 1.1.0 ) .
@USER - It's not working because the way the axes stack for a figure works has been changed in newer versions of matplotlib .
Axes deliberately aren't supposed to be shared between different figures now .
yeah , I wouldn't actually do it that way anyway . passing the axes to a function that plots on it makes more sense as it decouples figure layout and axes creation ( layout ) from the actual plotting ( content )
It seems I cannot decouple the axes creation from figure creation , but I can grab the axes instance and pass it to new figures .
Option 2 - Use a second axes : #CODE
While there's nothing wrong with Ofri's answer , ` annotate ` is intended especially for this purpose : #CODE
See here : #URL for a list of colormaps .
How do I plot a scatter plot with the data sets above with the y-axis being the probability ( i.e. the percentile of the distribution in set : 0%-100% ) and the x-axis being the data set names ?
@USER : Yes ; you could use ` plt.title ` to place a string at the top middle part of the graph ( outside the plot axes ) .
Or , you could use ` plt.text ` to place a string anywhere inside the plot axes .
from matplotlib.widgets import Button
#Reset Button
button = Button ( ax=reset_axis , label= ' Reset ' , color= ' lightblue ' , hovercolor= ' 0.975 ')
I need a legend for a code which generates data from a dict .
I don't know how much keys exist in the dict is there a way to do ' dynamic ' a legend on this ?
Overlaying a scatter plot on background image and changing axes ranges
Now the ranges for the x and y axes are the pixel values of the image .
How can I get the x-axis of the plot going from -100 to +100 and not 0 to 1011 ? and then overplot my x , y scatter plot .
( Also , you don't need to manually set the facecolor of the patches . You can just pass in a keyword argument . )
There's one final bug / niggle I don't understand - the xlabel text directly underneath the annotation text - not sure how to offset it .
How do I draw a colorbar in a gtk / glade window embedded matplotlib figure ?
I've got everything working as planned , with one exception- I can't figure out how to draw the colorbar associated with the plot I am displaying .
I've got a Figure that's added to a FigureCanvasWxAgg .
Instead of getting your axes from the ` add_subplot ` method , you can create an axes object with explicit boundaries .
The four numbers are the left edge , bottom edge , width and height of the axes in fractions of figure width and height .
Oh and I've changed the subplot to axes everywhere , which makes everything look a lot better .
You can set that with with the ` set_facecolor() ` method of your ` Figure ` instance .
It's possible to do , of course , but you'll have to either rescale your data and change your y axis ticks / labels to match , or , if you're planning on doing this often , perhaps code a new scale that can be applied to matplotlib axes , like in this example : #URL .
From your ` axes ` instance , call ` grid ( False )` .
Generate a heatmap in MatPlotLib using a scatter data set
To be precise , I would like to display the function that is the result of a convolution between the scatter data and a custom kernel , such as 1 / x^2 .
Also , axes objects have an ` ax.is_last_row() ` method which can be handy in cases like your example .
Well , it takes a loop to annotate all data points , I thought that there should be a function that does just that .
matplotlib animation with toolbar
I have one huge array and I'm trying to create an animation effect .
Now this works fine and the animation is what I expect .
When the animation is active , any zoom reposition etc .
Say you want your xlim to increase by 1000 each frame , but retain the yscale .
Using pcolor() , this is as simple as setting polar=True for the subplot .
Where ` a ` is the current axes .
creating a color coded time chart using colorbar and colormaps in python
I found one function to make a discrete colormaps .
Here is also the code which changes the Formator / Locator .
where ` ( x , y )` is the location where you want the text in axes coordinates ( e.g. ` x=0 ` is the left hand side and ` x=1 ` is the right hand side ) .
from matplotlib.figure import Figure
How to add constant-spaced ticks on axes whose lenghts vary ?
I'd like to add on the map axes and ticks to show the distances on this map ( with matplotlib , since the old code is with it ) , but the problem is that the areas are different sized .
I'd like to put on the axes nice , clear ticks , but the widths and heights of the maps can be anything ...
I want that there is on x-axis ticks on 0 , 1 , 2 , 3 , and 4 #URL and on y-axis ticks on 0 , 1 , 2 , 3 , 4 , 5 , and 6 #URL However , the image and the axes reach a bit further than to 4 km and 6 km , since the region is larger then 4 km * 6 km .
Later , after creating the graph and axes , ticks are put in that way ( x axis as an example ) .
Anyway , the accuracy of those axes are 200 m's , it's not exact but it was enough for me .
small scatter plot markers in matplotlib are always black
I'm trying to use matplotlib to make a scatter plot with very small gray points .
Text display problem with matplotlib ?
Due some annoying scaling stuff ( from pixels ( ? ) to other measurements ) and varying lengths of axes , they need some work ... anyway , the result is a 2D strain map where is ticks with constant spaces ...
My script makes separately axes for the image , they can't be made with plotting due some scaling etc . stuff ... anyway .
However , this gives me a lot of padding around the plot , unnecessary axes and labels , and it auto-scales the image to fit inside the viewable area .
The pixel quality is still there but requires adding the mpl toolbar and manually panning around and you can loose track of the image if you pan too far .
So the key was to manually set the size of the figure to be the full size of the image in inches and then set the axes for the figure to the same size .
I also dropped the sizer because I manually sized the scrollbar's virtual area , the figure , and axes .
Improve subplot size / spacing with many subplots in matplotlib
matplotlib boxplot color
I found an useful example in making binned boxplot in matplotlib with numpy and scipy in Python .
It looks strange the impossibility to set the color of the boxes directly in boxplot
You could just render the original data as a scatter plot behind the boxplot and then hide the fliers of the boxplot .
I'm just wondering that in this way you set to ' black ' the contour of the boxes .
Polar contour plot in Matplotlib
I have a set of data that I want to use to produce a contour plot in polar co-ordinates using Matplotlib .
How can I create a polar contour plot from these values ?
I've thought about converting the radius and theta values to x and y values and doing it in cartesian co-ordinates , but the contour function seems to require 2D arrays , and I can't quite understand why .
I don't know if it's possible to do a polar contour plot directly , but if you convert to cartesian coordinates you can use the ` griddata ` function to convert your 1D arrays to 2D .
If your data is naturally arranged in a grid you can convert r , theta to x , y and use ` contour ( r* np.cos ( theta ) , r* np.sin ( theta ) , values )` to make your plot .
I've posted a follow-up question about axes - #URL I wonder if you might be able to help with that ?
Add polar axes to cartesian plot in Matplotlib
I have drawn a polar contour plot in Matplotlib as described in this question .
However , I want to be able to have a set of polar co-ordinate system axes overlain on the plot - that is , radial axes ( sticking out from the centre ) at 0 , 90 , 180 and 270 degrees , with ticks on them showing the radius at various points .
kilo ( K ) and mega ( M ) suffixes on matplotlib's axes
I would like to print values on axes not as 30000 or 7000000 but as 30K or 7M .
I figure there is multiple ways to do this inside the axes object but what do you reckon is the best way .
I would like to create a 2x3 plot of 2d histograms in matplotlib with a shared colorbar and a 1d histogram at the top of each subplot .
I tried to add a 2d histogram to the top of each subplot by following the " scatter_hist.py " example on the above page using ` make_axes_locatable ` .
plt.clabel is only used with contour lines , according to documentation : " adds labels to line contours in cs , where cs is a ContourSet object returned by contour ( axes_api ) .
Please check contour example :
Remove axes from a figure
Is it possible to remove the axes from a ` pyplot.figure() ` ?
Using the ` pyplot.imsave() ` to create an image without axes works OK #CODE
When you create your ` ScalarFormatter ` , try the " use Math Text " parameter : #CODE
I've written a simple program in Python using Matplotlib to draw lines in a coordinate system .
To get a 2D image I just sum over one of the axes using ` sum ( array , 2 )` and then use the matplotlib function ` imshow ( array2D )` to obtain the 2D image .
You could register an event handler that mucks with the y data based on ylim .
` margins ` will act like ` axis ( ' tight ')` , but leave the specified percentage of " padding " , instead of scaling to the exact limits of the data .
use the ` clf() ` and ` cla() ` ( clear figure and clear axes respectively ) methods after you've saved your figures .
Create multiple figures , and then set the title and axes label on each figure .
The histogram way is not the fastest , and can't tell the difference between an arbitrarily small separation of points and ` 2 * sqrt ( 2 ) * b ` ( where ` b ` is bin width ) .
You set the " element size " , which acts as a bin size ( the code will call interactions on everything within ` b ` of another point , and sometimes between ` b ` and ` 2 * sqrt ( 2 ) * b `) , give it an array ( native python list ) of objects with an x and y property and my C module will callback to a python function of your choice to run an interaction function for matched pairs of elements .
The following is an animation built with the above program with just a few cosmetic changes :
used ` sqrt ( average of squared values )` instead of ` sum ` for the averaging pass
made an animation by incrementing the radius from 2 to 40
The total computing time of the 39 frames of the following animation with this cosmetic version is 5.4 seconds with PyPy and 26 seconds with standard Python .
@USER : I've added an animation with varying blur radius .
The documentation shows both how to make a single horizontal boxplot and how to make multiple vertically oriented plots in this section .
My output results in just a single horizontal boxplot though .
Now the subplot version works , but still would like the boxplots all in one figure ...
Now I can make the subplot option work fine .
subplot ( *args , ** kwargs )
Create a subplot command , creating axes with ::
subplot ( numRows , numCols , plotNum )
If I'm understanding you correctly , you just need to pass boxplot a list ( or a 2d array ) containing each array you want to plot .
I am currently a summer research student helping out with computational biology research , and my role is to make a GUI that visualizes data .
I have searched numerous sites , used plots , subplots , some basic animation , and other roundabout ways , but the figure will not close despite using close() , clf() , etc .
Plots , subplots , animation ...
Note that I've commented out the close() because this way it produces a nice animation .
But since the x-values are negative , I cannot use xscale ( " log ") .
I can use xscale ( " symlog ") though and this is the behaviour I want .
You could call ` get_xticks() ` or ` get_yticks() ` first for the axes object , edit as needed , and then pass the list back to ` set_ticks() ` .
These are attributes of axes objects , not axis .
outlying data points are still being plotted after enforcing axes in matplotlib scatter3D ?
I'm just starting to learn python , and was recently trying to make a 3D scatter plot with my dataset using matplotlib .
Improper rendering at axes border in Matplotlib
I want to render a rectangle within an axes in matplotlib .
The axes is the unit square with the origin at the bottom left corner .
For the case where the rectangle is the same size as the axes - I want the rectangle to appear as though it is the border of the axes .
rotating xticks causes the ticks partially hidden in matplotlib
where as the y values are 5 , 1 , 1 etc.I have given xlabel as ' categories ' and ylabel as ' durations in minutes ' .
Since the xticks were strings of some length , I decided to rotate them by 90 to avoid overlapping.Now , the ticks are partially hidden and the xlabel has disappeared .
I tried something like the following for the mathtext and it seems to be quite fine : add_subplot ( 1 , 1 , 1 , xscale= ' log ' , yscale= ' log ' , xlim =( 1,100 ) , ylim =( 1 , 10 ) , xlabel=r ' $n_{{\rm H}}$ ' , ylabel=r ' $\frac{1}{2}$ ' , title= ' $\mu$m , $_H$ = 10 cm$^{{-3}}$ '
I've managed to use the line ` locs , labels = xticks ( find ( b [ 1 ]) , b [ 1 ])` .
And if i use the xlim , i can set the figure to be what i want , but the xaxis stills the xame ( on that xlim i had to use the orignal data to set it right ) .
Yes , you can use the xticks method exemplified here :
I'm doing plots and I change the data lim , especifically the xlim , ( I take out like 60-70 % of the graph away with that ) .
It sounds like you're doing the right thing -- calling ` xlim ` is the right way to resize one axis .
To do subplots , use the ` subplot ` command ( ! )
Why is my xlabel cut off in my matplotlib plot ?
I am plotting a dataset using ` matplotlib ` where I have an xlabel that is quite " tall " ( it's a formula rendered in TeX that contains a fraction and is therefore has the height equivalent of a couple of lines of text ) .
In any case , the bottom of the formula is always cut off when I draw the figures .
Changing figure size doesn't seem to help this , and I haven't been able to figure out how to shift the x-axis " up " to make room for the xlabel .
while you can see the entire ylabel , the xlabel is cut off at the bottom .
should make room for the xlabel .
I was faced with same problem , and while ` tight_layout() ` did fix the xlabels cutoff , it unfortunately caused my ylabel to become cut off ( which wasn't cut off before ) .
@USER `` gcf() `` and `` gca() `` are " get current figure " and " get current axes " , respectively .
How do I get handle to axes in pyplot twinned axes ?
Labels in the legend only appear for the second axis , axes2 .
The method ` set_data_interval ` is a method of the ' axis ' ( the real axis of the plot ) , while ` set_xlim ` is a method of the ' axes ' object ( the area your plot appears in , with the axis , lines , text , etc ) .
And ` axes1 ` and ` axes2 ` are ' axes ' ( returned by the ` add_subplot ` method ) .
2 ) To get the labels of both axes in the legend , have a look at the solution given by this question : Secondary axis with twinx() : how to add to legend ?
use subplot ?
You have to use a combination of Formatter and Locator
The Formatter will return the string to be displayed at the location .
see : Ticker module documentation #CODE
I already am using a minor Formatter per definition showOnlySomeTicks and the minor log axis formatter is the default and fine for where I want the ticks .
Where ` sub ` is a ` matplotlib ` `" Subplot "` instance ( 3D or not ) and ` points ` contains the points used for the scatter plot .
What about breaking your figure up using ` subplot ` ?
You could have the axis in one subplot , and the table in another .
instead of adding another subplot for the figure as i already had
I am drawing some colorful scatter plots using matplotlib in my django app for some small data sets , but the import statements add about 1-2 seconds to the run time compared to my previous version which used a javascript graphing utility - so now it takes almost 3 seconds instead of under a 1 / 2 second to load the page .
Is there a more light-weight method to load the Figure - or perhaps a different backend is faster ?
the difference is that with hist you get a frequency plotted . maybe you should show how to do it . frequency with pandas + bar plot = hist()
Matplotlib contour isn't working
I'd think matplotlib's contour is fine , just confused by the input .
The parameter of sqrt is negative for many points , so the finally products are all NaN .
It appears that if you declare ` matplotlib.use ( ' TkAgg ')` then the axes are updated ( without mouse events ) when ` ax.figure.canvas.draw() ` or ` p.draw() ` is called .
( In my case , I didn't get a RuntimeError -- the GUI didn't draw anything but the buttons at the bottom of the window ... ) Sorry , I simply don't know the answer .
Given the desire to draw squares with area h**2 and a color based on the value in d , you could draw rectangles using matplotlib with a color obtained from a colormap ( scaled to 0-1 ): #CODE
Adapted from Plot / scatter position and marker size in the same coordinates .
I need to have a legend of the color of the boxes .
You can make a colorbar based on the parent axes and set the ranges yourself .
Normally this is based on the range of your data in your plot if you use imshow / contour / pcolor / &c ., but now you have to tell the colorbar yourself what the min / max values are .
Adding an attribute to each matplotlib line artist object will make things easier later , but you could just as easily do it in other ways .
Either use the axes methods ( e.g. ` ax.plot ( ... )` instead of ` pylab.plot ( ... )`) or pass in the current axis ( ` RectangleSelector ( pylab.gca() , ... )`) that pylab is referencing .
On a side note , there's even a matplotlib widget get the button press and release events with a bit less boilerplate and draw a nice box for you : ` matplotlib.widgets.RectangleSelector ` #URL
Also , if you have multiple axes on a figure , such as subplots , use the ` axes ( h )` command where ` h ` is the handle of the desired axes object to focus on that axes .
Help with making a big subplot look nicer and clearer
I have a subplot of 28 lines x 2 columns ( it can change , actually ) .
The subplot I want , without the re-sizing , should be something like this :
The rest you can do with judicious application of ` annotate ` .
Matplotlib legend : how to assign multiple scatterpoints values
I'm using the matplotlib library in python to generate publication-quality xy scatter plots .
I ran into a problem regarding the markers in the legend .
I would like the legend to show 3 markers for the " curve " , and 1 marker for the single point .
The only way I know how to change the number of legend markers is using the " scatterpoints " argument when declaring the legend .
However , this argument sets the number of markers for all series in the legend , and I'm not sure how to change each legend entry individually .
Is there a way to set scatterpoints values individually for each legend entry using matplotlib ?
How do you want to assign markers to points of the scatter " curve " ?
you can get the line in legend , and change it yourself : #CODE
Legend.legendHandles is a list of all the lines in legend , and the _legmarker attribute of the line is the marks .
I will add one caveat : the _legmarker attribute exists for Line2D collections generated by pyplot.plot() , but does not exist for RegularPolyCollection collections generated by pyplot.scatter() .
pyplot axes labels for subplots
I want to be able to create axes labels and titles not just for each of the two subplots , but also common labels that span both subplots .
For example , since both plots have identical axes , I only need one set of x and y- axes labels .
I do want different titles for each subplot though .
You can create a big subplot that covers the two subplots and then set the common labels .
Wen-wei Liao's answer is good if you are not trying to export vector graphics or that you have set up your matplotlib backends to ignore colorless axes ; otherwise the hidden axes would show up in the exported graphic .
Therefore there is no axes artist being created and made colorless .
Wen-wei Liao's answer doesn't , because ` fig.add_subplot ( 111 )` will return the same Axes object if it is already created .
Scale the axes with a ` hist ` plot by consulting this previous question : Plot logarithmic axes with matplotlib in python .
I'd like to have ' a ' , ' b ' , ' c ' , ' d ' on the x Axis as x values
Use the xticks function .
I would like to know if there is a natural way to draw a graph that consists in a group of lines of varying length like this : #CODE
The plot command can draw a group of lines , your example can be plotted by a long line #CODE
Another way is using axhline() to draw horizontal lines .
I want to draw a plot with matplotlib with axis on both sides of the plot , similar to this plot ( the color is irrelevant to this question ):
Maybe you should check the [ subplot adjust ] ( #URL ) .
I added " fig.subplots_adjust ( bottom= 0.06 )" right before I set " axis = fig.add_subplot ( 211 , autoscale_on=False , xlim =( 1 , 10 ) , ylim =( 0 , 1 ))"
adds a subplot to the figure , but the ` 211 ` means " two plots high by one plot wide , position 1 " .
You could add a second plot below your current one with another subplot call , passing ` 212 ' ( position 2 ) .
To create a single subplot and fix your issue , change your ` add_subplot ` call to : #CODE
If you want to control the position and the size of your subplot , try to use add_axes ( [ left , bottom , width , height ] ) .
However , I want to continue to draw next figure while keeping current one , How can I realize this ?
Also for some reason xlim doesn't work it say's it has no argument xlim .
I use something like this : axis = fig.add_subplot ( 111 , autoscale_on=False , xlim =( 1 , flen ) , ylim =( 0 , 1 ) . where flen is a amount that changes , and where the y axis is just from 0-1 , but it sounds like you want to do it vise versa .
I am trying to add a text description of a graph that I draw with matplotlib .
The problem is I'm plotting colormaps of floats , so I'm trying to convert them to grayscale , but I'm getting lots of weird patterns which make me strongly believe I'm doing something wrong .
Something like the legend argument would be excellent : #CODE
I am trying to label subplots with different axes using letters ( e.g. " A " , " B ") .
Just use ` annotate ` and specify axis coordinates .
I'm using matplotlib in my wx.Frame to draw some arrows and text at a certain position .
draw one arrow at position y - 0.05 to the previos arrow ( primer_y - 0.05 ) .
Everything works fine until I have many arrows to draw .
Don't draw the arrows with ` self.axes.annotate ` while labeling the
Matplotlib - transform bbox
Pyplot , main title , subplot
` title() ` sets it above the last subplot .
How do I force Matplotlib to draw while in the ipdb debugger in Spyder ( or any other debugger ) ?
When you call ` ax.pie ` it returns a tuple of ( patches , texts , autotexts ) .
I use this to test if the artist resides in the ' matplotlib.text ' module .
This is general enough to be used for any artist , not just a figure .
How can I programmatically select a specific subplot in Matplotlib ?
where I can simply select the index I want , with the corresponding ` axes ` .
If the figure already has a subplot with key ( args , kwargs ) then it will simply make that subplot current and return it .
What if I set the background with my original call , do I need to set it again when I get the subplot the second time ?
My guess for now is that if you change any property of the subplot after generating it with add_subplot call , the unique will not be adjusted .
So it turns out that the figure class has a private member function _make_key that ' ( makes ) a hashable key out of args and kwargs ' ; this is used to identify the subplot ( and I guess all axes belonging to a figure ) .
If you want to use change_geometry , you can , but to get the subplot back later , you need to call it with the original arguments and keywords .
When you call change_geometry , it changes the geometry , but it doesn't tell the figure this , so the figure uses the old geometry still to define the unique key for that subplot .
Logically speaking a change in the geometry for an axes object should mean that every other object ( figure in this example ) should update accordingly .
I asked a similar question specifically about the memory locked up when matplotlib errors , but I got a good answer to this question ` .clf() ` , ` .close() ` , and ` gc.collect() ` aren't needed if you use multiprocess to run the plotting function in a separate process whose memory will automatically be freed once the process ends .
I was trying to draw a ` barchart ` using ` matplotlib ` .The number of items to be plotted can vary .
First define the colors , then make the scatter plot .
There might be a way to do this after defining the scatter plot ' Events ' , but this way seems more direct .
Using pylab , I want to plot just the data with no axes or borders to a png file .
How can I get figure to refresh after changing an object's axes in Matplotlib ?
I then change the Line2D's axes in the second subplot to be the first subplot .
How can I refresh the figure to reflect the axes change ?
Figure output :
So far I've created a new line , used ` update_from() ` to copy ` f ` into this new line , and then I've added it to the other axes .
I don't think it works for me because I don't think the splines used to make the line are updated for the new axes , but I'm looking into this ....
Currently I am copying all the data ( xydata ) and metadata ( color , linewidth etc ) from the line in the old axes .
I then delete the line in the old axes , and I plot the new one in the new axes ( with the line's extracted data and metadata ) .
Perhaps I have misunderstood the axes mechanics in matplotlib , but as far as I can see I think it's counterintuitive behavior .
I believe that one problem is that your first axes ( ` ax_1 `) do not have the line that you want to add ( ` f `) in their list of lines ( ` ax_1.lines `) .
Well , that's just another symptom of the same problem , that is , that the axes ax_2's line , f , hasn't been changed properly .
After the axes change both Line2D objects point to the same axes object .
But it shouldn't be a part of ` ax_2.lines ` , I changed its axes to ` ax_1 ` .
Unless I have completely misunderstood matplotlib , shouldn't both lines be shown in the same axes ( the upper one ) if they share the same axes ?
Rotation of patches in matplotlib not functioning as expected
to restrict the ylimit and the number of yticks #CODE
I tried to give several values for BAR_WIDTH ( .5 , 1 , 1.5 .. ) and found that .5 causes a bar to occupy half the space between 2 xticks
does it represent some percentage of space between two xticks ?
How to change legend size with matplotlib.pyplot
Simple question here : I'm just trying to get the size of my legend using matplotlib.pyplot to be smaller ( ie , the text to be smaller ) .
Or ` matplotlib.rc ( ' legend ' , fontsize= 0.5 , linewidth=2 )`
You can set an individual font size for the legend by adjusting the ' prop ' keyword .
See the documentation for legend :
Just giving ` legend ( labelspacing= 0.25 )` worked for me .
There are multiple settings for adjusting the legend size .
For instance with a 10 point font , ` legend ( ..., labelspacing= 0.2 )` will reduce the spacing between entries to 2 points .
You can set an 8 point font using ` legend ( ..., prop={ ' size ' : 8} )` .
In addition , the legend documentation lists a number of other padding and spacing parameters including : ` borderpad ` , ` handlelength ` , ` handletextpad ` , ` borderaxespad ` , and ` columnspacing ` .
I am running a django app that includes matplotlib and allows the user to specify the axes of the graph .
The ` join ` will block the main process until the ` worker ` completes .
If you omit the ` join ` , then the main process simply continues with the ` worker ` process working in the background .
To change the limits of the plot , use ` xlim ` and ` ylim ' : #CODE
There is documentation on arrow , xlim and ylim .
It is also possible to make an arrow with text , using the annotate method .
changing size of a plot in a subplot figure
To adjust the dimensions of an axes instance , you need to use the set_position() method .
Every time you call ` p.figtext ( 0.5 , 0.65 , str ( slider1.val ))` you are creating a new ` Text ` object which is being written on top of the previous ones .
What you should do is save a reference to the first ` Text ` object and update its contents by calling its ` set_text() ` method .
Then you can draw your histogram using the ` plt ` name : #CODE
are you looking for [ subplot ] ( #URL ) ?
In any case , you can now modify each subplot by referencing its index in ` subplots ` .
In your current script where you print ' mass ' , you want to append to a list as floating point value : #CODE
What I need to do is have a plot that has the number of coulumns ( starting at 0 and running to the last column say 1500 ) as one axes and the mass_average as the other coloumn
I have multiple lines to be drawn on the same axes , and each of them are dynamically updated ( I use set_data ) , The issue being that i am not aware of the x and y limits of each of the lines .
How do i auto scale my axes ?
I have multiple lines on the axes and their ranges change , keeping track of the ymax for the entire data is not practical
But here again , i do not know how to access FigureImage from the Figure instance .
The data limits are not updated automatically when artist data are changed after the artist has been added to an Axes instance .
legend inside a loop in a subplot in Matplotlib : what is wrong with my code ?
I iterate through a loop to make each of the subplots and I want to add the legend for each subplot at this time too .
The problem is that I am getting a legend that picks only the first symbol of each member of the list , please see figure attached .
After the user presses a key , my program needs to then erase the previously drawn set of line segments ( leaving the original points in place ) and then draw new segments between another set of points .
Scipy has a tutorial for deleting a line from an axes .
When I run the page first time everything is ok , but after refresh in result I get wrong plot ( composed of new and old plot ) .
If I uncomment close ( 1 ) instruction there will problem with refresh page because application will get stuck on figure() instruction .
I think you would benefit from using the ` cla() ` axes method , which clears the axes .
This sets the figure to figure 1 , and then gets the current axes ( ` gca() `) and then clears it with ` cla() ` .
Thanks , I use your solution and it works but I also add some code to clear figure clf() and legend .
matplotlib : change axes
I think you want ` range ( len ( data ) / 60+1 )` for the second argument of xticks .
Set Font Properties to Tick Labels with Matplot Lib
You can control the defaults of almost every property in matplotlib : figure size and dpi , line width , color and style , axes , axis and grid properties , text and font properties and so on .
I am trying to plot a boxplot for a column in several csv files ( without the header row of course ) , but running into some confusion around tuples , lists and arrays .
I am fairly new to python , and I would like to understand the what about the differences among a tuple , list , and numpy-array prevents this boxplot from working .
I am using 0.99.1.1 , and I had trouble using all the options available to 2D ` scatter ` plots , which should be the same for 3D plots as well .
The full list of scatter features are listed here .
I can plot by calling fig.gca() .plot() and draw by calling fig.canvas.draw() .
I've never understood why matplotlib always seems to use current objects ( current figure , current axes , etc . ) rather than specific objects ( for example , why not have matplotlib.pyplot.show ( fig ) rather than just show() ? ) I think I'm missing something .
It looks like you try to draw 200 000 000 objects not 20 000 000
4 ) Get new data from different satellite that is needed for an overlay to the previous product ( think satellite derived wind barbs overlain on satellite imagery )
Then do ` fig.add_axes ([ 0 , 0 , 1 , 1 ])` and use imshow to add my data to the axes .
Basically if the figure is drawn it seems the error is thrown because plt.show() with tkagg would force it to draw the image .
To get this to work I had to remove any call that referenced the draw method .
matplotlib and pyqt4 : update plot in one thread , draw in another
I should probably note that this was my first attempt at making the GUI more responsive ( moving matplotlib commands into the data thread ) and I may be moving to a blit animation style drawing of only updating the parts of the plot that change .
Matplotlib has hooks to do things like this , and you're going to need to disconnect some of those hooks to do what you need .
In the program when I click 1st button the both subplots work fine but when I click on 2nd button , the overlap occurs in 1st subplot while the 2nd subplot works well according to program .
Moreover , when I again click the 1st button then 1st subplot doesn't change while the 2nd subplot change according to program .
All I want is to remove the overlapping problem and the statically nature of 1st subplot i.e. by clicking again the 1st or 2nd button , the 1st subplot should change like 2nd subplot .
You need to differentiate between the two axes you are using .
You do not need to create them everytime , just to clear them , and then plot each line in its corresponding axes .
snap hlines and vlines to whole pixels in matplotlib
I want to draw some hlines and vlines snapped to occupy whole pixels on the screen ,
Is there a transform T() so that #CODE
( Seems that only lines can be antialiased , not text , not scatter markers ? )
How can I hide the axes in matplotlib 3d ?
How can I make a 3D plot without showing the axes ?
When plotting a 3d plot , Matplotlib not only draws the x , y , and z axes , it draws light gray grids on the x-y , y-z , and x-z planes .
I would like to draw a " free-floating " 3D plot , with none of these elements .
" So it seems that it was always supposed to set the visibility of the graph , not the axes .
Ok , looks like the hiding of the 3d axes was a feature added after the v1.0 release ( but before I started working on mplot3d ) .
To hide the axes , you would have to set the private member " _axis3don " to False , like so :
How do I refresh a wx.Frame object from inside a class ?
produces a PDF of 15Kb with a bad looking xlabel .
To do a scatter plot with the y coordinate set to 1 : #CODE
graphing multiple types of plots ( line , scatter , bar etc ) in the same window
I'm trying to graph two types of plots in the same window ( i.e. a line plot , and a scatter plot ) .
I've tried to accomplish this as follows by using a twin x axis and a second , parasite y axis for the scatter plot : #CODE
This code works fine when I replace scatter with plot in the line that starts with p2 , but produces a second line plot .
A bar plot instead of a scatter would work too .
If you're just wanting circular markers for a plot , don't use ` scatter ` , just use ` plot ` and specify circular markers with no lines connecting them .
It returns a collection with is different ( and more flexible ) than the ` Line2D ` artist that ` plot ` returns .
There's no reason to use scatter unless you need to vary colors or sizes based on another variable .
fI can't reproduce your exact error , but I don't think you need the comma after ` p2 ` as ` scatter ` only returns a single value .
hist , xedges , yedges = np.histogram2d ( DEC , RA , bins =[ 90,180 ] , range =[[ -90 , 90 ] , [ 0,360 ]]
hist , xedges , yedges = np.histogram2d ( DEC , RA , bins =[ 90,180 ] , range =[[ -80 , 90 ] , [ 0,360 ]]
This obviously does not handle the case when your lines already have a dash or marker patter , but you can use these routines as a starting point to build a more sophisticated converter .
Change the loop to the above line to also change the legend .
` ax.get_legend() ` returns ` None ` in matplotlib 1.3.1 when there is no legend , which makes the example above fail for me .
How do I generate contour plot from a n x n matrix ?
I have a n x n matrix called ` o_potential ` filled with some values and would like to generate a contour plot out of it .
I need to generate a contour plot .
Actually I found that imshow() does the work -- though I am not how imshow() is different than contour plot .
@USER : imshow and contourf show a similar thing slightly differently .
axis range in scatter graphs
2 ) create a legend for the 4 functions
Do you not know how to set the axis limits or to create a legend ?
I have been trying to set the x axis limit by using ax.xlim ([ 0,150 ]) but that results in the following error message : AttributeError : ' AxesSubplot ' object has no attribute ' xlim ' .
I am not sure if using scatter() would give me flexibility to work on the axes limits .
As for legend , I used this : ax.scatter ( r.run , r.time , s=10 , color= ' tomato ' , marker= ' o ' , label= ' function1 ') but nothing appeared in the png file .
Also , you don't need scatter for what you're doing in this particular case .
You need to call ` legend ` for the legend to appear .
The ` label ` kwarg only sets the ` _label ` attribute on the artist object in question .
It's there for convenience , so that the label in the legend can be clearly associated with the plotting command .
It won't add the legend to the plot without explicitly calling ` ax.legend ( ... )` .
I use matplotib's Axes API to plot some figures .
That is why keeping the xlim and ylim before plotting doesn't help .
Would turning off autoscaling for the axes instance do the trick ?
If you don't want to depend on the order , and you do want to just specify a list of lines to autoscale based on , then you could do something like this : ( Note : This is a simplified version assuming you're dealing with ` Line2D ` objects , rather than matplotlib artists in general . ) #CODE
In that case , yeah , you'll need to subclass ` Normalize ` .
For me , trying to subclass ` Normalize ` was unsuccessful .
I found the ` scale ` module in matplotlib that has a class used to transform line plots by the ' syslog ' rules , so I use that to transform the data .
Then I scale the data so that it goes from 0 to 1 ( what ` Normalize ` usually does ) , but I scale the positive numbers differently from the negative numbers .
Here is a solution subclassing Normalize .
I thought just explicitly calling ` set_extent ` would do everything ` resetExtent ` does , because it should adjust the axes limits if ' autoscle ' is True .
I worked around it by replotting the axes after clearing , but this seems be a less weighty solution .
I want to draw them in one image and color the surface of each triangles differently .
a quick look at artist demo #CODE
Did you want the ` xlim ` , ` ylim ` and ` grid ` calls in the loop , or is this just an indentation error created by posting on SO ?
when I comment out the ` + ax.transData ` from the transform definition : #CODE
` imshow ` should be even faster , but is a little less flexible with regards to e.g. non-rectilinear axes .
i am trying to make some animation using matplotlib .
at first i didn't use cla() , so on every iteration i got the same picture ( #URL ) . when i added ax.cla() it was ok with animation but i got some unwanted axes which i don't know how to get rid of ( #URL ) .
Matplotlib - global legend and title aside subplots
My actual question is how to place a global title and global legend on a figure with subplots .
( any thoughts on this ? :)) Each subplot has the same style function .
Now I'm trying to get a global title for all subplots and also a global legend which explains all styles .
For legend labels can use something like below .
Then the third parameter is the location of the legend .
To just call legend with the location parameter and it finds the labels in each of the lines .
I have had better luck making my own legend as below .
You can also use the leg to change fontsizes or nearly any parameter of the legend .
just an addition : if you want to update ydata dynamically ( as in interactive mode or for animation ) , you have to refresh the figure after set_ydata() by calling the draw() function .
so is the ' gid ' property in matplotlib similar to the ' Tag ' property in matlab , i.e , does it exist for any kind of object ( figure , plot , legend ) .
The artist tutorial shows a huge range of properties you can set and much more : #URL Read the docs and cookbooks- there is a huge amount of power and flexibility there .
I first assumed since Axes3D is based on Axes , you could use the ` set_yticklabels ` method , but apparently that doesn't work .
Why is a contour plot not acceptable ?
It seems that you might want a contour plot , or imshow , or filled curves , or filled patches ( most likely one the first two ) .
I'm not sure how a contour plot would work in this case ?
Python : Type error when drawing contour plot
I'd like to plot a contour .
Use the xticks command .
matplotlib , rectangular plot in polar axes
Is it possible to have a standard rectangular ( aka Cartesian ) plot , but displayed on a polar set of axes ?
If you want to just overlay the polar axes on a Cartesian plot , this answer might be handy #URL
i would like the axes to look like this , #URL but i want to be able to plot in rectangular coordinates .
@USER : you can either convert from polar coordinates to cartesian yourself ( x=r*cos ( phi ) , y=r*sin ( phi )) , or make your plot in cartesian coords , then hide the spines and ticks and overlay a floating_axes , as shown in the example through the link above .
I want to set a range on the colormap ' Blues ' in such a way to delete the white color which is not visible in the draw .
The range ( or normilization ) is not really a feature of the colormap , but is often implemented as a feature in the functions that plot using colormaps .
There are plenty of examples on how to make custom colormaps , and a few different approaches available .
They were both able to display a scatter plot with no discernable delay .
The main point is to specify a new , smaller axes for the second figure #CODE
Can Basemap draw a detailed coastline at the city level ?
I'm trying to draw a detailed coastline of the NYC area using Basemap in Python .
Given list of countries draw map with those countries a different color
I can reproduce it , but I have to manually adjust the ylim of the right axis so that the origin is aligned with the value I want from the left axis .
You can annotate a specific point in the image using ` plt.text ( x , y , str )` .
Please note that if you create an ` ax3= ax1.twiny() ` axes after ax1 and ax2 , the tracker goes to ax3 and you have again it reporting y1 values .
I have a scatter plot with several thousand points .
Matplotlib : How to put individual tags for a scatter plot
Eg . for each data sample in a scatter plot I would like to display some information in a tooltip .
Network from Table ( Text / MS Excel ) ..
Node and edge attribute files are simply formatted : a node attribute file begins with the name of the attribute on the first line ( note that it cannot contain spaces ) .
Node and edge attribute files use the same format .
Node attribute file names often use the suffix " .noa " , while edge attribute file names use the suffix " .eda " .
Node and edge attributes may be loaded at the command line using the n and e options or via the File ?
Node and edge attributes are attached to nodes and edges , and so are independent of networks .
Object names must be the Node ID or Edge ID as seen in the left-most column of the attribute browser if the attribute is to map to anything .
This could be interesting , although I do not see the way how to create an " interactive " scatter plot with it .
Do you think the interactive scatter plot example can be achieved with cytoscape ?
So , yes , the interactive scatter plot could be done with cytoscape
Matplotlib - How to overlay a grid on a different axes over an image ?
I have attempted to overlay a grid that is on a separate axes over an image that is loaded into matplotlib using imread .
For different end symbols you replace the vlines with scatter symbols .
How to get log axes for a density plot with matplotlib ?
How can I get logarithmic axes ( with log minor ticks ) ?
You are interested on the ` xscale ` parameter : #CODE
Below , I join my own solution .
In a nutshell , I used imshow to plot the " image " ( a 2D histogram with log bins ) and I remove the axes .
Then , I draw a second , empty ( and transparent ) , plot , exactly on top of the first plot just to get log axes as imshow doesn't seem to allow it .
I just found out that you can use ` scatter ` for this : #CODE
where the format is : ` scatter ( x , y , sizes , markerType )`
This code didn't run for me , but I did have success with ` scatter ( range ( 500,600 ) , range ( 600,700 ) , range ( 1,101 ) , marker= ' o ' , facecolors= ' none ')`
I draw some matplotlib.pyplot figures onto a Tkinter GUI .
With the ` autoscale_on=True ` option for each axis , I thought each plot should have its own y-axis limits , but it appears they all share the same value ( even if they share different axes ) .
You're trying to add three axes right on top of each other .
Matplotlib is recognizing that there's already a subplot in that exactly size and location on the figure , and so it's returning the same axes object each time .
If you really want to do that , you'll need to reset ` fig._seen ` to an empty dict each time you add an axes .
Ah , ` spines ` is the attribute I wanted I think .
I had to set ` axes [ -1 ] .yaxis .set_ticks_position ( ' right ')` , but otherwise worked beautifully !
The Red Axis is missing .
Use ` handles , labels = ax.get_legend_handles_labels() ` to collect all labels and ` axes [ 0 ] .legend ( allHandles , allLabels )` to print the complete legend
You can no longer call ` twinx ` twice and get two separate axes .
How to make offset axes in matplotlib ?
I believe I want to base it off this example ( which looks like this ) , but in particular how do I draw this outside ( below ) the original axes region , and set major_ticks and major_ticklabels ?
In R for instance , you can just " draw " an axis and it doesn't necessarily have to be linked to anything .
shows how to move the spines outwards .
I just simply save the data into files and read them out and then draw histogram .
I don't understand , as I thought this would make newax transparent except for the axes and box around the figure .
You're not actually adding a new axes .
Matplotlib is detecting that there's already a plot in that position and returning it instead of a new axes object .
If you wanted , you could even take this one step further , and have independent x and y axes ( I'm not quite sure what the point of it would be , but it looks neat ... ): #CODE
Not to plug one of my own answers too much , but there's an example of that here : How do I plot multiple X or Y axes in matplotlib ?
As one last thing , be sure to look at the parasite axes examples if you want to have the different x and y axes linked through a specific transformation .
Yes , indeed it was about the two axes ...
So if I was willing to do that this first example could also work by turning off visibility of the other spines .
( It's basically like you said : Add the other axes on top , and then hide the other spines . ) Usually , it's easier to keep things linked , though .
( You use " parasite axes " for that part . It's a bit more complex . )
So basically I think I can do with ` twinx ` , ` twiny ` for linking one set of axes and ` add_axes ` for unlinked axes .
" parasite axes " for later ...
Matplotlib - matching axes unit length ( resolution )
Edit : This could be accomplished by manually setting an pixels-per-unit-ratio for both axes .
Thank you , I just figured it out , and was about to add an answer on my own :-) ` x.set_aspect ( " equal ")` , or ` sp = fig.add_subplot ( 111 , aspect= " equal ")` when creating a subplot , does the trick .
Normalize numpy arrays from various " image " objects
For additional processing I would like this arrays to be represented as in last variable ` lena.mpl ` , or just to transform array values to their normalized [ 0 .. 1 ] float32 type .
FYI : A lot of the differences between ` plot ` and ` scatter ` have been fixed in the most recent version of matplotlib .
This is a kind of follow-up question to this post , where the coloring of axes , ticks and labels was discussed .
Changing the color of a complete frame ( ticks and axes ) around a double-plot ( via ` add_subplot `) with axes [ ax1 , ax2 ] results in a lot of code .
dig out the spines of the axis , then change it : also discussed here ; not really elegant , I think .
You showed another possibility of axes coloring that I can add to my list ( if running an up-to-date version of m.p.l . ) .
This version can color two subplots with axes ` [ ax1 , ax2 ]` and ` [ ax3 , ax4 ]` in two different colors .
The problem is that the coloring of the second y-axis via ` yticks ` is not working anymore .
You can test that idea by explicitly calling ` sca ( ax2 )` ( set the current axis to ` ax2 `) before calling ` yticks ` and see if that changes things .
( Personally , I prefer just sticking to the OO interface . Use ` pyplot ` to set up figure objects and for ` show ` , and use the axes methods otherwise . To each his own , though . )
The issue with the ignored ` color= ` tag occurs ( oddly ) only when I explicitly set the label strings : ` yticks ( arange ( 0.1 , 0.4 , 0.1 ) , [ ' .1 ' , ' .2 ' , ' .3 '] , color= ' green ')` .
I need to draw some logarithmic plots from the data ( values are already in logarithmic scale ) however matplotlib somehow encounters infinity during preparation of loglog plot .
I should have seen that it evaluates log from my data , but if loglog calculates log from data and my data is already in log scale , how to draw it with log scale on axes ?
I would like to draw histogram using matplotlib .
However , due to the huge data ( a list containing about 100,000 numbers ) I sent to the hist() function , error will arise when draw two figures .
File " C :\ software\Python26\lib\ site-packages \matplotlib\ pyplot.py " , line 2160 , in hist
File " C :\ software\Python26\lib\ site-packages \matplotlib\ axes.py " , line 7775 , in hist
And you don't need to plot again to adjust parameters ` xlim ` , ` ylim ` , etc ...
But how do I transform it to be applicable to 2D arrays where the columns must cycle through these linestyles and just a single plot command is given instead of a for loop ?
Then go ahead and create your axes and plots !
Are they contour plots or arrays of data ?
I tried the ` meshgrid ( x , y )` route , reworked the equation so ` z ` is on one side , but the ` sqrt ` is a problem .
If I have semi-major axis as a and c , semi minor axes as b , will the coeff be ( 1 / a**2 , 1 / b**2 , 1 / c**2 ) ?
However , this code does not present a legend on the figure , and gets error after I close the image .
Creating Bar Charts in Python
I have a couple of problems with the Bar Chart that I'm trying to create in python .
The alternative is to calculate the needed size by yourself based on the bounding boxes of all axes labels as shown here , but you need a renderer for this to be able to determine the sizes of all labels .
By specifying the label format ( using either ` sci ` or ` plain `) , you can change the rendering of the values .
Is that possible for plots other than scatter plots ?
@USER - For 3D axes , use ` ax.scatter3D ( x , y , z , c=variable_to_colormap )`
@USER - If no colormap is specified , ` scatter ` will use whatever the default colormap is set to .
To specify which colormap scatter should use , use the ` cmap ` kwarg .
I would like to add a legend and label each of the data lists appropriately .
I can't seem to get the legend to work though . plt.legend (( ' Column 1 ' , ' Column 2 ' , ' etc . ) , loc =1 ) and other things like that did not work .
With those changes , the legend started working , and everything seems to be resolved .
Your code properly displays a legend , with Matplotlib 1.1 on Mac OS X , provided that :
A last possible solution would be to indeed plot each line separately with its own label : ` plt.plot ( single line data , label= ' Construction ')` , etc ., and the plot the legend with ` plt.legend ( loc= ' best ')` .
As you seem to have already figured out , you need to transform your x and y coordinates into " map " coordinates ( the appropriate documentation can be found at #URL ): #CODE
and finally draw the map with the x / y coordinates e.g. : #CODE
The key was to realize that I needed to add ` + ax.transData ` to the new transform I set on the ` LineCollection ` .
( When you don't set any transform on an artist object , ` ax.transData ` is the default . It converts data coordinates into display coordinates . ) #CODE
I am using matplotlib to make scatter plots .
Each point on the scatter plot is associated with a named object .
I would like to be able to see the name of an object when I hover my cursor over the point on the scatter plot associated with that object .
The closest thing I have been able to find while searching here is the annotate command , but that appears to create a fixed label on the plot .
Unfortunately , with the number of points that I have , the scatter plot would be unreadable if I labeled each point .
As a bonus , in order to get it implemented , I rewrote my program so that instead of creating two separate scatter plots in different colors on the same figure to represent two sets of data , I copied the example's method for assigning color to a point .
This is for scatter plots .
The footnote I want to have is something like an explanation of one item in the legend , but it is too long to put in the legend box .
So , I'd like to add a ref number , e.g. [ 1 ] , to the legend item , and add the footnote in the bottom of the plot , under the x-axis .
` annotate ` lets you work in axis or figure coordinates instead of just data coordinates .
` plt.annotate ( ' Something ' , ( 0 , 0 ) , ( 0 , -20 ) , xycoords= ' axes fraction ' , textcoords= ' offset points ' , va= ' top ')`
Here's what I'm trying to do , you can ignore most of the code as it is pretty irrelevant - just look at the end where I have ` xdis ` , ` ydis ` and ` dist ` and where I'm trying to plot atm I'm getting ValueError : need more than 1 value to unpack :( .
Text alignment in a Matplotlib legend
I am trying to right-align the entries in a matplotlib axes legend ( by default they are left-aligned ) , but can't seem to find any way of doing this .
( I have added data and labels to my_fig axes using the ax.plot() command ) #CODE
There is a list of legend keyword arguments in the docs for matplotlib Axes , but there doesn't seem to be any straighforward way to set the alignment of the legend entries there .
To clarify what I am trying to achieve , right now my legend looks like :
So right now , the legend has the descriptions stacked and aligned on the left , what I would like is for all the dates to be stacked ( aligned on the right ) .
Generally speaking , matplotlib doesn't usually contain plotting functions that operate on more than one axes object ( subplot , in this case ) .
For those wishing to match R , the x and y values are backwards : change plot ` axes [ x , y ]` to ` axes [ y , x ]` .
2 . set ` sharex= ' col ' , sharey= ' row '` in subplots() 3 . diagonal affects the tick limits , so either set the limits or plot ` axes [ i , i ] .plot ( data [ i ] , data [ i ] , linestyle= ' None ')` 4 .
[ FIX #1 ] The axis tics weren't lining up like I would expect ( i.e. , in your example above , you should be able to draw a vertical and horizontal line through any point across all plots and the lines should cross through the corresponding point in the other plots , but as it sits now this doesn't occur .
[ FIX #2 ] If you have an odd number of variables you are plotting with , the bottom right corner axes doesn't pull the correct xtics or ytics .
I suppose for the case of ` ( intercept , slope )` of ` ( 0 , 1 )` the following function could be used and extended to accommodate other slopes and intercepts , but won't readjust if axis limits are changed or autoscale is turned back on .
Well , if you just want a line that goes from the lower-left corner to the upper-right corner , no matter how you zoom , then you can just do ` plt.plot ([ 0 , 1 ] , [ 0 , 1 ] , transform =p lt.gca() .transAxes )` .
@USER At last on my version of matplotlib ( 1.4.3 ) it's necessary to render the parent axes at least once before calling ` self.axes.draw_artist ( self )` , otherwise I get an ` AssertionError ` on the line ` assert self._cachedRenderer is not None ` in ` Axes.draw_artist ` .
You could always insert an additional draw after ` _update_lim ` has been called .
If I wanted to draw arrows instead of axis lines using one of the arrow / Arrow functions , how do I get the line / arrowhead to show up ?
remove() seems to clear the 3D scatter data but does nothing to the axis .
I dont use any canvas to draw .
matplotlib not changing scatter point colors if they are assigned the first time
In the following minimal example , I create 1-point scatter plot and later change color of points in loop using Collection.set_color .
If I set the color ( s ) the first time scatter is called , ` set_color ` will not change its face color ( only edge color ) , whereas if I don't specify it when the scatterplot is created , face color will change according to ` set_color ` .
I've run into similar issues with matplotlib - it's like a scatter point can only be assigned a color once and never over-written .
The tricky problem is if I just use the range of ( 0 , 120 ) to show normed and cumulative hist , it will end with 1 .
I thought this should not be so complicated that I have to write another function to draw the hist I need .
Be sure to create an axes with equal with and height , eg
Here's an example of a routine that will adjust the subplot parameters so that you get the desired aspect ratio : #CODE
I would like to draw a time-plot using the ` matplotlib.dates ` module .
Do you want to create a scatter plot , x-axis having month and y axis being values ?
and can use the MATLAB-like pyplot interface to plot and draw in both figures .
Now I want to draw something to the first figure with the pyplot interface but the current figure can be either of them .
If you want to do the same thing with axes , just use ` pylab.sca ( my_axis )` ( " set current axis ") .
matplotlib : how can I convert a XYZ scatter to a pixel image ?
I'm looking for some way in to convert a scatter plot ( X vs Y , color normalized by Z ) into a 2D " pixel " image .
Or you can do a contour plot , such that you stipulate RA on the x-axis and Dec on the y-axis and fill in the plot with the distances .
Finally , plot using a contour plot ( using contourf or imshow ) , like : #CODE
The resulting two plots without specifying the ` xlim ` and ` ylim ` look like this :
I thought the margin is unrelated to the xlim and ylim values , that is you can have 2 inch or .5 inch margins and still have an xlim from 0 to 1 in both cases .
Why I want what I want : Then I could generate similar looking plots of different kind of data with the same margins to the axis .
You can calculate how to convert cm to inches , and using ylim and xlim you can set the limits of the axis .
If you want to draw it manually , i'd recommend you give up matplotlib and go Inkscape ...
Of course I do not want to * draw * a plot .
Setting the ` x ` - and ` ylim ` is not the same as specifying the distance to the axis .
Please draw this with a Pencil on a paper , and specify all distances with clear Type letters , and scan it .
Now , consider a boundary of 2 units , you can add / subtract these units from the lowest and highest values and set ` xlim ` and ` ylim ` : #CODE
I've modified it to include another subplot ( the data being plotted is the same ) .
The ticks appear only on the second subplot .
I've added code to include a new subplot in the ` if ` block halfway through the source .
The ticklabels are often long , and it helps to rotate them on the bottom subplot and turn them off on other subplots , as well as turn off xlabels .
You can achieve the same effect by inserting this code after each subplot : #CODE
how to add legend for scatter() ?
When if I pass ` h ` to ` legend ` , it says #CODE
But how can I get this to work with scatter without writing a loop ?
It seems like you are trying to populate the legend with the actual scatter plot , or at least reference what is going on in the scatter plot .
To create a legend , you need to draw it as a separate entity - meaning that the scatter point shapes and colors need to be recreated , for example as a subplot .
Thanks - my alternative question was how to build a legend manually ; this is it .
matplotlib : when using append_axes , how can I indicate the axes I want to add the subpanel to ?
I've been looking at the example " scatter hist " in the Matplotlib gallery .
However , if I change the subplot locations to : #CODE
i.e. move the x subpanel to the bottom , then append_axes adds the y subplot to the right of the x subplot , rather than the right of the scatter plot .
How can I tell append_axes that I want to append the y subplot to the right of the " main axes " containing the scatter plot ?
I'm guessing that I need to either specify the object axScatter again somewhere ( though I thought that's what ` divider = make_axes_locatable ( axScatter )` was for ?! ) or I'm guessing that divider has set up a grid in the window panel and I need to tell append_axes which cell contains the main axes .
I know that in the above case it will work if I simply switch around the divider.append_axes ( " top " ... ) and divider.append_axes ( " right " ... ) calls , but what about when I want to put subplots on the " bottom " and on the " left " , when whichever way round I call append_axes , the subplots are still attached to the incorrect axes ?!?
How to disable auto-swapping in axes labels in matplotlib ?
When I rotate the graph I noticed that the axes labels swap automatically which does not look interesting or helping to me .
Q : How to disable auto-swapping axes labels while rotating in matplotlib ?
Before commenting I thought it should be easy to turn the axes off using pl.axis ( ' off ') or mpl_toolkits.mplot3d.set_axis_off() but none is working !
matplotlib hist while ignoring a particular no data value
I am working on creating a contour plot using Matlibplot and pyplot .
I have the contour plot working fine , but I need to smooth the data .
What means do I have to smooth the contour plot like in second plot ?
But , the changes are not great enough to affect the contour plot .
Yeah , I've tried from .25 to 1,000 with the same results when I look at the contour .
I will not though , it doesn't really smooth out the jagged edges of the contour .
As I raise the sigma values , it eventually just reduces the levels of contour produced from the data .
Ah well , I was so frustrated that I have resorted to using the matplotlib colormaps directly and displaying the array using Pillow instead .
Hello , i want loglog that's sure.And i want for the 3 values of c to draw one plot .
Anyhow , I am using wxPython to draw this inside a frame .
For 1 subplot the case is clear , but how about 2 , 5 , 9 , or 217 ?
The number of subplot varies and that is the problem I am having .
90 plots could be 1x90 , 2x45 , 3x30 , &c . subplot ( L , 1 , i+1 ) would work just fine , but might not be what you want with 90 plots . subplot ( ceil ( sqrt ( L )) , ceil ( sqrt ( L )) , i+1 ) would give you a different grid that also facilitates 90 plots without ado .
It seems reasonable to use a contour map produced with some math program ( e.g. sagemath ) but these tend to make square images that are not scaled .
create an ` axes ` with no margins , no frame and no ticks ( ` fig.add_axes ([ 0 , 0 , 1 , 1 ] , frameon=False , xticks =[ ] , yticks =[ ]`)
I am learning to draw scatter using matplotlib .
I changed my code to : ax1 = scatter ( xActA , yActA , color = ' blue ' , s = 20 ) , and there is a new error : return array ( a , dtype , copy=False , order =o rder )
And there is a plot with no scatter points but anything else in it .
Problems when drawing scatter plot
I am using matplotlib.pyplot.scatter to draw some simple scatter plot .
Here is the code for drawing this scatter plot : #CODE
Why are you using ` scatter ` for this ?
Actually I am realizing a plot I saw and I just guess it is using scatter .
And yes , you are right , the plot can show exactly the same after I tried since the legend appears two dots instead of three using scatter .
However , I am still curious why there is nothing in my scatter plot ...
You can see the complete list of markers for ` scatter ` here .
The call to ` scatter ` in your question passes ` xRa ` and ` yRa ` , but you edited to include ` xActA ` and ` yActA ` .
If you use a linear scale instead of a logarithmic scale you will see some scatter points , however , not in a very readable manner .
But if you change your scale to ' symlog ' and then set the x and y limits using ' xlim ' and ' ylim ' , your done .
Of course you have to make sure that the marker is set to ' o ' when running ' scatter ' .
Everything worked fine , but if I want to add matplotlib to draw on my canvas I get and error #CODE
Also do you use Figure from the local matplotlib installation or not ?
How can I draw the value text for a slider widget from matplotlib ?
I'm using a slider widget from matplotlib and I've been trying to update just the slider bar using blit for faster animation because if I use draw() for the whole canvas it is too slow .
I got the bar to animate faster using this method ( though it doesn't look perfect ) , but I can't figure out how to draw the slider value that shows up next to the slider .
Now I removed the value text from the slider and I'm thinking about setting some axes text with the slider value , but I can't figure out how to draw only the axes text .
Clip an image using several patches in matplotlib
I've also made a series of patches which contain the outlines of each country : one for England , one for Wales etc .
I haven't worked with patches , but is there a way they can be added together ?
I think you can do this by making multiple scatter plots , clipping each one with a unique patch ( eg one has England , one has Ireland , etc ) .
Before the patches :
After the patches :
matplotlib secondary axes that spans half of the first one
Specifically , I'm trying to generate scatter plots and stacked area graphs .
Cramped graph areas ( small plot area covered with the legend , axes etc . ) .
For this , there is a function called subplots_adjust that allows you to change the bounding region of the graph itself , leaving more room for the title , axes , and labels .
The two methods are slightly different however : A figure can contain many axes .
The first two that come to mind are a simple stem plot or a scatter plot .
Are you just wanting to plot things using a stem plot like this ?
Or a scatter plot like this : #CODE
I am trying to draw ellipses on a basemap projection .
To draw a circle like polygon there is the ` tissot ` function used to draw Tissot's indicatrix ' as illustrates the following example .
On the other hand , to draw an ellipsis on a regular Cartesian grid I can use the following sample code : #CODE
I want to automatically generate a series of plots which are clipped to patches .
In reality , the patches I'm using are relatively complex and take some time to generate - I'd prefer to not have to remake them every frame if possible .
The problem can be avoided by using the same axes for each plot , with ` ax.cla() ` called to clear the plot after each iteration .
The ` axes ` , ` figure ` , ` extents ` , ` clip_box ` , ` transform ` and ` window_extent ` properties of the patch are changed .
Remove top and right axis in matplotlib after increasing margins ?
Generate figure with desired size and margins : #CODE
A similar thing happens with the legend it doesn't get resized if the windows is resized .
Joe , what if I don't want any numbers AND win back the space , so that the canvas produced have no margins , just the square ( ideally just the graphic , no lines ) ?
@USER - ` ax.margins ` controls how autoscaling the data limits works , not the " ouside " margins of the plot .
If you want to control how much of the canvas the axes takes up , either 1 ) manually make an axes that takes up the entire figure by using ` ax = fig.add_axes ([ 0 , 0 , 1 , 1 ])` , or 2 ) use ` subplots_adjust ` to change the " outside " margins of your subplots ( e.g. ` fig.subplots_adjust ( 0 , 0 , 1 , 1 )`)
In other words , we know ` a b ` implies ` sqrt ( a ) sqrt ( b )` so there is no need to calculate the square root .
: In general , good advice in this field : no ` sqrt ` if you can do the same thing by not actually compute a distance but staying comfortably in the realm of its square .
matplotlib drawing contour labels outside AxesSubplot in .eps file
The problem that I have is that PL.clabel draws contour labels even outside limits of AX , that is , in the whitespace of FIG .
During the summer I created a proper app , and it's just a matter of download it and move it to your Applications folder .
Or , if you'd prefer a wider range of colormaps , you can also specify the ` cmap ` kwarg to ` scatter ` .
There are several different grayscale colormaps pre-made ( e.g. ` gray ` , ` gist_yarg ` , ` binary ` , etc ) .
Is there anyway to draw contours round these points containing a certain amount of the total weight ?
How do I draw a grid onto a plot in Python ?
I just finished writing code to make a plot using pylab in Python and now I would like to superimpose a grid of 10x10 onto the scatter plot .
They all do different things , since matplotlib uses a hierarchical order in which a figure window contains a figure which may consist of many axes .
Additionally , there are functions from the pyplot interface and there are methods on the ` Figure ` class .
It leaves the other axes untouched .
` plt.clf() ` clears the entire current figure with all its axes , but leaves the window opened , such that it may be reused for other plots .
methods of the Figure class
Additionally , the ` Figure ` class provides methods for clearing figures .
I'll assume in the following that ` fig ` is an instance of a ` Figure ` :
what about ` clear() ` , I have not seen much difference with ` cla() ` only that in parasite axes only ` cla() ` is treated specially .
Both the Figure and the Axes class have a ` clear() ` method .
First off , the ` plt.plot ` call does not return an axes , it returns a list of Line2D objects , one for each line plotted .
You can use the OO interface to Matplotlib to create a separate axes for each plot , then selectively add those as subplots , etc .
You can remove some of the plotted lines from the set of lines of the current axes : #CODE
The key point is that each ` plot() ` command adds a line to the current axes and draws it ( in interactive mode ) .
The principle behind all of this is that something drawn is drawn : a ` plot() ` call adds objects like lines , etc . to a Matplotlib Axis and mostly forgets about where they come from .
Also , please let me know if there is anything suboptimal about my code above - I haven't really got to grips with what all these figure , canvas and axes objects do yet .
( The simple solution is to use ` pyplot.ion ` and then draw the canvas every x milliseconds in one thread while doing other things in another thread . This is horribly inefficient . )
scipy : savefig without frames , axes , only content
I can display it , I want to save it using ` savefig ` without any borders , axes , labels , titles ,...
Then draw your image on it : #CODE
To get a feel of how to play with this sort of things , read through matplotlib's documentation , particularly on the subject of Axes , Axis and Artist .
Basically what I have to do is draw a NxN grid within certain boundaries given by a boundingBox and write a function for that .
My idea is that I should draw horizontal and vertical lines and calculating the width and height by dividing the range of the boundaries by N .
Then I want to draw the lines with pyplot using the ends of the lines , and this is where I'm having trouble .
It seems like you want each iteration of the loop to draw a line .
AttributeError : ' AxesSubplot ' object has no attribute ' xlim '
Getting matplotlib plots to refresh on mouse focus
My problem is that during the calculation , figures that are partially or fully occluded don't refresh when I click on them .
Based on the answer provided by Zhenya below , I developed the following generalization that supports an arbitrary number of axes .
I accomplished this by normalizing the data at each axis point and making the axes have a range of 0 to 1 .
Getting the axes may be more difficult .
There are various ways you can label the axes --- see e.g. this one , #URL With your second question , I've no idea , so if you make it a separate question , there's a chance somebody more knowledgeable will be able to see it .
My hang up right now is dealing with the vertical axes .
Very nice answer by Yann , but by using arrow the resulting arrows can be affected by the axes aspect ratio and limits .
Thanks , if I use the first solution you suggested ( using ` GridSpec `) how can I create subplots that share axes ?
Unless your dataset is several GB in size , the time it takes to transform your data will only be a few milliseconds .
Hide contour linestroke on pyplot.contourf to get only fills
I have a pet project to create images of maps , where I draw the roads and other stuff over a contour plot of the terrain elevation .
and then create the plot with GDAL and Matplotlib ` contourf ` function : #CODE
The problem is that contour lines are " white " , and generate some visual pollution , which is undesired since I want to plot roads and rivers later .
So , I am trying to modify the way ` contourf ` create these lighter lines , either via parameter setting , or via hack ( changing source code ) , similar to the one proposed here :
How to format contour lines from Matplotlib
I increased the plotting range in the cited example , getting a lot more contour lines .
Before filtering the image , I'd try setting aliasing ` kwarg ` to the ` contourf ` , maybe it'll help .
The solution to the problem , despite not being a real solution , but more a workaround , is simple : Just repeat the same ` contourf ` command and this will magically get rid of spurious contours .
As stated by the OP , spurious contours show up when doing contour fill ( ` contourf `) with intervals too close to each other .
The thin spurious contours obviously affect the net color of the contour fill .
Here's the finest one , with 3 successive ` contourf ` commands :
Unfortunately , this may slow down your scripts significantly , depending on array size and number of contour intervals .
The spurious contours stand out more if more contour intervals are used .
What usually works best for me is to use 50 to 100 contour intervals , and do the ` contourf ` twice .
I finally found a proper solution to this long-standing problem ( currently in Matplotlib 1.4.3 ) , which does not require multiple calls to contour or rasterizing the figure .
A similar solution turns out to solve the contour plot as well , as follows : #CODE
hi Daan , you're right , but I use the pop because the plot function can only accept value from 1 column , now the last step for me is how to make the plot function draw 2 column at same time !
hi Dann , the SerialData Object return 3 column default for me , but I can not draw from 2 column I need to modify this function self.plot_data.set_xdata ( np.arange ( len ( self.data )))
This code is supposed to hide and show plot lines when the legend is clicked .
It seems that event ' pick_event ' is not fired when I click on the line on the legend .
Maybe I do not map well the correspondance between the legend line and the plot line .
Just click on the lines in the legend .
The script is supposed to toggle transparency of the graphs , by clicking on their lines in the legend .
I am clicking on the lines on the legend .
Can I do this automatically , or will I have to draw a rectangle or something ?
You could automatically draw a rectangle ...
If so , you can draw a Rectangle patch to highlight that section ( let me know if you need an example ! )
Using matplotlib to label points on a scatter plot on mouse over with some label other than x , y coordinates
However , there are two differences : one , I'm making a scatter plot and two , I want to label names for each point and not just the x , y coordinates .
Adopting the approach for annotating using the label , given in the examples section on the documentation page of the mpldatacursor , you could do something along these lines ( plot a single point with each scatter plot to be able to set an individual label for each point ): #CODE
Sure , just use ` text ` or ` annotate ` .
I have solved the same problem in stream-vorticity NS form , i just had to take contour plot of stream function to get the streamlines .
If you need scalar contour plot , then google for ` matplotlib contour ` .
i know , scalar contour plot of matplotlib just takes one variable and understandably so , i was looking if there is a function which takes components of vector , calculates and plots streamlines in given domain , contour is ** not ** that function / procedure .
If ( x , y ) is data values on an axes , ` ax ` , then you can convert them with ` ax.transData.transform_point ([ x , y ])` .
If ( x , y ) are in axes coordinates ( 0-1 ) then ` ax.transAxes ` is what you are after .
Additionally artists ( lines , patches etc . ) have a contains method which might be of interest to you : #URL .
To be sure check the .rc file in your dist folder .
All right , with that working , I'd like to compile everything to a single exe , but using ' bundle_files ' : 1 and zipfile = None still elaves the mpl-data folder in the dist folder .
@USER you get the matplotlib folder in your dist .
` Formatter ` has nothing to do with displaying ticks , it controls only how tick labels are formatted .
What you need is modified ` Locator ` , which locates displayed ticks ' positions .
write your own ` Locator ` class , inherited from ` matplotlib.ticker.Locator ` .
and then create a separate axes object just for the label ...
Need to use matplotlib scatter markers outside the chart , in labels for a bar graph
I have a scatter plot that uses six different symbols to plot points .
I need to make reference to the symbols used in the scatter plot in a different chart , a bar graph which explains the proportions of each class in each cluster in the scatter plot .
How can I have the labels for the bar graphs use the symbols used for the scatter plot markers ?
As you can see in the image below , the labels under each bar ought to correspond to the markers in the chart , but they don't because I don't know how to summon the markers outside of the context of the scatter plot .
I would be fine with manually adding the symbols to the bar graph legend if they were UTF-8 symbols I could find somewhere , but I haven't been able to find the exact spec for which character each marker might be .
And if you need help figuring out the names for the symbols , this is a great little website that allows you to draw the symbol you want and it will output the LaTex names .
One alternative to a colorbar might be an inclusive legend outside of the boundaries of a graph by using ` bbox_to_anchor ` when defining the legend .
Just to append a colorbar .
I don't mind to use one of the built in colormaps .
The legend is not a viable option even outside of the graph .
Besides , a legend would be way more information than the reader needs .
Use Normalize instead .
I am trying to make a special marker which isn't available with the scatter command .
Thus , reading in ` x , y ` and velocity and use scatter vmin and vmax command , the markers will be automatically plotted with the right color .
1 ) make a legend using the colors I defined in the list or
Have you looked at the [ other colormaps ] ( #URL ) -- it seems like " summer " is close to what you used , with white being null values .
I've set the margins around my main axes to 0 so the plot will completely fill the figure canvas and the widget that contains it .
For example when I've clicked on the pan button in the mpl_toolbar my cursor changes to the cross-arrows but when I leave the widget I'd like it to return to normal and return to the cross-arrows when I reenter the widget .
If I don't minimize my margins around the axes then it works like I would like .
Basically I'm leaving the canvas without ever leaving the axes .
I want to trick the axes leave event into occuring when I leave the figure .
If leave the axes on , I get large blank rectangles around the bottom subfig
Even if the set the axes off , there's a large gap between the upper subfig and the bottom subfig that I can't narrow
Styling part of label in legend in matplotlib
Is it possible to have part of the text of a legend in a particular style , let's say , bold or italic ?
Have you tried whether tex-formatting works for the legend ?
This is method only helps me when I have less than 22 graphs to draw .
Do you need to plot them on the same axes ?
Doesn't it get really noisy with > 22 data sets on a single set of axes anyways ?
That's true , it gets noisy but sometimes there could be cases where we have to draw 50-100 distributions at the same time to see a big picture .
Thanks for the answer , I think 208 combinations is enough for many applications , and being able to draw rbg provides more combinations .
Equivalent function for xticks for an AxesSubplot object
So I am trying to use Axes objects to control my matlibplot figure .
This is all well and good , I can use the axes properties to control things ( i.e. a.axesMethod() ) , but I want string labels for my bar plots , per this , see code .
I am limited to what I can do with Axes objects .
creating over 20 unique legend colors using matplotlib
I use a for loop for plotting and label every line with its key and then use the legend function #CODE
But using this way , the graph repeats a lot of colors in the legend .
It happens that the legend has nothing to do with the colors .
There would be repeats in the color regardless of whether you had a legend or not .
matplotlib 3D scatter plot colors of dots very light
I used the command below to create a 3D scatter plot : #CODE
Use scatter keyword parameter ` edgecolor ` / ` edgecolors ` or set after scatter creation ( for example to bold all the points with a black border ) with ` myscatterplot.set_edgecolors ( color )`
This appears to be scatter using a fancy 3d effect so you can distinguish between dots in the foreground and dots in the background .
I would like the four plots in my matplotlib figure to refresh themselves using the updated data file every 20 seconds .
This works , but I lose functionality of the zoom and pan buttons which normally work if pl.show() is called .
Is there a way to dynamically update a plot without completely losing the zoom / pan functionality ?
You should retain normal functionality if you create your subplots once , saving all the axes objects and then calling show() .
Would I just iterate over the values I supplied to plot and just make a disconnected dot subplot with markers ?
For future reference - the ` Line2D ` artist returned by ` plot() ` also has a ` set_markevery() ` method which allows you to only set markers on certain points - see #URL
AttributeError : ' numpy.ndarray ' object has no attribute ' append '
This sets diffs to be an empty python list , which you can call ` append ` on .
Look into the thread at append a numpy array to a numpy array .
How to draw a round pie in non square figure size in matplotlib / python
I would like to draw a round pie in a rectangle figure .
The second step would be to draw some wind barbs on this plot and some other wind barbs on the same plot , but without the first set of barbs .
Now either I copy the background image and then draw two different images or I can remove the first set of barbs and then draw the second , I don't mind which way to go .
If the new barbs will be in the same place you can use ` set_UVC ` to update the existing object with the new wind data .
I am trying to make a contour plot with the contour levels scaled by the log of the values .
If you switch log_norm for linear_norm in the contourf call , you'll see that the colorbar does have values .
For each point ( a , b ) I want to draw the line X = a for Y in [ 0 , b ] .
You just draw each line using the two endpoints .
It is quite easy to make a 3d stem plot with stem3 command as documented in #URL
However , it isn't hard to draw such figures ( at least in its basic form ) using Line3D s : #CODE
At first I thought I'd have to overlay a scatter plot , but it appears setting a [ marker ] ( #URL ) and using [ set_markevery ( 2 )] ( #URL ) can also do .
I'd like the axes to be square and I want to set my own xticks / yticks and x-y limits . for some of the axes values , there won't be data and so the counts computed by hexbin should be zero for those -- I would like hexbin to plot that as empty space , rather than leave it " white " / blank if you use the cm.jet colormap .
The objective is to have tick marks at 1 , 2 , 3 , 4 , and 5 , and the next example does this by using ` xticks ` .
Instantiate the DataArray instance , by calling the constructor and passing in an ordinary NumPy array and a list of tuples -- one tuple for each axis , and since ndim = 2 here , there are two tuples in the list each tuple is comprised of axis label ( str ) and a sequence of labels for that axes ( list ) .
When starting the application , I can not rotate the axes via mouse movement anymore .
Then an axes will be added to the figure and then the figure's canvas replaced by another canvas which can be used as ` QWidget ` .
Maybe it's enough to simply call ` FigureCanvas.__init__() ` before adding the axes to the figure , but I haven't tried that .
I had a similar problem , but my axes would not appear .
I called ` FigureCanvas.__init__() ` then added the axes to the figure by calling ` self.ax = self.fig.add_subplot ( 111 , projection= ' 3d ')` , as recommended by Bj rn
How can I put text in the top left ( or top right ) corner of a matplotlib figure , e.g. where a top left legend would be , or on top of the plot but in the top left corner ?
if it's a plt.scatter() , then something that would be within the square of the scatter , put in the top left most corner .
With legend type positioning it should not overlap with any scatter plot points anyway .
The default transform specifies that text is in data coords ,
of the axes ::
To prevent the text to interfere with any point of your scatter is more difficult afaik .
The easier method is to set y_axis ( ymax in ` ylim (( ymin , ymax ))`) to a value a bit higher than the max y-coordinate of your points .
@USER Imports are : ` from pylab import figure , text , scatter , show ` Code in the answer was executed in an ipython console in pylab mode where explicit imports were not neccesary .
One solution would be to use the ` plt.legend ` function , even if you don't want an actual legend .
You can specify the placement of the legend box by using the ` loc ` keyterm .
More information can be found at this website but I've also included an example showing how to place a legend : #CODE
Note that because ` loc=2 ` , the legend is in the upper-left corner of the plot .
And if the text overlaps with the plot , you can make it smaller by using ` legend.fontsize ` , which will then make the legend smaller .
I am trying to get do a 3D scatter plot , but the only markers that seems to work are so large that they start overlapping .
For ` scatter ` , `' .
There is a table of the markers available for ` scatter ` in the documentation that you can try out .
There is also an example in the gallery with a scatter plot using different markers .
Marker size is also controllable in ` scatter ` , either with a scalar argument or an array to specify the size for each point .
@USER v1.0.1 still has markers other than `' o '` for ` scatter ` , just not the same set , or as many , as ` plot ` .
I have a Matplotlib scatter plot , plotting 3 different circles and I am trying to find the axes x , y coordinates of the center point of each of these circles , i.e. a number within the bbox between 0 and 1 .
Using the ` transform ` method , you can convert points in ' Data ' units to display units .
Below I have an example that includes an axes that fills the whole plot , so it is a bit easier to understand the transformation .
I set three points in a scatter plot , then , I take the data I used for the plot and get , using the transform , the corresponding point in pixels for each of the three points .
Since ( 1 ) the axes spans the whole figure , ( 2 ) the axes limits are set from 0 to 5 , and ( 3 ) the figure size is set to 5x5 and 100 dots-per-inch , then one axes unit corresponds to 100 pixels .
The above code also shows you how to get from dpi to figure units ( the values within the bbox , between 0 and 1 ) , and it provides an example of a transform pipeline ( see tutorial linked above ) .
Note that in this case , the transformation is sensitive to which axes you used .
I used the axes ` ax1 ` because that is the one with the scatter plot that corresponds to the points stored in ` x ` and ` y ` .
That is simply the inverted transform of ` transData ` , which normally ( un-inverted ) takes points in data units and returns them to points in display units ( pixels ) .
Each axes has it's own unique ` transData ` , which is sensitive to the axes limits .
For example , if I simulate a mouse click at position ( 120,480 ) , in pixels , then each subplot would convert that into different data coordinates , like so : #CODE
Note that the transformation for ` ax2 ` ( the second subplot ) leads to a negative x position .
This is because the pixel position ( 120,480 ) is outside the x limits of the second subplot .
This worked great when I only had one subplot , is there something I should do when I am dealing with multiple subplots ?
@USER That's because there was an issue with my definition of the ` transDataToFig ` transform .
To state it in a general form , I'm looking for a way to join several points with a gradient color line using matplotlib , and I'm not finding it anywhere .
Trying to add a 3d subplot to a matplotlib figure
I was searching for a way to create my 3D-plots with the nice ` fig , axes = plt.subplots ( ... )` shortcut , but since I just browsed Matplotlib's mplot3d tutorial , I want to share a quote from the top of this site .
New in version 1.0.0 : This approach is the preferred method of creating a 3D axes .
Prior to version 1.0.0 , the method of creating a 3D axes was different .
matplotlib scatter plot using relative coordinate ?
Is there an option for scatter ?
Checkout the transform tutorial .
You want to first transform from figure units to display units using ` fig.transFigure ` , then do the inverse transform to data units , using ` ax.transData.inverted() ` .
You can make a single transform using transform pipeline : #CODE
I'm making three scatter plots , and I'd like them to all show up in the same window ( but not in the same plot ) .
If I move ` matplotlib.pyplot.show() ` outside the loop , then they are all plotted on the same set of axes .
use ` subplot ` to create subplots : #CODE
As for annotations , I believe there is more control specifying a second axes to plot the table in .
According to the documentation , ` plt.table ` adds a table to current axes .
From sources it's obvious , that table location on the graph is determined in relation to axes .
Hi Andrey , I'd like to know if it is possible to drag the table out of the axes ?
Hi @USER ., if I remember it right , ` loc ` keyword ` top ` places the table above the axes , and ` bottom ` places it below the axes .
All of the loc's available values cannot satisfy me , but I find a workaround : add a sub_plot and draw the table to that plot , then set the sub plot to invisible . since I can relocate the sub plot , that means I can locate the table anywhere .
You can make your gif using imagemagick ' s convert or use ffmpeg or mencoder , which are the two options provided by the new animation module .
This is what the new animation module does .
For the best interpolability between your custom colormaps and normalisations , I'd strongly encourage you to stick to the rules :
Here is the process that hist currently uses ( in the matplotlib git repo ) for determining the bins :
As you can imagine , it isn't surprising that you will get a different set of bins for using hist with one data set , the other data set , and both together with these criteria because the bin_range will likely be different in all three instances .
Currently I am stuck with option to draw histogram .
Create your plots and draw them at the end : #CODE
Create your plots and draw them as soon as they are created : #CODE
How can I draw such a graph with matplotlib ?
I'm very new to python and matplotlib and having trouble with adjusting the height of a 2 plot subplot window .
The subplot on the bottom should be half the height as the one on top .
Usually , you have to adjust the margins yourself .
When adding text using ` xlabel ` it's possible to dynamically expand canvas by callyng ` plt.tight_layout() ` , but this doesn't work for ` plt.figtext() ` unfortunately .
There is also some kind of workaround add a few linebreaks to ` xlabel ` , but I don't like it .
The ` hspace ` subplot parameter might need adjusting , depending on the size of your figtext text box .
Note that I shifted the text vertically ( 0.05 ) , and since I used ` y1 ` of the text box to adjust the subplot parameters bottom , this adjustment is taken into account .
There it explains how you can transform points in one unit / frame-of-reference to another .
I would like to split one of my title of a subplot , such that each line would be in the centered with respect to subplot .
If you can live with ( 0.01 , 0.1 , ) , 1 , 10 , 100 , 1000 , 10000 , 100000 , - then change the xscale to log : #CODE
Using matplotlib : ImportError : No module named animation ?
Yes , ` animation ` module is new in 1.1.0 .
For instance , if I draw a square ocupying the all canvas , Matplotlib put's this anoying frame arround and that is converted and mixes all my results .
matplotlib [ python ] : help in explaining an animation example
Makes an animation by repeatedly calling a function func , passing in
init_func is a function used to draw a clear
Your ` myfigure.ginput() ` complaints about its Figure class not having a ` show ` method .
although being of the class ` matplotlib.figure.Figure ` is not the same as the Figure instance #CODE
that's why you got the ` AttributeError ` with the ` Figure ` instance .
NetworkX and Matplotlib - Axes error
there are examples of how to draw networkx graphs on the networkx website : #URL
I am not sure what you want to draw exactly but you get a plot of your node doing : #CODE
Figure() makes a Figure but doesn't register it with the figManager inside pyplot , pyplot.figure() does .
In the draw functions they get the figure by calling gcf() , and gcf() returns the current figure or creates a new one if none is present .
Later a call to sci() will try to verify , by calling gca() , that the positions ( collection ) you applied to the draw function is indeed already registered with the axis , but since you have a new figure , and thus no axis , it will raise the exception .
Using matplotlib axes with ginput and imshow
Nothing is drawn until you right-click ( It's not too hard to draw the polygon while you're adding points by left-clicking , but doing it efficiently in matplotlib is a bit verbose ) .
I am trying to draw a transparent polygon over an image on a canvas using matplotlib :
If you haven't tried an example , and can't find one with a simple ( google ) search , then tell us that : I can't find any good examples of adding a polygon to an axes .
I think it would be key to add that the ` Polygon ` units must be in data units , i.e. your random data goes from 0 to 3 on each axis , so that this the range of values for the polygon .
Matplotlib : avoiding overlapping datapoints in a " scatter / dot / beeswarm " plot
It is approximately a scatter plot but with arbitrary ( not necessarily numeric ) x labels .
I used numpy.random to " scatter / beeswarm " the data along X-axis but around a fixed point for each category , and then basically do pyplot.scatter() for each category : #CODE
The ` stdev ` variable makes sure that the jitter is enough to be seen on different scales , but it assumes that the limits of the axes are 0 and the max value .
You can then call ` jitter ` instead of ` scatter ` .
One way to approach the problem is to think of each ' row ' in your scatter / dot / beeswarm plot as a bin in a histogram : #CODE
I am using ` matplotlib.patches.FancyArrow ` to draw arrow between points .
Now instead of straight arrows , I want to join points by curve arrows .
Thanks , this gets me towards the solution , I have spent the last hour trying to figure out a way to make it so that , if the mouse moves and doesn't end on a render count , it will draw a new line ...
If that distance is greater than ` dmin ` and less than ` dmax ` , then draw the line .
I think tillsten is right -- study how the [ ` Cursor ` class ] ( #URL ) does it .
In addition to that , I've added some code above to show how you may draw the entire line with one ` Line2D ` instead of many ` Line2D ` s .
Notice that all 3 plots will stay in-sync as you zoom , pan , etc .
Python-Matplotlib boxplot .
The ` boxplot ` function only plots quartiles ( 0 , 25 , 50 , 75 , 100 ) .
Yes Bago , I'm trying to draw a complete graph and getting my code to do that is proving a problem for me .
ie if you have an image 8 pixels tall and want to draw a line through the center do you draw it along pixel row 4 or pixel row 5 ; either way looks bad
The plotting style kind of depends on your data ( i.e. are you trying to plot a 3d curve , or a surface , or a scatter ... ) , but this should give you an working example to start playing with .
thank you for telling me about xlim and ylim , i was looking also for that :) but what i need is the possibility to save the plot at a resolution that allows me to see the single points .
I am trying to make a scatter plot in Python .
How to make scatter plot to see the most populated region ?
@USER - That seems perfect histogram , but was wondering if its possible through scatter plot or any other dot plot ?
For a scatter plot , you need an equal number of x and y values .
Usually in a scatter plot , one of the variables is a function of the other one , or at least both have numerical values .
From what it seems to me we cannot generate a scatter plot like this .
Instead of words or numbers being the tick labels of the x axis , I want to draw a simple drawing ( made of lines and circles ) as the label for each x tick .
I would remove the tick labels and replace the text with patches .
It is key to set ` clip_on ` to ` False ` , otherwise ` patches ` outside the axes will not be shown .
The coordinates and sizes ( radius , width , height , etc . ) of the patches will depend on where your axes is in the figure .
For example , if you are considering doing this with subplots , you will need to be sensitive of the patches placement so as to not overlap any other axes .
It may be worth your time investigating Transformations , and defining the positions and sizes in an other unit ( Axes , Figure or display ) .
If you have specific image files that you want to use for the symbols , you can use the ` BboxImage ` class to create artists to be added to the axes instead of patches .
Now I read in the image using the ` imread ` routine , and set it's results ( a numpy array ) to the data of ` bbox_image ` and add the artist to the axes : #CODE
Permanently registering colormaps in matplotlib
I currently have a large set of colormaps that I have used in other languages that I would like to import into python for use in matplotlib .
The ` antialiased ` keyword argument controls whether or not a particular matplotlib artist ( e.g. line , polygon , etc ) is drawn with antialising or not .
I was thinking scatter , but when I do this the columns are spread out too far .
You can adjust the size of the symbols used in a scatter plot by choosing the ` s ` parameter .
You also will likely need to adjust the size of your figure ( with figsize ) or the dimensions of your axes ( with add_axes ) .
This is because the symbols for scatter are square , in display units , and the x and y axis are not automatically adjusted so that width-of-one-change = height-of-one-box .
The method developed for each scatter plot is very hackish , but the key point is that I needed to play with the scatter ` s ` parameter and the figure size to get something of the desired effect .
Ideally , one would make a custom method modeled after the scatter method .
It would also a ) automatically adjust the axes / figure aspect or b ) make asymmetric symbols .
matplotlib - positioning xlabel / ylabel when using multi axes ( hist + scatter )
I'm attempting to create a scatter plot bounded by histograms of the data to the left and bottom of the scatter plot .
I have successfully changed the margins and sizes to get the histograms where I want them , but I'm not sure how to tell mpl where to put the xlabel and ylabel .
For example , using ( where now axHistx and axHisty are modified to be left of / below the scatter ): #CODE
Will place the xlabel below the histogram on the left ( ` axHisty `) .
I cannot use ` axHistx.xlabel() ` since axes objects do not have that attribute .
( I am happy with where the ylabel has eneded up , though )
heatmap using scatter dataset python matplotlib
I am writing a script to make a heatmap for scatter data on two dimensionS .
Too keep the look of the heatmap consistent with what you see in the scatter , actually use : #CODE
You may just want to plot lines , With the pyplot ( or axes ) ` plot ( x )` command .
the axes and tick labels fit the desired size .
ETA : Though I do see that the xlabel is cut off .
In agreement with the comment from David Robinson , the figure produced here is 3.25 by 3 inches as measured by photoshop , although the xlabel does show cut-off ( mpl 1.1.0 in python 2.6 64-bit , win7 )
A solution to overcome the problem is to manually adjust the margins with ` subplot_adjust ` : #CODE
The default value of these margins are set in the matploblibrc file and you can modify it there permanently .
I've tried to use scatterplot in matplotlib but the number of points in my data file are quite large , so plotting them in scatter make the resulting plot quite big in size .
Can you use a contour plot ?
As @USER mentions in the comments , you can also simply plot ` imshow ( hist )` to see the full range of values ( heatmap ) , rather than 0 or 1 .
+1 You could have a heatmap just doing ` plt.imshow ( hist )` .
You're doing it very inefficiently if you want an animation .
You may be interested in matplotlib's ( 1.1.0 ) new animation feature .
Here's an example from their website that shows how to make a simple animation : #CODE
UPDATE : I'm looking for a solution that causes the figure size to match the text in the title and axes labels , not for a solution that cuts the title with newlines , as that kind of solution doesn't always help : #CODE
I still need to wrap the text , using ` wraptext.wrap ` as shown in one of the answers above , but this _tightlayout_ thing also adjusts the figure to show the xlabel propely etc .
You can save the output of ` hist ` and then plot it .
User would have to select certain field names , then programm would read corresponding values from the database , process them and draw a plot with some statistics out of it .
I , actually , plan to do something similar to Fourier's transform and I don't know how to do complex operation or conditional operation in single line in python .
I want to remove the axes , axes labels , ticks , and background ( and remain only with the surface ) .
I want to annotate the bars in a graph with some text but if the bars are close together and have comparable height , the annotations are above ea . other and thus hard to read ( the coordinates for the annotations were taken from the bar position and height ) .
@USER , then I would do this manually , setting the annotation position at the top of each bar and adjusting the text position until they don't collide ( by adjusting the y component only ) , and I would define an arrowstyle , like they do in the annotating axes section of the user guide : #URL This allows an arrow to point from your label to your bar and the lines of text to be separated from one another .
I am trying to annotate a scatterplot , and naturally it would be nice if the distance of the Arrows were to be minimized , too .
I'm doing a scatter plot and things are stacking ten-fifteen high off the graph in order to not overlap , and then their position becomes meaningless ( again , it's an annotation for a scatter plot , so the ( x , y ) position is important ) .
I guess I could do it manually if I could find a way to draw the boxes programatically ( I don't really care about the format , but the option to export SVG as well as PNG would be nice ) .
I think it could draw sqaures of different size ...
Well I guess I'm looking for something like a Hinton diagram , which [ MatPlotLib can draw ] ( #URL ) , but without the spaces between the boxes .
Once implemented , you can transform the output ( which should be rectangles ) into plotting commands to anything that can draw layered rectangles .
use a slice on the inputs ( on both axes ) . for example , to select every 10th element of an array ` x ` you would use ` x [: : 10 ]`
I need to rotate the vectors onto the map projection before plotting or the barbs point in the wrong direction .
` barbs ` seems to expect both of them in map coordinates , rather than a mix .
making square axes plot with log2 scales in matplotlib
I'd like to make a square axis scatter plot with matplotlib .
Shouldn't have to override / hack a class in matplotlib to make a freakin ' scatter plot in log2 versus log2 ...
The axes labels here don't make sense : it goes from 10^1 to 10^3 .
In first subplot from left , we have the raw unlogged data .
why are the default x / y bounds for the scatter plot wrong ?
why is it that when I set the bounds myself , in third scatter plot from left , it reverses the order of the labels ?
I wanted these scatter plots to be square .
To contribute something back , here is how one would take these log 2 plots and make the axes appear with their non-exponent notation : #CODE
You are confusing what units to give to ` xlim ` and ` ylim ` .
They should not be called ` xlim ( log10 ( min ) , log10 ( max ))` but just ` xlim ( min , max )` .
They deal with the lowest and highest values you want on your axes which are in units of ` x ` and ` y ` .
I accept that for the xlim / ylim , though it is confusing .
why are the default x / y bounds for the scatter plot wrong ?
why is it that when I set the bounds myself , in third scatter plot from left , it reverses the order of the labels ?
I wanted these scatter plots to be square .
If you want to be fully generalized , just manually add the sub-axes instead of using subplot .
Yes , to clarify , I don't want them to have the same axes values -- just both be " square " in that x units in one dimension equals x units in the other , for each plot , and that the actual square is the same size in all ...
The distance between 2**2 and 2**4 is not the same as 2**4 and 2**6 , yet the axes plot it as such .
You can just do ` formatter = FormatStrFormatter ( ' %i ')` and then set the formatter for the x and y axes .
I don't understand why you're subclassing ` Figure ` for this ?
I'm trying to produce a figure with 3 subplots , so I subclassed Figure .
Well , there's no good reason to subclass Figure for it ( though you could do it that way ) .
It's probably better ( and much less verbose ) to just make a stand-alone class and initiate a Figure instance as ` self.fig ` .
Matplotlib 3D scatter plot with color gradient
See the example below , which works for a 2D scatter plot .
Edit ( thanks to Chris ): What I'm expecting to see from the 3D plot is a color gradient of the points ranging from red to green as in the 2D scatter plot .
What I see in the 3D scatter plot are only red points .
What's wrong with the 3D scatter plot ?
What I'm expecting to see from the 3D plot is a color gradient of the points ranging from red to green as in the 2D scatter plot .
What I see in the 3D scatter plot are only red points .
However , in help of scatter , I see the following , it may be related .
Adding " , cmap=cm " ( ax3D.scatter ( x , y , z , s=30 , c=col , marker= ' o ' , cmap=cm )) to the scatter function I have the color gradient back also in the 3D scatter plot .
Here is an example for 3d scatter with gradient colors : #CODE
I keep getting errors that state AttributeError : ' Figure ' object has no attribute ' autoscale_None '
Or , if you'd prefer non-polar axes , as in your example code : #CODE
In this case , the cells aren't vertical , and the performance hit isn't too bad , so it's a good idea to draw the mesh with antialiasing turned on .
I was thinking of using a proxy artist , but I think there may be a cleaner way .
@USER - A proxy artist is definitely the hard way around .
The trick is to use Path and PathPatch .
If you're interested in cheap hacks , using ` plt.xticks ( x , [ ' \n ' + s for s in xticks ])` works
You can " lift " the graph by setting a lower ylim with ` ax.set_ylim ` .
I can do a line or a scatter plot but i am not sure how to do a simple step function .
Just draw two lines , one at y=0 , and one at y=1 , cutting off at whatever ` x ` your step function is for ?
There's a bunch of different ways , see the animation examples , here : #URL
In this case I use the commonly invoked map named jet but you can find the complete list of colormaps available in your matplotlib version by invoking : #CODE
subplot size python
And shrink the axes but then this happens :
NavigationToolbar is linked to FigureCanvas , so the buttons have seamless access to Figure properties and methods .
, I was able to use a scatter plot , which did work :
you can use scatter : #CODE
I've decided to use scatter instead of plot .
In your case , you don't need to re-draw things like the axes boundaries , tick labels , etc .
These take a long time to draw .
The general strategy will certainly work on earlier versions ( and it's your best option if you don't have the animation module ) .
Nice , but ` animation ` seems to update the plot by ` interval ` period of time , what if I just want to update it when new data is ready ?
I just run the first code example in your solution , it doesn't show any animation or dynamically updating plot , I mean the plot just showed up after firing the code , why ?
Basic Animation with matplotlib's pyplot
Matplotlib 3D scatter color lost after redraw
Related to this question , I want a 3D scatter plot with prescribed colors for each point .
For some reason , the ` Patch3DCollection ` representing the scatter points is not updated after the first rendering .
To force this update to occur automatically , one would like to do this on every ' draw ' event .
Matplotlib savefig with a legend outside the plot
Reading the following article , I managed to put a legend outside plot .
How to put the legend out of the plot
` pyplot.show() ` displays the correct plot with a legend outside it .
But when I save it as a file with ` fig.savefig() ` , the legend is truncated .
the size of your figure , and then the bounding box of your axes object .
If I put the legend outside , I obviously want it to still be visible .
Although this method works with legend , it seems not to be working well with figlegend when there are multiple subplots and we want a single overall legend . figlegend still get cropped when savefig .
I guess you could achieve this by asking matplotlib to show the grid , and combining a barplot ( to color the columns ) with a scatter plot or direct text drawing , for the symbol ( s )
Then call draw to update .
Could you instead use Basemap to draw the red dots ?
To fix the second issue , document the ( 0 , 0 ) position ( Axes units ) of the axes in pixels , and shift your text positions accordingly .
There are various other transforms you can do -- coordinates relative to your data , relative to the axes , as a proportion of the figure , or in pixels for the figure ( the transformations tutorial is really good ) .
Use a JavaScript graphics library ( e.g. Raphael ) and draw everything from scratch .
from matplotlib.figure import Figure , figaspect
import artist
Python : 2d contour plot from 3 lists : x , y and rho ?
How to make a contour plot ( like with imshow ) of the density rho ( interpolated at the points x , y ) .
Alternately , if you don't want to actually sample everything on a regular grid , you can use delaunay triangulation to draw the contours ( which is just a very simple and not particularly smooth form of interpolation ) .
This will force the axes to be very long and narrow with your data ranges .
The contour-color-gradient is not getting generated for me although the scatter plot is denser somewhere and lighter somewhere .
Ah , if you're running the code above more or less as-is , the colorbar will based on the output of ` scatter ` .
Pass the same vmin and vmax kwargs to ` scatter ` as well as ` imshow ` .
with 3 you have triangles and with 2 bars it doesnt draw them ... windows 7 matplotlib 1.1.0
Unfortunately , cloning an axis or sharing artists between multiple axes is difficult in matplotlib .
When you left-click on a subplot , it will occupy the entire figure , and when you right-click , you'll " zoom out " to show the rest of the subplots ...
A second left-click will replace the original positions of the already zoomed subplot with the zoomed positions and then there is no way back .
Save the figure before you ` show() ` by calling ` plt.gcf() ` for " get current figure " , then you can call ` savefig() ` on this ` Figure ` object at any time .
( i.e. ` ( hist * widths ) .sum() ` will yield ` 2.0 `)
You can pass a ` weights ` argument to ` hist ` instead of using ` normed ` .
I think the ` hist ` function could probably do with a greater ability to control normalization , though .
Can someone provide an efficient way to append elements to ' x '
So , can someone suggest an efficient way to append elements to x or some other efficient manner to plot
customizing just one side of tick marks in matplotlib using spines
I wanted to only show the xaxis , which worked using spines , but now it plots these hanging tickmarks for the right-hand yaxis .
However , before installing the Tk / Tcl packages , my virtualenv setup was still able to use the Tk python module and draw windows ...
` vals [ vals % 1 == 0 ]` finds integers , and you can use [ ` matplotlib.pyplot.text `] ( #URL ) to draw text on .
Polar contour plot in matplotlib - best ( modern ) way to do it ?
I'm trying to plot a polar contour plot in matplotlib .
I'd love to be able to plot proper polar contour plots - like pcolor lets you do for its type of plot ( see commented out section below ) , but I can't seem to find any way to do that , so I'm converting to cartesian co-ordinates first .
so change contour ( x , y , values ) to contour ( x , y , values.T ) .
Do you have any ideas about the other parts of the question regarding the current best way to do polar contour plots in matplotlib ?
Also , you're passing in ` r , theta ` to contour when it expects ` theta , r ` .
matplotlib : how to annotate point on a scatter automatically placed arrow ?
if I make a scatter plot with matplotlib : #CODE
I'd like to annotate a given point ` ( x , y )` with an arrow pointing to it and a label .
I know this can be done with ` annotate ` , but I'd like the arrow and its label to be placed " optimally " in such a way that if it's possible ( given the current axis scales / limits ) that the arrow and the label do not overlap with the other points .
On a side note , ` scatter ` isn't intended for what you're doing .
However , in many cases , you'll find that using a transparent box behind your label placed with annotate is a suitable workaround .
One could also put the annotation outside the frame , use " axes fraction " for example for the ` textcoords ` .
Python scatter plot .
I have a set of data that I want to show as a scatter plot .
The problem is that the size ` s ` that the scatter function read is in points^2 .
The scatter function plots the markers with a black border , how can I drop this option and have no border at all ?
If you want markers that resize with the figure size , you can use patches : #CODE
You can get the border of the scatter marks out using the keyword arguments ` edgecolor ` or ` edgecolors ` .
If you set the parameter to ' None ' , borders are not draw .
This doesnt draw squares in * plot units * as the OP requested but fixed size squares that do not resize ( for example by changing manually the figure frame size .
I think we can do better with a collection of patches .
Suppose you want to plot a scatter of circles with given radius in data unit : #CODE
All the arguments and keywords ( except ` marker ` of couse ) of ` scatter ` function would work in similar way .
I'm not familar with license , I thought it should keep be same with [ matplotlib ] ( #URL ) , as I just wrote this code based on ` scatter ` function .
( Because now we draw 3 plots in 1 )
Now , one final ( i am taking advantage of you :)) .I want to put legends , so i do : " temperatures =( ' T=273 ' , ' T=293 ' , ' T=298 ')" , " for dval , linestyle , temp in zip ( D , linestyles , temperatures ): " and then " plt.plot ( tvals , yvals , linestyle )" and " plt.legend ( temp )" but it doesn't show the values of T.Just the legend with colors .
To show the string in the legend , add ` label = temp ` to the ` ax.plot ` line .
I don't know why the legend shows the marker icon twice ( e.g. ` + + `) , but that seems to be the [ default behavior ] ( #URL ) .
However , if you want the z-slices ( ` fx [ z , : , :] `) to plot with x horizontal and y vertical , you probably do not want to swap the axes above .
This will not help create HTML documents , but perhaps you can find a PDF to HTML converter for that ?
Then just join the tables .
The only advantage of this implementation seems to be that it better supports the legend command .
I need to convert the column data into a grid so I can easily plot it with contourf in matplotlib and I was wondering whether there was a function to do this as the code I've written myself is very slow ?
matplotlib : limits when using plot and imshow in same axes
It works , but plotting the ellipse after plotting the image seems to increase xlim and ylim , resulting in a border , which I'd like to get rid of :
However , if you don't want things to autoscale , it's best to just turn autoscaling off after the initial plot .
How to simultaneously remove top and right axes and plot ticks facing outwards ?
I would like to make a matplotlib plot having only the left and bottom axes , and also the ticks facing outwards and not inwards as the default .
matplotlib : Drawing R-style axis ticks that extend outward from the axes
In this case its done by yscale ( ' log ') , but it can also be done with plt.minorticks_on()
However , I want to be able to manually draw lines from one ( date1 , y1 ) to another ( date2 , y2 ) on the plotted graph .
Can someone post a skeleton snippet ( preferably with links to further info ) , to show how I may get started with implementing this ( the main requirements being the ability to manually draw lines on a graph and then to save / load the lines into a plot ) .
Note : By ' manually ' , I mean to be able to draw the lines by clicking on a point , and then clicking on another point in the plotted graph . to draw a line between the two points ( or simply clicking on a point and dragging and releasing the mouse at another point on the plotted graph )
Also , is it possible to draw more than one line on the graph ?
At the moment , I get the chance to draw only one line before the ' app ' abruptly terminates .
When I run the script , it allows me to draw on the canvas by clicking ( like I wanted ) - however , on the second mouse click , when the line is drawn , the GUI immediately crashes , and I have a warning kessage on the console ( please see my updated question )
Ploting an x-y graph with " four " axes
You want two Y axes , so you can show both rotations and power - but are you assuming that power is linearly proportional to rotation speed ?
In matplotlib we can draw lines using at least 2 methods :
It includes callbacks to update a 2D line if the axes limits are changed .
I would stick to the animation answer , but I didn't got your question .
Do you have some issues with the animation or something else , like you don't know how to plot the serial port data ?
EDIT : I can't use scatter plots because for my 18000 points scatter plots are very slow compared to plot3d with markers only .
If you want to display a simple 3D scatterplot , can't you just use ` scatter ` ?
My problem is that for my 18000 points scatter plots are way slower than plot3D with markers only ...
I would use this one , if only it were to work with the PDF backend :) For some reason , I can never get the axes placed properly on the canvas while I am working with the ps backend .
Is plot_surface the right function to plot surface and how do I transform my data in to the required format ?
Matplotlib : contour plot with slider widget
I'm trying to use a slider to adjust a parameter in a contour plot , but when I do so , I get : #CODE
I don't know if there is something about your particular way of generating data that would lend itself to a simpler way to modify the contour lines , but if not , I think what you need to do is to plot the contours from scratch : #CODE
matplotlib contour plots ; ' module ' object has no attribute ' nextafter '
Trying to reproduce the problem from this question , I've found I can't plot even a simplest contour plot .
It had nothing to do with contour plots .
My first attempt was with a scatter plot , with one point per data entry .
I'm happy with a scatter plot ( top ) , but I need some way to average the data before I display it .
I would suggest to cluster the data , i.e. combine points which are within a certain distance and display their average / minimum in a scatter plot .
If you need help with the contour maps it might make sense to ask a new question .
When trying to run a simple animation example code in python , I am getting an error which I am not able to resolve .
I found out I can run the code and get the animation , if I change line 163 from ** C :\ Python27\Lib\ site-packages \matplotlib\ animation.py ** from ` proc = Popen ( command , shell=False , stdout =P IPE , stderr =P IPE )` to ` proc = Popen ( command , shell=True , stdout =P IPE , stderr =P IPE )` .
I had the same situation , but the sollution is simple if you just want to look at the animation .
Your proglem is related to ani.save ( ' dynamic_images.mp4 ') , which isn't needed for the animation itself .
draw quadrilaterals with masked colors or vertices .
I added a snippet from the docs , which warns that ` pcolor ` does not draw
How do I change the color of the axes of a matplotlib 3D plot ?
The color of the axes labels and the ticks are properly set both in 2D and in 3D .
However , the ` edgecolor ` doesn't apply to 3D axes and they remain black .
I think figured out how to access the individual axes of a 3D plot : #CODE
However , the color parameter changes the color of the background of the axes planes ( between the wired of the grid ) , not the color of the edges of these planes .
But right now , there is no way to turn off the axes spines
( because they aren't implemented as spines ) .
To change the color of the edges of the individual axes , I modified the ` self.line = ...
To change the color of the grid , I modified the ` draw ` method .
surprisingly I didn't find a straight-forward description on how to draw a circle with matplotlib.pyplot ( please no pylab ) taking as input center ( x , y ) and radius r .
I searched the matplotlib github repo for " bubble " and " scatter radius " to no avail , so I don't think this is on the to-do list as far as adding a feature .
You need to add it to an axes .
A ` Circle ` is a subclass of an ` Artist ` , and an ` axes ` has an ` add_artist ` method .
The first circle is at the origin , but by default ` clip_on ` is ` True ` , so the circle is clipped when ever it extends beyond the ` axes ` .
It extends beyond the axes ( but not beyond the figure , ie the figure size is not automatically adjusted to plot all of your artists ) .
In this case , I didn't plot anything on my axes ( ` fig.gca() ` returns the current axes ) , and since the limits have never been set , they defaults to an x and y range from 0 to 1 .
FYI : It looks like the Circle class has moved from matplotlib.pyplot to matplotlib.patches since this answer was written .
The function ` circles ` works like ` scatter ` , but the sizes of plotted circles are in data unit .
gcf() means Get Current Figure
gca() means Get Current Axis
I need to add Multiple lines text on the left y axis within a figure , I try legend and figtext() but it can not work well for me .
the dash lines is my axes , axes is bigger than textbox
Also look up ` annotate ` which in some cases is easier to work with .
@USER : Yeah , by default ` matplotlib ` assumes that all the relevant info of the plot is contained * within * the axes area .
You need to change the size of the axes with respect to the canvas --- either programmatically , or manually using sliders at the bottom of the figure window
plotting markers on top of axes
I am tying to make a ( x , y ) scatter plot using numpy .
Right now the axes start from ( 0 , 0 ) and extend to align with the range of the data .
Currently it appears the symbols are being drawn before the axes , and subsequently are being truncated by the axes .
I would like this to appear on top of the axes .
If your axes have a symmetric range , that means one step along the x axis will involve a different number of pixels than one step along your y axis .
As DSM correctly pointed out , you can force the x and y axes to have equal number of pixels per data unit .
This is done using the ` plt.axis ( " equal ")` or ` ax.axis ( " equal ")` methods ( where ` ax ` is an instance of an ` Axes `) .
You can also draw an ` Ellipse ` such that it is appropriately scaled to look like a circle on your plot .
Alternatively , you can adjust your figure so that the ` Axes ` are square : #CODE
Notice how the second axes , which has the ` axis ( " equal ")` option , now has the same range for the x and y axes .
You can also adjust your axes to be square , even if the figure is not .
Or you can change the default transform for the Circle to ` None ` , which means the units used are pixels .
adding a subplot to a matplotlib graph
Ideally , the date ( i.e. X axis ) labels will be underneath the volume subplot - i.e. the same date ( X ) axis is used for both the top ( main ) chart and the subplot .
Modify the ax declaration of the subplot to
and append the following before the ` show() ` call #CODE
Why does name surface as an axis in my scatter plot ?
I used matplotlib to create a scatter plot about fruits .
Moreover , because I just use ` ipython -- pylab ` anyway , I think I can ` del text ` , then import ` mike.text ` , which will call ` matplotlib.pyplot.text ` -- and similarly for ` xlabel ` , ` ylabel ` , etc .
How Can I Save Animation.Artist animation ?
My program is working well but when I try to save the animation that I plot , The compiler responds with an error .
My animation was properly saved in the path it was supposed to .
Then , check if the animation is saved on this folder .
that both axes remain visible .
Matplotlib , legend with multiple different markers with one label
I would like to be able to have a legend like : #CODE
Please see the edit below for the problem of Patch collections not being support in matplotlib .
Here you can specify exactly what you'd like the legend to look like , and even use non-standard plot shapes ( patches ) .
Edit : There is some difficulty with this method , matplotlib only supports these Artists in a legend without tweaking .
Your request of multiple scatter points would be done with a Patch Collection , which is not supported above .
I am currently using psuedo lines to make my legend .
You may be able to extract the symbol shape from the scatter plot source ( or from scatter itself ) and use that with the custom shape as input to ` legend ` .
I think I understand how to make an individual custom marker in the legend ( a rectangle , or circle like you mentioned ) , but I don't know how to go about combining two of them .
This ( #URL ) does it by overlapping multiple symbols , but I don't know how they would show it on a legend .
Also , your code results in two rectangles ( one red , one blue ) in the legend , not a rectangle a circle .
I had this same problem , and it was caused by calling ` show() ` on the Figure object instead of the pyplot object .
But lastly , do you know how I can add a grid , to show the x , y , and z axes ?
You can draw scene by VPython very easily : #CODE
See here for my answer to a similar question and here for further information regarding mathplotlib's finance candlestick graph .
After setting up the relevant subplot , and then call the appropriate fill command to ` fill_between_alpha ` the area under the line like the Yahoo graph you linked to .
I think you want to use the ` Axes ` method ` set_color_cycle ` .
@USER - Is it possible to do the same trick for contour maps ?
Pyplot annotate with image ( png or numpy array ) instead of text
Is it possible to annotate a pyplot figure , but not with text or circles or the other similar objects , but an image instead ?
How to set my xlabel at the end of xaxis
When setting the xlabel , the ` x ` parameter assigns the position in axis units , so 0 is the origin and 1 is the right edge of the plot .
To override this behavior , you can set the position in axis units using the ` Axis ` ` set_label_coords ` method .
You can use other units by also providing a transform .
The x value ( 1.05 ) was chosen to position the label outside the Axes frame .
Using a transform , it might be possible to automatically position the text in line with the ` Tick ` labels .
Here's an extended example using a transform .
It is not necissarily more helpful to use the last ticklabel's transform , because it does not take into account the size of the text and how it is aligned .
The transform for each tick is set for data units for x ( because it's an xaxis ) and axis units for y ( 0 to 1 ) , but displaced by a fixed padding ( in pixels ) from the x axis .
Would you be able to give an example of using a transform as well ?
In addition to what @USER already said , it's actually easier to do this with ` annotate ` .
I'm new to Python and Matplotlib , I would like to simply apply colormap to an image and write the resulting image , without using axes , labels , titles or anything usually automatically added by matplotlib .
This tells matplotlib to create a set of axes with bottom left corner at the point located at ( 0 % , 0 % ) , and with a width and height of ( 100 % , 100 % ) .
Note , though , that the above will fail in the presence of multiple axes in the same figure ( in my case an embedded image in the plot ) .
Solution : ` fig.axes [ 0 ]` , and in general all or selected axes .
How do I update the legend label spacing after legend font size is changed in matplotlib ?
I'm writing a script that saves a figure with multiple formatting styles among which is the font size of legend text .
However , since the actual spacing is probably calculated when the legend is first created , any subsequent change to the font size of existing legend text objects has no effect on the label spacing .
Is there a way to update the legend label spacing after an existing legend label object's font size has been changed ?
plot something with a legend
save the figure again with the updated formatting properties , including re-adjusted legend label spacing
Unfortunately , this does not work as it resets the legend location and label font sizes as well .
This is just a example that shows how to change label spacing . you should set legend location and font size by other parameters of legend() .
However , a legend has already been created and using legend() requires that I reestablish ALL the parameters that I don't necessarily want to change .
You can save all the parameters in a dict params , and call legend ( **prams ) , I updated the answer by using this method .
I want to create a scatter plot with matplotlib where the data points have scalar data attached to them and are assigned a color depending on how large their attached value is relative to the other points in the set .
you can use scatter , and set the attached value to c parameter : #CODE
How do I assign different dots different colors in a scatter plot made with MatPlotLib ?
Using MatPlotLib and Python , I am making a scatter plot of laptops that has cost on the x-axis and rating on the y-axis .
This link describes MatPlotLib scatter plots .
A better example for you would be the scatter plot example .
Adding a legend gets a little tricky .
The matplotlib docs suggest using a " proxy artist " , where you create something , but don't put it on the plot .
Although ... in this case , do you have any idea of how to add a legend ?
This manually replaces the brand names , so the legend cannot be automatically generated , right ?
The other option is to just do multiple calls to scatter , as in -- oh , let's say -- [ this example ] ( #URL )
Calling scatter 3 times worked .
Colormap is being ignored for matplotlib contourf plot with custom levels
I am trying to create a filled contour plot in matplotlib ( Win7 , 1.1.0 ) .
There are numerous colormaps that would suit me , but my choice of cmap is ignored .
If so is each contour colored according to its edge value and then filled with the same color to the next lower value ?
Compare it to default ` Normalize ` behaviour :
I'd like to create a plot of color-coded data as a subplot using pcolor() and a plot_date() subplot of an other dataset beneath .
So the width of axes created by pcolor() and plot_date() are the same .
Animating a contour plot in matplotlib using FuncAnimation
I am trying to create an animation in matplotlib that updates three artists , including imshow , contour and text .
Using FuncAnimation I am able to update the text and the image components , but have not been able to update the contour .
This code doesn't raise an exception but neither does it update the contour lines .
I think the problem might be related with the contour itself , which returns not an Artist , but a QuadContourSet instance !
You are asking ` plot() ` to draw a line , but only supplying only one point .
Figure title with several colors in matplotlib
Plotting point on top of filled contour plot adds lots of blank space
I have the following Python code which I am using to plot a filled contour plot : #CODE
If the axis auto-scaling mode isn't explicitly specified , ` plot ` will use " loose " autoscaling and ` contourf ` will use " tight " autoscaling .
The same things happens for non-polar axes .
@USER - ` ax.axis ( ' tight ')` will work anywhere in the code with ` imshow ` , but ` contourf ` does things a bit differently ( I forgot about that ... ) .
matplotlib animating a scatter plot
I just downloaded and installed version 1.1.1 of matplotlib which include newer capabilities for animation .
I'm trying to do an animation of a scatter plot where colors and size of the points changes at different stage of the animation .
now I want to plot a scatter plot of the type #CODE
and create an animation over the index i .
Here's a quick example using the new animation module .
@USER : I have issues with certain animation codes not working on ` OS X ` as well .
I used to a user of Qt and Matlab and I am not quite familiar with the animation system on the matplotlib .
But I do have find a way that can make any kind of animation you want just like it is in matlab .
Every time a PyQt's Timer event is called I refresh the whole canvas and redraw the whole picture , I know the speed and performance may be slowly influenced but it is not that much .
You can adjust the refresh speed in the
I am just like you who want to use the Animated scatter plot to make a sorting animation .
Try turning off the labels ` with_labels=True ` -> ` with_labels=False ` in your draw command to clean it up .
One way to do this is to plot the markers using ` scatter ` : #CODE
What are the named colormaps ?
Gives a list of colormaps , any of which can be substituted for `" Spectral "` : #CODE
If I understand correctly , you seem to be looking for ` subplot ` s .
ylabel using function subplots in matplotlib
I recently found the function subplots , which seems to be a more elegant way of setting up multiple subplots than subplot .
However , I don't seem to be able to be able to change the properties of the axes for each subplot .
Only the ylabel for the last plot is shown .
The same happens for xlabel , xlim and ylim .
One solution would be to use the subplot function instead , but do I need to do this ?
They are all the same and only need to be called once per subplot .
Yes you probably want to use the individual subplot instances .
As you've found , ` plt.ylabel ` sets the ylabel of the last active plot .
To change the parameters of an individual ` Axes ` , i.e. subplot , you can use any one of the available methods .
To change the ylabel , you can use ` axes [ 0 ] .set_ylabel ( ' plot 1 ')` .
` pyplot ` , or ` plt ` as you've defined it , is a helper module for quickly accessing ` Axes ` and ` Figure ` methods without needing to store these objects in variables .
You can still use this interface , but you will need to adjust which ` Axes ` is the currently active ` Axes ` .
To do this , ` pyplot ` has an ` axes ( h )` method , where ` h ` is an instance of an ` Axes ` .
So in you're example , you would call ` plt.axes ( axes [ 0 ])` to set the first subplot active , then ` plt.axes ( axes [ 1 ])` to set the other .
You can also pad both the axes removing the ` axis ` parameter .
Do I have to identify the border and draw a line over it or can I do this with imshow parameters ?
* ` functions automatically draw / redraw plots ( and not ` object . * ( )` methods ) .
Displaying axes labels correctly ( currently misses out final ( or initial ? ) tick labels )
Can I draw this data on a 3d column chart like this ?
I want to make a scatter plot using matplotlib .
Now the circles are right at the edge , but they are not clipped and extend past the frame of the axes .
This can be done much more simply using ` margins `
@USER ` margins ` is definitely cleaner than manually adjusting the limits , but a quick experiment shows that the tick marks still change .
Is there a way to fix these before you call ` margins ` ?
` ylabel ( r ' $\left\{ \frac{a}{b } \right\}$ ')` gives me the error you report , but ` ylabel ( r ' $\left [ \frac{a}{b } \right ] $ ')` does not , though I had to increase the font size to confirm that the result was as expected .
How do I colour this bit of the line and mark it in the legend ?
From the answers so far , is it right to assume I must draw each segment one by one ?
Using matplotlib to draw color bar with distinguishable and uncontinues colors
I am wondering if it is possible to draw the similar color bar in python / matplotlib ?
Matplotlib contour plot with intersecting contour lines
I am trying to make a contour plot of the following data using matplotlib in python .
However the set of distinct possible values of z is small ( within 50-90 , integers ) , and I wish to have a contour lines for every such distinct z .
I don't understand why it doesn't look like a contour plot .
If your points would be on a line then you will not have any contour for plotting .
I don't really see any contour lines .
I have uploaded a small sample of my data here - #URL ( Just a note - The link above of the expected contour graph is of the whole data , and not of this sample I have uploaded . )
However , I don't understand why is the contour showing dots , it should have just shown lines .
I used it to check if the contour was correct .
I had almost lost my hope on python on this contour stuff , but you helped me not loose it !
but would like the white patches to be black .
The default behavior is to not draw anything on those pixels .
You an also specify what color to draw pixels that are over or under the limits of the color map ( the default is to draw them as the highest / lowest color ) .
Okay so what I'm doing is a somewhat simple contour plot yet I am running into trouble with the data I have .
I've searched everywhere for an answer and mostly what I get are links to simple contour plotting examples using matplotlib which have not been very helpful .
What I need is a contour plot of the variables a , b , rms . both a and b run from -3 to 3 in 0.1 intervals and rms is calculated using the code below .
My advisor has suggested using two for loops to fill the arrays needed for the contour plots for a , b , and rms but ( as I am new to python if you cannot tell ) I have really no idea how to accomplish this .
After calculating the RMS , append a to the X array , b to the Y array and rms to the Z array .
If you like , join circos's google group to discuss : #URL
Python : Reading CSV file and plotting a scatter
axis range in scatter graphs
The concept of generating a scatter plot is understood .
Are you just asking how to get the current axes object using the ` pylab ` interface ?
I want that a graph is draw when a button is pressed .
So far , I can draw something on the constructor , but I can't connect the Pyside event with matplotlib .
the draw worked , but why the graph must be redraw every time ?
@USER I'm not sure why we have to explicitly call ` draw ` .
I am guessing its because the axes object is not necessarily the display object ( canvas ) , and maybe you want to plot more than once before deciding that a draw event should now occur ?
I'm still trying to figure it out in matplotlib the difference between Figure , Canvas and Axes .
Thus , any plotted value that was less than or equal to zero would be problematic ( requiring an infinite ylim in log space ) .
In this case , they are set to ` 1e-300 ` and are not consulted when determining the ylim of the plot .
Hence , my question is whether it is possible to force pyplot.hist to only draw a box / circle / triangle where the top of the bar would be in the default form so I can cleanly display all three distributions on the same graph or whether I have to calculate the histogram data and then plot it separately as a scatter graph .
Use ` scatter ` only if you want to associate other information with your points by setting a size for each point .
The first alternative approach to using ` hist ` involves passing all three data sets at once to the ` hist ` method .
The ` hist ` method then adjusts the widths and placements of each bar so that all three sets are clearly presented .
getting back z value from contourf with x , y coordinates
this question is related to " How can I get the ( x , y ) values of the line that is ploted by a contour plot ( matplotlib ) ?
Connecting Pyside with Matplotlib using QtDesigner - using pushButton to draw
My PythonFu is failing me to do a simple thing : design a GUI using QtDesigner , convert it , and do a QPushButton to draw something .
According to the docs the widget that you promoted is now your canvas and that's the one you're supposed to draw .
Please also post your imports so that I don't have to hunt down that ` YearLocator ` and ` DateFormatter ` come from ` matplotlib.dates ` and that I can find ` setp ` and ` legend ` in ` pyplot ` .
I'd like to zoom / pan the view without redrawing it for performance reasons .
` autoscale ( enable=True , axis= ' y ')` finds the y max and min from all the data drawn , and not restricted to the y data based on the x view limit .
take snapshots every second using artist animation
I want to ask if it possible to take snapshots of the plot ( animation ) for every 1 second for example .
matplotlib - Secondary Y axis with different base exponents and a legend
I think I have done the base exponent modifiers in a weird way , due to the fact that I have two y axes .
Also because I have two seperate axes , I can't get the legend to work .
So , it seems you're upset that the legend doesn't work the way you would like .
legend , I get no problems .
The legend just shows as a tiny square with nothing in it .
But if I plot legends before the line ` fig2 = fig1.twinx() ` and before ` pylab.show() ` I get two legend boxes and the code works .
So , in windows each axis has its own legend ( bug or a feature ? ) and if you try to have 3 labels for one plot , it gets messy .
If you want the texts to the same box make a dummy plot to first axis outside the view area with the same colors as in the second axis and just plot the first legend ( I know , its a hack ) .
To avoid errors and show all subplots in one legend , use tuple converting : #CODE
I am new to matplotlib , and have get stuck in colormaps .
` zip() ` allows you to join your three lists and iterate over them in one loop .
` scatter ` is the method you are looking for , at it has two optional parameters to either adjust the size ( with keyword ` size ` or just ` s `) or the color ( with keyword ` color ` or ` c `) of each point , or you can do both simultaneously .
I've of course accidentally swapped latitude and longitude from their normal axes , but you get the idea :)
There are two options : ( 1 ) use xlim and ylim to " zoom " into a continent , making a figure for each one , or ( 2 ) make a very big figure use #URL ` figsize ` to set the size in inches and or ` dpi ` to control the dots-per-inch .
by " zoom " I mean set the xlim and ylim range to smaller set of the total range , so in my example above , I would do ` plt.xlim ( 44 , 46 )` and ` plt.ylim ( -50 , -30 )` to plot only the lower left corner of data .
Then you should be able to add your scatter plot overtop of the image .
I have a 3 data sets , X , Y , Z which are my axes and my data respectively .
I would like to make a similar to a contourf plot ( I already made it ) , but using discrete axes , like a " contour squares " , where each square ( x , y ) has a color given by the Z value ( which is a float value ) .
So far I'm using the contourf ( X , Y , Z ) , but it makes some interpolations that I don't want , I need a better visualization with squares .
It turned out to be a little tricky to get the labels in the first place , since you need to draw the axes , before the tick labels are set .
How to use matplotlib tight layout with Figure ?
Would it also work if I have several axes in one figure ?
( ` pyplot ` is just a convenience wrapper . In most cases , you only use it to quickly generate figure and axes objects and then call their methods directly . )
@USER - That's probably because you're making an axes that's not a subplot .
Use ` fig , ax = plt.subplots() ` or ` ax = fig.add_subplot ( 1 , 1 , 1 )` instead of specifying the extent of the axes manually and it should work fine .
Draw axis lines or the origin for Matplotlib contour plot
I want to draw ` x=0 ` and ` y=0 ` axis in my contour plot , using a white color .
My contour plot looks as follows and the code to create it is given below .
There are a number of options ( E.g. centered spines ) , but in your case , it's probably simplest to just use ` axhline ` and ` axvline ` .
What I want to be able to do is to write a function that can update the scatter plot dynamically ...
You say " scatter plot " but you're using .plot() , not .scatter() ; do you want a line that's updated or a new point on a scatter plot ?
New point on a scatter plot .
` plot ` is perfectly fine to use for plotting individual points ( it is even recommend over ` scatter ` , if you don't wanna add additional information through color or size of the dots ) .
+1 for explaining the difference between ` plot ` and ` scatter ` and +1 ( if I could ) for explaining why a line of a single point doesn't display , and how to fix that ...
Can't get canvas to draw fig in matplotlib
From my basic understanding about using matplotlib you store your desired plt in some ' fig ' and then you can draw said ' fig ' using the canvas.draw() operation .
It's not difficult to do automatically though , by using ` text ` or ` annotate ` .
Also , am I correct in assuming that if I want to display a legend for the plot above , I simply add the statement plt.legend() .
For the legend , something like ` plt.legend ([ ' d1 ' , ' d2 ' , ' d3 ' , ' d4 '])` will work .
How do I add a legend with the color combos ?
plt.legend ([ ' d1 ' , ' d2 ' , ' d3 ' , ' d4 ']) with add a legend with the single color .
@USER what do you mean by adding a legend with the color combos ?
` plt.legend ([ ' d1 ' , ' d2 ' , ' d3 ' , ' d4 '])` works if you want to add a legend with a label for each color
The following codes snippet is an example of using the text function to annotate text label on the left hand side for negative values and the right hand side for positive values as mentioned by both gcalmettes and Zhenya .
I assume ` top ` is an ` Axis ` .
Note the grey border on the sides is related to the aspect rario of the Axes which is altered by setting ` aspect= ' equal '` , or ` aspect= ' auto '` or your ratio .
My matplotlib.pyplot legend is being cut off
I'm attempting to create a plot with a legend to the side of it using matplotlib .
I can see that the plot is being created , but the image bounds do not allow the entire legend to be displayed .
As shown in the legend plotting guide , you can make room for another subplot and place the legend there .
If I put the legend outside , I _obviously_ want it to still be visible .
On my win7 64 machine , using a factor greater than 1 will make room for the legend if it's outside the plot .
This code was referenced from : How to put the legend out of the plot
Manually setting xticks with xaxis_date() in Python / matplotlib
However , if I comment out the line ( 40 ) that sets the xticks manually , namely ' plt.xticks ( tk )' and then run that exact command in the interpreter immediately after executing the script , it works great and my figure looks like this .
set the major xticks to a regular interval ( minutes , hours , days , etc . )
draw globe Transverse Mercator map with matplotlib
I've been having some difficulty with MatPlotLib's finance charting .
When I draw my charts there are huge gaps in it , the axes suck , the zoom is equally horrible .
As you can see , I've replaced the Circle patch with a Wedge .
The axes patch could be scaled a bit larger to properly take up the room within the axes .
It would be more efficient to only draw them inside our " lower " wedge .
For truly arbitrary paths , you'll need to subclass ` Spine ` , but in this case , it's close enough to a circle ( as far as centering , etc , goes ) that we can treat it as a circular spine .
There aren't detailed guidelines for subclassing ` Spine ` like there are for subclassing ` Axes ` , so you'll have to dig in and poke around .
That's all ` hist ` does .
increase the linewidth of the legend lines in matplotlib
I know that if I change the linewidth of a line , that is automatically updated in the legend .
However I would like to just change the legend linewidth without affecting the plot .
If you want to change all lines in a plot , it might be useful to define your own legend handler : #CODE
Is there a method to get the get parent canvas for axes in matplotlib ?
I'd like to add a timer of this sort , to allow for some animation .
Problem : the way my objects are set up , I have easy access to MPL axes objects , but not canvasses .
Is there a method to get the get parent canvas for axes in matplotlib ?
Very probably you have added matplotlib and numpy directories to your PYTHONPATH , such that matplotlib.collections is imported instead of the collections module from the Python standard library .
For me , I think its a problem with collections
` scatter ( iris.field ( 0 ) , iris.field ( 1 ) , c= iris.field ( 4 ))` does not work ( from the docs it expect float values or a colormap ) .
mapped onto the range 0-1 using an instance of Normalize or of a
What I take from this in regards to your problem is that you need a subclass of ` Normalize ` that takes strings and maps them to 0-1 .
Here's an example that inherits from ` Normalize ` to make a subclass ` TextNorm ` , which is used to convert a string to a value from 0 to 1 .
Traditionally you can test the normalization of the ` scatter ` method using the ` norm ` keyword , but ` scatter ` tests the ` c ` keyword to see if it stores strings , and if it does , then it assumes you are passing in colors as their string values , e.g. ' Red ' , ' Blue ' , etc .
Kind of a ` cls = list ( numpy.unique ( iris.field ( 4 )))` ; ` cols =[ " red " , " green " , " blue "]` and ` scatter ( ..., c=map ( lamda x : cols [ cls.index ( x )] , iris.field ( 4 )))`
As seen from the other answer , a similar effect can be achieved by filtering the data set by each label and plotting them separately with ` plot ` instead of ` scatter ` .
There's nothing wrong with what @USER suggested , but ` scatter ` is better suited for continuous data .
It's easier to rely on the axes color cycle and just call plot multiple times ( you also get separate artists instead of a collection , which is a good thing for discrete data such as this ) .
By default , the color cycle for an axes is : blue , green , red , cyan , magenta , yellow , black .
I have to disagree about ` scatter ` .
The ` plot ` vs ` scatter ` point is an unfortunate and common misconception .
Use ` plot ` to plot points , and only use ` scatter ` to plot things when you need to continuously vary the size and / or color of the markers based on a 3rd or 4th variable .
` scatter ` returns a collection that is much harder to manage .
@USER : Thanks I didn't know about the concept of ' spines ' in Matplotlib .
Just set the spines ( and / or ticks ) to be invisible .
pylab plotting legend error
I am trying to set a legend to plotted data in a graph .
I have the following error at the line where I'm setting a legend for the plot : #CODE
See Matplotlib Legend Demo for another example of legend usage .
Because normed option of hist returns the density of points , e.g dN / dx
Do you mean that you want M different plot axes , stacked on top of each other ?
Just doing a scatter plot of the ( x , speed ) values for all MxN pairs should be easy enough .
masking part of a contourf plot in matplotlib
I am trying to produce a filled contour plot in matplotlib using contourf .
The contour plot turns out blank not only where the original data are masked , but also in pockets where the contour algorithm cannot interpolate cleanly because there is an insufficient neighborhood of good data .
However , if I plot the extended data I get contour fill everywhere .
The analog would be the code snippet below but it doesn't work for a contour ...
I can't get the bad_data imshow to cover up the extended contourf plot .
By plotting the above with contourf , #CODE
If you want a different color instead of the blank spots ( whit ) you need to color the patch of the axes beneath because contourf actually doesn't plot anything where there is no data , or masked data : #CODE
What you have shouldn't hide the left and right spines .
Matplotlib artist to stay same size when zoomed in but ALSO move with panning ?
Firstly , we need to invent a transform which will return the device coordinates of a pre-defined value plus an offset based on the given point .
For instance , if we know we want the bar to be at x_pt , y_pt , then the transform should represent ( in pseudo code ): #CODE
Once we have done this , we could use this transform to draw a box of 20 pixels around a fixed data point .
However , you only want to draw a box of fixed pixel height in the y direction , but in the x direction you would like standard data scaling .
Therefore , we need to create a blended transform which can transform the x and y coordinates independently .
I may well have overlooked a simpler answer in that it is probably easier to create a new type of artist ( #URL ) .
If anyone else is interested in producing exactly the same result as my answer using an artist , I would be very keen to see it .
shared axes in scatter plots in matplotlib
I am trying to put two scatter plots next to each other with a shared y axis , but the axis seems to get an odd scale .
I also noticed that the problem does not occur when using " plot " instead of " scatter " .
Without shared axes the y axis goes from 0.94 to 1.06 with a single point plotted at 1.00 , as expected .
It seems to only affect scatter plots with a single point in them so I stumbled across it while trying to debug a minimal use case .
As soon as I add more than one point to the scatter plot , the problem goes away .
I've no answer to the why question , but here's how to get rid of it : In your code snippet , giving ` scatter ` three points to draw #CODE
I can only guess that ` scatter ` tries to be a bit smarter than ` plot ` with the axes limits ,
Note that you'll need to create new figure and axes objects for each different plot window , otherwise plots will overwrite old plots .
I tried also the draw that it doesn't show anything .
For example , in your code you are using ` pylab.pie() ` , but you should be calling that in such a way that it gets added to the figure and axes that you've created .
I get a titled empty figure with axes .
This is done by hiding axes ticks and adding text inside the plot figure .
plt.savefig ( ' filename.png ') creates that file with titled empty figure with axes
how do I make a single legend for many subplots with matplotlib ?
However , I have not figured out how to put a single legend ( since all 9 subplots have the same lines ) on the figure just once .
You just have to ask for the legend once , outside of your loop .
For example , in this case I have 4 subplots , with the same lines , and a single legend .
the problem of ` fig.legend() ` is that it requires identification for all the lines ( plots ) ... as , for each subplot , I am using a loop to generate the lines , the only solution I figured out to overcome this is to create an empty list before the second loop , and then append the lines as they are being created ...
For the automatic positioning of a single legend in a ` figure ` with many axes , like those obtained with ` subplots() ` , the following solution works really well : #CODE
Using ` ( 0 , - 0.1 , 1 , 1 )` moves this bouding box slightly downwards to prevent the legend to be placed over other artists .
The fixed code to make the xticks looks properly are already inside the code , and the new plot is also shown .
Inside the code there ` s a place I try to draw a line in both figures ( at the same place ) , but none of those are shown .
Here's a simple example showing how xlim , set_xticks , and set_xticklabels interact : #CODE
As already mentioned , you need to have the xticks not be zeros .
I dont have a clue how to do this with the subplot instnace .
I am trying to remove some data plotted as a scatter plot on matplotlib in python .
I plot some scatter data and some ' plot ' line data
What is the equivalent command to remove a scatter plot ?
if you store your scatter plot in an object you could access it's properties , one of them is called set_visible .
From what I understand , ` ion() ` will redraw everything each time you make a change to your figure , including axes and labels , etc .
For a set of images stored in ` video [ t , x , y ]` , this makes a simple animation : #CODE
Subplot 2 : Height takes up the remainder of the whole figure's height ( allowing for margins ) .
It uses axes instead of subplots , which give more absolute control over the position of the plots within the figure .
There's pretty much this example on the colormaps page .
As Mr E wrote , you can find the dictionaries that generate matplotlib colormaps in _cm.py .
I'm trying to plot a small image in python using matplotlib and would like the displayed axes to have the same shape as the numpy array it was generated from , i.e. the data should not be resampled .
What I'm interested in is something like the imshow functionality in matlab , where the number of pixels on the screen matches the number of entries in the matrix , i.e. the axes are not resampled to match the figure size .
Thanks , that stops smooth interpolation , but how can I reduce the size of the axes so that the figure reflects the low resolution of the image ?
I'm trying to do something like imshow in Matlab , where the axes inside the figure are the same size as the array , e.g. each pixel on the screen corresponds to an entry in the matrix .
Thanks , using nearest neighbour interpolation is good , but also I would like the axes to be small , i.e. so it more closely reflects the true size of the array .
Currently it seems like the axes is still rescaled to match the figure size .
Of course it means giving up the axes ( or drawing them yourself somehow ) .
There are some options to ` figimage ` which let you move the image around the figure so I suppose it might be possible to manoeuvre them on top of some axes created by other means .
In case anyone's wondering , the only way I was able to get figimage to work without anything on the plot except the image in Ipython Notebook was by adding an empty ( " turned-off ") set of axes before the plt.show() , akin to this S / O post : #URL Otherwise , it just didn't plot anything .
How to add a single colobar that will show the data from 2 different subplot
Another thing doesn't really make sense for me is why the lines I try to draw on the end of the code are not drawn ( they are supposed to be horizontal lines on the center of both plots )
So you could let matplotlib do it for you ... or you manually position your colorbar on axes inside the images .
It had something to do with how i called the axes ....
All i had to do is change the lines where i add the axes to : {
for ( i ) , ax in np.ndenumerate ( axes ):
How do I let my matplotlib plot go beyond the axes ?
As you can see , the z order of the plots seem to be higher than the z order of the grid , so the markers are not hidden by the axes .
I am sure you have good reasons to prefer the matlab behavior but IMHO drawing outside the axes is more of a bug than a feature .
For your second question , have a look at the ` figsize ` kwarg to instances of the ` Figure ` class : #URL
To get the marker to show beyond the axes you can turn the clipping off .
Add a table to the current axes .
For finer grained control over tables , use the Table class and add it to the axes with add_table() .
How can I use Matplotlib with different axes
Does anyone know how can i draw more lines with matplotlib.pyplot.plot but forcing them to use its own axes ?
a is the base of the others ( time ) , so I would like to draw how b and c changes
but b contains big numbers and c contains small numbers , so when i draw both then i can see only b
Why are the axes switched on my pyplot histogram ?
The axes aren't switched .
You gave ` hist ` a list of numbers , five distinct numbers repeated twice , and it computed a histogram appropriately .
How to " draw " a geometric shape on a 2-D meshgrid ?
draw a figure using matplotlib
I'm trying to fetch stock data from yahoo finance using csv2rec and save it as csv file with rec2csv .
Thirdly , I don't know how to ' refresh ' the graph after cliking on the button .
The remaining question is how to plot the graph and refresh it according to ` n ` parameter value ?
The only thing that looks remotely similar is the boxplot but this isn't what I need .
I'd rather not have to draw the graph manually with graphics primitive .
In that case , just use ` bar ` to plot things , and tell matplotlib that the axes are dates .
For a list of available colormaps , see here .
In any case , I'm dubious about the way you're doing animation .
This doesn't look like any of the matplotlib animation examples and doesn't follow the ( older , I think ) advice here either .
Most of those examples conclude with a ` plt.show() ` ; just like any other even driven GUI programming system ( because that's what matplotlib is at heart ) you need to hand over control to its event loop and learn to work within that framework's provisions for animation if you want stuff to work properly .
The problem also happens with the basic_example animation .
signature of ` subplot ( nrows , ncols , plotNum )` it may have
But I dont't know when to call the graphic_plot function and refresh the graphic correspondingly to the ` n ` parameter .
Then I just added a signal to the custom version and overrode the draw method .
In this way I could call the original draw method and emit my signal with whatever info I needed from the NavigationToolbar data structure .
I'm trying to make a scatter plot of some PCA data .
How can I make a blank subplot in matplotlib ?
I am making a group of subplot ( say , 3 x 2 ) in matplotlib , but I have fewer than 6 datasets .
How can I make the remaining subplot blank ?
So in the space for subplot 2 , 1 there is a default set of axes with ticks and labels .
How can I programatically render that space blank and devoid of axes ?
You could always hide the axes which you do not need .
For example , the following code turns of the 6-th axes completely : #CODE
Alternatively , see the accepted answer to the question Hiding axis text in matplotlib plots for a way of keeping the axes but hiding all the axes decorations ( e.g. the tick marks and labels ) .
A much improved subplot interface has been added to matplotlib since this question was first asked .
As it happens , I have a lot of data in the plot and when I am using ` pylab.show() ` , I have to maximize the window before I can see all of the plot correctly , and the xlabel tickers don't superimpose on each other .
Beware , however , that using very small DPI is not a good idea , because matplotlib may not find a good font to render legend and other text .
I usually use ` ax.set_rasterized ( True )` to rasterize the figure so that it could handle transparency when saved as in ` eps ` format , but the rasterization also blurs the axis labels and ticklabels , so is there a way to rasterize only patches within the axis rather than the whole figure ? or is there a better around for exporting eps format with transparency ?
So you can only rasterize your patches .
If you'd prefer to make the figure and axes in one call , use ` plt.subplots ` .
This avoids having to do three separate calls to set the xlabel , ylabel , and xticks .
@USER - ` tight_layout ` has nothing to do with the xticks , though .
Actually , given the axis ranges the OP wants , the default tick locations are exactly the same as what they specified through ` xticks ` , so they could leave it out in this specific case .
matplotlib contourf : get Z value under cursor
When I plot something with ` contourf ` , I see at the bottom of the plot window the current x and y values under the mouse cursor .
Here an example ` contourf ` : #CODE
The function autoscale does some scaling and seems the right candidate for this job , but treats the axes independently and only scales to the full data range , no matter what the axes limits are .
Ah , I found it , [ autoscale ] ( #URL ) seems to do what I want !
No wait , ` autoscale() ` * also * ignores any axes limits and only looks at the data given to ` plot() ` .
You could use interactive plotting with ` pylab.ion ` and update the plot using the ` draw ` command instead of the ` show ` command .
Otherwise , maybe you enter something like ` x1 , y1 , x2 , y2 ` which depicts a bounding box you want to zoom in on in your coordinate axes , and then your program makes a new figure , re-computes the relevant data onto new grids involving the input ` x1 , y1 , x2 , y2 ` , and re-plot .
Matplotlib legend , add items across columns instead of down
For a simple plot below , is there a way to make matplotlib populate the legend so that it fills the rows left to right , instead of first column then second column ?
You can order your legend items as you like .
Moving matplotlib legend outside of the axis makes it cutoff by the figure box
Matplotlib savefig with a legend outside the plot
How to put the legend out of the plot
It seems that the answers in these questions have the luxury of being able to fiddle with the exact shrinking of the axis so that the legend fits .
Shrinking the axes , however , is not an ideal solution because it makes the data smaller making it actually more difficult to interpret ; particularly when its complex and there are lots of things going on ... hence needing a large legend
The example of a complex legend in the documentation demonstrates the need for this because the legend in their plot actually completely obscures multiple data points .
What I would like to be able to do is dynamically expand the size of the figure box to accommodate the expanding figure legend .
( And yes , Matlab is " equally poor " in this particular case . ) To do it properly , you need to worry about resizing the axes every time the figure is resized , zoomed , or the legend's position is updated .
If I put the legend outside , I obviously want it to still be visible .
Use the ` subplots_adjust() ` function to move the bottom of the subplot up : #CODE
Then play with the offset in the legend ` bbox_to_anchor ` part of the legend command , to get the legend box where you want it .
I actually already use this solution , the real problem is that matplotlib doesn't dynamically compensate for the legend being outside the bbox of the axis .
The problem may be I'm not using a subplot .
You can define the size of the axis and paddings are considered accordingly ( including legend and tickmarks ) .
Example ( axes size are the same ! ):
I tried to replace ` show ` with ` draw ` with the same result .
Regarding the original question , one might imagine ( though I've no idea , so its hypothetical ) that a new thread is spawned to draw the plot , which grabs the GIL , then the main thread is not able to get it in order to return , possibly due to pylab doing something obnoxious .
This way you can continue accepting input while the draw is occurring .
But note that if you have used ` contourf ` ( for example ) you get a raster image inside your pdf / svg , so dpi is meaningful again .
Then dpi settings help get the linewidth right for axes and overlaid lines .
How to programmatically select pan / zoom in pyqt / matplotlib navigation
I have a pyqt4 matplotlib application and I would like the figure to start out ( default ) to the pan zoom mode when the application opens .
dist = numpy.random.normal ( mean , variance , number_of_points_reqd )
plt.plot ( range ( number_of_points_reqd , dist )
Any idea why the ylabel isn't center justified and how I might go about centering it ?
` ylabel ( ' Soil Moisture Sensitivity , \n ( 0.01 K m$^3$ m$^{-3}$ )')`
` ylabel ( ' Soil Moisture Sensitivity , \n ( 0.01 K m$^3$ m$^{-3}$ )' , multialignment= ' center ')` ?
The ` yscale ` and ` xscale ` commands only allow me to turn log scale off .
To my understanding , xlim change the range of the plot and does not scale it .
Just make sure you add a ` xlabel ` to indicate the units ( which should always be done anyways ) .
I got a boxplot graph like this :
add boxplot to other graph in python
You changed the * labels * on ` boxplot ` not the * actual values* .
My application has a button that opens a Figure window with a graph ( created with Matplotlib ) .
I'd love to know what should be configured to get this working in " axes units " instead .
It clips everything , including the plots , axes , etc : #CODE
I am trying to draw a table ( rectangle ) as a plot with 96 individual cells ( 8 rows X 12 cols ) .
#URL I would like to draw a similar plot feeding in values in the cells from a numpy pandas data structure .
Colormap for errorbars in x-y scatter plot using matplotlib
Since I have ~1600 points per plot , this makes the colormap of the scatter plot disappear behind the error bars .
Is there a way that I can get the error bars to be plotted using the same colormap as the one used in the scatter plot ?
In addition to changing the color , another suggestion is to change the ` zorder ` of the error bars versus the scatter plot .
I know that I can set the x_lim of the axes ( ` Axes.set_xlim `) .
@USER I acknowledge that one can not draw a rectangle with zero height .
@USER Unfortunately you can still see the edge lines of the patches ( if you are really picky ) .
I realize it's not possible for matplotlib to plot these points on a log scale , but I really wish it would draw the connecting line from the previous point or to the next point ( if either are non-zero ) .
What I'd like it to draw :
Finding the outlier points from matplotlib : boxplot
I am plotting a non-normal distribution using boxplot and interested in finding out about outliers using boxplot function of matplotlib .
Besides the plot I am interested in finding out the value of points in my code which are shown as outliers in the boxplot .
Is there any way I can extract these values for use in my downstream code from the boxplot object ?
Store the return dict from boxplot , and you can get the all the information from it , for example : #CODE
Plot rotates colors using some internal default and scatter is coming out as all one color .
The other problem when drawing many lines is the legend ...
Why does my pylab animation slow down with each update ?
I'd like to display a simple animation by calling ` imshow ` in a for loop .
Note that I generate the images before running the loop , and that the only parts I time are the ` imshow ` and ` draw ` functions .
Python : Matplotlib annotate line break ( with and without latex )
I have a very basic question : how to do a line break with matplotlib in python with an " annotate " command .
@USER - In that case , specify the x , y position of the text in axes coordinates .
For example , this would place text 5 _points_ to the right of the upper-right corner of the axes : ` ax.annotate ( ' blah ' , xy =( 1 , 1 ) , xytext =( 5 , 0 ) , xycoords= ' axes fraction ' , textcoords= ' offset points ')`
Matplotlib contour with blank areas
The grid is irregular so for now i have been creating a scatter plot and separating the values into bins to display as a contour as on the img at the link below .
I want to refine this method by using the imshow / contour functionality in matplotlib by using meshgrid and then interpolating the calculated values .
What I'm trying to achieve is a better visualisation of the data which I think is achieved by the contour plot .
pylab subplot bounds altered when overlaying image
However when I call imshow it appears that the bounds of the subplot are altered and I am unable to change these bounds even using the set_position function .
Basically , I would like the top subplot to be the same width as the bottom in this image .
I have tried turning off autoscale as per this post and I get no difference .
It's annoying having to reset all the properties for the new axes , otherwise this is a great work around .
By default , ` imshow ` will set the aspect ratio of the axes to 1 ( or a different number if you specify a scalar to the aspect kwarg in ` imshow ` .
axis limits for scatter plot not holding in matplotlib
I am trying to overlay a scatter plot onto a contour plot using matplotlib , which contains #CODE
What ends up happening is the resulting plots extend to include all of the scatter points , which can exceed the limits for the contour plot .
When I make my own contour plot and then overlay scatter points , your code works correctly .
If I define ` xLimHist ` and ` yLimHist ` in such a way that it should exclude some of the scatter points , then the plot does indeed exclude those and it does not fit itself to contain all scatter points .
I input the xlim and ylim so the range for both was -2 to 2 .
Other than that , have a look at some of the matplotlib finance examples .
When I draw a line segment in matplotlib the linewidth seems to be added to the length of the line .
subplot because I do get the error #CODE
So patches can't be picked !
I did fix the issue and got clearity about the feature that patches can't be picked .
matplotlib legend showing double errorbars
you can set the number of points in legend : #CODE
In my plots the yticks are much too close to each other ( since I changed the yticks font ) .
So I'd like to limit / fix the number of yticks .
BTW : I cannot find how to reference the axes without using a subplot .
Notice how the `' o '` markers are only at the beginning and the end of the Axes edges , because the grid lines only involve two points .
You could write a method to emulate what you want , creating the cross marks using a series of ` Artists ` , but it's quicker to just leverage the basic plotting capabilities to draw the cross pattern .
The example shows the left subplot where by default the grid is placed in back , and the right subplot disables this option .
Also has the problem that it plots markers at the axes .
You can draw on line segments at every intersection of the tickpoints .
I see that there are extra lines at the axes where the tick marks are too , so will try to get rid of them .
I am using matplotlib / mplot3d with Axes3D and I want to be able to change the aspect ratio of the axes so that the x y axis are to scale .
In this case I haven't set a 1:1 ratio on the x / y axes because that looks ridiculously thin , but I have spread it out so it isn't square as on the original output .
That does get the scaling of the axes correct , but results in a lot of wasted space .
You can use the pbaspect modification to get no square axes .
Those axes don't look 1:1 to me ...
Okay , I have this simplified code to plot a simple contour map : #CODE
how to draw a scatterdiagram of two sets of strings in matplotlib
I want to draw a scatter diagram between two array of strings .
What do you mean by : " drawing a scatter diagram between two array of strings " .
I want to draw a scatter plot where my X axis will be elements of A , Y axis will be element of B and if there exists any correlation between element of A and element of B , it'll be shown in the scattered plot . how to do that ?
I am still not sure to understand what you want to do . scatter plot , like plot , take numeric values as input , not string .
scatter plot in matplotlib
Now , I want to draw a scatter diagram where my X axis will be elements of ` A ` , Y axis will be elements of ` B ` and if correlation value is ` 1 ` , it'll be marked in the scattered plot . how to do that ?
But then it is not clear to me what exactly do you want scatter plot of .
Now you want to represent the above values in in a scatter plot , such that value of 1 is represented by a dot .
We want to transform them into two variables so we are able to plot them .
Floating Bars in Matplotlib Pyplot Bar Graph
what I also want to move the ylabel on the right ?
joaquin's answer works , but has the side effect of removing ticks from the left side of the axes .
plotting more than one plot with different axes types
What's the simplest way to create different axes ?
I am trying to change the angle in the one of the subplot of my figure which is a 3d plot .
What I got to work is the changing y-axis , and I get the yticks animated with the plot , unfortunately the ylabels are gone and I cant find the solution .
It looks like the labels are drawn but the blit command doesn't copy them over to the canvas because the bounding box only includes the inner part of the axes .
Matplotlib : Annotating a 3D scatter plot
I'm trying to generate a 3D scatter plot using Matplotlib .
I would like to annotate individual points like the 2D case here :
Matplotlib : How to put individual tags for a scatter plot .
One subplot needs to be about three times as wide as the second ( same height ) .
I used ` pyplot `' s ` axes ` object to manually adjust the sizes without using ` GridSpec ` : #CODE
How to transform 3d data units to display units with matplotlib ?
This may be a bit crazy , but I'm trying to create a clickable image map of a 3d scatter plot using matplotlib v1.1.0 .
The basic problem is I don't know how to get the display coordinates for a 3d axes .
In the 2d case , in order to get the click points correctly located over the scatter points , you need to convert each scatter point from data units to display units .
I was hoping this would also work for 3d axes , but it appears not .
You can use proj3d.proj_transform() to project 3D coordinate to 2D . call ax.get_proj() to get the transform matrix : #CODE
I want to cache the axes from the main chart so that I can retrieve it and modify it later when rendering the subcharts .
As such , it's not returning the Axes object ( since it isn't being created ) , so ax is being assigned the function itself .
` add_axes() ` is returning an ` Axis ` object .
The problem is that the OP is trying to send the Axis instance across the wire to memcached , which wants to be able to serialize the object . matplotlib objects can't be serialized .
This just displays a contour map ( lines but no surface ) .
As for hover-effects , using patches ( matplotlib ) could be a solution , if you want them on top of the graph , or you could have the information in another widget in gtk to the side .
The easiest way is probably to have matplotlib save individual images and then have another program or library stitch together them to an animation .
matplotlib 1.1 has an animation module ( look at the examples ) .
You can save the animation using : #CODE
I should have asked this in the question , but is there a way to put an condition on a-b so that animation stops , and only the last figure stays ( as if I did static plot ) .
Looking at the animation , I would suggest that the colorbar has fixed limits so it doesn't change during the animation .
@USER : You can stop the animation for a certain time with ` time.sleep() ` if a condition is met .
The only problem is that in the ' xlabel ' I have to include a variable ( integer ) for number of entries analyzed .
I have tried a lot but could not find the way of including the variable in xlabel .
The variable ' entries ' hold the value of entries processed and I need to include this value in xlabel .
A few days ago my girlfriend showed me beautiful plots she has made with R's [ ` smoothScatter `] ( #URL ) function , which advantageously combines a scatter plot and a density map .
matplotlib , can plot but not scatter
I want scatter these point .
so I use scatter function : #CODE
The thing is that ` scatter ` and ` plot ` don't take the arguments in the same order .
Try using ` scatter ( x , y , c= ' r ')` instead ( assuming it was the coloring you intended to set ) .
Take a look at the documentation for ` scatter ` as well .
I want the two axes to share one origin , but Matplotlib does not align the two scales by default .
With matplotlib , I am making a figure containing two Axes objects ( i.e. , two sets of xy-axes ) .
I want to connect two points --- one picked from one of the axes and the other picked from the other axis --- by an arrow or a line .
Please see the attached figure , in which I tried to connect the origins of the two axes by a ConnectionPatch object .
One technique I've seen widely used for fast plots in matplotlib is to set ` animated ` to ` True ` for elements of the plot which you wish to update often , then draw the background ( axes , tick marks , etc . ) only once , and use the ` canvas.copy_from_bbox() ` method to save the background .
Then , when drawing a new ` foreground ` ( the plot trace , etc . ) , you use ` canvas.restore_region() ` to simply copy the pre-rendered background to the screen , then draw the new foreground with ` axis.draw_artist() ` and ` canvas.blit() ` it to the screen .
When I maximize the window , the refresh drops to around 5.5 FPS .
How do you create a legend for a contour plot in matplotlib ?
A legend on a ` contourf ` makes no sense to me .
I guess what I'm looking for is a way to both label the contour lines from a ` contour() ` plot and label the filled regions from a ` contourf() ` plot .
You can create proxy artists to make the legend : #CODE
You could also do it directly with the lines of the contour , without using proxy artists .
I'd like to make plots on 4 axes , first three individual plot on each axes , and the last all 3 plots on last axes .
Is there a way to define plots first and then add them to axes , and then plot them ?
Or if I wanted for example to send a plots of lines to some function that arranges the plots in some way on different axes .
Using matplotlib to annotate certain points
While I can hack together code to draw an XY plot , I want some additional stuff :
text to annotate that point , proximity is a must ( see the red text )
So you can set the size no probs , also you'll probably want to turn the axes off .
Also , I tried saving the Basemap for future use but since I need new axes I couldn't get it to work .
If so , the question [ How do I plot multiple x or y axes in matplotlib ? ] ( #URL ) seems to cover this .
To make this work for arbitrary limits one also needs to make sure the limits of the two axes match with something like `` ax2.set_xlim ( ax1.get_xlim() )`` otherwise the `` X `` for the top and the `` X `` for the bottom will be different .
When I resize the window or use the zoon / pan button from the NavigationToolbar the background is not updated properly .
Linked time axes ( x-axis ) in a matplotlib figure
While the method described above nicely generates the two axes , the data is scaled differently between them .
If you don't want to draw the data twice , just delete the ` newax.plot() ` line .
Autoscale a matplotlib Axes to make room for legend
On this orbit , I identify and mark certain events , and then list these events and the corresponding dates in a legend .
Before saving the figure to a file , I autozoom on my orbit plot , which causes the legend to be printed directly on top of my plot .
What I would like to do is , after autoscaling , somehow find out the width of my legend , and then expand my xaxis to " make room " for the legend on the right side of the plot .
The main problem I'm having is that ` ax.set_xlim() ` takes " data " specific values , whereas ` leg.get_window_extent ` reports in window pixels ( I think ) , and even that only after the canvas has been drawn , so I'm not sure how I can get the legend " width " in a way that I can use similar to above .
You can save the figure once to get the real legend location , and then use transData.inverted() to transform screen coordinate to data coordinate .
This will plot the data without the gaps between weekdays , now you have to change the xticks back to dates , preferably mondays .
However using ` bbox_inches = ' tight '` the legend disappears .
Since I have the legend outside the plot frame , I would like to remove only the top and bottom white space .
See , for example , the answer of @USER to this question : Reduce left and right margins in matplotlib plot
Then join me in upvoting that answer and that comment :-)
If you are generating SVG files , you can simply append text as an XML comment at the end of the SVG file .
Also , what is ` Rectangle ` ?
The other with the colors in between , just like I were using a scatter plot .
You can draw every Rectangle with the color calculated by ColorMap : #CODE
You are placing the images outside of the axes .
The magnitude of these values will depend on the units of your axes , because the positions are defined in data units .
matplotlib - Legend with multiple axes with errorbar object
I am having trouble to get legends on a plot with two axes sets and an errorbar .
Any recommendations to get a legend with all plots in one box ?
How do I set color to Rectangle in Matplotlib ?
How do I set color to Rectangle for example in matplotlib ?
Turns out , you need to do ` ax.add_artist ( Rectangle )` to have the color specifications work ; when using ` patches.append ( Rectangle )` , the rectangle is shown in blue ( on my PC , at least ) ignoring any color specification .
I haven't figured out whether it is a bug or intentional ( for some reason ) in matplotlib , but in order to get a full legend label you need to leave a trailing comma on your list of labels : #CODE
I draw the left hand side and add a ` colorbar ` , but when I select my first ` subplot ` on the right hand side , the figure on the left shifts to the right under the colorbar .
There is a references to the Text object returned by the original setting of suptitle in figure.texts .
Remove duplicate matplotlib contour labels when contour goes partially outside visible area
I'm having a problem with drawing " zoomed " in contour maps .
I have a contour plot like the one below :
For every level's collections , remain the longest path , and remove all others .
Connecting two points in a 3D scatter plot in Python and matplotlib
In the code below , how do I create lines connecting each pair of scatter plots ( i.e. linking the green circle to the yellow arrowhead ) created by the two lines of code towards the end just before the .show() instruction ?
Now what if I wanted to draw a rectangle instead of a line ?
Is there a way to draw a rectangle ?
A quick looks though , you have two options , draw the 4 sides of the rectangle with " plot " lines or look into using PolyCollection ( #URL )
Drawing a rectangle or bar between two points in a 3D scatter plot in Python and matplotlib
I have a 3D scatter plot which , on one of its planes , plots 2 points for each date .
I've asked about how to draw a LINE between every pair of points , and received an answer for which I'm thankful .
What I want now is to draw a BAR or a RECTANGLE to connect the points instead of just a line .
Bar stacked example
ie to draw bars in a 3D graph , but use the " bottom " parameter to set the starting heigh of your bars .
The advantage is that you don't have to worry about inserting your custom tick into the existing array , but you'll have to annotate the lines manually .
Mixing numerical and string axes labels leads to annoying overlap and formatting problems so I will just go with twiny() .
You can specify the axes ( useful for twin axes or if working with multiple axes simultaneously )
How to draw a png-osm-map with coordinates
I feel like I'm missing something very obvious here , but I can't get a scatter plot in pylab to print in black and white .
to each scatter line and they will be black .
nice examples , but the legend colour doesn't match the markers on Profit !
I wanted to put a ` color= " 0.5 "` in the second scatter statement , but worried that it would confuse the OP , so I strip it off and leave the legend as is .
remember to put ` color= " 0.5 "` back to the second scatter statement to avoid blue points in the legend .
in 1 st case I was using subplot to plot two graphs in same window but i'm not being able to give both graphs their individual x-axis and y-axis names and also their individual title .
I was using subplot to plot two graphs in same window but i'm not being able to give both graphs their individual x-axis and y-axis names and also their individual title .
If you want a title on a specific subplot use the subplot handle : ` lineGraph.set_title ` or ` barChart.set_title ` .
` fig.add_subplot ` returns a matplotlib Axes object .
You can see the full set of methods available on Axes objects at #URL .
Displaying the grid on top of the axes is as simple as ` grid ( True ) .
The example below shows how to display a .tif file , create a grid , but also how to put the grid below the other plot elements so that you can draw boxes and lines on top of the image and the grid .
You can use matplotlib.patches to draw all types of shapes over your image .
To draw individual lines , I like to use the following line , but you can also use matplotlib.lines.Line2D .
I've also tried to clear the axes with ` cla() ` too but that doesn't help either .
I'm plotting several images at once , sharing axes , because I use it for exploratory purposes .
As each subplot is generated , I delete the array to free some memory ( each array is stored in a list , the " deletion " is just a list.pop() ) .
I have a .txt file from which I find ordered pairs , and then draw a graphic using numpy and matplotlib .
@USER Yes , maybe you meant enclosed with some other lines like the axes ?
I've adapted some of the code found here , on the matplotlib site to make a ` little_pie ` function , that will draw small pie charts at arbitrary positions .
I would suggest using csv2rec ( or genfromtxt with a converter function ) .
But it might be helpful to others to see a more general way of rescaling the xticks and xlabels in a plot .
I'm using IPython in pylab mode ( all functions at fingertip ) , and wanted to annotate certain plot , lets say ` plot ([ 1 , 3 , 2 ])` with rectangle ` Rectangle (( 1 , 1 ) , 1 , 1 )`
How can I draw a simple rectangle in this pylab mode , that is without using figure , axes , subplots ... but reference just created plot in easiest possible way
in this pylab mode , that is without using figure , axes , subplots
Figues , axes , and subplots exist in the pylab framework too .
If I were using the pylab interface , I'd simply throw a ` subplot ( 111 )` in there and then use ` sp.add_patch ( Rectangle ( etc ))` .
But you can also grab the current axes / figure using ` gca() ` and ` gcf() ` : #CODE
Is it possible to draw a plot vertically with python matplotlib ?
I need to draw a plot looks like this :
In ` matplotlib ` , I am using ` LineCollection ` to draw and color the countries , where the boundaries of the counties are given .
Why are you splitting the rows up , only to join them together again at the end ?
If you are aiming on making publication quality figures , you'll want to a fine control over the axes labels .
If you want a " scatter " plot then you need to specify ` linestyle= ' none '` ( or equivalently , ` ls= ' none '`) .
` annotate ` is the easiest way to annotate points on a plot .
mean the error bars are on the wrong axes ?
possible duplicate of [ Matplotlib - global legend and title aside subplots ] ( #URL )
better meshgrid for contourf
Question is how to display this data ( grid+data ) via contourf ( filled colors via custom levels , no contours ) , and later apply to mpl_toolkits ' Basemap with shapefile , but that's another step .
Even with fixed xi / yi ranges zi is full of " nan " and contour shows nothing
Although ` contour ` requires grid data , we can caste scatter data to a grid and then using ` masked arrays ` mask out the blank regions .
Underlining Text in Python / Matplotlib
I was able to get the underline that way but changing the usetex to True also affects the rest of the text in the figure ( e.g. numbering on the axes of plots becomes serif and other bolded texts become non-bold . ) I presume that I would have to change all those over to tex formatting , too , right ?
I would like to write the radian units of the axes as proportional to ` \pi ` : something like #CODE
I want to plot the data in a 3d scatter plot rotatable box in matplotlib .
Which set of data should be the plot , and which should be the subplot ?
I'm plotting a large number of figures , which each consists of a main subplot ( green ) which should cover 90% of the height of the image .
A command that allows me to plot the main plot then grow the figure as I add each subplot would be ideal .
The problem is that the axes are defined relative to the figure dimensions , so any subplots on the figure before you resize are scaled to fill in the extra 40% space .
Anyone a method of plotting matrix values in gnuplot regardless of not evenly spaced in Xa and y axes ?
Gnuplot doesn't need to have evenly space X and Y axes .
Then simply append the last row and last column of your matrix to plot it twice ( making up an extra gridpoint to accommodate the larger dataset .
At each point , you need to know it's position ( x , y ) it's value ( z ) and also the size of the quadrilateral to be draw there -- which is more information than you've packed into the file .
One idea I had so far was , in a case where my max=4 and min=0 , I'd draw tick labels for 1 2 and 3 at their respective locations , e.g 1 , 2 , 3 .
Then I'd draw 4 at the position 3.8 and 0 at the position 0.2 .
I want to draw a new figure on a each ` draw() ` operation .
You might try clearing the figure and / or axes after ` savefig() ` call , e.g. : ` plt.clf() ; plt.cla() ` .
I am currently trying to modify the scatter plot ( 2d ) below to change colors based on a third column in my csv file .
It should look similar to a contour plot , but I would prefer a different colored scatter plot .
check out the scatter line #CODE
Matplotlib's mplot3d offers a lot of options ( wireframe , contour , filled contour , etc ) , and so does MayaVi .
I'm just using simple scatter and line plots , but because of the size of the data set ( and maybe the limitations of mplot3d ? ) , I'm unable to use it to spot the trends I'm looking for .
In the first example , the thin blue line is the Actual value superimposed on all three levels in each of the z axes .
In the second set , each panel has a scatterplot of the Actual value against the three levels ( Top , Mid , Low ) in each of the z axes .
Preserve autoscale when clearing axes in matplotlib
I want to make a series of plots ( meant for creating an animation ) and thus I want to reuse the axes and preserve the x and y limits across all plots , so I set ` ax.autoscale ( False )` .
However , when I clear the axes using plt.cla() to draw the next image , the autoscale setting is overridden so I have to set ` ax.autoscale ( False )` and the x and y limits on every iteration .
If I set ` hold ` to ` False ` , then the autoscale setting is reset every time I call ` ax.plot() ` .
Is there any other way to preserve the axes properties while removing all plots ?
Don't call ` plt.cla() ` , it will clear current axes .
If you want to create animation , use ` matplotlib.pyplot.draw() ` instead which will redraw the current figure and I think it's what you want .
Well , the key is the ` line.set_data ` trick , which does the magic I needed , but your example and the ones that appear in the Cookbook seem useless to me as they update the animation with the speed of a ` for ` loop - the page itself states that the info is very outdated , and the new animation API ( #URL ) seems more valuable .
I want to plot them against each other with different colours on the same graph , where each has its own name in a legend .
I am getting information from a spatial database the values are like line string ( spatial ) format and i need to add this info to networkx graph later need to draw a graph in a matplot lib
You have roads defined as coordinates along the road and you want to draw these
` draw ` can take a dictionary of positions and do that , [ take a look here ] ( #URL ) .
I need them to be at their real position can i do that through some other way What iam trying to draw is a set of roads on a geographical map
So you want to annotate the y-values of the points along your line ?
Use ` annotate ` for each point .
I have a dataset of 640 points , but plotting it in subplot scales the axis to 700 .
Generally , how do I set the axes to arbitary measures ?
Please explain the options to set the axes .
Are you asking about the width of the plot in pixels ( which is currently a bit less than 1200 pixels ) or the _data_ limits of the axes ?
Can you clarify , do you want your subplot to be 640 * pixels * wide or do you want the x axis to range from 0 to 640 ?
Also note that the axis is scaled to 700 instead of 640 because matplotlib would prefer to draw a tick at 700 and figures the extra white space isn't such a big deal .
Edit : I just wanted to point out the ` figsize ` parameter , ` dpi ` setting , and ` picture ` axes have nothing to do with the original issue , but I added them to match the original example .
If you know that you want tight axis limits , but don't want to set it manually , the axes object can figure it out based on the data that's been plotted .
Note ` autoscale ` is special because it will readjust if your data limits change ( e.g. if you plot another data set that has 680 points ) .
Alternatively , you can use the ` margins ` method : #CODE
I unfortunately have no idea how to do this with the matplotlib colormaps .
take the first matrix , plot it using a colormap w some vmin and vmax ; transform the 2nd matrix , plot it using the previous vmax as vmin and a larger vmax .
There is also a limit on edge lengths ( unless you are willing to draw amorphous blobs to represent area ); so if you insist on drawing circles , this is even more restricted .
In very simple cases , you can make a routine to draw a 3-way Venn diagram , then " add " another circle on " the other side " of the triplet .
If it is possible because your data satisfies the above conditions ( for some reason your graph is planar and extremely complicated ) , AND you use amorphous blobs , you can draw the planar graph , and slowly grow each edge to " balloon up " into an ellipsoid .
The proposed solution uses NetworkX to create the data structure and matplotlib to draw it .
You can change the scaling of axes using the ` Axes.set_xscale ` and ` Axes.set_yscale ` functions , which both accept either ` linear ` , ` log ` or ` symlog ` as input .
This computes the spectogram but does not draw it .
How do I make my plot large enough , that the legend does not conceal data points ?
How do I extend my plot so that the legend is above my data points , but inside the plot ?
Use the command ` xlim ( 0 , 100 )` to set x-limits ( or ` ax.set_xlim ( 0 , 100 )` if you are using the object-oriented style of programming matplotlib )
See also this question about saving the legend outside the figure .
How can I create some gradient color in matplotlib and then set the parameter ` axisbg ` of my subplot to this ?
Instead use ( for the figure and the axes respectively ): #CODE
matplotlib legend location numbers
In particular , the location feature allows one to specifiy the location of their legend using numbers , following this scheme :
See the " obsolete location values " section in the documentation for MATLAB's ` legend ` : #URL
for MATLAB's ` legend ` : #URL
How are you executing the script in Sublime Text ?
My guess would be that Sublime Text 2 launches your code in its own environment , and only traps and displays the console output .
How can i specify the format for xticks / xlabel on a plot
I used subplot , thanks !
Just use ` pcolormesh ` on a polar axes .
You used to be able to smooth the rectangles by passing in a ` resolution ` keyword argument to the polar axes during initialization , but that's now ignored , apparently ...
xticks
xticks documentation .
I have a collection of points that join to form a polygon in 2D cartesian space .
the problem is the join them and form a polygon in a graph .
Correct way to join :
Because there have been closest points but when we join them they lead to an intersections or points which are not so close but should be joined together
@USER made an inkscape diagram for right order to join
so all the polygons should have symmetry w.r.t reflection about x , y axes and x = y axis etc .
PyQt matplotlib plot contour data on top of picture - scaling issue
Then I add a contour plot that is 30 x 30 large .
If I comment out the line that plots the photo , the contour plot covers the whole plot area .
If I include the photo , the contour plot appears in the bottom left corner .
It very much looks like it is plotted on a fraction that is about 30 / 272 of the whole canvas along each axes .
What I want is to have the contour plot cover the whole photo .
You can rescale your contour plot so that it fits correctly :
Instead of ( coloured dots in bottom left corner is the unscaled contour plot ... ):
Probably you can superimpose the contour plot on-top using separate axes , but this seemed the quickest way ;)
@USER , yeah , basically an image , although it would be nice to not have to add all the axes / legend stuff myself .
But all my efforts yield just an empty axes with no polygon .
Another try with patches also yields an empty frame : #CODE
For your Polygon version , you don't need to set transform argument to ax.transAxes , just call : #CODE
It seems to work well with the kind of interactivity you are looking for , even allowing animation .
When I use standard hist funcion of matplotlib library , I get only two bars.It counts all zeros and all ones and shows me the histogram with two bars .
I want to plot 1600 points to a graph ( only graph , not counting axes and whitespaces ) 1000 pixels wide .
I am happy with the result but for the last subplot ( not as wide as the others ) which I want left aligned with the others .
` get_position ` gives me the bbox of each subplot : #CODE
Judging from the narrower 4th subplot the image inside the subplot is somehow centered .
You can control the position of the subplot manually , like so : #CODE
i have the problem , that the matplotlib subplot confuses me .
Simple animation of 2D coordinates using matplotlib and pyplot
But I want to put this step inside the loop and plot at every iteration with a specified pause time so that I have an animation as the loop runs .
This is adapted from the animation demo : #CODE
How to set the margins for a matplotlib figure ?
The margins are extremely large around the figures .
How do I adjust the margins around the figures ?
Most questions that I searched for involved saving images ( bbox seemed perfect ) , and using axes instead of subplots for absolute positioning .
I want something that works for a ` Figure ` object .
` PatchCollection ` accepts a list of ` Patch ` es and allows me to transform / add them to a canvas all at once .
I'm looking for a matplotlib collection that will group patches just so I can transform them together , but I want to be able to change the individual patches as well .
I have a list to which I append Axes3D plots .
My ultimate question is , do I have to re-plot the original plot using the raw data like I did the first time , or can I somehow hide / disable the initial axes and then simply restore it ?
In the plot below , taken from matplotlib's gallery , contourf is used to create a 2d plot beneath the 3d one .
Making the 2d plot seems to be possible because contourf accepts a zdir argument , while I've looked and imshow doesn't .
Just specify the levels= option for the contourf , e.g. #CODE
I am trying to produce a scatter plot that has two different y-axes and also a colorbar .
My question is , how do you use a different scale for the " Wavelength " axes , and also , how do you move the colorbar more to right so that it is not in the Wavelength's way ?
For a fine grained control of the colorbar location and properties you should almost always rather work with colorbar specifying on which axes you want to plot the colorbar .
None | axes object into which the colorbar will be drawn ax
None | parent axes object from which space for a new
colorbar axes will be stolen
you could also see here a more extended answer of mine regarding figure colorbar on separate axes .
Thanks for the help on creating separate axes .
add two limits to the x and y axes to shift the tick labels a bit .
Alternatively if you go through the pylab library directly , instead of accessing the function through the axes object , you can just set that in one line :
Also , check out the more modern animation examples in the matplotlib documentation .
Finally , the animation API defines a function FuncAnimation which animates a function in time .
In order to do this without FuncAnimation ( eg you want to execute other parts of the code while the plot is been produced or you want to be updating several plots at the same time ) , calling ` draw ` alone does not produce the plot ( at least with the qt backend ) .
Changing font size of legend title in Python pylab rose / polar plot
I'm trying to change the font size of the title of an existing legend on a rose , or ' polar ' , plot .
Does anyone know of a way to change the legend title font size ?
How to set font size of Matplotlib axis Legend ?
ylim
@USER If you know the origin and the major / minor axes of the ellipse , you can simply generate points on the track .
no need for patches at all .
I was getting an axes figure error .
Matplotlib animation too slow ( ~3 fps )
Have a look through the matplotlib animation examples for some pointers on how to do this .
In your case however , take a look at the matplotlib animation example dynamic image 2 .
In this example the generation of data is separated from the animation of the data ( may not be a great approach if you have lots of data ) .
matplotlib color gradient in patches ?
I don't think ` matplotlib ` currently supports gradient fills for patches - see this email .
wanting to add gradient fills for patches ( eg polygons , rectangles )
Instead of using patches you could create a mesh , calculate the colours with a function then use ` imshow ` with interpolation : #CODE
and then putting a white mask z-intermediate with transparent patches where you want the markers , to get something more like gradient patches on a plain background .
It doesn't work on log-log plots ( not that patches work well , but they try ) 2 .
if you were to give the equation for zone_function() , possibly we could find a way to polygonize the output - then you could draw actual areas , not collections of dots .
python matplotlib - contour plot - confidence intervals
I want to take a numpy 2D array which represents a grayscale image , and convert it to an RGB PIL image while applying some of the matplotlib colormaps .
And you fix the xticks in a more elegant solution than mine .
how to fix axes position by using set_position method in python matplotlib ?
ax2 is an inset axes within the " ax " axes in figure " fig " , which I make by following here :
I guess when I use draw , it applies this command and the default anchor for set_aspect ( ' equal ') is ' center ' I guess .
Did you draw this one by hand or did you code it ?
Just add ` xlim ( 0 , 11 )` and ` ylim ( 0 , 11 )` ( or 13 ) .
Its because matplollib is guessing the axes limits incorrectly ..
I have a ` matplotlib.pyplot ` graph that updates in a loop to create an animation , using this kind of code that I got from another answer : #CODE
Automatically Rescale ylim and xlim in Matplotlib
I am updating the data of the plot based upon some calculations and want the ylim and xlim to be rescaled automatically .
You will need to update the axes ' dataLim , then subsequently update the axes ' viewLim based on the dataLim .
I can't figure out how to rotate the text on the X Axis .
With 1.2.0 , ` setp ( subplot ( 111 ) .get_xticklabels() , rotation=90 )` works fine with the Qt4Agg backend .
How do I re-draw only one set of axes on a figure in python ?
I have several plots in one figure using subplot .
Each axes instance is used to refrence a specific set of axes .
As you can see , one of my sets of axes is a 3d plot .
Which I thought had promise , but the axes isn't being updated .
Any ideas as to why this is happening , and how I can just re-draw the axes instance that I'm changing instead of the entire figure ?
[ Please be a bit more specific ] ( #URL ) - what particular library are you using to draw this ?
You can't draw a single axes , but you can update only a single axes .
If the range ( and therefore the ticks , etc ) of the axes are changing , this gets more complicated .
However , the new ` matplotlib.animations ` will handle doing this for you , and will only blit the axes of the artists you specify .
Which artists are animated ( and which axes are updated ) is controlled by the artists the function ( or callable object , as in this case ) returns .
I think that hlines is what you're after .
Duplicate Tick Labels in Matplotlib
For example , use ` findobj ` for printing all Text elements of an axis : #CODE
How to filter them out from a list of Text elements ?
` matplotlib.colorbar.Colorbar ` seems to have a ` update_ticks() ` method , but I can't find something similar for ticks on the axes .
The Tick object always creates two text labels , one for the left / bottom and one for the right / top .
When a Tick artist is drawn its ` label1On ` and ` label2On ` attributes define which of the two child text labels receive the ` draw() ` call .
I plotted the mask itself as a subplot #CODE
For a subplot ( ` self.intensity `) , I want to shade the area under the graph .
1 . send only part of the projection that needs to be filled to the command ; and draw the rest of the projection separately .
There's probably a better way to do this but what I was thinking was to sum the daily values from the csv and store them in an array , the use " legend " with some sort of small function to figure out placement and put those values from the array into it . ??
The problem comes after we've re-sized the canvas and attempt to draw the re-sized image using : #CODE
It's not the first draw :( We allow the user to select / drag a rectangular area of the image , and then zoom to that portion of the image , filling the canvas as much as possible with that selected area .
On adjusting margins in matplotlib
I am trying to minimize margins around a 1X2 figure , a figure which are two stacked subplots .
What is the command to completely minimize the margins ?
What are the other methods of adjusting layouts , especially for a single subplot ?
It looks like you're using a subplot ( the top one ) with a fixed aspect ratio ?
In that case , the adjustable part of the plot is the " box " of the subplot ( rather than the data limits ) .
The subplot spacing will be applied and then the subplot's outline will be adjusted so that the aspect ratio is correct .
If you want axes to take up different porportions of the figure , don't use a subplot that tells them to take up the same porportion of the figure .
Look into ` gridspec ` , or just manually adding the axes , in that case .
How to change contour colors in a range of values
Colormap class in matplotlib has nice methods ` set_over ` and ` set_under ` , which allow to set color to be used for out-of-range values on contour plot .
For now , I'm messing around with ` matplotlib ` and will want the graph to refresh on my screen when I plot something new .
You just need to convert your date to that format ( using ` matplotlib.dates.date2num ` or ` matplotlib.dates.datestr2num `) and then use ` annotate ` as usual .
I have a little issue , when I take the contour of an image , I get this figure :
As you can see I can extract the contour , but as soon as I extract the path , it will leave these strange secants that will cross the image because there are 2 discontinuous areas in on the curve .
I wonder if there is a way to disconnect discontinuous lines or is it my path extracting code is wrong #CODE
Matplotlib contour function is working properly since , there is two discontinuous spot on the image that caused this little event to happen .
I learn that those secant lines are cause by scypi , but it raises another issue on how the libraries interact with the contour points
The vertices are working properly , because it did strictly took the contour of this image and it has surrounded the curve .
just fetch the new image and append it to the existing content ...
You will also have to play with margins and padding ( both in matplotlib and in CSS ) to cleanly piece the tiles together .
That was a very useful hint .. in the end I fixed the problem using simply : xticks = np.arange ( 4 , 14 , 1 ) //
plt.xticks ( xticks ) //
These labels can then be displayed in a legend with #CODE
` legend ` takes some arguments , see the documentation to see what it can do .
matplotlib linked x axes with autoscaled y axes on zoom
How can I create a stack of plots with linked ( shared ) x axes that autoscale the y axes of all " slave " plots during zoom ?
When I zoom in ax1 , this updates the x axes of ax2 as well ( so far so good ) , but I also want the y axes of ax2 to autoscale based on the now visible data range .
All autoscale settings are on ( as is the default ) .
It didn't help to manually set the autoscale settings after creating ax2 : #CODE
One would except that " autoscale " should apply to the currently visible data , not to some region far off screen .
After studying the gory details of matplotlib's axes.py , it appears that there are no provisions to autoscale an axes based on a view of the data , so there is no high-level way to achieve what I wanted .
Unfortunately , this is a pretty low-level hack , which will break easily ( other objects than Lines , reversed or log axes , ... )
I was wrong about not being able to hook into the higher-level autoscale functionality .
In particular , tight=False now works ( looks much better after all ) , and reversed / log axes shouldn't be a problem .
Good thing that it's there , otherwise we would have a lot of fun overloading Axes and Figure ...
It got wrapped up in a subclass of Figure , which also got level-of-detail functionality and context menus .
matplotlib , step by step animation
or having multiple figures on the same window using subplot .
Adding a gridded subplot to WxPython GUI ( Matplotlib )
So , this code would be useful for displaying two captured signals , and it's relatively easy to add additional subplots , provided they exist on a symmetrical grid , but what I would like to do is add a third subplot to the right of these two plots which spans the height of both .
To be clear what I would like to do is add a third subplot to the right of the existing plots the height of which is equal to the current canvas height .
To be explicit , there is nothing specific about the fact that you are using WX python in this example - essentially the question boils down to how one would go about adding an axes to a figure which has the same height as two other axes .
Quickly and Efficiently update Matplotlib Axes ( Plot )
After performing a search it seems that if I were using a plot object that I I could reset the xdata and ydata then redraw the figure to obtain a faster refresh rate .
I appear to be limited to a refresh rate of approximate 3Hz .
Does anyone have any idea how I can efficiently ( quickly ) update the plots using the axes object ?
It is a little complicated , but you can draw all the objects by the following code : #CODE
matplotlib - Legend in separate subplot
Obviously it doesn't make sense to plot a legend for every one of these charts , since they are all the same .
So is there any way I can plot a single legend into a separate subfigure at the end ?
or if you want the legend in a new axes , just create a dummy pie , and create legend for it , and then hide the dummy pie : #CODE
Basically I want to draw a contour that shows the SPL based on the distance from the line array source of speakers .
A sample contour is here :
I know the contour I want is generated by sophisticated software and equations , but something close is fine for me .
This link might be helpful but I don't know how to get that contour with the equations from this info .
In this case , ` ax ` above is a handle to a pair of axes .
Whenever I want to do something to these axes , I can change my current set of axes to this particular set by calling ` axes ( ax )` .
This is called an artist .
The first line creates a new axes for the slider ( called ` axsliderA `) , the second line creates a slider instance ` sA ` which is placed in the axes , and the third line specifies a function to call when the slider value changes ( ` update `) .
The ` draw() ` function updates the current set of axes .
` figtext ` is useful for this since it adds text in the figure coordinates , that is , 0 to 1 for x and y , regardless of the axes .
Here I've used ` axes.set_position() ` to make some extra room on the bottom of the figure by making the axes a bit smaller .
Here I added room for lots of text and also so the text doesn't bump into the axes label , though it's probably a bit excessive .
Thanks for the answer , but when I try to do it the text at the bottom of the figure overlaps with the xlabel .
Do you know whether I can have both the text on the bottom and the xlabel ?
Text on the side seems quite handy though .
Here I've specified the extra space manually , and although there are a few ways to manually make the axes smaller to add space for the text , I don't know of a built-in way to do this automatically .
It also has some sort of refresh issue , if you pull it off of the screen and back on , the plot is gone .
Plotting a 2D contour set on 3D axes
Ideally I would like to plot an image at the base of my 3D array , however doing it as a filled contour set would be good enough .
However this winds me up with blank axes .
How about using the matplotlib's higher-level contour function : #CODE
Apparently all you have to use is scatter .
In order to map pixels / any other points with multiple colors use scatter with an x array , y array and pixel color array .
I am plotting a scatter plot on a Basemap .
However , the data with this scatter plot changes based on user input .
I would like to clear the data ( only the data -- not the entire basemap figure ) and re-plot new scatter points .
Currently I am closing the figure with clf() ; however , this requires me to re-draw the entire basemap and scatter plot together .
The basemap redraw takes too long and am hoping that there is an easy way to simply re-plot scatter points only .
I'd like to see how the scatter plot is being plotted .
The matplotlib.pyplot.plot documentation mentions that the plot() command returns a Line2D artist which has xdata and ydata properties , so you might be able to do the following : #CODE
I haven't managed to get the above to work for collections , or 3d projections , unfortunately .
I read something about subplot but it looks quite tricky .
You should use ` subplot ` .
You can define a function based on the subplots command ( note the s at the end , different from the ` subplot ` command pointed by urinieto ) of ` matplotlib.pyplot ` .
Below is an example of such a function , based on yours , allowing to plot multiples axes in a figure .
On this basemap ( of the United States ) I plot a scatter plot of different cities .
However , from looking at the code you can see how it determines the artist ( e.g. , point ) you've clicked on .
As described at #URL , different artist types ( i.e. , different kinds of plots ) will provide different event information .
For instance , for each ( x , y ) scatter point , I have an associated ' city name ' that I would rather display than the ( x , y ) value .
I am trying to plot some data using pylab scatter function .
Python matplotlib superimpose scatter plots
i want to superimpose scatter plots .
But it does not seem to work the same way with scatter .
You simply call the ` scatter ` function twice , ` matplotlib ` will superimpose the two plots for you .
You might want to specify a color , as the default for all scatter plots is blue .
I have got the plot ( US map with scatter plot of cities ) .
issue with pandas and semilog for boxplot
For some reason , when I use semilogy and boxplot with the video series , I get the error #CODE
but when I do it on the ' link ' series I can draw the boxplot correctly .
and I am able to draw the boxplot .
You could create a semi-log boxplot , for example , by : #CODE
Or , more generally , modify / transform to you heart's content , and then boxplot .
The problem I am having is dealing with setting how big the axes is so the xlabel is maintained on the canvas of the figure so when output it shows up .
Another question pertains to if a figure has a legend :
I usually use this set of legend arguments but how do I set the other specifications after the fact ?
have a look at #URL for positioning of the axes
You can change the axes position using the set_position function : #CODE
The documentation for the above command is found in the matplotlib axes documentation .
You can also find functions for the legend instance in legend in the API , which you've probably found , or dig around in the documentation for the child objects , you can call the child functions too in the same manner as you have for this line : #CODE
I am trying to plot a linear regression line on a scatter plot .
I've also created an additional list variable , and renamed the fig_list , because the axes instance was being overwritten by the instance of the plotted object .
Axes API
This is close to what I was looking for , though I don't really like the white space I end up having on top and bottom in every subplot .
` set_title() ` should work on an axes instance .
The axes documentation is at #URL Basically , an axes is a region inside the figure in which you plot artists ( or another objects ) .
Each table has it's own axes instance .
Also , note the ` set_position ([ left , bottom , width , height ])` command can be used to change the size of the axes , which will bring the title closer to the table .
That is the location of the Axes image object .
Looks like it says it displays the object to the current axes .
You can usually retrieve the artist in question using the following command in the callback function : #CODE
And from there check things like labels ( ` thisline.get_label() `) or whatever other artist properties are of interest to you .
I am trying to get an filled binary mask of a contour of this image .
I took a look this question SciPy Create 2D Polygon Mask ; however it does not seem to like my set of data .
I am using the contour of that image above .
in your example code I get the the xticks are locatedat #CODE
The axes class has a set_yticklabels function which allows you to set the tick labels , like so : #CODE
Caveat : Unless the ticklabels are already set to a string ( as is usually the case in e.g. a boxplot ) , this will not work with any version of matplotlib newer than ` 1.1.0 ` .
By default , it's re-set by the axis's Locator and Formatter every time the plot is drawn .
Often , what you actually want to do is just annotate a certain position .
In that case , look into ` annotate ` , instead .
If the ticklabels are already set to a string as in e.g. a boxplot , this is still working .
In newer versions of ` matplotlib ` , if you do not set the tick labels with a bunch of ` str ` values , they are `''` by default ( and when the plot is draw the labels are simply the ticks values ) .
I find that browsing the gallery of plots on the matplotlib site helpful for figuring out legends and axes labels .
Start off with a list of filenames and legend names , like [ ( ' name of file 1 ' , ' label 1 ') , ( ' name of file 2 ' , ' label 2 ') , ... ] .
Just use the ` align ` optional parameter and ` xticks ` does the magic .
If I replaces the variable ` dates ` with the variable ` t ` in the call to ` avail_plot ` , the ` xticks ( rotation=70 )` call works just fine inside ` avail_plot ` .
Since you have two axes here , I think plt.xticks gets confused after you've made the two plots .
It seems that at the point when plt.xticks doesn't do anything , plt.gca() does not give you the axes you want to modify , and so plt.xticks , which acts on the current axes , is not going to work .
It tried to import ` Figure ` from ` figure ` : #CODE
which tried to import several things from ` axes ` : #CODE
I am attempting to plot this data in a contour .
I was able to catch them and change them all to 0.1 and the interpolation no longer produces the null values . this is acceptable in my case because 0 and 0.1 fall under the same contour color .
How do I refresh a matplotlib plot in a Tkinter window ?
One of these commands would be to display the spectral data on a graph within the same window .
I also want to add a legend to the chart if possible .
My resulting plot ( in blue the contour , plotted with above function . In red , the barplot of the same data ):
Saving a matplotlib / networkx figure without margins
When I draw a figure using ` matplotlib ` how do I save it without extra margins ?
I get it with some margins :
The spaces are set inside the axes ..
I don't know what networkx is doing , but I imagine it's setting some plot parameters that are adding extra space to the axes .
( It may be , for instance , that networkx is adding the space inside the axes , not the figure ; what does it look like if you remove that ` axis ( ' off ')` call ? )
this is actually does not change the margins . thank you
Can you give an example of what you mean by " margins " ?
yes , you are right . the spaces are inside the axes .
Without knowing the specifics of networkx I cannot be certain that this will work , but to remove the whitespace completely from the outside of an axes in matplotlib , you can do something along the lines of : #CODE
How to scale axes in mplot3d
I can't seem to find documentation regarding the ability to scale axes in a 3d image using matplotlib .
And the axes have different scales .
Default matplotlib axes rotates through Dash / Dot-Dash / Solid while rotating colors instead of just solid
I am trying to " annotate " a candlestick chart with matplotlib , but I'm having a hard time finding the coordinates for each candle in order to annotate .
How to resize the axes in 3d plots with matplotlib
How to scale axes in mplot3d
How to change the size of axes ( not the figure ) in matplotlib ?
This causes the axes to shrink yielding large amount of white spaces in the figure .
It looks like you can't set the capstyle on matplotlib line collections .
If you simply call the hist and plot function on the same figure then the 2 should be superimposed
Then I could draw the error bars with ` plt.errorbar ` .
From the documentation : " Set the zorder for the artist .
One option is to explicitly define the figure size ... you may also need to specify the subplot parameters if you are using non-default settings .
Adjust figsize and subplot parameters as needed for non-equal horizontal and vertical scales .
I'v noticed that there exists [ Circle ] ( #URL ) in the patches , why don't you just use it instead of Ellipse ?
If so , you just need to define the correct transform .
I'm traveling right now , so I can't give an example , but this tutorial is a good start : #URL You'll want a blended transform .
Now , I have a list of booleans and I just want to draw a grey rectangle for each ` True ` value and a red one for each ` False ` value .
@USER you are right , the axes were swapped .
In interactive mode , the ` xlim ` line returns ` ( 16.0 , 16384 )` , the old values instead of the new values I'm trying to set .
Look for animation API of Matplotlib .
If you don't want to worry about the leading slash in front of the sub-directory name , you can join paths intelligently as follows : #CODE
So I'm trying to get a 3d animation of a scatterplot in matplotlib , based off the 2d scatterplot animation posted here and the 3d line plot posted here .
Is it possible to use plot() with points instead of a scatter plot ?
But the scatter plot don't seems to be intended for animations ; it's too slow .
why not looping over your data and [ draw the arrows manually ] [ 1 ] ?
When filling a grid with color such as when using contourf in pyplot , I need to find a way to change the color that pyplot uses to fill data that exceed the specified range of the colorbar .
It is simply the blank background of the axes .
The " extend " argument is the key ; it tells contourf to go ahead and plot all contours , but collapse all outside the given range into " too big " and " too small " categories .
The ` cs.set_clim ` call is necessary to work around an oddity I discovered in contourf while debugging this ; for some reason when you use ` extend ` , it manipulates the data limits , so we need to reset them back to what we want them to be .
You are instantiating the base Colormap class , creating a new , empty Colormap , not using the " spectral " colormap .
where ` x ( y ) min / max ` are the coordinate limits for both axes .
@USER Using ` xlim ` / ` ylim ` or ` axis ` doesnt matter , since ` axis ` calls ` xlim ` / ` ylim ` to perform the operation .
Splitting the legend in matploblib
Is it possible to split up a single big legend into multiple ( usually 2 ) smaller ones .
I would like to split the legend into two and place them where white space is available .
I found that using ` matplotlib ` just to draw a diagram into a file is not as easy as it seems from reading the tutorials .
So I wonder if there is a way to draw diagrams with matplotlib ( or python at all ) without relying on a window ( -manager ) to do the work .
You just have to set the color of the spines to ` none ` using the ` ax.spines [ spine ] .set_color ` method .
How to update imshow in matplotlib without overwriting new color bar or subplot title ?
I am trying to update the matplotlib figure by collecting user input ( i.e. what frame they want displayed , various other options ) so I do not want to generate the animation in advance .
If I try clearing the subplot , then adding the image and color bar back , finally re-drawing the canvas I get this :
Next , append t ( 1 ) to you original x , y , z lists , update the plot with the new x , y , z coordinates , then refresh the plot ( which is the old way of doing animations in matplotlib ) .
uses the built in animation function to generate an animation the new way , which is exactly what I think you want , just add your third coordinate .
you have to copy / paste some of your relevant codes here , it's unclear to me whether you want ticklabels or axes labels in strings .
@USER - take a look at the [ available colormaps ] ( #URL ) , or you can make your own .
matplotlib legend circle markers
I'm making a legend for a scatter plot using a proxy artists ( #URL ) and attempting to make circle-shaped markers .
But when I plot it , the legend doesn't have a circle and instead displays a rectangle ...
How do I get the legend to have circle markers ?
If all you are looking for is a circular marker in the legend ( as opposed to strictly using proxy artists ) , then I suggest trying something like : #CODE
@USER When adding patches ( which Circle is ) to be added to a legend , it is not the patch itself which is added , but a new Rectangle patch is created with exactly the same properties ( color , hatching , alpha etc . ) of the given patch .
Hence , no matter the incoming shape , the result will be a square patch in the legend .
The simple solution , as given by @USER , is to pass line instances to legend , which can support arbitrary markers , and since there is no limitation on the shape of a marker , there is no limitation on the shapes that you can pass to be put on the legend .
draw candlesticks ( matploblit )
For the record my data includes minus coordinates on all 3 axes .
I use the answer shown here to draw my figure , which looks like
Are you plotting more than one point at a time with scatter ?
Changing the background color of the axes planes of a matplotlib 3D plot
On the basis of the scatterplot example of matplotlib , how can I change the gray background color of the 3 axes grid planes ?
There's an example in the ` collections ` docs which shows how to combine the ` collections.OrderedDict ` and ` collections.Counter ` which should do what you want : #CODE
As far as I am aware , there is no outstanding ticket to get this into matplotlib , but that demand may rise once 1.2 ( as yet no release date ) makes contour hatching possible .
The secondary y-axis generated using twinx() shows the wrong font for ticklabels and ylabel !
This means that figures and axes are implicitly and automatically created to achieve the desired plot .
For example , calling plot from pyplot will automatically create the necessary figure and axes to achieve the desired plot .
Setting a title will then automatically set that title to the current axes object :
Python matplotlib barbs / quiver map colors to different sets of values
The documentation for the barbs and quiver functions ( they are similar ) mentions the C input arg :
An optional array used to map colors to the barbs
I managed to discover that by setting C equal to the array of vector magnitudes and specifying the " cmap " kwarg , it will map the barbs to the specified colormap , as in the example code below .
You can switch between the plots using ` axes ( ax2 )` .
This does draw the window and continue the processing , but the window immediately goes to " not responding " and closing it stops the whole process .
correcting the axes using imshow
I was trying to make a contour plot using numpy.meshgrid and pylab.imshow() ; this worked really well at first using some tips I found on stackoverflow ( thanks guy ! :D ) #CODE
However , you'll notice that the axes are numbered by the size of the two input matrices and not by the actual values .
This does fix the axes , but scales the image is a really weird way :
Any thoughts on how I can rescale the axes without making the image look so odd ?
@USER you're right , a simple ` legend ( lineObjects , ( ' foo ' , ' bar ' , ' baz '))` perfectly works .
Update : I can now get the image to at least appear by using ` m.imshow ` instead of ` plt.imshow ` , since the former passes in the map's axes instance , but the ` extent ` argument seems to have no effect on the dimensions of the image , as it always fills up the entire plot no matter how small I make ` extent ` dimensions , even if I set them to zero .
In this case , you can just transform the extent into uv coordinates with : #CODE
The advantage to this is that the plane is in axes coordinates and will stay the same size relative to the size of the figure when zooming in .
I am attempting to use this method to animate multiple images per frame using the ` matplotlib.animation ` package , and I receive the error ` AttributeError : ' list ' object has no attribute ' axes '` .
Non-linear axes for imshow in matplotlib
I am generating 2D arrays on log-spaced axes ( for instance , the x pixel coordinates are generated using ` logspace ( log10 ( 0.95 ) , log10 ( 2.08 ) , n )` .
I want to display the image using a plain old imshow , in its native resolution and scaling ( I don't need to stretch it ; the data itself is already log scaled ) , but I want to add ticks , labels , lines that are in the correct place on the log axes .
For linear axes , using ` extents= ` in the call to imshow does what I want , but I don't see a way to do the same thing with a log axis .
There's no way to do ` xscale ( ' log ')` with imshow ?
I just tried imshow with extent and followed by ` xscale ( ' log ')` and it works fine .
Previously I was getting errors about " Images are not supported on non-linear axes " which is why I asked this question .
#URL UserWarning : aspect is not supported for Axes with xscale=log , yscale=linear
' yscale=%s ' % ( xscale , yscale ))` and ` C :\ Python34\lib\ site-packages \matplotlib\image .
#URL UserWarning : Images are not supported on non-linear axes .
warnings.warn ( " Images are not supported on non-linear axes . ")` Obviously it does not work correctly as aspect ratio is wrong etc .
However , the sample consists of distinct solutions which form lines in the parameter space such that putting everything into a matrix and using ` imshow ` is not desirable because of the pixelation artefacts ( Figure 1 ) .
See Figure 2 .
As you can see , all you really need to do is use the legend method on a figure to achieve the same results .
My original idea was to use the basemap script below but I can only get scatter to work , though this does not give me a density plot .
histogram_2d gives you the density data , pcolor could draw it .
I have tried to use ` ax.xticks ( ... )` and ` f.add_axes ( xticks =[ 1 , 2 , 5 , 7 ]` but these didn't work .
I've also written a custom function to ` annotate ` the itervalues , as a bonus it can annotate between ` ( A , C )` if you really want to ( I stand by my comment that this isn't the right visual approach however ) .
Oh yeah , I also put ` ha= ' center '` in ` annotate ` .
Even though , I have explicitly set the parent of canvas , Figure generated is not closed when mainwindow is closed .
What specifically do you mean by " Figure generated is not closed when mainwindow is closed " .
Yeah you are right on that point , but I was looking for something like registering a callback to the a particular artist with an event like " hover_event " That is what I mean by a direct event
I didn't know that I need to call draw() on the canvas each time I draw something .
matplotlib autoscale axes to include annotations
I have a figure where some labels are long and / or multiline strings , and rather than clipping these to the axes , I want to expand the axes to include the annotations .
I've tried to do something like the code below , which loops over all the annotations ( assuming they are in data coordinates ) to get their extents and then updates the axes accordingly , but ideally I don't want my annotations in data coordinates ( they are offset from the actual data points ) .
BTW , setting xlim as you do in your example changes only the range of the data you plot and not the white area around all your labels .
So you need to explicitly call ` plt.draw() ` , then adjust your bounds , and then draw it again .
But if the canvas hasn't been drawn yet , it seems to respond in whatever coordinate system you specified in the ` textcoords ` keyword argument to ` annotate ` .
We want to change the limits so that the text label is within the axes .
It's nontrivial to figure out how to get from there to a new set of axes bounds .
This is in display coordinates , which we can transform with ` ax.transData ` like we're used to .
Also , I'm using ` update_datalim ` instead of ` xlim ` and ` ylim ` directly , so that the autoscaling can notch itself up to a round number automatically .
` scatter ` will do what you want ( doc ) .
I had to make a few changes to work with a scatter plot and I added panning with a left button drag .
Basically , I zoom in the axes coordinates which are normalized to be [ 0 , 1 ] .
This function is within an object that contains a pointer to the axes ( self.ax ) .
How do you propose to generate a contour line from such limited data ?
A contour line ( also isoline , isopleth , or isarithm ) of a function of two variables is a curve along which the function has a constant value .
In contrast , ` contour ` is curves along which some variable has a constant value .
Use griddata() to convert scatter points in to grid data , here is an example : #CODE
It's not the fastest solution but it should be pretty flexible ( more so than solutions which apply imshow to the patches ) .
Now , I draw on the canvas as such ( using the ` draw_artist ` method ): #CODE
Are you adding the artists to the axes ala ` axes.add_artist ` ?
Change x axes scale in matplotlib
Tick location is a plain old number .
I would like the labels and ticks for both x and y axes to be drawn from the DataFrame.index and DataFrame.columns lists , but I can't figure out how to do it .
The problem is that the number of digits in the Y-axis varies from set to set ; this is causing a problem as I can't seem to get the layout to accomdate a ylabel + the digits without clipping .
I'm also planning on gridding these plots eventually , so I'm also going to try creating a subplot grid in matplotlib directly .
The trick to both of your questions is understanding that bar graphs in Matplotlib expect each series ( G1 , G2 ) to have a total width of " 1.0 " , counting margins on either side .
Thus , it's probably easiest to set margins up and then calculate the width of each bar depending on how many of them there are per series .
From what you've written above , it sounds like you either want the width of the entire graph to be smaller ( this can be set in the line which creates the figure ) or want the margins themselves to be larger , which will keep the aspect ratio the same .
If the solution is to add additional margins , I'm not sure how that would work .
How to turn off the ticks AND marks of a matlibplot axes ?
I want to plot 2 subplots by using matlibplot axes .
Since these two subplots have the same ylabel and ticks , I want to turn off both the ticks AND marks of the second subplot .
( A solution might be make the last mark invisible for each subplot except for the last one , but not sure how ) .
How to make the last mark invisible in a matplotlib axes subplot ?
Say the marks of an axes subplot is shown as " 0,20,40,60,80,100 " , but I want to make the last mark 100 invisible .
Not sure how to do it for a matplotlib axes subplot ?
Sans-serif Font for Axes Tick-labels with Latex
It seems that when using Latex matplotlib uses a serif font for the axes labels .
Is there a way to set the ' rc ' so that matplotlib will use a sans-serif font for the axes labels ?
Using your argument there would be no point in learning how to draw line graphs in matplotlib because you could just do it in Excel
Puts the xticks in the middle of the bars
You can use plt.normalize() to create a Normalize object to normalize your data , and pass the normalize data to the Colormap object to get the colors .
i tried xticks ([ 0 , 5 , 10 , 15 ]) for checking out but couldn't get the required result .
From your description , it sounds to me like you want to use the " scatter " plotting command instead of the " plot " plotting command .
As I mentioned in the comments , some of the handy " plot " shortcuts don't work with " scatter " so you may want to check the documentation : #URL
After plotting , get the Axes object from plt using ax = plt.gca() .
Then set the xlim , and ylim of ax object to match image width and image height .
Matplotlib seems to automatically increase xlim and ylim of viewing area when you plot .
I am able to create a hexbin plot ( see image ) , however , I would now like to normalize these distributions and draw contour plots around them .
@USER isn't asking how to create a generic contour plot -- he's asking how to create a contour plot on top of a hexbin map .
I must admit , understanding how to create or manipulate matplotlib's colormaps is not an easy thing .
I would then like to use this cmap in ` contourf ` :
Add tilted ( floating ) axes to overlay with standard axes
They should be added to axes already used for displaying an image .
The center of the tilted axes should be localized at a certain coordinate ( x0 , y0 ) , in my case ( 8 , 8) , and I'd like to be able to treat the new axes like the normal axes , i.e use functions like set_xlabel , grid , etc . on them .
I was trying to get results using Affine2D transforms , floating axes and spines , but was unable to get the correct grip on this matter .
I know that , with a substantial amount of spin up time , I believe it is possible to do what you are asking using floating axes .
Indeed , a little later I stumbled across the package [ pywcsgrid2 ] ( #URL ) which apparently successfully deals with such floating axes for astronomical images .
Seems like the library you are referring to is using the floating axis artist in the mpl AxisArtist implementation .
interpretation of bins in matplotlib hist
You'll find detailed help on this in numpy's and matplotlib's documentation of the ` hist ` command .
It has an attribute ` axes ` which specifies which axes it is associated with ( and is set to ` None ` when the ` LineCollection ` is created ) .
When you add the ` LineCollection ` to the second axes the axis which ` lc_edges ` has recorded change ( and it is added as a child of ` ax2 `) , but I bet that the change does not propagate all the way down the object stack and something grows confused .
Typically this isn't how you would do things ( I would normally update the axes rather than add / remove one each time ) but perhaps you have a good reason for doing it this way .
I dont really know how this thing with the axes works but i suppose it conflicts with the subplot2grid i use in the plots i add to the figure .
Do I have to resort to doing something like plotting my own rectangular patches ?
The following code uses ` matplotlib.pyplot.grid ` to turn on a grid and set the grid properties ( line colour , style and width ) and then uses ` plt.gca() .patch .set_facecolor ( ' 0.8 ')` to change the axes color ( I'm not sure if there is , but there must be convenience function to do this ) .
Currently what I am working is to plot ~ 40 figures , each of which has 4x5 subplot region .
Using ideas from the Matplotlib Animations Cookbook ( and also demonstrated by Joe Kington , here ) , we can speed this up by about 33% ( 1 second per figure ) by reusing the same axes and simply redefining the y-data for each plot : #CODE
And reusing ( or ' freezing ') the same axes is a good hint !
I agree , I usually start with loadtxt , move up to [ genfromtxt ] ( #URL ) if I need a little more flexibility , and then csv if the first two don't pan out .
@USER Because Python automatically join two adjacent strings into one string .
He ask me why `' some string ' ' another string '` is OK , because Python automatically join adjacent strings into one single string .
Python generators allow you to generate results on the fly as you iterate through collections / list of values .
Python's map and reduce functions allow you to apply functions ( e.g. sqrt ) to each element in the list and with reduce you can reduce each of the results of some operation to the list into a single value ( Check 2.1 " mapping the list ") :
matplotlib generate animation , each file is a new frame
Each of those files have 20 plots I'd like to turn into an animation , where each file represents a different frame .
On any given subplot , I have 1 to 6 y values plotted against it .
I would like the animation to be formed without relying on ffmpeg or mencoder as those may not be available on the computers running the code .
The append data is not the nicest way to get all the X and Y data in lists .
On reading the data : it seems you now append the next set of data to the current data .
So that Python finds the right objects to append to .
I only did the append earlier because I tried passing in data , but it would send data from the wrong index ( a row of X , Psi , Ec , Ev ... ) .
I am using a contour plot to generate a table of values ( I'm interested in the deviance between cases and not the actual value ) .
Understanding Figures , Axes and Plots in Matplotlib / PyQt
Then you give that figure a pair of ` axes ` , and finally you tack on all the plots you want onto that pair of axes ?
Create a figure which can hold Axes instances ( and other artists )
Create a canvas for the figure to draw itself to
Create an Axes instance , ax , to which plotted lines / patches etc can be added .
I think your confusion comes from the understanding of what an Axes is .
By default there is only one Axes in a figure , no matter how many times you run the command ` plt.plot ( range ( 10 ))` , although you may decide to use ` plt.subplot ` to have sub-plots in your figure , in which case you would have many Axes instances in your figure .
I've encountered this behaviour intermittently using the Matplotlib NavigationToolbar2Wx in a Matplotlib Figure canvas in a wx.Frame ( or wx.Panel ) .
Can be fixed by setting the ( one-sided ) ylim / xlim after ploting the values .
Just set ` xlim ` for one of the limits : #CODE
Since data seems to be condensed at the bottom , try plotting with a log scale ` yscale ( ' log ')` #CODE
can you provide an example of yscale ( ' log ')
You can either achieve your case using ` plot ` or ` scatter ` , depending on what you are doing : #CODE
I would like to know how to transform data so as to obtain :
but I dont know how to transform data X , Y , Z to make them fit requirements for matplotlib function , which want 2D lists for X , Y , Z .
The latter has a zoom , pan functionality which is what I would like to embed in my GUI .
Actually , what I try to do is to draw a graph on an image by using NetworkX package and save the figure which I use somewhere else .
rulBayrak : please append your code to the end of your question , it's not readable in a comment .
Some notes on my plots : They use the same axes , but contain a scatter plot , fill boxes , and annotations -- which are always changing .
I would love to draw these with smooth curves , if possible .
I believe it might somehow refer to a cubic spline representation , but how would I use these points if I wanted to manually draw the edge in matplotlib ?
I'm making a polar contour plot with matplotlib .
Afterwards i want to add an poison error ( sqrt ( binheight )) to the bars .
You can use to output of ` hist ` and plot it as a bar : #CODE
This is the result : The legend is fine , but the x-axis are inverted and the image doesn t appear
Since you want to approach things by looking at the data rather than artists on an axes I thought I would give you a little bit more aid .
I am not able to draw a simple , vertical arrow in the following log-log plot : #CODE
I know this thread has been dead for a long time now , but I figure posting my solution might be helpful for anyone else trying to figure out how to draw arrows on log-scale plots efficiently .
As an alternative to what others have already posted , you could use a transformation object to input the arrow coordinates not in the scale of the original axes but in the ( linear ) scale of the " axes coordinates " .
What I mean by axes coordinates are those that are normalized to [ 0 , 1 ] ( horizontal range ) by [ 0 , 1 ] ( vertical range ) , where the point ( 0 , 0 ) would be the bottom-left corner and the point ( 1 , 1 ) would be the top-right , and so on .
This gives an arrow that spans diagonally over 4 / 5 of the plot's horizontal and vertical range , from the bottom-left to the top-right ( where ` plot1 ` is the subplot name ) .
If you want to do this in general , where exact coordinates ` ( x0 , y0 )` and ` ( x1 , y1 )` in the log-space can be specified for the arrow , this is not too difficult if you write two functions ` fx ( x )` and ` fy ( y )` that transform from the original coordinates to these " axes " coordinates .
Anyway , your call to ` axes ` should be replaced by ` axes() ` .
the ' axes ' bit was a typo
The problem in the original code was that only one point at a time was being draw , so obviously no line was drawn to screen .
on the xlim , ylim bit where is the other ']' meant to go as i keep on getting ' invalid syntax ' ?
that it does , awsome Chris you have been amazing help , so the line.set_x / ydata ( append ( .. creates a list in which the next data point is chosen ?
Basically the append , in this case , takes the list of whatever has already been plotted ( ` get_x / ydata `) and adds to that list the next element to plot on the line , which we plot with ` #URL So it does not create a list , we get the list from ` get_x / ydata ` and just add to it .
draw 3D yield surfaces with matplotlib
I was wondering how to draw 3D yield surfaces as shown on this page #URL .
I have been trying to draw the von Mises yield surface as a start but with no success at all .
I am new to python and I am working on a graph problem and I want to draw this graph to have a better understanding of it .
In each subplot , there are 20 different curves , which represents 20 steps , by using a for loop .
Like in the code I have below , the top subplot ( 311 ) has 20 blue curves ... how can I make the 1st step be dark blue and have the blue gradually fade until the last step be a light blue ?
To place the subplots side-by-side , use ` fig.add_subplots ( row , columns , n )` to define the 6 axes .
It's clearing the initial plot , but like I said the axes are stacking ( because it's redrawing one each time , corresponding to the slightly altered data points ) .
You might also like to read the cookbook article on animation .
I am trying to draw a basic graph by using NetworkX on a figure and save it .
Possible duplicate of [ Saving a matplotlib / networkx figure without margins ] ( #URL )
How to set the margins for a matplotlib figure ?
Reduce left and right margins in matplotlib plot
What I try to do is to draw a graph on a figure by NetworkX then save it as an image .
I cannot claim I know exactly why or how my solution works , but this is what I had to do when I wanted to plot the outline of a couple of aerofoil sections without white margins to a PDF file .
You may even have modify this to keep fat lines near the limits of the figure from being shaved by the lack of margins .
This grabs the current ` axes ` , gets the x-axis ` axis ` object and then the major formatter object and sets useOffset to false ( doc ) .
I want to make a 3D plot for these 100 points in X , Y and Z axes .
I have generated lists that I require for all 3 axes .
The documentation states that for matplotlib versions 1.0.0 and greater you should create a 3D axes as follows : #CODE
vertical extent of the axes , regardless of the ylim settings , even if
the vertical extent is in axes coords : 0 =b ottom , 0.5 =middle , 1.0 =top
resetting points of an already plotted scatter in matplotlib
if I have a scatter plot in matplotlib that returns a CircleCollection :
I know I can pass a vector of colors to ` c= ` in ` scatter ` but I'd like to intentionally reset the points later , since the colors are not known for all the points at the time when ` plt.scatter ` is initially called .
I am looking for the simplest way to color points in a scatter based on different conditions .
if ` points ` is a two-d array and you plot it with ` scatter ( points [: , 0 ] , points [: , 1 ] , c- " k ")` , it's convenient to later on based on certain conditions , e.g. #CODE
The various conditions according to which points have to be re-colored might be complex and happen later than when the initial scatter is made , so it's convenient to just be able to change the color of an existing point , rather than split the points up based on conditions and plot them all separately .
right , but that means I have to do all the computations of the colors before the initial call to scatter is made , no ?
You need to extend ` colors ` array explicitly if you use the single color when calling ` scatter ` .
When you call ` scatter ` , pass every point a color , then you can change the ` _facecolors ` ndarray directly .
Indeed , this can be done with matplotlib event handling and a little trick from animation ( calling ` set_ydata ` to change the plot ) .
I think you don't need to recreate the Figure & FigureCanvas object .
If you're interested in realtime plotting , I'd recommend looking into matplotlib's animation API .
To make it work as a standalone script , it's necessary to 1 ) explicitly select a backend for matplotlib , and 2 ) to force the figure to be displayed and drawn before entering the animation loop using ` plt.show() ` and ` plt.draw() ` .
I have several axes and axis ranges are also changing .
If you want draw and not freeze your thread as more point are drawn you should use plt.pause() not time.sleep()
I am trying to make a 3D scatter plot and color-code the symbols .
If you really wanted you could always wrap ` scatter ` to apply the filter as shown above , that way you get the effect you want .
Try specifying the colors as the ` edgecolors ` kwarg to ` scatter ` .
how to shade points in scatter based on colormap in matplotlib ?
I'm trying to shade points in a scatter plot based on a set of values ( from 0 to 1 ) picked from one of the already defined color maps , like Blues or Reds .
edit : if I want to plot each point separately so it can have a separate legend , how can I do it ?
I need to make a call to scatter for each point so that it can have a separate label= , but still want each point to have a different shade of the color map as its color .
It's worthwhile mentioning one quirk : if you start with the OP's code and change ` color ` to ` c ` , it still won't work , because ` x ` only has 9 elements while ` spaced_colors ` has 10 , which triggers a different branch in ` scatter ` .
why doesn't it work if you specify the color of each point individually by multiple calls to ` scatter ` ?
Because there is a step inside scatter which defines a normalization instance , and because it doesn't have context of all the data , the normalization cannot scale the dataset correctly ( and hence gets the wrong colors ) .
I'm trying to make a simple subplot with a dendrogram in one subplot and a heat map in another , while maintaining square axes .
but the problems are that the axes are not square , and the colorbar is considered part of the second subplot .
I tried using ` aspect= ' equal '` to get square axes when calling ` subplot ` as the documentation suggests , but this ruined the plot , giving this ...
if I try to use ` plt.axis ( ' equal ')` after each subplot instead of ` aspect= ' equal '` , it strangely squares the heatmap but not its bounding box ( see below ) , while destroying the dendrogram altogether and also messing up the alignment of the xtick labels ....
how can this be fixed ? to summarize , I'm trying to plot something very simple : a square dendrogram in the top subplot , and a square heatmap in the bottom subplot , with the color bar on the right . nothing fancy .
finally , more general question : is there a general rule / principle to follow to force matplotlib to always make axes square ?
I cannot think of a single case where I don't want square axes but it's usually not the default behavior .
pad : set the space between the axes and it's colobar
I know those examples well but they don't apply I believe when there's a dendrogram in the other subplot , since that breaks things for some reason .
do you know why matplotlib messes up the vertical alignment of the x labels in the bottom subplot ?
How can I draw a cross which follows my mouse cursor ?
I want draw a cross in my ` paintEvent() ` which moves with the mouse .
This will tell Qt to use the Cross Cursor whenever the mouse is over that particular widget .
Tks.In fact , I want to implement the funtion as this : cursor = Cursor ( ax , useblit=True , color= ' red ' , linewidth=2 )
I have a matrix of data in which the x and y axes are logarithmic .
I'm trying to use ` imshow ` to display the matrix , but since I want log axes I'm setting the ticks in the ` imshow ` axes to ` [ ]` , and then overlaying another set of axes : #CODE
It's also quite strange that I can't use the ` GridSpec ` object to initialize the second set of axes ( doing so makes the image disappear ) .
I am trying to find maximum values of a sinusoidal and show it in a subplot .
And trying to update it like an animation .
But the subplot of the maximum values gives all zero values .
Whey second subplot is not updating ?
As far as I can tell , the subplot * is * being updated .
y=y+randn ( size ( y )) / sqrt ( 10^ ( SNR / 10 ) *2 )
Try using interactive mode with ` show ` replaced with ` draw ` .
A conditional statement in annotate , just could work .
@USER Just updated the answer to show how to get the ` xlim ` of a figure .
I have plotted two arrays using Matplotlib stem command as follow : #CODE
Is there a way i can modify the color or other attributes of these lines in general without have to specify them at the time of instantiation ( i.e. using stem command )
how to annotate heatmap with text in matplotlib ?
how can I annotate the heatmap with the actual numbers plotted ?
how to plot and annotate hierarchical clustering dendrograms in scipy / matplotlib
My questions are : first , why does ` mat ` and ` 1-mat ` give identical clusterings here ? and second , how can I annotate the distance along each branch of the tree using ` dendrogram ` so that the distances between pairs of nodes can be compared ?
How can I annotate the distance along each branch of the tree using dendrogram so that the distances between pairs of nodes can be compared ?
matplotlib : clearing the scatter data before redrawing
I have a scatter plot , over an imshow ( map ) .
I want a click event to add a new scatter point , which I have done by scater ( newx , newy )) .
As there is no remove ( pickX , PickY ) function , I must get the picked Index and remove them from the list , which means I can't create my scatter as above , I must scatter ( allx , ally ) .
So the bottom line is I need a method of removing the scatter plot and redrawing it with new data , without changing the presence of my imshow .
much to my suprise , this dispensed with my imshow and axes too :( .
If not , you can create a new artist , and add it to the list of clickable points : #CODE
I didn't play with it long enough to figure out how to force the legend to pick up the defined colors , but I'm sure you can do it .
Using complex numbers in stem command in Matplotlib
Now when I use ` stem ( a , b )` , I get the following error : #CODE
` stem ` plot plots vertical lines at each horizontal ` a `
Perhaps two stem plots , ` stem ( a , np.real ( b )); stem ( a , np.imag ( b ))` ?
You only need the real part of the complex number for the stem plot .
so i decided to use animation feature of matplotlib . in Future i would aslo like to pause the moving line .
Instead of creating so many axes , you can add Rectangles to one axes , here is the code : #CODE
When you call ` plt.xlabel() ` , pyplot will create an axes , that's the background axes . delete the two lines call plt.xlabel() plt.ylabel() and add following lines after ` axScatter = plt.axes ( rect_scatter )` #CODE
You can pass a color array to the facecolors argument , it can set every patches in the surface a color .
Upon running the first time I get a bunch of LaTeX errors and a blank figure window , running again shows the graph but the xlabel reads ' ho Ai ' where the i is subscript as expected .
I have a figure that consists of an image displayed by ` imshow() ` , a contour and a vector field set by ` quiver() ` .
For clarity ( not shown in this example ) , I would use different colormaps to distinguish the two types of plots .
I did this by using ` Normalize ` from ` matplotlib.colors ` on the data that I wanted to use to color my quiver vectors ( which I'll call ` C ` , which is an array of the same shape as ` X ` , ` Y ` , ` U ` , and ` V ` . )
Matplotlib axes formatting
I have tried almost everything beginning with custom ticks to custom axes , but I cannot seem to add it .
Ever since upgrading matplotlib I get the following error whenever trying to create a legend : #CODE
If you're right them I should invert the order in the loop , but them this gives problems with contour and contourf ...
plot circle on unequal axes with pyplot
hoping for a value with which I could manipulate the axes of a ellipse , pyplot returns : #CODE
What methods would you suggest for plotting a circle on a pyplot plot with unequal axes ?
With this , you will be able to zoom and pan around as per usual , but the shape will always be a circle .
If you just want to put a circle on a figure , independent of the data coordinates , such that panning and zooming of an axes did not effect the position and zoom on the circle , then you could do something like : #CODE
This is like , case 3 , where I want the axis scale floating and I want the circle to always appear as a circle , but zoom and pan also affect the circle .
In my search I have come across sliders that change the axes but not parts of a mathematical function .
So I have the following code which should work if my two parameters Gmax and Km were the axes : #CODE
So I guess my question is if there is a command for parameters instead of the ax command for axes sliders ?
I think the axes are wrong , it should read vo vs [ S ]
I'd like to know whether one can update a contour done with ` contour() ` , a vector field done with ` quiver() ` , and an image done with ` imshow() ` , without actually having to call those functions again or creating a new figure , axes etc .
I've tried solutions based on ` set_array() ` and ` pyplot.draw() ` but I can't make it work for the vector field and contour plot .
As far as I can tell , you can't update ` contour ` plots in the same way .
I'm not sure there would be all that much to gain anyway , since any solution would still require re-computing where the contour lines should go for a given array input .
So if your plots are similar you can safe a lot of " setting up " by reusing elements , just like you will find in animation examples for matplotlib .
You can reuse the figure and axes in this example : #CODE
The matplotlib animation examples may have inspiration for this kind of optimization .
Matplotlib : fixed boundaries on a colorbar of a polar contour plot
As it says in the title , I am trying to fix the values of the colorbar ( vmin=-3 and vmax=+3 ) of a polar contour plot .
You can do this by passing in the contour levels yourself .
You need to both set contour_levels , and pass it into contourf instead of 130 .
By explicitly passing in the contour levels , you will make sure that the colorbar always covers those levels , instead of just going from the min to max of the data .
I want to show how two values overlap each other in x and y axes .
how to draw two lines in a graph matplotlib
Here is my python code for ` Matplotlib ` , I want to draw two lines , the first one it's succeed already , I want to add one more line into this graph , which is y=x^ ( - 0.56 ) , so I just simply add one ( x , y ) pair after it , the code returns an error : #CODE
How do i control the sequence of records in a bar plot with matplotlib with Text ?
How to take draw an average line for a scatter / a plot in MatPlotLib ?
Matplotlib : draw a selection area in the shape of a rectangle with the mouse
I want to be able to draw a selection area on a matplotlib plot with a mouse event .
In the end , I want to be able to draw a region of interest with my mouse on a map created with matplotlib basemap and retrieve the corner coordinates .
Here's a small example that shows how to use the mouse to draw a rectangle on a matplotlib plot .
Set a boolean is_pressed attribute to true within on_press , set it to false in on_release , and only draw the rectangle if self.is_pressed == True ( note your test to if self.on_press doesn't make sense , because you're testing whether a method is True )
I'm using the pyplot module to draw a 2nd axis with some reference points on the top of the graph , and I can't seem to get the bottom and top x axis to agree on where the purportedly same location is ...
The 2nd axis comes from an overlaid subplot ( as I understand it ) kicked off here : #CODE
This is ( apparently ) because you call ` set_xscale() ` and ` set_xlim() ` in different orders for the different axes , and ` log ( 0 )` gives ` -inf ` .
And I want to draw a chart with use of this data .
But , what if I think those colormaps are ugly ?
ax is the axes object obtained from a call to add_axes .
I would like to use inset axes , as suggested below , for each box plot I have .
You could do an inset axes as described on this page , about 1 / 2 way down .
inset axes
Does the inset axes sound like more of what you are going for ?
inset axes sound interesting .
I'm drawing more than one boxplot on the same graph .
How exactly do I draw such inset axis for each box plot ?
Matplotlib - How to set the distance ( in mm / cm / points ... ) between the xticks
I need to draw several figures whose xticks are defined as numpy.arange ( 1 , N ) , N being different for each figure .
I want the spacing between the xticks to be identical on all figures ( e.g. 1 cm ) , that is , the width of each figure must depend on the size of numpy.arange ( 1 , N ) .
I think you can do this with a combination of careful control of your axes size ( as a fraction of the figure ) , ` ax.set_xlim ` and ` fig.set_size_inches ` ( doc ) to set the real size of the figure .
In my case , setting the aspect ratio to one gives me the desired result , but forces the axes rectangle to have a specific aspect ratio .
Does anybody know how to produce quiver plots which adapt to the canvas ' aspect ratio and are still tangent to my contour lines , as expected ?
In python it is really straightforward to draw 2D contour of a 2D array with the ` contour ` command .
Have a look at the ` Axes3D ` module , where you also find a contour function .
Create a 3D contour plot .
matplotlib : inset axes for multiple boxplots
I have a few boxplots in matplotlib that I want to zoom in on a particular y-range ([ 0 , 0.1 ]) using inset axes .
How do I add inset axes and zoom in on the first boxplot of the two ?
I'm not setting the position of each boxplot , so I don't know where they will appear exactly .
I wanted to add a box for each boxplot with a zoomed-in view on a specific y-axis range .
I thought I could do this with inset axes .
Similarly , you can also add zoomed axis in boxplot .
This shows animation in pyplot interface , but I'd like to save this animation in some movie format , is there a way ?
Another way to save a matplotlib animation as a video is explained in this article #URL .
It shows a higher level solution where you specify the animation as a draw function that changes with time .
I'm aware of matplotlib.animation but I've wasted a whole day trying to implement my problem in it ( not this example ) without success , I needed the animation to be finished by today , so I was desperate , I'll surly do it the right way once I find a way to understand the usage of matplotlib.animation which I find very unintuitive .
However it puts the full legend into the plot ( which I want ) , but it omits the other columns - any idea on how to fix that ?
Thanks , but I don't think it solved my problem , this xticks only change the labels , I upload the new graph I got , I want the data to be displayed more scatter , not just the label
From the graph you show , it looks like you incorrectly used xticks , you should do something like this instead :
It sounds like you want to changes the limits of the plotting display - for that use ` xlim ` ( and ` ylim ` for the other axis ) .
To change the xticks themselves is provided in the answer by @USER .
Show below is an example using without / with ` xlim ` : #CODE
Periodic Axes class in matplotlib ?
I'd like to plot these using a matplotlib Axes class that " wraps " the horizontal dimension such that , when looking towards l=360 , points at l=1 are plotted at the equivalent of l=361 .
Ideally , I'd also like something that defines the pan / zoom actions so I can use the plot interactively .
I have with a similar problem ( [ 0 , 2\pi ] data ]) and deal with it by pre-processing the data to be in the range I want , but an axes class that does in automagically would be great .
not quite -- this doesn't allow pan / zooming
I'm using matplotlibs basemap to plot some wind barbs on top of a pcolor over multiple days using a loop .
I can easily change the pcolor by using ` set_data() ` but now I'm not sure how to replace the barbs .
Is there a way to just remove the barbs without clearing the entire figure ?
When you create the barbs object save the reference it returns and use it's ` remove ` function when you are done with it .
The ` draw ` forces the canvas to re-draw with out the barbs .
>> n , bins , patches = plt.hist ( hmag , range =[ 6.5 , 12.5 ] , 30 , facecolor= ' gray ' , align= ' mid ')
After you do the plot , you can just call ` ylim ( a , b )` .
Matplotlib : Can we draw a histogram and a box plot on a same chart ?
I know I can draw a histogram and a box plot individually .
My question is , is it possible to draw them on the same graph , such as a chart shown in this website ?
You should consult [ ` subplot `] ( #URL ) .
Each subplot need not have their own axes , ticks .
In addition , you will need to share one of the axes ( following your Springer example ) , and reduce the white space between the subplots .
A simple , brute-force way to do this would be to manually add the axes objects to a figure yourself .
I tried ` dtype=None ` with converters , but then I get the message that the converter is locked and cannot be updated .
I'm surprised you can't use ` np.genfromtxt ` with a ` converter ` argument to transform your first column into either :
a ` np.object ` , with a ` converter ` as :
check out this demo for the ` annotate ` method :
Hence , as @USER have suggested , you can use annotate , as #CODE
I would like to draw a 3D carpet plot with Python Pylab or matplotlib .
Alternatively , I draw heatmaps for elevation .
I can draw a 2D map with each pixel colored with its label , and this gives me the clustering results .
I am trying to embed a SVG image within a matplotlib subplot .
This one is supposed to clear the figure if clicked within axes and draw a circle at a random place .
matplotlib axes formatting
What Im currently doing doesn't work , i append new times to the array and then call the array to the xtick .
xticks : #CODE
Do you have to change the xticks or can you just rescale the axis ?
I have to change the xticks , because the axis is in realtime .
Okay , what I have is a realtime plot and it goes on until the user exits the program , the plot is a line-plot , if you are windows take a look at the task manager / performance , my plot is similar to the plots in their , except I want add the time on the xticks .
Such as deleting barbs entirely at the end of each loop ?
Why do you draw them and then remove them ?
One way to speed up plots is to build them first , and then call draw at the end , with interactive mode set to off , by calling ioff() .
If you are trying to create an animation , look in to the ` animation ` module of matplotlib , it takes care of a lot of the details for you .
Can mountain lion user draw a graph by python ?
MatPlotLib with Sublime Text 2 on OSX
I want to use matplotlib from my Sublime Text 2 directly via the build command .
But Sublime Text shows me an import Error ( No module named matplotlib.pyplot ) .
1 - ` Open Sublime Text 2 ` -> ` Preferences ` -> ` Browse Packages `
This means manipulating your data such that they all fall in bins with equal width , and then play around with the xlabel .
I have a large amount of plots and wish to draw them in the same figure using python .
The figure window gui has a zoom and pan tools which might be able to do what you want in conjunction with the offset .
I think you want a window with a number of ` axes ` and then be able to scroll through the axes ( but still only be able to see on average one at a time ) , the solution has a single axes and a slider that selects which data set to plot .
If you want to see more than one graph at once , maybe try using multiple axes both tied to the same slider ?
Almost all artist can be updated in place
When I try to use xticks I get an error : ` ValueError : setting an array element with a sequence .
Did you read the documentation for ` xticks ` ?
I guess your point is the readability on the axes ?
If he has to use ` matplotlib ` for some other reason , he should be able to use the builtin ` colorsys.rgb_to_yiq() ` to transform plus a slice to get just the luma channel .
The basic steps you need to do are to transform from the RGB colorspace to a colorspace that encodes with something approximating the luma / chroma model , such as YUV / YIQ or HSL / HSV , then slice off the luma-like channel and use that as your greyscale image .
You could also go all in and roll your own luma-only converter , though that's probably overkill .
Can i automatically set the margins for my subplots ?
The margins of my plots are unfortunatly too small for the Text i want to set there , 45 * rotated :
If you use ` scatter ` ( doc ) you can set and update the color of each point .
It looks a little strange to use ` set_array ` but that is how ` matplotlib ` deals with scatter plots internally ( it looks like they use the same class that is used for displaying images , only just color in markers instead of squares in the grid ) .
I'm trying to add a colorbar and contour maps , but to no avail .
How do I add colorbars and contour maps to surface plots set up like this ?
First error : First line should be ` from matplotlib.figure import Figure `
See this example : #URL It should help you :) -> ` cbar = fig.colorbar ( axes )`
Figure window won't appear after issuing show()
For instance , I have an event button that updates my scatter plot ( by using plot_handle.set_data and not by clearing the figure ) .
You need to add it like an artist to delete it like an artist #CODE
Labelling axes in matplotlib
I know there is an animation module inside matplotlib , but I think a timer-based plot would be harder to program than this , and I don't know how events are used anyway .
You will have to add autoscale though : #CODE
Setting different color for each series in scatter plot on matplotlib
I can scatter plot this : #CODE
If I call scatter multiple times , I can only set the same color on each scatter .
My question is then , " How can I automatically scatter plot my several data set , each with different colors .
Color can be an array as well , but what can you not solve with just calling scatter multiple times ?
If I call scatter multiple times , I get the same colors .
Adding ` plt.legend ([ ' c{} ' .format ( i ) for i in range ( len ( ys ))] , loc=2 , bbox_to_anchor =( 1.05 , 1 ) , borderaxespad=0 ., fontsize=11 )` to the bottom the above gives me a legend with colours .
the pyplot.scatter is a high level command for draw a collection of dots , but it is designed to be assigned with a single colour with every call of scatter command .
However , if you hack the source code of scatter function from matplotlib , it use PathCollection object within and the Class Collection however could be assigned with an array of different colours .
Please check the source code of scatter function of matplotlib and the documentation of Class Collection , PatchCollection and PathCollection .
I don't appreciate your down vote.the scatter api in matplotlib updated . in 2013 , I also have this problem , so I just hacked the PathCollection object and assign the colour array . then all my code works in that way and I don't use plain pylab.scatter anymore . this is long time ago .
why not down vote the accept answer , since passing single colour one by one to scatter command is also not efficient use of new api ?
Your answer is wrong , because you say : " single color with every call of the scatter command " >
so why do you think people in 2012 and 2013 using matplotlib took such detour just to pass different colours in scatter plot command ?
it is so trivial as it supports in ` scatter ` signature , why so many people hadn't figure out then ?
my answer was not wrong in 2013 , and is not considered to be wrong at present . assign RGBA array directly to pathCollection is still working in current version of matplotlib and faster than calling scatter command multiple times . you pointed it out just using a scatter api not out of " kindness " , because you not saying it was out of date , you said it was " plain wrong " . you didn't bother to consider different approach to do the task , which it was not obvious to do back in 2013 .
The bit which is " plain wrong " i was referring to was " it is designed to be assigned with a single colour with every call of scatter command " Which is * not * how it is designed today .
I hacked it because I didn't have a choice and I didn't prefer to call scatter command several times just to get the colour right . you are not smart enough to figure out how PathCollection and scatter command related is your problem .
ops i am sorry my bad humour makes you feel that it looks like an offence to you . just like I misunderstood the way you said " messy " of my hacking is as judging my hacking . well perpaps , ` time-travel stackoverflow Warden ` suit you . the point is I agree scatter api fixed and it is a good thing . you don't trust me and consider what I said in 2013 is wrong in 2015 . but my point is as long as what i said in 2013 is right , even situation changed , I am not responsible for that , and not deserve down vote .
just do a loop making multiple calls to scatter .
you have two option of using scatter command with multiple colour in a single call .
back in early 2013 , there is no way to do so , since the command only support single colour for the whole scatter point collection .
so it is very tacky , but I can do it in whatever shape , colour , size and transparent . this trick also could be apply to draw path collection , line collection ....
the code is also inspired by the source code of ` pyplot.scatter ` , I just duplicated what scatter does without trigger it to draw .
so whenever you have a scatter points to draw you can do this : #CODE
my project was to draw a lot of visualisation , with above code , the work flow was streamlined .
matplotlib : How to annotate a patch / wedge
I guess I can just annotate the axe at ( x , y ) wedge position .
How to draw rectangles on a Basemap
I could easily draw the rectangle's edges using the ` drawgreatcircle ` method , but I cannot find a way to actually fill these rectangles ( specifying color and alpha ) .
You can add a matplotlib.patches.Polygon() directly to your axes .
Either way , you specify vertices in map coordinates and then transform them to plot coordinates by calling the Basemap instance ( ` m() ` in the below example ) , build a Polygon yourself , and add it manually to the axes to be rendered .
Then transform these map coordinates to plot coordinates ( as above , with ` m() `) and again create a Polygon with the plot coordinates .
It looks like you pass a number to a legend function as ` loc= id ` where ` id ` is a location as defined by the matplotlib documentation .
You seem to have swapped x and y as first argument of Rectangle (( x , y ) , ... ) .
Rectangle (( 22395760 , 0 ) , ... )
You seem to have swapped x and y as first argument of Rectangle (( x , y ) , ... ) .
Rectangle (( 22395760 , 0 ) , ... )
I am using Basemap within Matplotlib to draw a map of the United States .
I need to draw the states as well .
You need to draw the polygons yourself .
And what i get on the detector , printing each hit as a pixel , is a scatter plot of ( x , y )' s .
Could you show what progress you have made on the 2d plot ( for example , could you show a reproducible example of creating a regular 2d scatter plot ? ) Also , asking two questions in one is generally not recommended .
( I would actually add that depending on what in data you are trying to highlight , you might want to use scatter plot but vary the size / opacity of points to show your information ... it really depends what you are trying to achieve . )
I guess your primary question involves two main steps : First , computing the density function for the scatter points , and second actually plotting it .
matplotlib xticks labels overlap
I am not able to get nicer spaces between the xticks with the following code : #CODE
How to get more space between the xticks so they do not look like overlapped anymore ?
How to smooth matplotlib contour plot ?
When I plot contour I get ugly image like this :
I somehow expected that tool which offers contour plot should offer smoothing too .
First example is for line plot and second is for image , so none is applicable to contour plot .
There is no easy way to get a smooth contour .
I'm trying to draw part of a histogram using matplotlib .
Is there a fast and easy way to draw just the focused region but still get the Y scale correct ?
` hist ( data , bins=arange ( 0 , 121 , 1 ) , weights=repeat ( 1.0 / len ( data ) , len ( data )))`
Take a look at the ` hlines ` function .
Short answer : adjust the axes limits manually : #CODE
Setting the limits apparently clashes with setting equal aspect ratio ( just try setting xlim to -10 10 ) .
My approach is to fit a KDE to the data and then find the contour of the 95th percentile .
So we get a confidence contour instead of an ellipse .
It sounds like you just want the 2-sigma ellipse of the scatter of points ?
unfortunately , matplotlib patches cannot be drawn with logarithmic axes ( or at least not correctly ) as I need to .... why is life so complicated ?
Yeah , I never thought to test it on logarithmic axes .
One work-around would be to use a PathPatch , which will draw correctly on logarithmic axes .
@USER Another possibility to use logarithmic scale would be to fake it by transforming the datapoints and using a tick formatter for the axes ( doesn't sound easy , but could be a way )
@USER - In a nutshell , it's because the covariance matrix gives you variances , and confidence limits are typically expressed in terms of standard deviations ( e.g. 2 sigma --> 95% , etc ) ( Standard deviation is just the sqrt of the variance . ) Because the eigenvectors returned have unit length , the eigenvalues directly correspond to the variances .
You should use the ` hist ` function .
If it by default does not yield the result you expect , then play around with the arguments to ` hist ` and prepare / transform / modify your data before providing it to ` hist ` .
My only concern is if I can achieve what the above code does with hist function .
I tried manually copying the entire mpl-data folder into the dist folder after running py2exe on setup.py and also modifying glob to get the 3 font directories but still I get the same error .
Remove ` frameon=False ` when create the Figure object : #CODE
If you want the background color of Figure is the same as Tk window , you can set it by ` facecolor ` aurgument : #CODE
An similar example of such plot is " hist ( x , orientation= ' horizontal ')" .
I want to create a plot consisting of several subplots with shared x / y axes .
This code works but you will need to correct the axes .
I used to ` subplot ` to plot 3 graphs all in the same column .
` subplot ` works as follows , if for example I had a subplot values of ` 3 , 1 , 1 ` .
In the next interation if my ` subplot ` values were ` 3 , 1 , 2 ` it again creates a 3x1 grid but places the plot in the 2nd position and so forth .
I didn't understand the way the subplot values worked from the documentation , but it's clear now .
When I plot my data and set the axis I can display the scatter correctly .
I'm finding this data inside a loop which I then run this loop again for the subplot .
The simple answer is you should use ` plt.clf() ` which clears the figure , not the current axes .
When you start to do more complicated things than use a single axes , it is worth switching over to using the OO interface to ` matplotlib ` .
If you want to have uneven spacing , i.e. more spacing between 2 and 3 than between 1 and 2 , you need to explicitly instantiate the Axes at a particular position using ` fig.add_axes ` .
This will draw a cone around the line pointing along the direction of the z-axis after rotation through the Euler angles ` phi ` , ` theta ` , ` psi ` .
To draw a single circle shifted along the normal by ` h0 ` : #CODE
Weird " zero ticks " on matplotlib subplot y-axis
I am using ` matplotlib ` to draw a bar chart with many different colors .
I also draw a number of markers on the plot with scatter .
Therefore , the question is whether it is possible to have scatter draw marks , not with a given color , but with a color that is the inverse of the color that happens to be behind any given mark , wherever it is placed .
I would really like to , but I need to think of an example with bars and scatter together ...
Oz123 , basically just create an axes and do axes.bars ( ) and axes.scatter ( ) there's not more imagination to it than that .
The problem is that the markers may even need to be multicolored if they partly overlay a bar , additionally marker size is in points while bar sizes are in axes coordinates which complicates things
Imagine that one would use scatter to put marks on an arbitrary full color image , in that case a pseudo color ' invert ' would be the way to go .
Basically I would want to give a function with parameter the color that happens to be in the plot for any given pixel as the color passed to scatter .
If I understand your question right , you want to plot two things on the same ` axes ` with no shared ` axis ` .
This method seems to break some of the functionality of the axes and may take some time to work around .
@USER That is a funny wrinkle in how the x / ylabels on overlapping axes get handled .
You may need to grab the intermediary axes and work on it too .
From what I see , ` extents ` adjusts the axes to the image , and not the opposite .
Just specify ` aspect = " auto "` to imshow and either plot the image first , or reset thelimits of the axes after plotting the image .
Suppose you need to store the ` figure ` and ` subplot ` in variables ( to later modify attributes ) .
Labeling Figure from String List
Matplotlib : Repositioning a subplot in a grid of subplots
However , for publication I think this looks a bit ugly -- what I would like to do is move the last subplot into the centre between the two columns .
So , what is the best way to adjust the position of the last subplot so that it is centred ?
I.e. to have the first 6 subplots in a 3X2 grid and the last subplot underneath centred between the two columns .
Matplotlib - why is Bar graph line color is black ?
If I comment out ` xscale ` the numbers on the x-axis are printed .
By default tick locations for log axes are in base 10 .
If you change the ` xticks ` to #CODE
I am asking because ` ax.xaxis ` has no ` xticks ` !
For example , I can use the ` scatter ` method to draw markers so that each individual marker is a hyperlink .
This change in matplotlib git enables rendering Text object's URL fields as links in the rendered SVG .
As of 1.3.1 , just using ` set_url() ` for an artist seems to work for everything except the actual text .
I want to draw some lines and circles on the screen using of matplotlib .
You can hide the axes with ` axes.get_xaxis() .set_visible ( False )` or by using ` axis ( ' off ')` .
If you don't want axes , and are happy to work in the range 0-1 : #CODE
The primary being you can use a data coordinate system which automatically scales to your data , but if you just want to draw a couple of shapes , my solution works pretty well .
ax.set_axis_off() hides all of the axes , but I want to hide or turn off the z-axis but still see the x and y axes .
Matplotlib " dictionary changed size during iteration " error when creating subplot
Is it possible to name the x and y axes in a matplotlib hexbin diagram ?
Is there any way to label the x and y axes of the hexbin with axis names ?
I want something like " x-label " to show up below the x axis numbers , and " ylabel " to show up to the left of the y axis numbers .
` plt.xlabel ( ' x-label ')` , ` plt.ylabel ( ' ylabel ')` ?
You can use ` xlabel ` and ` ylabel ` matplotlib commands : #CODE
Is it possible in Python to have the output windows appear one after the other like a short animation ?
How to set font size of Matplotlib axis Legend ?
It can be seen in the plot that the setting in Fontsize does not affect the Legend Title font size .
How to set the font size of the legend title to a smaller size ?
Here is how to change the fontsize of the legend list and / or legend title : #CODE
legend =p lt.legend ( list , loc =( 1.05 , 0.05 ) , title=r ' $\bf{Title}$ ') #Legend : list , location , Title ( in bold )
File " C :\ Python26\Lib\ site-packages \matplotlib\ pyplot.py " , line 2800 , in legend
File " C :\ Python26\Lib\ site-packages \matplotlib\ axes.py " , line 4494 , in legend
This is definitely an old question , but was frustrating me too and none of the other answers changed the legend title fontsize at all , but instead just changed the rest of the text .
Ok , so I feel like there should be an easy way to create a 3-dimensional scatter plot using matplotlib .
I would like to add a patch , such as Rectangle , to a Matplotlib plot where the position of the patch uses ax.transData but the size is in pixels or points .
Is there a way to set up a transform that works that way ?
` set_extent ` sets the maximum and minimum of the x and y axes .
Might be more efficient to do this with a scatter instead of individual plots for points and playing games with ` NaN ` for discontinuous lines , but this will work .
` text ` documentation , or if you want to be fancier annotate doc .
The problem is : as you pan and zoom , zoomscale-independent white stripes appear between the image edges , which is very undesireable .
With Cairo and HTML Canvas , you can draw " to the pixel corner " or " to the pixel center " ( translating by 0.5 pixel ) thus avoiding anti-aliasing effects .
This may or may not be lighter than generating a new image EACH TIME I release the mouse ( which is the event I plan to use to refresh the list of tiles to be plotted ) .
How can I set the dash length in a matplotlib contour plot
I'm making some contour plots in matplotlib and the length of the dashes are too long .
I can set the exact dash length when I'm making a simple plot using plt.plot() , however I cannot figure out how to do the same thing with a contour plot .
The collections documentation has this to say :
I was able to maximize Figure windows for TkAgg , QT4Agg , and wxAgg using the following lines : #CODE
I'm trying to do some basic linear algebra with pylab and visualize the results , specifically the transform y=Ax on a grid of points .
My code is below and any suggestions as to how to improve it , both on applying the transform to the grid and on plotting the results would be much appreciated .
How do I set figure title and axes labels font size in matplotlib ?
is there a way to set that globally but explicitly for ( suptitle , xlabel , ylabel ) ?
This has a very useful toolbar with a very useful button ' Edit curve lines and axes parameters ' .
I have about 15 series which I wish to scatter plot against a series of values of X .
` scatter ` will ignore the value ` numpy.nan ` ( " not a number ") .
If you call ` plot_date ` and pass in ` visible=False ` , it will set the axes as if the series was plotted , but will hide the plot so the data points don't show .
Below is a very simple example with a ` Figure ` , ` Navigation ` and a single button that draws some random data .
` append ` in general is slow , because it copies the whole array and then
The idea is to draw a small spinning top animation and try to analyze its movement .
python / matplotlib - Specifying Parasite Axis Length
I am plotting data from several sources and need multiple x axes , preferably offset such as those seen in the link .
I would very much like my x axes to have variable length , allowing me to put many plots on the same figure .
So I get the axis to drop down , but cannot , for the life of me , figure out how to get the axis to actually compress horizontally ( e.g. like the blue axes in the linked figure above ) .
My previous x / y axes disappear , and I am left with a grey screen with only cax1 .
Instead you should create 2 or more ` axes ` instances .
adding new axes instance
your newly created axes instance .
I need to make this work in order to just look at the way algebraic surfaces transform when subjected to certain rotations .
The Y axis is different , which is fine , but the X axes should be the same for both .
Because when draw the step lines , the first element of Y axis data is always 0 , and log scale cannot display 0 , so the first point of the step lines is dropped .
Condition ` text == " ID "` is always ` False ` , since ` cell.get_text() ` returns a ` Text ` object rather than a string : #CODE
EDIT : ` Text ` objects have an attribute ` get_text() ` themselves , so getting down to a string of a cell can be done like this : #CODE
I have a scatter plot with logarithmic x- and y axis ( because I'm mainly interested in the lower values along both ) .
Why does logarithmic scatter axis not start at zero ?
I'm generating a scatter plot in matplotlib .
Usually logarithmic axes never start at zero because there is no " good " value for ` log ( 0 )` on the ` x ` -axis , because ` log ( 0 )= =x ` only for ` x- -infinity ` .
I suspect that the easiest way is to write your own ` Formatter ` ( doc ) that does the conversion to HMS .
If the graph is already there , the next button press should replace the old trace with a new one and re auto scale the axes .
The thing is that if closing the figure won't affect your ` self.fig ` , although it will render that Figure object useless .
You can then use ` set_xdata ` and ` set_ydata ` to update the graph with out having to tear down and rebuild all of the figure and axes objects .
A possible reason is that I visualize the graph as a subplot ?
Is a possible reason is that I visualize the graph as a subplot ?
I am doing my scatter plots in matplotlib and they are generating well .
However , to display the correlations between x and y , I need to add histograms on both axes as subplots ( like shown in this example ) .
Since the code in the example is a bit complicated , so I am not able to follow how to get my scatter plots to have these .
This creates the scatter plot .
UserWarning : 2D hist input should be nsamples x nvariables ;
The ` scatter ` and ` hist ` commands really expect ` x ` and ` y ` to be 1D arrays .
So if you do not want this warning , rethink why you are sending 2D arrays to ` hist ` and ` scatter ` .
A simple way to do this would be to create an empty list before the loop , and each time you generate a number , just ` append ` it to the list instead of printing it .
I need to draw two overlapping ellipses and the current code puts the edges of the second ellipse atop the first ellipse .
This produces a figure like the first figure at How to join overlapping circles ?
I need to contour plot on a basemap of the continental United States .
At first , I thought that z needs to be a 2-D array ( ? ) / matrix since contour needs a 2-D array and just blindly used it .
I have since hacked a solution by not using Figure.colorbar , instead plotting ` range ( max ( data ) + 1 )` in the cax axes , and then setting the axis ticks and labels as required .
Matplotlib contour plots as postscript
I have a 2D array from which I want to produce a contour plot using matplotlib .
While this makes sense for the axes and the labels , that would be degraded if rasterized , I would like to have the contour plot itself in raster format ( which I know can be embedded inside a postscript ) .
What I would really like would be to rasterize only the contour plot itself , while leaving the text ( e.g. labels ) in vector format .
However , rather than applying the method to the whole figure , as I explained in my comment , the method has to be applied to the lines that comprise the contour plot .
Use the ` xticks ` function .
( or subclass ` axes ` and re-implement ` format_coord ` ( around line 2903 in axes.py in current matplotlib master branch )
Try to modify the ranges of the axes .
I want to format my xticks such that there aren't any gaps as I currently have in the plot below .
Try use ` xticks ` .
I have been trying to pass a pyplot Figure out of an external class ( as in must be imported ) , but have been unsuccessful .
A few points : I don't think ` Figure ` works like like you think it does , and your ` Plotter ` object doesn't have a ` .show() ` method , so ` app.show ( plot )` won't work .
matplotlib : scatter and colorbar values
then the dots have acceptable sizes ( although a bit fake ) but the colorbar legend starts at 1 and ends at 11 , which I don't want .
I would like the axes labels to not be indices , but an arbitrary function of the indices .
You can do this with a combination of ` Locator ` s and ` Formatter ` s ( doc ) .
` tbar.add_button ( a Button object ); `
As I manually create Figure , FigureCanvas and NavigationToolbar objects anyway , this was the easiest way .
How do I draw a rectangle on the legend in matplotlib ?
I am trying to plot a rectangle onto the legend in matplotlib .
The rectangle just isn't draw anywhere in the figure .
My problem thus sees to be , to find the co-ordinates of the frame of the legend .
Are you sure there isn't something built into the ` legend ` object that will do it for you ?
The trouble is that the position of the legend is not known in advance .
A solution I came across is to draw the figure twice .
In addition , I've used axes coordinates ( default is data coordinates ) and scaled the rectangle so you still see a bit of the legend behind it .
Note that I had to set the legend and rectangle ` zorder ` as well ; the legend gets drawn later than the rectangle and thus the rectangle otherwise disappears behind the legend .
They look similar , and have the same axes , though they have separate date ranges on the x-axis .
But I just get a black contour .
Easy outlines and shadows ( and other things ) for any artist rendered with a path .
Python plot legend : markers appear twice
A simple plot with a legend made with matplotlib produces the following : the markers at the left of the labels of my legend appear twice .
You can change the number of markers shown in the legend by using the ` numpoints ` keyword : #CODE
then the legend looks like this :
and now you can see the effect of the linestyle between the markers in the legend ( as well as on the graph ) .
If you don't want any legend line at all , then you could use #CODE
to remove the legend marker as well .
Of course , that's only if the first value of a new subplot will always be lower than the last one of the previous subplot .
Is it possible to get the x-axis to only draw tickers and labels at those specific values , rather than show the even range between 0 and 0.35 ?
I re-size it , because in the future I will insert title , legend and x , y description .
The units of ` height ` are in the axes units .
` height_of_group ` sets what the sum will be , so in this case the bars in the ` N ` th group will go from N to N+ .9 in axes units .
` bar ` and ` barh ` seem to be nearly identical except for flipping an axes .
There is some issues with differences of axes conventions that makes this code more complicated than strictly necessary .
Python Matplotlib figure title overlaps axes label when using twiny
and the data is presented fine , but I am having the problem that the figure title is overlapping with the axes labels on the secondary x axis so that it's barely legible ( I wanted to post a picture example here , but I don't have a high enough rep yet ) .
how to move axes labels to near the arrows in matplotlib
However , let's try making the plot a different way first ( after which we'll wind up coming back to ` annotate ` anyway ) .
These days , you're better off using the new spines functionality to do what you're trying to accomplish .
Setting the x and y axes to be " zeroed " is as simple as : #CODE
This is a bit more complex , but it's just two calls to annotate with the approriate arguments .
( The width of the arrow is controlled by the text size ( or an optional parameter to the ` arrowprops `) , so specifying something like ` size=16 ` to ` annotate ` will make the arrow a bit wider , if you'd like . )
If we just pass in a label as the first argument to annotate instead of an empty string ( and change the alignment a bit ) we'll get nice labels at the ends of the arrows : #CODE
With a only a tiny bit more work ( directly accessing the spine's transform ) , you can generalize the use of annotate to work with any type of spine alignment ( e.g. " dropped " spines , etc ) .
one problem with using annotations to draw arrows is that the arrows are thicker a little than the axes .
You can also using do the same with imshow , scatter , etc all on the same .
I am trying to append three recarrays that I created using mlab.csv2rec ( file )
I need to keep the timeline to start from 0 so I can't really change my xlim to start from 25.3039
Axes tick label padding in matplotlib
I'm trying to make a pseudocolour image plot in Python Matplotlib , but I'm having a small problem with the layout- the axes tick labels are very small numbers ( 1e-7 or so ) , so Matplotlib puts an exponent on the entire axis .
Is there a better way to fix this other than just hacking the title upwards and the xlabel downwards ( and if this is the way to go , what's the best way to do this ? ) I'm trying to plot a lot of different things with maximal code reuse , so if Matplotlib has a way to fix this without channging text positioning manually that would be the best !
I actually build the legend based on colors , associating each color with the corresponding parameter .
Now I'd like to display a second legend on the same graph , with the meaning of each line style .
possible duplicate of [ scipy : savefig without frames , axes , only content ] ( #URL )
I would like to draw lines ( straight or curved ) between the connected countries on the world map ( using basemap / python ) ?
EDIT Actually found out that this is distance transform and not watershed
Was not able to " transform " the code to do what I want .
Distance transform might be useful in your case .
The distance transform acutually got me very far , but then @USER Barbey posted a really nice and easy solution .
Matplotlib : draw a series of radial lines on PolarAxes
I have seen that it it possible to use the PolarAxes to draw radial points : for istance i've made a really simple polar plot with the following snippet : #CODE
So my question is : is there a way to draw the lines as in the first figure , and to adjust the width in order to fit in the whole circonference ?
It is easy to draw lines of different widths and colors on a polar plot .
That said , the first argument is the angle array and the second argument is the radius array when using polar axes in matplotlib .
Were I using ` scatter ` instead of ` hexbin ` , ` event.ind ` would correspond to my goal , but the contents seem to be different under ` hexbin ` .
map ( set_color , ticklabels ) AttributeError : ' Text ' object has no
A little trial and error with the python2 interpreter seemed to suggest to replace pylab.draw() with pylab.show() ; doing this once is apparently sufficient ( not , as with draw calling it after every change / addition to the plot ) .
i would like to move the labels of the xticks ( 1 , 2 , 3 ,.. ) to the left a bit , so they are underneath the corresponding color boxes . correspondingly i would also like to move the labels of the yticks ( user1 and user2 ) down a bit so they are displayed correctly . how can this be done ?
xticks ( xlocations , [ str ( x+1 ) for x in arange ( periods )] , rotation=0 , size=5 )
Also , I want to use pyplot functions to draw the plot , so using a different library for the plotting is not an ideal solution .
""" It's possible to draw it , but you would have to do all the
transformations / rotations by hand , including drawing the axes as
Line2D instances and labels as Text instances ( see for example the
This link discusses the transform keyword that could have potentially been used for this task , but it is apparently not working .
Set legend symbol opacity with matplotlib ?
How do I make the marker appear at 100% opacity in the legend ?
If you want to have something specific in your legend , it's easier to define objects that you place in the legend with appropriate text .
By creating this " lines , " you are able to more easily control their properties within the legend .
Following up on cosmosis's answer , to make the " fake " lines for the legend invisible on the plot , you can use NaNs , and they will still work for generating legend entries : #CODE
It fails with `' Axes ' object has no attribute ' set_ticks '` .
I am using the class matplotlib.patches.Polygon to draw polygons on a map .
Matplotlib has lots of pre-defined colormaps for you to use .
Here are all of the predefined colormaps .
However , this means that you'll either have to a ) subclass the ` Axes ` yourself ( have a look at ` projections.geo_axes ` in matplotlib , or b ) adapt existing code to do what you want .
After much searching , the correct way as Joe Kington points out is to subclass the Axes .
( Also , the xticks are placed correctly now , yay ! ) Thanks for digging into this !
Using converter function in genfromtxt fails
When I try to read a space separated file using genfromtxt and using a converter function to convert numbers with a comma as decimal separator , I get a type error .
It seems there is something wrong with my converter function .
Apparently , genfromtxt feeds read columns to converter functions as byte strings , not as unicode strings .
The problem was solved for me by changing the code of the converter function as follows : #CODE
I have a 3D graph , and I would like to annotate them with the co-ordinates .
I'll start with the second one first : There are two symbols in your legend because you didn't specify the number when you defined the legend and the default value is two .
where ` numpoints ` changes the number of points within the legend - now it's set to 1 .
I have a dateset of around 60000 shapes ( with lat / lon coordinates of each corner ) which I want to draw on a map using matplotlib and basemap .
Is there a more efficient way to draw polygons and add them to the map ?
It can convert longitude and latitude into axes units for plotting a map .
How to auto resize the figure to cover all subplot in Python matplotlib ?
Since the number of subplot is not fixed and the number is large , it is difficult to use ` fig.set_size_inches ( x , y )` to reserve a reasonable size .
Adjusting tick label size on twin axes
I'm having trouble changing the tick label properties on a plot with twin axes .
The second axes doesn't respond to the tick-formatting instructions , as you can see on the figure .
Ticks can have two labels ( ` label1 ` and ` label2 `) , according to the Tick class documentation :
1 refers to the bottom of the plot for xticks and the left for yticks
2 refers to the top of the plot for xticks and the right for yticks
I tried to adapt animated scatter plot-example in such a way , so it shows real-time the results of an agent based-model I developed .
Using a scatter call in the update function , is clearer I think
Using a scatter call is the clearest fix , and you could increase the agents during your run : #CODE
The key seems to be to call the colorbar's axes ' ` set_xlabel ` method instead : #CODE
Note that I have different colors in the legend but not in the plot .
I would like to annotate the point of a 3d plot using matplotlib , so after some research I found this peace of code :
Matplotlib : Annotating a 3D scatter plot #CODE
Matplotlib : Annotating a 3D scatter plot
What I am trying to do at the moment is a little animation of a rotating surface .
For a more complicated camera pan , you can adjust both the elevation and angle to achieve the desired effect .
This " adds " a new plot to the axes .
I'm still looking for a way to change the view without resetting the axes ...
I'm developing a small Tkinter GUI to draw matplotlib-plots .
For the primary y-axis , this is possible by using the keyword sharey in the call of subplot .
Here we're just joining the secondary axes together .
You might try using the Engineering Formatter : #CODE
I want to be able to set the major and minor xticks and their labels for a time series graph plotted from a Pandas time series object .
" you can either use to_pydatetime or register a converter for the
By using the ' xticks ' parameter I can pass the major ticks to pandas.plot , and then set the major tick labels .
I can get this to work the way I want , but I have to duplicate all the settings after each subplot declaration .
You can share labels , ticks , etc ., by going through the ` Axes ` objects associated with the plots ( see examples here ) , but IMHO this would be overkill here .
Similary , it might be sufficient for the ` xlabel ` to only appear beneath the second plot : #CODE
This lets you set a white-list for which properties to set , currently I have the ` title ` , ` xlabel ` and ` ylabel ` , but you can just use ` getp ( ax1 )` to print out a list of all the available properties .
matplotlib wont draw python3
Now I'm trying to get it to draw .
it does not draw
pdf : runs but doesn't draw
When you say e.g. Agg " does not draw " what do you mean ?
The code I am using to test the backends came straight from the manual , and I am not the only person who has had the problem of a backend causing draw to output nothing .
My first instinct was to abuse ` lw ` but it appears to not use the same units as the axes .
So far i have a solution that just prints a text and sets it on the right position with computing xlim and ylim .
However , you don't need to compute the position based on xlim and ylim .
If you set ` transform= ax.transAxes ` the coordinates for positioning the text are taken as being relative to the axes bounding box ( 0 , 0 being the lower left corner ) .
matplotlib scatter plot colour as function of third variable
I would like to know how to make matplotlib's scatter function colour points by a third variable .
posed similar queries , however , the answers to those questions don't address my issue : the use of ` c=arraywhichspecifiespointcolour ` in the scatter function only sets the fill colour , not the edge colour .
Is there a way to achieve this with Matplotlib's scatter function ?
I'm guessing that somehow the slider is getting locked to my maximum number of x values , but I don't see how .
The problem is in the last line ` plt.axis ([ - 0.5 , numrots-1 + 0.5 , -2 , maxval + 2 ])` which is acting on the axes that holds the slider , not on the axis with the data .
I know I can call axes to make an axes object , since I do that for the slider , but how do I attach it the plot ?
I've tried a few variations now , calling set_axes on the plot object or passing it in as the axes keyword to the constructor and they all make my plot disappear ...
How to draw line inside a scatter plot
I just want to analyse my scatter plot with a few graphical features .
My code is based upon a simple scatter plot from the gallery : #CODE
The line is drawn fine for me except that the legend for the line * only * didn't appear .
Second Try : see the axes but no data #CODE
I have an application in which I'd like to draw counties from a shapefile using Basemap .
Drawing the county polygons is the bottleneck in the rendering , and since I'll be drawing the same region of the US ( a bunch of times ) , I'd rather not have to draw all the polygons any more than I need to .
So I had the idea to draw the counties to a figure with a transparent background , copy the axes to a pixel buffer using ` copy_from_bbox() ` , and restore the buffer using ` restore_region() ` when I need to draw the counties .
' Animated ' 2D scatter
I would like to plot a scatter plot , where every half second the next filter's values are plotted .
The simplest way to make this more efficent is to use 2N line plots instead of a huge number of ` scatter ` plots .
( It looks like you end up with three scatter plot for every data point ! )
Plot variable size / color-heatmap for mulitple occurences of points in scatter plot
Either with different colors ( like a heatmap ? ) maybe with a cool legend .
Since size and color in the scatter function do not allow variables themselves , meaning one has to specify color code and size in the usual way , meaning sth like #CODE
Remove xticks in a matplot lib plot ?
I have a semilogx plot and I would like to remove the xticks .
This applies the result to both x and y axes : ` plt.tick_params ( axis= ' both ' , which= ' both ' , bottom= ' off ' , top= ' off ' , labelbottom= ' off ' , right= ' off ' , left= ' off ' , labelleft= ' off ')`
` setp ` is in pylab mode , cannot be used against individual axes
Not exactly what the OP was asking for , but a simple way to disable all axes lines , ticks and labels is to simply call : #CODE
This code will append to my blank list , giving me the first value in stripped header 100 times , then the next value in stripped header 100 times etc .
Even more surprising , even putting the set_title and annotate calls to be executed all the times has no effect .
How to draw a rectangle over a specific region in a matplotlib graph
I want to draw a rectangular region around the global maximum of this graph .
y coords are in data units and x coords are in axes ( relative 0-1 )
An easy alternative might be to add a ` Rectangle ` to your axis ( e.g. , via ` plt.gca ` and ` add_patch ` ); ` Rectangle ` uses data units for both dimensions .
I have to make a vector plot and I want to just see the vectors without the axes , titles etc so here is how I try to do it : #CODE
UPDATE The presented solution works , except in my case I also had to manually set the axes limits .
Essentially , each " stack " value has a secondary value which I'm applying a logarithm transform to and then using that as part of a colour map .
But , I want to perform the reverse transform ( e.g. 10 ** x ) and have those valued displayed on the colorbar .
However , I want a generic way of obtaining the tick values in a way to make the transform .
Thus I'm unsure if contour plots are applicable here .
Matplotlib xlabel spacing
placing a legend on a subplot in matplotlib , what am I doing wrong ?
I'm trying to place a legend in a subfigure but I can't manage to do so .
This yield with empty legend .
warnings.warn ( " Legend does not support %s\nUse proxy artist
/ usr / lib / pymodules / python2.7 / matplotlib / legend .
Legend does not support [ ] Use proxy artist instead .
warnings.warn ( " Legend does not support %s\nUse proxy artist
I guess this is something to do with this " proxy artist " but the link it points out to the link where learned this to begin with .
For those wondering , I want to include only part of the drawn plots in the legend .
Your warning tells you that one of these is an empty list ( perhaps both ) , meaning that either your loop isn't properly run , or they ` append ` statements don't work as expected .
not without more info on your error ( what kind of subplot , ... ) .
@USER , is it possible to plot using a single big subplot ?
@USER I implemented your idea of using one big ` axes ` .
Building off of what @USER said , you can do this all in one axes ( as you turn off all the ticks etc ) .
I think all of the time is spent setting up the ` axes ` object which are rather complex internally .
I have no guess on speed . however you would still have to deal with setting the grid up by hand because the location the ` axes ` in the ` figure ` is a property of the axes .
I'm looking to decrease density of tick labels on differing subplot #CODE
2 ) how to get rid of x-trick label between subplot 0 and 1 ?
You can set the ticks to where you want just like you set the xticks .
This will create four ticks evenly spaced for your ax0 subplot .
If you reuse the locator for more than one axis with different ticks the final ticks will be used for all axes .
Matplotlib - Create grid of subplot with 1:1 axis scale
` ax.set_aspect ( ' equal ')` after the fact for each axis ` ax = fig.add_subplot ( 111 , aspect= ' equal ')` when you generate the axes . example / doc
I would like to draw a surface with matplotlib with folder1 to folder3 as X values , folderA to folderC as Y value and the corresponding result ( from each result.xml file ) as Z value .
you could try to adjust the margins : with pl.rc ( ' figure.subplot ' , right= 0.9 , left= 0.15 , top= 0.95 , bottom= 0.1 )
For simple column vs coloumn you can try the first code snippet under " Gui neutral animation in pylab " here #URL
I need this just to distinguish plots on legend , because plots must be not connected with lines , they must be just sets of dots .
By ` plt.subplot2grid ( ... )` , if I have created multiple figures , which figure the subplot is on ?
There are two model for interacting with ` matplotlib ` , the state machine interface ( plt . * ) and the OOP model ( acting on ` figure ` or ` axes ` , etc ) .
I need to use the ` hist ` function , I have looked elsewhere on this site but I haven't found anything .
I tried doing hist ( x / x.sum() ) but that reduce the values of the numbers in the x axis and does not change their frequency , so the y-axis is unchanged
You can use the collection returned from ` scatter ` : #CODE
I am trying to draw arrows between three points in matplotlib .
Let's assume we have 3 arbitrary points ( A1 , A2 , A3 ) in 2d and we want to draw arrows from A1 to A2 and from A2 to A3 .
I don't think you need the ` add_line ` , just the ` draw `
I am changing the color of the default matplotlib patches to this grey to make them look native .
simple graphs with linear Y axes , but outputs Type-3 fonts for
logarithmic Y axes .
Using a logarithmic yscale incurs the use of mathtext , which seems to
( like 10 ^ 6 ) or writing the axes as 10 , 100 , 1K , etc .
Does anyone know a clean way to get Type 1 fonts with log axes ?
Color on a scatter graph Python Matplotlib
I have two variables I want to plot on a scatter graph .
` scatter ` takes an argument ` color ` which allows you to set the point color ( hard to guess ) .
How can I change the font size of ticks of axes object in matplotlib
the x / yticks has the same properties as matplotlib.text
The module provides : hist , bar and errorbar functions - no specific for > = 2D .
rootpy's root2matplotlib interface now provides the hist2d , imshow and contour functions for plotting 2D ROOT histograms .
Much like the stem plot below ( from the matlab docs ) but with the option of being able to turn off the circles and the " - " between points .
There is a stem plot ( a.k.a. lollipop plot ) in the matplotlib as well .
Since there is so much whitespace , perhaps it would be easier to draw the Rectangles , rather than use pcolor .
There is a general purpose canvas widget that allows you to draw objects ( rectangles , circles , images , buttons , etc ) , and it's pretty easy to add the ability to drag those items around .
Python : Matplotlib Button not working
This is because ` bbutton ` is a local name , when the ` Plotter() ` call finished , name ` bbutton ` is gone , and there is nothing reference to the Button object , and it will be recycled by the garbage collector .
plt.savefig() returns a very nice image with my labels , axes , and no figure ( ie , the rectangle is blank )
plt.show() shows me all of the above with a nice green rectangle where it belongs , in between my axes , as it ought to be .
I can manually save this figure to the same directory , and get the result I expect ( ie , axes , labels , green rectangle ) .
I am often generating scatter plots of particles where some of them are located close to each other and since the number of particles can easily be 100k these plots become quite overwhelming .
I've tried using blit animation in matplotlib , but it's not real smooth and I can see anomolies in the update .
Here is a way to do it using the animation function : #CODE
I think you need to hack the pan / zoom tools to dynamically load the data from the file , or you need to down-sample the image .
It also has the advantage that the image is resampled on the fly , so you can still pan and zoom without sacrificing resolution where you need it .
Which produces something like this , where ax2 is on top and ax1 is on bottom in each subplot :
tl ;d r how can I get a colorbar on ax2 , an ` AxesSubplot ` , as well as ax1 , an ` Axes ` ?
Note also that this scaling in this way doesn't handle resizing of fonts of axes / tics etc ( fonts will try to remain the same size ); this is what I can eventually get with above code ( truncated tics ):
How do I set figure title and axes labels font size in matplotlib ?
Note that for newer ` matplotlib ` ( > = 1.1.1 ) , there is a function ` figure.tight_layout() ` that does the margins ( but not the font size ) for cases like this ( it is a single subplot ) - but if you're using an older ` matplotlib ` , you can do ` figure.subplots_adjust ( left= 0.2 , bottom= 0.15 , top= 0.86 )` which is what this example does ; and has been tested in : #CODE
( I did try to see if I can copy ` tight_layout ` for older matplotlib - unfortunately , it requires a rather complex set of functions included from tight_layout.py , which in turn require that Figure and Axes also have specific specifications , not present in v.0.99 )
IF you can save your data to resemble this then the HTML code above should be able to build your data in the scatter plot example shown in that link .
I'm not really looking to make a scatter plot .
Walking through matplotlib's animation example on my Mac OSX machine - #URL - I am getting this error : - #CODE
and want to transform it to an numpy array like this ( only z values in the matrix , corresponding to the sequence of x , y coordinates , the coordinates should be stored separately ) ): #CODE
One needs this kind of conversion to provide the arrays to matplotlib plotting functions like ` pcolor ` , ` imshow ` , ` contour ` .
Try the ` animation ` module .
I used the matplotlib animation library animation.ArtistAnimation ( fig , ims , interval=50 , blit=True , repeat_delay=1000 )
) Text relative to axes : #CODE
where x and y are the coordinates of the text relative to the axes .
) Text relative to figure : #CODE
) Annotation :
I have also added various axis labels to some of the axes on the figures .
Make your ` xlabel ` a unicode string : #CODE
Python Plotting via Matplotlib - Can't get xlabel and ylabel to show up on plot
The plot generates , however , the xlabel and ylabel won't show up for some reason .
The ` label ` and ` legend ` commands should come before the call to ` plot ` .
But , once transformed to frequency space , you're integrating the fourier transform of an exponential ...
About the legend , what do you mean it doesn't work ?
will plot the figure with a legend .
Python , Matplotlib , subplot : How to set the axis range ?
I would like to specify the scale of the x-axis for my scatter plot similar to excel .
To have it at every 10 without knowing the maximum , you can make two calls to ` xticks ` : #CODE
I'm generating a scatter plot and I was wondering if it is possible to avoid any overlaps between the gridlines and the text on the plot .
Also , quite simple , just ` matplotlib.rc ( ' axes ' , axisbelow=True )`
Today I was doing a report for a course and I needed to include a figure of a contour plot of some field .
Try removing the scatter plot of your data .
It will be a vector graphic ( contours are collections of polygons ) .
The scatter plot is what's causing your large size .
Without the scatter plot : 249Kb
With a raster scatter plot : 249Kb
In your particular example it's unclear why you want the scatter ( not visible ) .
In your example you have 12625 points in the scatter plot , and in vector mode that's going to take a bit of space .
For your example , using the EPS file without the scatter , it produced a pdf with 73 Kb , which seems quite reasonable .
If you really want a vector scatter command , running epstopdf on the original 1.5 Mb EPS file produced a pdf with 198 Kb in my system .
How do i annotate with a subscripted text in matplotlib ?
Im attempting to plot some data with matplotlib and i need some of the annotate to be formated like math / chem formulas .
I suspected he wanted to draw lines between pairs of points eg from ( 3 , 6 ) to ( 7 , 2 ) so I detailed a solution to that also ...
What is an idiomatic way to specify a matplotlib figure and axes to a function ?
i.e. I could tell the object " where " to draw itself via a figure-number and sub-plot configuration .
I would initialize all the axes in ` __init__ ` .
Then in the ` draw ` method , you could send draw commands directly to the desired axes object : #CODE
If your function actually draws only on one axes , you can even pass that as an object : #CODE
and to create for example a figure with one subplot on it , use : #CODE
Reset default axis tics on matplotlib subplot
Is there an elegant way to tell a matplotlib Axes that it should restore the default ` xticlabel ` settings ?
I understand your point .. but consider me having three 1D arrays through which I want to generate 3D contour plots .. in which case , I am not able to do so .
As is , the figure only shows the collection in the second subplot .
If I comment the ax2.add line out , it shows the collection only in the first subplot .
If you use the copy module to make a shallow copy , then you can re-use most of the data structure across multiple axes .
I had tried to use xticks before , but I think I may have formatted it incorrectly so it really messed with the layout .
How to make custom legend in matplotlib
I currently generate my legend with matplotlib this way : #CODE
But I have duplicated information in my legend .
I would prefer to seperate the legend .
You can chose the artists and labels to display in the legend as follows .
You'll need to create custom artists for the elements in the legend that are not actually plotted .
This may be an English language question , but what do you mean by " artist " ?
I mean the matplotlib [ artist ] ( #URL ) class
I'm using matplotlib in python to build a scatter plot .
then I use X as the X-axis value and Y as the Y-axis value to make a scatter plot .
If you have scipy installed , you might prefer this version of the Cursor , which makes the balloon follow the mouse ( without clicking ): #CODE
Under Linux , I've been checking out matplotlib's animation class , and it seems to work except that I cant initialise the movie writer to write out the movie .
To show specific area one can use ` set_xlim ` and such on axes .
Im using it in a pyside app and I could just change xlim on resize but I want more clean and generic solution .
This was reported earlier in networkx draw graph with edges .
I need to type Greek letters and the Angstrom symbol in labels of axes in a plot .
Let us say I want to create a boxplot of a list which contains the numbers 1-5 about a million times each .
The problem is , if I try to create a boxplot of that dict I get the error #CODE
Single Bar plot ( works fine ) #CODE
You give up have individual axes labels , but with 100 subplots , unless you are making huge print outs you won't be able to read the labels anyway .
Matplotlib - 2 Figures in Subplot - 1 is Animation
I have two figures that I would like to plot in a subplot : #CODE
Assume that ax1 is going to be populated with an animation which adds points ( a scatter plot ) .
Can I display the animation in subplot 1 , and on completion add the density image to subplot2 ?
The animation is driven by a yield statement .
Simple animation of 2D coordinates using matplotlib and pyplot
It is not optimal , but as far as I know matplotlib does not trigger end animation events .
matplotlib assign multiple variables to axes instance with single command
Was there a way to pass a dictionary to an axes method to set instance variables all at once without calling ` .set_xlim() ` , ` .set_ylim() ` , and so on individually ?
Draw points and lines in legend text ?
Is there any possibility to get lines and points into a legend text in matplotlib ?
except that instead of the ` -- ` there should be the same symbol with the corresponding color just as in front of the legend label ` sin ` .
This is a little bit of a hack , but it accomplishes your goal and places all of the pieces ( i.e. the legend and the text ) on the plot in the appropriate order .
Instead of relying on the default colors for the lines , I set them such that they can be referenced specifically in the legend .
There are extra spaces left in the text for ' the derivative ' for the second line in the legend , so we can place text ( aka corresponding symbol / color of the ` sin ` line ) on top of it .
Then you specify the symbol / color of the text and place it such that it lines up with the text in the legend .
For me the simplest way is plotting directly the masks with imshow , passing different colormaps .
And i hope I am not going too much off topic , but same technique can be used to plot different part of the data with different colormaps , by replacing the plotting command with : #CODE
Since I'd like to annotate the images with plot axes , I use the extent keyword that imshow supplies to map the image buffer pixel coordinates to a data space coordinate system .
Even though the image array is square , since the aspect ratio implied by the extent keyword is 1000 , the resulting plot axes also have an aspect ratio of 1000 .
Adding a second Y-Axis to an inset zoom axes
I draw a figure relating two y-axis ( i.e. two different S.I. scale ) to a single x-axis .
I achieve the zoom axes but I am missing the second y-axis ( see example below ):
Here is the code I used to draw the figure : #CODE
Setting position of contour sub-plot in Matplotlib
I want to overlay the contour of the extracted slice ( containing the tumor ) on top of the original image in the appropriate location .
However , I can't get the contour plot to lie on top of the proper region .
Instead , the contour plot always lies in the top-left corner of the image .
How can I set the position of the contour plot inside the main plot ?
I'm able to move the contour using ` extent ` ( finally ! ) , but it never lies the right place .
If your axes are latitude and longitude , then create an array of the latitude and longitude and plot using this
` ebar ` is a container of artist , so you might modify the index in the last line to match the artist you want to get color from .
The preferred way to set matplotlib figure / axes properties
Say I have a matplotlib axes called ` ax ` , and I want to set several of its properties .
I see what you're trying to do , and I think you might try looking at using the ` animation ` library instead #URL
I tried looking into the ` animation ` library , but it wasn't really what I was looking for .
I was looking for more of a real time data display than an animation at the end of data collection .
I've tried using xticks to display this : #CODE
The reason that you can not read the ` x ` values off when you manually set the xticks is that you can put anything in as the tick labels ( such as strings , non-monotonic sequences etc ) so matplotlib does not know how to determine the ` x ` value at an arbitrary point on the canvas ( see setting tickslabel in matplotlib disables mouse cursor position ) .
If you just want to plot some dots , scatter is what you want #CODE
I think you need to fix either x or y in your formula z = max ( abs ( x ) , abs ( y )) to have only one dimension and draw a curve .
Interactively : You Figure has a Zoom feature .
What I want is an animation , where you can see the graph growing .
I can save the graph at each stage , and might be able to create an animation outside matplotlib , but is there any way of getting it work like this ?
I've encountered some animation problems with some backends .
Perhaps the issue is that ` ArtistAnimation ` expects a matplotlib artist and not a nx object ?
made use of matplotlib's animation #CODE
Decreasing the pause gives a smooth animation .
Yes I would like to but , How would I append the yH value to a 2D array ?
For example , I can enter " xlabel ( ' years ')" and this will update my figure plot window .
" plot ([ 1 , 2 , 3 ])" --> Figure plot window does not show up .
So I close the figure plot window , enter " xlabel ( ' years ')" , followed by " show() " again .
For some reason the line ` import matplotlib.animation as animation ` does kill my IPython3 interpreter under Ubuntu 14.04 64bit Eclipse
I tried to search , but I can only find subplot or multiple figures on the screen .
The plots are all of the same type : I draw points and lines in a 2D plane .
The most general approach is to create a sequence of axes in the same figure , and only display one at a time .
The problem here looks like is scaling of the axes .
You could use ` ax.twinx ` to create twin axes : #CODE
Using matplotlibs contourf function with 1D vectors
I would like to display the data on a polar plot using something like contourf .
Using xticks , ticks not aligned properly with figure
I use the simple code below to generate a boxplot with the labels of the x-values changed : #CODE
Matplotlib crude animation , show trace
There is another thing I wish to implement but it is not strictly necessary , is it possible to draw a box ( square ) or a circle or a triangle around each " o " ?
Try the ` animation ` module .
As for the boxes , use Rectangle ( Draw rectangle ( add_patch ) in pylab mode ) , and the optional args to pass to ` FuncAnimation ` .
I join Saullo .
Logarithmic yscale in imshow
Plot logarithmic axes with matplotlib in python
I want the yscale be in logarithmic scale .
Preventing xticks from overlapping yticks
How can I prevent the labels of ` xticks ` from overlapping with the labels of ` yticks ` when using ` hist ` ( or other plotting commands ) in matplotlib ?
This will draw the ticks a little farter from the axes . after modifying the rcparams ( this of any other , you can find the complete list on your matplotlibrc configuration file ) , remember to set it back to deafult with the rcdefaults function .
A third way is to tamper with the axes locator_params telling it to not draw the label in the corner : #CODE
How do I set limits for axes in matplotlib ?
I have tried using xlim , set_xlim , set_xbound , and now adding ` xrange =( args.avg_window , args.posts_limit )` to that function call , but nothing seems to work :
What am I doing wrong , and what can I do to set the axes ' bounds ?
In your first call it is a wrong keyword argument : to set the x-axis limits you should pass ` xlim ` to ` add_axes ` : #CODE
You need to cast it to an ` int() ` before passing it as a matplotib axes limit argument , whichever way you want to do that .
R plots automatically set the x and y limits to put some space between the data and the axes .
The styles are generally controlled by the range of data or xlim , if given .
In matplotlib you can achieve this by setting the ` margins ` #CODE
The possibility to add an rc param for the margins is now in matplotlib master
subplot matplotlib wrong syntax
I am using matplotlib to subplot in a loop .
For instance , i would like to subplot 49 data sets , and from the doc , i implemented it this way ; #CODE
Missing errorbars when using yscale ( ' log ') at matplotlib
it works for a scatter plot so I think my problem is with the histogram function .
When I create a subplot as pyplot.subplot ( 2 , 1 , 1 ) it has the aspect ratio I need , but if I increase the number of rows ( e.g. subplot ( 3 , 1 , 1 )) the subplot becomes " too skinny " .
I can't find a single example on the net of differing subplot sizes .
You can have full control of axes positioning by giving it a bounding box in normalised coordinates ( on construction ) .
I've added some functionality which you might find useful ( removing the top ticks , sharing the xaxis , moving the ticks to the top of an Axes ) .
This will give you wind directions ; then you can transform your ( wind , speed ) coordinates to cartesian and plot it by 3D scatter .
I have one last query remaining about the issue of putting values in x , y and z axes .
However , you're over-riding matplotlib's tick positioning functionality ( Using ` xticks ` is basically saying : " I want ticks in exactly these positions " . )
Edit : It seems that the elements in cc do not have the same axes , which would explain the discrepancies .
My output is different ; I get ` ( 1 , 1 , 1 )` and the second ` print ` statement gives an exception , ` AttributeError : ' Axes ' object has no attribute ' get_geometry '` .
What's happening is when you call ` colorbar ` , ` use_gridspec ` defaults to ` True ` which then makes a call to ` matplotlib.colorbar.make_axes_gridspec ` which then creates a 1 by 2 grid to hold the plot and cbar axes then then cbar axis itself is actually a 3 by 1 grid that has its aspect ratio adjusted
1 ) Axes grid overlap my surface .
And I was happy ... but if I try , as an example , to have a Text frame on top of it : #CODE
( before the canvas variable definition ) as soon as I click on the Text frame write into it , there is no way to click on the pyplot window and make it catch my keypresses again !
I plotted a circle , and I tried setting the facecolor to ' none ' , but it is covering the contour map that it is plotted on top of .
This will make it so that the contour is seen behind the shape .
The reason that the default isn't to match the original patch when making a collection is that collections are commonly used to either speed up drawing of a bunch of almost identical artists or map some attribute such as facecolor to another scalar ( e.g. color by ` z `) .
I have searched around a little and I know that some people had these problems before - Matplotlib animation either freezes after a few frames or just doesn't work but it seems at the time there were no good solutions .
For what it's worth , there's no difference in performance by calling ` ioff ` , in this case ( and no extra draw calls inside your loop with ` ion `) .
On the animation part , give me a bit and let me cobble together an exmaple that might help .
Adding error bars to Matplotlib-generated graph of Pandas dataframe creates invalid legend
In addition , I would like to produce a legend providing labels for each of the four graphed lines .
Graphing the lines and legend without error bars works fine .
When I introduce error bars , however , the legend becomes invalid -- the colours it uses no longer correspond to the appropriate lines .
If you compare a graph with error bars and a graph without , the legend and the shapes / positions of the curves remain exactly the same .
The colours of the curves get switched about , however , so that though the same four colours are used , they now correspond to different curves , meaning that the legend now assigns the wrong label to each curve .
Observe that the graph without error bars is properly labelled ; note that the graph with error bars is improperly labelled , as though the legend is identical , the line graphs ' changed colours mean that each legend entry now refers to a different ( wrong ) curve .
Moving the " if " statement before the combined.plot() call results in an output identical to the correct graph -- though the legend is correct , no error bars are shown , even when show_errorbars is True .
As long as the legend accurately labels the graph , I'm quite satisfied .
Python Bar Plot pylab not reading in all data from csv
How to align subplot with specified size ?
The problem is that when size too large I have some free spaces in subplot from the left , which I want to crop .
I think it is possible to draw another figure with subplot but it draws two different figures .
the third and fourth stanzas create the inset axes .
So the ` axes ` function controls the placement of the inset .
Finally we come to ` setp ( a , xticks =[ ] , yticks =[ ])` .
now there are lots of tick marks and tick labels on the inset axes .
So now we know that ` setp ( a , xticks =[ ] , yticks =[ ])` removes the tick marks and labels from the axes ` a ` .
` in front of bare names like ` axes ` and ` setp ` , but sometimes the
function come from numpy , and sometimes the call should come from an axes
( Think of the figure as the whole windowed area , think of an axis as just the part of the figure where the graph is drawn . ) ` fig1.axes ` returns a list of the axes included in ` fig1 ` .
matplotlib stepfilled hist in y-log scale don't show correctly
Extract external contour or silhouette of image in Python
I want to extract the silhouette of an image , and I'm trying to do it using the contour function of MatplotLib .
But I just want to show the external contour , the silhouette .
I read the documentation of the contour function , but I can't get what I want .
If you want to stick with your contour approach you can simply add a levels argument with a value ' thresholding ' the image between the white background and the leaf .
This function can be set to return only the external contour .
Could you post the code for extracting the external contour using OpenCV ?
In this example , I only draw the biggest contour .
Stop matplotlib repeating labels in legend
The legend will now show ' xvalues ' as a blue line 4 times in the legend .
` legend ` takes as arguments a list of axis handles and labels , defaulting to ` plt.gca() .get_legend_handles_labels() ` .
You can remove duplicate labels when calling ` legend ` , for example : #CODE
The legend would show two red markers and two blue markers , when I only wanted to see one per color .
Add legend #CODE
Does imshow animation work with the qt-backend ?
You either need to add a ` pause ` in the loop after the draw or use the ` matplotlib.animation ` module ( doc ) ( tutorial ) .
I want it to finish making 4 plots , then open a new page and draw those 4 plots again and again , so I should have say 25 pages with 100 plots in total .
In this way it will plot four subplot in each iteration .
Depict legend without repeats
I'd like to add a colored legend to a Matplotlib scatterplot .
How can I get the legend to only display one label for each color instead of a label for each point ?
Have you looked at #URL I'm not sure if that gives you what you need , but the first few lines seem to provide access to the legend .
I'm still baffled as to how to create a simple scatterplot legend with one label for all points with the same color .
I've always struggled with how to do colored legends with scatter plots .
I'm not sure a clean graph representation is possible , except if you know the sets are small because you're going to have to draw multiple cliques interconnected .
Matplotlib Legend Subtitles
I would like to have subtitles in my graph legend using matplotlib .
The optional ` loc ` argument ( location ) tries to prevent the legend box to be placed over the lines .
And what if you want to divide your legend in two parts with a main titles for each subparts and of course label for lines ..
You could give the wedge the axes transformation , that would visually work , but make it hard if you want wedges plotted based on data .
What's the best way in matplotlib to make a series of subplots that all have the same X and Y scales , but where these are computed based on the min / max ranges of the subplot with the most extreme data ?
One clunky way to do it is to record the min / max of X / Y axes for each plot , and then iterate through each subplot once they're plotted and just their axes after they're plotted , but there must be a better way in matplotlib .
Can this be achieved by some variant of axes sharing perhaps ?
You can either unpack the axes
that create a grid of subplots , possibly with shared axes , it involved
Have you tried adding a single line collection instead of 10000 separate line collections ?
One ( minor ) speedup would be adding a single line collection instead of 10000 separate line collections .
It's optimized for quality output , rather than fast draw time .
Here's the timing code and the output figure , for whatever it's worth ( The output figures aren't quite identical due to different orderings of the drawing . If you need control over z-level , you'll have to stick to separate line collections ):
Convert contour ( MatplotLib or OpenCV ) to image of the same size as the original
I have this contour obtained with MatplotLib :
The problem is that with MatplotLib , the image with the contour is resized , and a margin is added ( for the axis , even if I don't draw the axis ) , so the image that I obtain from the figure of MatplotLib doesn't fit with the mask obtained with OpenCV .
I tried to get the same contour with OpenCV , but I don't obtain any result with the cv2.FindContours and cv2.DrawContours functions ( if you know how to do it this way , please tell me ... in this previous topic you can see the original image and the contour that I want )
Another possible solution would be to convert the contour obtained with the MatplotLib to an image ( PIL or array ) with the same size as the original , and without margins .
... after using the contour function , and it must be before using the contour function .
I used the ` plt.axes ([ 0 , 0 , 1 , 1 ] , frame_on=False , xticks =[ ] , yticks =[ ])` line after the contour function , and it must be before it .
new pythonic style for shared axes square subplots in matplotlib ?
To reiterate , the goal is simply to have shared axes , so that all the data are on the same scale , and have the plots be square .
However the shared axes seem to require datalim as adjustable , the plots are scaled correctly but not square .
If you leave out the shared axes , then " box " works .
But I want the axes to be shared * and * the plots to be square .
I am not sure , but I am afraid it is not possible since one gets ` ValueError : adjustable must be " datalim " for shared axes ` if one tries to use " box " and " equal " .
so what is a way to make a square subplot in matplotlib with shared axes ?
As @USER mentions , you can pass it in using the ` subplot_kw ` kwarg ( additional keyword arguments to ` subplots ` are passed on to the ` Figure ` not the ` Axes ` , thus the need for ` subplot_kw `) .
Here is an example of a 3D scatter plot of the same data , with the z-axis ( and the color ) are both used to represent the " normalized square error " .
@USER : You might try using a [ 3D scatter plot ] ( #URL ) .
How can I force pyplot to display an extra tick at x=5 so that the viewer is told explicitly that both axes do not have the same lower bound of 0 ?
You can use xticks to set the ticks of the x axis .
I want to do a scatter plot from ` data ` , so that if ` p = data [ i ]` , an object is plotted as a point with ` p [: 2 ]` as its 2D position and with say ` p [ 2:4 ]` as a color information ( the length of that vector should determine a color for the point ) .
There is a list of colormaps to choose from here .
There is also a way to define custom colormaps .
Making a scatter plot is now straight-forward : #CODE
I would just suggest to not use the jet colormap but a more continuous one , like summer or winter , which give a more clear sense of the transition , that can be distorted by the jet color spectrum .
For each value , create a new array by subtracting that value from each element and comparing the result with ` a ` , and then join those up : #CODE
I can change the labels themselves via ` xticks ` , however I then get mismatching fonts or sizes for the y tick labels .
Contouring with cartopy : ValueError : invalid transform : Spherical contouring is not supported
The reason why I can't combine them into a single matrix with one set of x and y axes ( by filling the gaps with zeros ) is that the combined matrix would be huge and there are large spaces in between the strips .
Do you also want to axes to show correct ticks according to the positions in ` a ` and ` a2 ` being used ?
It's not overwritten , the axes limits are just reset to the extents of the last image each time .
Now , if we just call ` autoscale ` : #CODE
1 ) contour lines #CODE
2 ) On top of this contour , I plot for instance some lines #CODE
In these situations , previously drawn lines need to disappear and new ones need to appear , while the contour map stays unchanged .
I have not found a way to remove only the lines and not the contour .
and then replot both the contour and the new lines .
But as mentioned , reloading the contour each time is slow and thus annoying .
You can just turn the lines invisible and readraw the axes .
( For any matplotlib artist you can do ` artist.set_visible ( False )` . ) Also , if you're doing something where you can update the data of an existing line instead of adding a new one and hiding the old one , you should just update the old one .
In other words , I managed to obtain everything I wanted using a combination of ` artist.set_visible ( True / False )` and ` artist.remove() ` together with ` del artist ` .
I thought the OP wanted to add the coordinates next to the scatter dots .
I take it that what I want to do can't be done if one uses ` scatter ` instead of ` plot ` ?
( I * have * attempted to read on Matplotlib , I even bought a book on it , but I find it absolutely incomprehensible ... If it were up to me , I'd use Mathematica or even R for this , but I'm working with legacy code ... This , BTW , is why I hesitate to replace ` scatter ` with ` plot ` . )
It will work fine for ` scatter ` , just pass in your ` x ` and ` y ` coordinates directly instead of calling ` get_data ` .
` scatter ` and ` plot ` do entirely different things , so they're not interchangable .
` scatter ` colors and scales points by a 3rd and 4th variable .
The difference in this case is that ` scatter ` returns a collection , which behaves a bit differently than the line artist that ` plot ` returns , so there's no ` get_data ` method for the artist that ` scatter ` returns .
I've been able to use the pearsonr function in sciPy to get the correlation coefficient and now want to plot the result onto a scatter plot using matplotlib .
But a scatter plot of my data would show visually any correlation .
To get a straight line in a log plot you need to perform the inverse transform of a logarithm , the exponential function .
The slope of the line will depend on your axes scale , so just adjust .
The only big feature I still need is to add a legend on the top right , with the labels indicated at ` characteristics [ i ] [ 0 ]` and the colors from ` characteristics [ i ] [ 0 ]` .
Obviously , the legend has to be outside of the data plotting rectangle ...
As far as I know , matplotlib * always * plots the legend inside the " data plotting rectangle " .
If it is covering up some of your data , you could increase the ` xlim ` , so the legend lies to the right of the largest value .
It does indeed move the legend outside the axis .
I am trying to plotting this data in a way where I have the two quantities in the x , y axes and the error value is represented by the dot color .
Is it possible that you have the axes of ` costListTrain ` wrong ?
matplotlib optionally autoscale axis range on the left or right
In other words , I'd also like to be able to set the range on the left to autoscale ( ` -5 `) and to limit it on the right to a particular value -- e.g. : ` myrange = None , 3 `
Set color of points with -inf using scatter
I'm drawing a scatter plot in which I'm specifying the color of each point : #CODE
How can I make the unit length of all three axes equal ?
z data are about an order of magnitude larger than x and y , but even with equal axis option , matplotlib autoscale z axis :
Hopefully that will show you how one should make a polar stereographic contour plot in cartopy .
It does not specify the range of what is shown , because this is a property of the axes and can be set by simply adding ax1.set_xlim ( -4 , 4 )
Matplotlib axes resizing to accommodate text
Well , I really don't think there is a clean and automatic way , as text is an object that has a live that is almost independent from the axes where you draw it .
In fact , it doesn't have an actual dimension until you draw the whole figure ...
To do this you have to extract the window coordinate information and transform them into data coordinate .
Before you can do this you have to draw your figure , otherwise the text is yet to be determined ( if someone knows better , please correct me ) .
Apparently this does not work , it sets the xlim to the minimum and maximum in the list of hours and assumes that they increase monotonically .
Note : this is accurate if the default ` xticks ` are at integer positions , otherwise you can do something like #CODE
In practice I seem to end up mixing them both myself in SW ; it's largely a matter of taste whether you go through the pyplot API or access the objects . pyplot is certainly very convenient although as you want to do more complex / exotic things you'll find what you can do with pyplot alone limited and you'll need to get to know at least the full API's Axes , Figure , Legend and Path objects better .
My issues comes when using native panning tool - it's appears as though matplotlib tries to constantly redraw the canvas as you drag the pan handle around .
In terms of performance I think it would be much preferable for the canvas to just draw once when the mouse is released at the end of a pan .
Thanks so much that worked a treat - only other thing I would change to that is having the panner ' grab hold ' of the canvas at the start , so as you pan around the plot isn't dynamically updating , but the static canvas image is moving around with your mouse with whitespace appearing at the place that will be drawn once released .
Also , I'm having difficulty imagining the shape you're trying to draw .
First , draw the circles : #CODE
Then draw the lines : #CODE
:) As the Jacobian matrix of the transformation has a singular point in the origin I needed to have a grid with 2 patches so this is the external patch .
I now have my running program with both patches so thank you !
BTW , here is a command to show the difference between the modes : ` modes = ( ' full ' , ' same ' , ' valid ') ; [ plot ( convolve ( ones (( 200 , )) , ones (( 50 , )) / 50 , mode=m )) for m in modes ]; axis ([ -10 , 251 , - .1 , 1.1 ]); legend ( modes , loc= ' lower center ')` ( with pyplot and numpy imported ) .
Could you please explain what each element in the tuple returned from ` hist ` is ?
@USER [ ` hist `] ( #URL ) returns ` heights ` and ` x points ` as first two elements of the tuple .
[ Here ] ( #URL ) is what I get ( using ` bins=20 ` in ` hist `) .
I think it's shown after the call to ` hist ` , and then ` bar ` doesn't show anything because there's already an open window .
Using Matplotlib sliders with multiple plots on the same axes
I have multiple lines plots that are plotted on the same axes in Matplotlib .
Nicely label lines without legend when axis limits change ?
When there are lots of lines on a plot , a legend isn't always the best way to label them .
Question : what's the easiest way to label lines directly on a plot ( without using a legend ) in a way that doesn't get broken by changing the axis limits ?
It could be a surface or contour plot .
Which is trying to tell you that you do not need to tell it which " transform " ( or coordinate system ) the cube is in .
So , to get the example to work , you can simply remove the transform keyword argument in your ` contourf ` call : #CODE
Matplotlib : Horizontal Linelength in Legend
Lets say i'm plotting a line with matplotlib and add a legend .
Within the legend it says ` ------ Label ` .
When you create your legend add the ` handlelength ` keyword ( doc ) which sets the length of the ' --- ' ( which is called the handle ) .
Instead of getting the sqrt ( x_bottom ) as the ticks at the top I just get a range from 0 to 1 .
However , as soon as you zoom or interact with the plot , you'll notice that the axes are unlinked .
You could add an axes in the same position with both shared x and y axes , but then the tick formatters are shared , as well .
Therefore , the easiest way to do this is using a parasite axes .
The difference will become apparent when you interact ( e.g. zoom / pan ) with the plot .
Matplotlib contour from xyz data : griddata invalid index
I'm trying to do a contour plot using matplotlib of a file with the following format :
What was happening was that when I called the ` colorbar() ` function in either ` subplot1 ` or ` subplot2 ` , it would autoscale the plot such that the colorbar plus the plot would fit inside the ' subplot ' bounding box , causing the two side-by-side plots to be two very different sizes .
To get around this , I tried to create a third subplot which I then hacked to render no plot with just a colorbar present .
How can I have a single color bar for two different scatter plots that I already have ?
Let say my scatter plots are plot1 =p ylib.scatter ( x , y , z ) and plot2 =p ylib.scatter ( a , b , c )
e.g. I'd have ` for i in range ( 4 ): ; subplot ( 2 , 2 , i ); plot ( data [ i ])` - how does that work with the axes loop ?
They control the colour range of each subplot .
Also note the option of ` subplots ` to share x and y axes .
This method does not work when the subplot is not square .
You can simplify Joe Kington's code using the ` ax ` parameter of ` figure.colorbar() ` with a list of axes .
None | parent axes object ( s ) from which space for a new colorbar axes will be stolen .
If a list of axes is given they will all be resized to make room for the colorbar axes .
in your draw argument try node_size e.g. ` node_size=15 `
Is there a way to set xlim and ylim using sliders ?
The example updates the data but you could easily put the xlim and ylim calls in the update function .
I didn't managed to do that since * axis * and * xlim * are not part of * Line2D* .
Yes , there is a way to change plot limits , just not with xlim , ylim but with redefinition of axis .
How to view legend next to matplotlib ?
I've got a legend which is therefore rather extensive and I placed it next to my plot using the following code : #CODE
As you can see however , the legend is cut off on the right .
Is there a way that I can create more space on the right side of the image so that I can see the full legend ?
Is there a way that I can filter the data , or is there a way to draw the ocean again to cover the data ?
I attempted to adapt the ellipse example in the main site , so as to draw two circles instead , how ever after running the code , I find that none of the patches are displayed , I am not able to figure out what exactly is wrong ... here is the code .
Am trying to make a contour plot with matplotlib's contourf .
I guess I could also filter or interpolate my data to my region of interest and then give that filtered data to contourf , but if I can just make contourf focus on a particular region , it would be alot easier .
Perhaps the program is opening a new subplot canvas , the content of which has been deleted but leaves the old one .
Matplotlib : text color code in the legend instead of a line
On certain LCD monitors , the color of the horizontal lines in the legend is hard to tell apart .
So instead of drawing a line in the legend , is it possible to just color code the text itself ?
if the line could be made thicker just in the legend , but not in the plot , this would also work .
Just set the ` linewidth ` of the legend handles : #CODE
Here is what I came up with to change the color of the font in the legend .
This operation can be done cleanly after all plotting is done via the legend text getters / setters and axis line getters / setters .
Set the legend text colors to be the same as the line colors in a for loop before plotting .
Matplotlib : Is it possible to create an new axis with a given y-offset , without creating subplot ?
And Here is the situation : i want to draw two sankey diagrams with a given y-offset , and several ports of the two diagrams should be connected .
Therefore are two coordinate systems with y-offset in the same subplot required .
I have tried the ' add_axes ' method , but with this method a new subplot is created and there will be a graphic scaling problem .
Now this is the question : Is it possible to create a new coordinate system with a given y-offset , without creating subplot ?
` sankey.add() ` supports a ` transform ` keyword argument .
Depending on your figure , create a new ` transform ` instance , and use it for the shifted part of your figure : #CODE
In order to create the new transform , the helper function ` matplotlib.transforms.offset_copy() ` may also be useful : #CODE
I wrote a subclass of Affine2DBase -class to do the coordinate translation based on a given transform object , for example , a ax.transData object .
However , you can access the ` color_cycle ` iterable for a given axes object ( ` ax `) through the ` _get_lines ` helper class instance .
I like to add the ability to explicitly specify an axes object to plot on when I write similar functions , so I usually do something along the lines of ` ax = kwargs.pop ( ' ax ' , plt.gca() )` .
How to prevent a matplotlib annotation being clipped by other axes
I have a plot in matplotlib with multiple subplots ( axes ) , and I want to annotate the points within the axes .
However , subsequent axes overlay annotations from previous axes ( eg annotation on subplot ( 4 , 4 , 1 ) goes under subplot ( 4 , 4 , 2 )) .
If you plot the text in the figure instead of the axes ( e.g. using ` fig.text `) , it will always appear above .
As long as it's in the axes , it will get overdrawn by other subplots , as ` zorder ` only applies _inside_ an axes .
I can think of some nasty hacks to replace all of the ` annotate ` calls with ` fig.text ` but it isn't pretty ...
One way to do it is to pop the text created by ` annotate ` out of the axes and add it to the figure .
If we just pop the text object out of the axes and add it to the figure instead , it will be on top : #CODE
You mentioned the ` DataCursor ` snippet , and there you'd want to change the ` annotate ` method : #CODE
When I use pylab and python under Linux to draw and show an image , like in the following example : #CODE
It is indeed possible to add shapes like you describe to at maplotlib axes object .
write a function to add the shapes as shown in the example with the axes object , artist type , and x-y coordinates as arguments .
File " / usr / local / epd-7.0-2-rh5-x86_64 / lib / python2.7 / multiprocessing / queues.py " , line 316 , in join self._cond.wait()
You can use the various pyplot functions called ` xlim ` , ` ylim ` ( to set the limits of the axes ) , ` xticks ` , ` yticks ` ( to set the tick positions ) etc .
Any single rectangle that you can draw on this map can legally be a zoomed in area ( there is some slightly more advanced code in here , but the picture is worth a 1000 words ): #CODE
Hence it is not possible to draw a map that crosses the dateline using the standard PlateCarree definition .
I am developing some code to produce an arbitrary number of 2D plots ( maps and simple contour plots ) on a figure .
However , in my real application - which uses the exact same commands for subplots , contourf and colorbar , only that these are dispersed across several routines - the labels on the colorbars are not showing up ( the color patches seem to be ok though ) .
( and even better : found a solution ? ) Oh yes : if I manually create a new figure and axes in the actual plotting routine ( where the contourf command is issued ) , then it will work again .
Could it be that I am not passing my axes instance correctly ?
However , axCurrent was already reset to zero when the program entered this routine for any page but the last , hence the axes were switched off for all axes in figure .
Attempting to draw hyperbola in matplotlib produces line along vertical asymptote ?
I'm attempting to draw a hyperbola using pyplot and matplotlib .
Maybe when calling from the web , it can draw images .
have to add an additional patch to the current axes
Bar chart corruption when plotting multiple subplots in MATPLOTLIB
It also has the feature that when a chart has already been added to the window ( as identified from rowID ) rather than draw a new plot it will replace the data in the old plot .
ie it allows for updates ( animation )
addChart -- basically adds a new subplot
addPlot -- adds a new line or bar to an existing subplot
I would keep a list of lists of data ( so ` [ [ subplot1_data1 , subplot1_data2 ] , [ subplot2_data1 ] , [ ... ]]`) a list of ` axes ` objects , and a list of something to keep track of what type of plot you want .
I am using ` matplotlib `' s ` contourf ` function to display ` z ` data as function of ` x ` and ` y ` .
However , When I make my ` x ` and ` y ` arrays 2-dimensional , ` contourf ` breaks on 2-d array of ` datetime ` objects .
so that ` x ` , ` y ` , and ` z ` are all of shape ` ( 10 , 3 )` , ` contourf ( x , y , z )` yields this traceback : #CODE
How to plot a cumulative histogram in pyplot with logarithmic xscale only
This plots logarithmic xscale AND yscale .
Can't seem to figure out how to plot logarithmic xscale only .
Drop the ` log=True ` parameter on the histogram plot and use the ` set_xscale ( " log ")` of your axes object .
So if you just set ` bins=10 ` they will be equally spaced , which is why when you set the xscale to log they have decreasing widths .
To get equally spaced bins in a log xscale you need something like : #CODE
You're right , it doesn't set xscale to log .
And you're right about xscale and unequal bins etc .
This will append the correct values but does not update the index properly and the graph is messed up .
Note that the legend is usually messed up .
If you want to plot the bars of all columns and the mean you can ` append ` the mean : #CODE
If your layout doesn't fit in to the subplot ` tight_layout ` will adjust the matplotlib parameters .
How to position and align a matplotlib figure legend ?
I can add a nice looking figure legend with #CODE
However , this legend is positioned at the center of the figure and not below the center of the axes as I would like to have it .
Now , I can obtain my axes coordinates with #CODE
and in theory I should be able to position the legend by specifying the loc keyword with a tuple : #CODE
This works , except that the legend is left aligned so that loc specifies the left edge / corner of the legend box and not the center .
I also tried to obtain the " legend position " , but legend doesn't have a * get_position() * method .
I read about * bbox_to_anchor * but cannot make sense of it when applied to a figure legend .
This seems to be made for axes legends .
Or : should I use a shifted axes legend instead ?
And somehow it must be possible to " center align " a figure legend , because loc= " lower center " does it too .
In this case , you can either use axes for figure ` legend ` methods .
As you've already noticed ` bbox_to_anchor ` specifies a tuple of coordinates ( or a box ) to place the legend at .
The difference is just whether the tuple of coordinates is interpreted as axes or figure coordinates .
As an example of using a figure legend : #CODE
As an example of using the axes method , try something like this : #CODE
Upon further thinking , I guess the answer to my original question should be : " if you want to use axes coordinates , use axes.legend .
" Yet - out of curiosity , I still wonder if the loc keyword is the only way to control the text alignment in a legend box ?
In many other matplotlib objects , you can extract the patches , lines , etc .
( see for example the boxplot documentation ) , and modify their properties .
If you just want two curves that share the same axes , just plot them on the same axes .
You're probably adding new axes on top of the old axes on an existing figure when you intended to create a new figure .
This causes the ticks from the previous axes to " poke out " from behind the new axes you just added .
By the end of your loop you're calling ` twinx() ` twice , so you naturally get two twinned axes .
I would like to draw a grid covering all the sphere on an orthographic projection .
I need to draw a bar plot from a list of tuples .
Matplotlib - Wrong overlapping when plotting two 3D surfaces on the same axes
I am trying to plot two 3D surfaces on the same axes in matplotlib with the plot_surface command .
in the back corner ( 200N , 2.5Hz on the axes ) the blue-green surface is ' on top ' when actually the yellow-red is closer to the viewer .
It's just like painting . which one is ' on top ' is determined by which one you draw at last .
You can use ` subplot ( a , b , c )` , where ` a , b , c ` are dynamically adjusted to make sure you have exactly ` n = a * b ` plots in the same figure .
This is the reason for creating the scatterplot with multiple calls to ` ax.scatter ` , although , admittedly , one could at least reduce the number of calls to scatter to one per maker shape used ; e.g. #CODE
i don't think there's a requirement for multiple marker shapes in ` scatter ` . just feed it a single marker for each group of data .
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
If you have to use a different marker for each set , you have to do a bit of extra work and force all of the ` clims ` to be the same ( otherwise they default to scaling from the min / max of the ` c ` data per scatter plot ) .
If you only need one shape you can do this all with a single scatter plot , there is no need to make a separate one for each pass through your loop .
once you have the data all beaten down into a 1D array , make the scatter plot , and keep the returned value : #CODE
You then make your color bar and pass the object returned by ` scatter ` as the first argument .
What is the standard way of plotting a timeseries ( dates ) of quiver or barbs ?
Using this with quiver or barbs in the same way result in : #CODE
I am trying to plot some data using contourf using this function : #CODE
I tried adding N=50 to the contourf function but it did not help .
You need to add levels parameter to contourf : #CODE
The number of levels in the colormap will be the same number of levels in the contour .
Your problem is that you cannot pass ` N ` as keyword to ` contourf ` , it's being ignored .
In many cases ( particularly line or scatter plots ) , I also use other things than colour to distinguish between sets ( eg . line styles , different markers ) .
The second criteria should be met by any " sequential " colormaps ( which increase or decrease monotically in luminance ) .
In other words , cubehelix is not a colormap , it's a family of colormaps .
So I have a 2D array of data producing a plot of many timeseries on the same axes .
I run this exact code and I can zoom , pan , etc , just fine .
I'm doing a hist plot and I want some numbers shown in the plot , so I put in a text box using mathtext for the text , but I doesn't work and I can't see why .
Put pcolormesh and contour onto same grid ?
I'm trying to display 2D data with axis labels using both ` contour ` and ` pcolormesh ` .
As has been noted on the matplotlib user list , these functions obey different conventions : ` pcolormesh ` expects the x and y values to specify the corners of the individual pixels , while ` contour ` expects the centers of the pixels .
The first approach doesn't play nicely with 2D axes ( e.g. , as created by ` meshgrid ` or ` indices `) and the second discards the axis numbers entirely
On the other hand , contour assumes that the data is cell-centered , and X , Y must be the center of cells .
So , you need to be care about the input domain for contour .
This " technique " for animation comes from the Matplotlib Cookbook .
If the animation were more complicated , there could be even more attributes you'd have to define .
Using log scales is ok , using an arbitrary transform on your axes is not .
This could be plotted using imshow but Castro's approach makes for a much neater scatter plot .
How do I write a Latex formula in the legend of a plot using Matplotlib inside a .py file ?
I want to add a legend with a formula to the plot , but I haven't been able to do it .
Except for the fact that ' r ' IS necessary when you want to write a formula in a legend / axis .
If you want more control over where the ticks are look in to ` Locator ` s .
The objects returned by ` streamline ` are a line and patch collections , which know nothing about the streamlines .
An improvement over your current workaround , if you only have the streamplot on your axes object , is to call ` ax.cla() ` , and then call ` ax.streamplot ( U_new , V_new )` .
The objects returned by streamline are a line and patch collections , which know nothing about the vectors .
The best bet is to use ` cla() ` ( as suggested by dmcdougall ) to clear your axes and just re-plot them .
` collections ` seems to use the artist ` allow_rasterization ` decorator , but from a quick glance a the code I couldn't see how to set a dpi .
I need to use ` axes.clear() ` to draw a new chart for many times .
how much stuff do you have plotted on your axes when you clear it ?
If I make this change , ( and assume a minimal interface ) , ` refresh ` runs with no describable delay .
The problem is you are setting ` ax ` as the object that is returned by ` imshow ` , you need to add the patch objects to an ` axes ` object .
Sorry I fixed the ax issue but forgot to update it here ( I copied too quickly from what you wrote ) . matplotlib is not imported as plot , it's just that higher up in the code the axes was assigned to plot ( it made the code easier to read in context ) .
` Rectangle ` ( doc ) a variety of hash options .
Python Pyplot Bar Plot bars disapear when using log scale
For example , you can pass it a ` Transform ` object whose ` transform ` method converts ` None ` to ` 0 ` .
Grid Lines below the contour in Matplotlib
If I put the grid lines below the contour , they disappear since they are below it .
If I put the grid line above the contour , they looks like what they are looking now .
However , what I would like to have is the grid lines should be visible , but should be below the black portion of the contour .
Looping and Naming Variables in Python Bar Chart
I am making a scatter plot in matplotlib and need to change the background of the actual plot to black .
Just FYI , in addition to what @USER said , you could just use ` ax.patch.set_facecolor ( ' black ')` ( where ` ax ` is the axes instance ) .
` fig.patch ` is the figure background and ` ax.patch ` is the axes background .
Use the ` axisbg ` keyword to ` subplot ` : #CODE
( Granted , not a scatter plot , and not a black background . )
If you already have the ` axes ` object , for example if you used ` f , ax = plt.subplot() ` or ` plt.subplots() ` , or can just get the current axes via ` ax = plt.gca() ` , you can directly use a method of it , ` set_axis_bgcolor ` : #CODE
If you already have ` axes ` object , just like in Nick T ' s answer , you can also use #CODE
I would look at how ` animation ` #URL does it , which is using pipes .
The animation module nicely wraps up many of the things needed to do animation ( including a way to stream output directly to ffmpeg ) , and there is a very nice tutorial .
Thanks this solution worked but it seems ` matplotlib ` is not really for animation which is what I'm essentially doing .
You should look into the ` animation ` module of ` matplotlib ` ( see edit ) .
I would like to move the common axis labels away from the axes a little .
I had to modify manually figure margins as the labels were outside the figure frame when using the default configuration .
This is what I did : ` ax.set_ylabel ( ylabel , labelpad=10 )` .
I also found this line in the error message : ` / scisoft / lib / python2.5 / site-packages / matplotlib / axes.pyc in set_xlabel ( self , xlabel , fontdict , ** kwargs )` .
Python graphics animation libraries
Can I do this kind of interactive animation with ` matplotlib ` ?
A lot of this has already been written and is nicely wrapped up in the animation module , and there is a very nice tutorial .
This means that when plotted on a scatter plot , I essentially have lines of data with an equal amount of blank space between neighboring lines .
Example of how my data is spaced on a scatter plot : #CODE
If it where just a single graphics I would manipulate the axes object .
Maybe someone else can append it .
Animation with contours matplotlib
2 ) In the final output , contour lines from previous frame are still visible .
Need to add a " legend " to an arrow / contour plot
I am plotting some scalar data as a contour plot with ` matplotlib.contourf ` .
Second , the approach I have tried is to do the contour plot , then plot the arrows , then add a rectangle to the plot like so : #CODE
This isn't working because the rectangle patch covers up the contour , but it doesn't cover up the arrows in the plot .
How to make a Legend of MatPlotLib patch patterns or add them to a preexisting Legend
How does one make a legend for patch patterns used on a graph or add information on the patch patterns to a preexisting legend without affecting information already present on the legend ?
and it will be automaigically added to your legend .
And entry will be added for each artist that you have added a label to .
If you make your legend via ` legend ( hands , labs )` , just add the patch object to the ` hands ` list as you would a ` Line2D ` object .
` legend ` really works on ` artists ` which both ` patch ` and ` Line2D ` are derived from .
Edit : I almost solved this myself ( see below ) but still wonder how non-rectangular patches can be plotted in matplotlib ...?
I want to draw a line at ` x=x '` .
Why does matplotlib fill_between draw edgelines only on a PDF ?
draw ( artist , renderer , * args , ** kwargs )
File " / usr / local / lib / python2.7 / site-packages / matplotlib / figure.py " , line 1085 , > in draw
draw ( artist , renderer , * args , ** kwargs )
File " / usr / local / lib / python2.7 / site-packages / matplotlib / axes / _base.py " , line > 2110 , in draw
draw ( artist , renderer , * args , ** kwargs )
File " / usr / local / lib / python2.7 / site-packages / matplotlib / lines.py " , line 694 , > in draw
Fixing axes ranges in pyplot subplots
I want to manually set the axes of the first subplot , while the second subplot can choose its own axis : #CODE
However , this seems to have no effect on changing the axes of the first subplot .
Instead of trying to set the axes itself , you can try adjusting the xlim and ylim properties instead : #CODE
Selective patterns with Matplotlib imshow without using patches
Due to the back-end I am working within for the GUI containing the graph , I cannot utilize patches ( they fail to pickle and make it from the back-end to the front-end via the multiprocessing package ) .
It may be we can fix the root problem so that you * can * use patches for this ( which is kind of what they are designed for ) .
Can you add some code which highlights the failing patches ?
I don't see how you want to transform those three arrays in a single 2d array , but you can easily get a 3d array .
Consider your arrays are named ` mag ` , ` x ` , and ` y ` , then ` allthem = dstack (( x.ravel() , y.ravel() , mag.ravel() ))` and ` scatter ( x=allthem [ ..., 0 ] , y=allthem [ ..., 1 ] , c=allthem [ ..., 2 ])` .
Also , this messes up the scale of your scatter plot , so something like my original answer may be more suited for what you are after .
@USER I made an edit to my answer after reading your previous question , it now does what you are after , although I have trouble figuring out why would you want that as an array version of a scatter plot , but that is none of my business .
I have written a routine to draw vertical cross sections from atmospheric model output .
What I would like to do , is to show two vertical axes : on the left I display presure values on a log scale , and on the right I show altitudes in km .
Use a predefined ( or even custom ) Locator from matplotlib .
This code is " zoom-safe " ( i.e. the altitude and pressure labels change nicely when you zoom into the plot or pan it , and the model levels change consistently ) .
I am plotting a graph with several lines on it , and would like to assign to each line a particular label that will be shown in the legend .
how to change the size of the sci notation above the y axis in matplotlib ?
how to change the size of the sci notation above the y axis in matplotlib ?
below is basic code and image for four subplots , I cant figure out how to reduce the size of the sci power notation above the y axis .
The percentage of each frac seems to be auto-labelled .
Text #CODE
You need to either enter the x-coordinate in the same format ( a date ) as for the other plot methods , or transform the coordinates .
I want to know whether there is any other library to draw charts in python .
I want to draw more attractive and designer charts so that the end user will find it very attractive .
Matplotlib's solution to your problem is to draw custom rectangles instead of using the pylab hist .
when I from matplotlib import animation , I get the error " no module named animate " .
also , the only thing that ` animation ` is being used for there is the timers and such , everything else should work for you .
Now I want to add / connect an event handler on each subplot , such that when the user clicks on one of the subplots the plot that was selected would be opened in a separate figure / window .
I should also mention that the only type of plot that I am using and interested in are colormaps ( using imshow() ) .
and then for each of the 4 panels I call imshow and contour like this : #CODE
It seems that matplotlib adjusts the axes .
Then you can set the xlim of each plot individually .
Matplotlib - Stacked Bar Chart with ~1000 Bars
The contour pyplot function in the example above can get rendered in fig1 , but occasionally also in some other figure that is generated in parallel .
Is there any way to attach the contour pyplot function to fig1 ?
You can create a subplot and than call the ` contour ` method of the subplot : #CODE
It does this by wrapping the OO interface in a set of commands that keep track of what the current ` figure ` and ` axes ` are .
In the OO model , most ( maybe all ) of the plotting functions are associated with ` Axes ` objects ( doc ) ( as there can be more than one axes associated with a figure ( ex subplots using ` gridspec `) .
which will grab the current axes from ` fig1 ` , creating one if necessary .
This may be helpful if you keep track of your figure objects , but not your axes objects and want to add another graph to the figure .
I would like to be able to display a label in the legend box for a coloured area under a graph .
Where could I insert a command to show a legend for it ?
I would like the legend for the shaded area to be in the same legend box as the one for the curve .
With the Maptlotlib GUI that starts from a terminal I can select a rectangle of the graph that I want to zoom into and the axes adjust accordingly .
If all you want to do is to switch from inline plots to interactive and back ( so that you can pan / zoom ) , it is better to use %matplotlib magic .
I wonder if there is a more elegant way to draw the polygon in below code , or with a special plot function or parameter ?
highlight single contour line
I'm making a simple contour plot and I want to highlight the zero line by making it thicker and changing the color .
HTH -- this is basically the contour example taken from the matplotlib docs , just with modified level lines
The object that is returned from the ` contour ` -method holds a reference to the contour lines in its ` collections ` attribute .
The contour lines are just common LineCollections .
In the following code snippet the reference to the contour plot is in ` CS ` ( that is ` cs ` in your question ): #CODE
I am trying to draw a linear line in real time but I am unable to come up with the result .
The other issue you have is that when you do ` set_data ` it replaces the data that is plotted with the ` x ` and ` y ` passed in , not append to the data that is already there .
How can I plot the multiple bars with dates on the x axes ?
The results should be something like , but with the dates are on the x axes and bars are next to each other :
if i want to show like 100 days on the x axes , how do you fit them ?
And also , using ax.xaxis_date() is very advantages , cause it fits your dates into the x axes .
You can instead get the individual pie chart patches and add hatches to them : you get the patches with : #CODE
set_hatch is a method for the artist though , so you should be able to set it get getting the artist for each slice .
For reasons like this i often avoid Basemap alltogether and read the shapefile in with OGR and convert them to a Matplotlib artist myself .
This allows you to get the Matplotlib Path vertices and codes in the projection coordinates which you can then convert into a new Path .
I'd guess the white river problem goes away if you also draw the " unwanted " polygons but with the same color as the continent fill .
How to use AxesGrid for varying size axes
I want to draw a quadratic Figure .
It shall have 13 axes , with one being 2x2 and the others 1x1 in size ( relative units ) .
I've been trying AxesGrid , but with ` show_all=True ` , also the top left gets filled with four axes , and if I set ` show_all=False ` , I don't have any axes at all on my Figure .
A connection id is returned which can be used to disconnect
Can someone please explain to me what is going on ... how I'm I suppose to know which Button is being pressed ?
Matplotlib : Don't show errorbars in legend
I'm plotting a series of data points with x and y error but do NOT want the errorbars to be included in the legend ( only the marker ) .
A hack would be to plot the points separately using ` plot ` and use them in legend .
I guess otherwise one would have to alter the handles before passing them to the legend which does not seem easier than consecutively calling errobar / plot .
You can modify the legend handler .
See the legend guide of matplotlib .
making matplotlib scatter plots from dataframes in Python's pandas
What is the best way to make a series of scatter plots using ` matplotlib ` from a ` pandas ` dataframe in Python ?
For example , what if you wanted to now look at all the values of ` col3 ` for the corresponding values that you plotted in the call to ` scatter ` , and color each point ( or size ) it by that value ?
then you can plot using ` mydata ` like you show -- plotting the scatter between ` col1 , col2 ` using the values of ` col3 ` .
Vary scatter point size based on another column #CODE
Vary scatter point color based on another column #CODE
Scatter plot with legend
However , the easiest way I've found to create a scatter plot with legend is to call ` plt.scatter ` once for each point type .
I have an external function which returns a Figure object , and in this situation , each Figure object is composed of exactly one Axes object .
Obviously , this doesn't work , as the axes retrieved belong to fig1 and fig2 , not joinedFig .
The axes also cannot be merely duplicated by copy.deepcopy() .
While a search did lead me to see that pyplot.figure() is the development team's recommended instantiation technique , it doesn't change the question : is there any way to do Axes / Figure copy construction and Figure construction via composition of copied Axes ?
If so , there is an easy solution : create the desired figure and axes first , then pass the axes to ` CreateFig ` , and let ` CreateFig ` manipulate the ` axes ` object : #CODE
For a demonstration of a Graph algorithm i need to draw a networkx graph to a Tkinter Canvas and be able to modify that graph ( and the plot ) at runtime .
Did I misinterpret the use of the ' draw ' method or is this behavior just unexpected ?
One of the wedges is quite small , and the wedge's inner text overlaps with the wedge's margins which doesn't look very nice .
The two subplots are pie charts , therefore I want their axes to be square .
After browsing the API , the following should be the correct way to adjust the axes of each subplot : #CODE
Since the width of each subplot is 8 inches , I set the width of the figure to 8 inches as well and the height of the figure to 2*8=16 inches : #CODE
That's why I want to widen the figure along the x axis but by retaining the axes of the subplots .
After reading and trying out a lot about autoscale , xlim , ylim etc ., I'm even more confused and nothing works .
` ax.axis ` changes the limits of the axis , not of the size of the axes .
How do I set the size of each subplot and keep it fixed while widening the figure ?
you need to tweak the ` padding ` parameter in the subplot ....
Do I have to create a subplot to use this ?
then minor labels are shown on all axes .
I think you need to use the Geodetic transform when plotting this section rather than Plate Carree : #CODE
Using the Geodetic transform , in this case , will do the trick .
To understand the reason the line wasn't as you expected it to look , we need to understand what the PlateCarree transform represents .
Generally , if you wanted to draw a Geodetic line which always crosses the North Pole , then the north pole should be one of the coordinates of the line .
I was trying to plot some data with scatter .
Now I came on the idea to try imshow with the some data , soince I didn't like the circles of scatter .
BTW , you could use marker= ' s ' to draw squares in your scatter plot instead of circles and then just keep your original code .
Consider to use ` pcolormesh ` or ` contourf ` if you want to plot data of the form ` f ( X , Y ) = Z ` .
Bold font weight for LaTeX axes label in matplotlib
In this example of a marker from my scatter plot I have set the color to green , and edge color to black , and hatch to " | " .
See the code example below to produce scatter plots such as these :
matplotlib documentation on collections
and scatter .
The Axes object ( ax5 ) does not seem to have an easy way to set
Python matplotlib change color of specified value in contourf plot using colormap
I am trying to create a filled contour plot in matplotlib using colormap .
I would just overplot the same contour plot , but then just with levels between -1 and 1 , with color white .
In case you want more control , set the ` colors ` keyword in ` contourf ` to a tuple of matplotlib colors , with the same number of elements as you have levels ( minus 1 : the colors correspond to the intervals between your level boundaries ) .
Then , you don't need to overplot a separate contour , and your colorbar is also correct : #CODE
Even nicer perhaps is to define your own colormap , but then you'll likely run into the issue that you have to match your colormap exactly with your contour levels .
How to draw an alternating line with pyplot ?
I would like pyplot to draw a line between two consecutive points , while skipping every other line ( e.g. : draw a line between ( 1 , 10 ) and ( 2 , 20 ) , and a line between ( 3 , 30 ) and ( 4 , 40 ) . )
So I guess I have to built each button separately , and don't know how to " order " them in the buttons_frame 2 ) I am working within a for loop , so I can't use a " main " specifically for this . and 3 ) the Figure to plot is already created before entering the GUI .
Matplotlib : Cursor snap to plotted data with datetime axis
I already have a " snap to cursor " , but that only works for scalar x axes .
Can anyone help me to modify the snap to cursor so that it works for datetime x axes as well ?
Single legend for multiple axes
The subplot has two axes with different scales on the same subplot and I want only one legend for both axes .
Also , the question does not state it needs a single legend on title .
For example R treats its axes pretty differently from ` matplotlib ` .
has " floating axes " with outward ticks , such that there are no inner ticks ( unlike ` matplotlib `) and the axes do not cross " near " the origin .
Related question : scatter plots and line plots have different default axes settings in R , for example :
Also , the ticks start slightly after the origin point ( where the y and x axes cross at the bottom left of the axes ) and the ticks end slightly before the axes end .
Note that there's also considerably more space between the axes ticklabels and the ticks themselves .
Also , by default there are no ticks on the non-labeled x or y axes , meaning the y-axis on the left that is parallel to the labeled y-axis on the right has no ticks , and same for the x-axis , again removing clutter from the plots .
To get the axis spines like you see the in bar plot , try to follow one of the first few examples here : #URL
The position of the spines can be specified a number of ways .
That does the grid but pretty much doesn't do any of the axes things outlines above ... its ticks also look funny .
To get the spines down , check out the first few examples here : #URL They should at least set you down the right path .
The example #URL from the page you cite is closest to the bar graph axes , but still very different from it ...
it looks chopped up and not like the nice default floating axes of the histogram plot in R .
Not trying to be picky , just saying that even with the great customization capacities , I'm still unclear how to make axes that look like those axes in the histogram , which is the default behavior in R .
Ideally , you should probably specify the positions of the spines relative to the axes itself .
As an example , below is a snippet that will allow you to easily customize the axes of any matplotlib plot .
EDIT : for non touching spines , see the function below which induces a 10 pts displacement of the spines ( taken from this example on the matplotlib website ) .
How would you get " floating " axes though that do not touch , as in the histogram example ?
see [ this example ] ( #URL ) from the matplotlib website for non touching spines in matplotlib
@USER I have edited the response to include the function for non touching spines .
Setting spines in matplotlibrc explains why it is not possible to simply edit Matplotlib defaults to produce R-style histograms .
For scatter plots ,
R style data-axis buffer in matplotlib and In matplotlib , how do you draw R-style axis ticks that point outward from the axes ?
Building off some of the other answers , the following function does a decent job of mimicking R's histogram style , assuming you've called ` hist() ` on your ` Axes ` instance with ` facecolor= ' none '` .
My suggestion would be to reuse your figure , axes , linecollections and labels by creating a ` FinanceChart ` class .
This solution reuses a ` Figure ` instance and saves plots asynchronously .
You have to create your own Axes class ( overriding format_coord to do what you want it to do ) , then instruct matplotlib to use it in place of the default one .
Make your own Axes subclass #CODE
Register your Axes subclass #CODE
Create a figure and with your custom axes #CODE
You can do this quite simply on a per axis basis by simply re-assigning ` format_coord ` of the ` Axes ` object , as shown in the examples .
So in this sense I am looking for a " 3D contour plot " .
Actually , I'm not quite sure how you want to treat the two parts of your script ( the two loops containing plot-commands ) in terms of animation , but hopefully , my code will guide you the right way .
The ` update ` function is a generator , which yields the data for subsequent steps , while ` draw ` is a function that updates the plot data and returns it .
One thing to be aware of is that the animation module keeps a copy of the results that get pulled off ` update ` which may cause memory issues if your frames are huge .
+1 for using ` animation `
I'd suggest using the object oriented interface of matplotlib , nicely summarized in the artist tutorial .
I can't fully understand how it works ... also , there are ` hist ` and ` bar ` - ` bar ` is more clear for me , but ... how can I plot ` histogram ` , where one values are strings ?
I need to do interpolation to get the data on a regularly-spaced grid , and then I'd like to plot them using a contour plot .
Can I fix the contour line artifacts ?
You may want to read this as well , but as far as the contour plot in polar coordinates is concerned , ` matplotlib ` expects a regularly meshed array in the radius and angle , so you could plot all nicely doing : #CODE
Copying contours from one axes instance to another
In order to reduce the processing time , it would be useful to be able to copy the result of ` countourf() ` from one ` Axes ` instance to another .
The axes range from 0 to 25 and the full domain is filled .
Their axes range from 0 to 1 and the contour region only fills the area from 0.0 to approximately 7.9 .
I suspect the answer is going to be something like this : #URL , however getting the collections from contour without the initial axes mixed up in them seems to be difficult .
It seems odd to me that a matplotlib object would need to retain information about what axes instance it is attached to , but I haven't ever really looked at the internals of matplotlib .
A sideways method of dealing with this is to re-use the axes that has the contour ( as it looks like you are saving every figure and not looking at this interactively ) .
The other method that I just worked up for this is to add a second set of axes with ` axis_bgcolor =[ 0 , 0 , 0 , 0 ]` , plot what I want on it , then call ` fig.delaxes ( second_axes )` .
Now , I load and transform the image into a multidimensional numpy matrix : #CODE
Namely , interact with the ` axes ` object directly .
@USER ` annotate `
If you don't use IPython , I highly recommend it since you can create the axes object and then type ` ax .
Currently matplotlib does not draw lines which skip missing data : for example #CODE
How can I tell matplotlib to draw lines through the gaps ?
positioning xticks arbitrarily in python
I know that I am able to use xticks to position the ticks , but it seems that I am limited to putting the ticks at one of the 10 points on my x axis .
I am trying to modify and example by making the animation run on increasing x values .
I am trying to use the animation features ( specifically FuncAnimation ) in 1.2 .
I saw this : Animating matplotlib axes / ticks and
See Animating matplotlib axes / ticks , python matplotlib blit to axes or sides of the figure ?
The other detail is that the artists must be with in the axes bounding box with the way the code works in ` animation.py ` .
I'm trying to use pylab and networkx to draw a directed-graph .
The main window is made up of two main axes an two subaxes placed on their
as I expect , but the orignal axes don't resize .
matplotlib scatter plot with different text at each data point
I am trying to make a scatter plot and annotate data points with different numbers from a list .
so for example I want to plot y vs x and annotate with corresponding numbers from n .
How to change x-axis label values for ( contourf ) in pylab
I am plotting in pylab with contourf and it plots nicely .
In Matplotlib a lot of examples come in the form ` ax = subplot ( 111 )` and then functions are applied on ` ax ` , like ` ax.xaxis.set_major_formatter ( FuncFormatter ( myfunc ))` .
I have a list of ` datetime.datetime ` objects I want to represent in a scatter plot similar to this one :
I apologize , ` ax ` is the axes on which you're plotting .
For the axes formatter ( but looking at the source code it doesn't seem to help you if set ) .
The axis numbers are defined according to a given ` Formatter ` .
If you want to resize / pan the plot , you have to start over again .
One would like to preserve the default Formatter behaviour , just increase the threshold to when it starts adding an offset .
This grabs the current ` axes ` , gets the x-axis ` axis ` object and then the major formatter object and sets ` useOffset ` to false ( doc ) .
Make longer subplot tick marks in matplotlib ?
I am trying to alter the tick marks along the axes of a python multipanel subplot .
I have made the border around the plot thicker as well as making all of the tick marks along the axes thicker .
How can I make all tick marks ( both axes ) longer so they are more visible ?
Matplotlib subplot content disappears using set_xlim , set_ylim
the next subplot command - but this does not explaing why the last subplot is empty ...
If you take a look at the code on pastebin the problem was that the xlim and ylim that I was setting did not take into account the fact that I switched direction of the coordinate system ( in y-direction ) .
In MPL 1.3 ( i think ) , the outline is changed from a ` Line ` object to a ` Polygon ` object .
But I wonder if there is a way to do the same link ( when zooming on figure 1 , I get the same zoom on figure 2 on one particular axis ) when defining 2 different Figures ( I want those graph to appear far from each other so I guess that I can't put them in the same Figure ... )
and set up a figure , subplot and axes ( the whole caboodle ) , I can savefig() without an error ... what extra permissions does pyplot need ?
The properties ( title , legend ... ) of the figure are always overwritten by the last plot .
Here , subplot is passed to each function , so data should be plotted on it , instead of replacing what you've plotted before .
It is works , but sometimes , draw a chart will spend a lot of time , it will " freeze " the main window .
Or , there is another way to draw a chart in " non-block " mode ?
Why is matplotlib.PatchCollection messing with color of the patches ?
I make a number of patches like so - #CODE
Can anyone help me out on what I need to be doing to keep the color values that I input as the faceColor for the patches ?
This is a ` collection ` level feature ( and what powers the code behind scatter plot ) .
You can use ` ax.margins() ` to set the margins .
How to put a legend inside a loop with one by one data point ( or outside ) in Python ?
In total , I use 8 colors to represent my data points , so I hope I can have a legend with these 8 colors and each one represents one meaning .
So , if you set the ` label ` property for each line , you should just be able to call ` legend() ` afterwards and it will automagically generate the legend with appropriate labels .
If you want to do something fancier with the legend , they also have documentation for that .
Adjust xlim / ylim manually to make sure there's no overlap ( tricky )
Ideally , all those patches are needed to be combined into one single " plot-line " , but it suits me as it is .
( I have multiple graphs and I want to add a button that the user can click to disable / enable those shared axes ) I found a way : #CODE
The way that the axes are linked underneath is by simply using the same locator and formatter objects for both ` axis ` .
I have this code which creates an interactive scatter graph : #CODE
Python contour plot from numpy array
then I just need to use ` add_patch ` to create the contour of the rectangles I want .
Now I can use these values to draw the contour of the mask on the plot !
Access the subplot in question and change its settings like so .
For some reason , scatter_matrix seems to set up ticks and labels for axes [ 2 , 2 ] without making them visible , but it does not set up ticks and labels for the rest .
But I also have Text and other Patches I am adding straight onto the plot .
Do PatchCollections themselves have a zorder or do all of the patches use their individual values ?
@USER Patch collections are artist in and of them selves , you can set the zorder of the whole collection .
The ` pyplot.xlim() ` function changes the range of the x axis ( of the current Axes ) .
The ` set_xticks() ` method of Axes sets the ticks .
The current Axes can be obtained for instance with ` gca() ` .
You are calling ` set_xdata ` on a ` Line2D ` object , which is an ` Artist ` which is associated with an ` Axes ` object ( which handles things like log vs linear , the x / y limits , axis label , tick location and labels ) which is associated with a ` Figure ` object ( which groups together a bunch of axes objects , deals with the window manager ( for gui ) , ect ) and a ` canvas ` object ( which actually deals with translating all of the other objects to a picture on the screen ) .
If you are using Tkinter , I assume that you have an ` axes ` object , ( that I will call ` ax `) .
so to update the data in the line , you need to update ` my_line ` , to update the axes limits , you need to update ` ax ` .
At the moment I have a scatter graph which I can zoom in , move around etc .
Can you just keep iterating pick_events until you click in a special region of the graph ( e.g. , off the axes ) ?
Adjusting the Line Colors in a Legend using matplotlib
The problem is the legend - because the lines are plotted with very high transparency , so are the legend lines , and that's very difficult to read .
I haven't tested the code itself , but I often do something similar to draw large sets of lines and have a legend with one line per each set plotted
How can draw a line in matplotlib so that the edge ( not the center ) of the drawn line follows the plotted data ?
array returned by the ` transform ` method must be the same shape as the array passed
as an argument , but adding additional points to plot in the ` transform ` method seems
How to add a text into a Rectangle ?
I think you need to use the annotate method of your axes object .
So adjust the size of the text in the ` annotate ` method with the ` fontsize ` kwarg and use appropriate strings .
Legend not showing up in Matplotlib stacked area plot
I am creating a stacked line / area plot using plt.fill_between() method of the pyplot , and after trying so many things I am still not able to figure why it is not displaying any legend or labels ( even when I provide them in the code ) .
Here is the image generated ( note that the legend shows empty box instead of labels ):
Try also assigning plots into the parameter for the legend .
Therefore you will have to use another matplotlib artist ( compatible with ` legend() `) as a proxy , without adding it to the axes ( so the proxy artist will not be drawn in the main axes ) and feed it to the legend function .
( see the matplotlib legend guide for more details )
gcalmettes's answer was a helpful start , but I wanted my legend to pick up the colors that the stackplot had automatically assigned .
Another , arguably easier , technique is to plot an empty data set , and use it's legend entry : #CODE
This works well if you have other data labels for the legend , too :
How to transform a matplotlib chart to a sole interactive file
I am developing an application of financial report analysis basically to crunch numbers and plot bar / line / pie / scatter .. charts accordingly .
what I want now is : the easiest way to transform matplotlib charts to that kind of file . somewhat like transform the pic to flash or dynamic SVG or whatever file that users can interacive with .
As the interactive feature , the current urgent requirement is just displaying some information popup when mouse hover over or click on a line / bar / bubble .., no animation , no dynamic redimensioning , no zoom in / out .
matlibplot scatter graph link plots with a specific tuple in a list
I have a scatter graph i have created in matplotlib
A simple examle that adds annotations to a scatter plot when you click on the markers : #CODE
matplotlib - Keyboard shortcuts to pan left / right / up / down
I want to use single annotation text to annotate several data points with several arrows .
But I managed to eliminate that issue with second annotate affecting visual appearance simply by adding ` alpha= 0.0 ` .
matplotlib : draw special symbol when a value appears
Now , in my list there is a special value ' L ' which I want to draw as a red cross on the X-axis whenever it occurs .
However , the red x's are at a fixed y-position , and if we pan or zoom , they'll move off the x-axis .
You can get around this by using a custom transform .
In this case , we want the x-coordinates to use the " normal " data coordinates ( ` ax.transData `) and the y-coordinates to use the axes coordinate system ( e.g. 0-1 where 0 is the bottom and 1 is the top : ` ax.transAxes `) .
I remove the matplotlib import , refresh , and everything works again .
I have created a scatter graph in matplotlib , however i would like to make it interactive .
Mi final idea is to draw a line connecting the points associated with each path , How I can do this ?
is posible draw an identifier or a mark for each path ?
The legend makes it possible to distinguish between paths but you could also plot the `' Cat '` on the map at the beginning or end of a line for example .
When I told him to write " Longitud " in the X axis ( xlabel = ' Latitude ') overwrites the word on the values ?? of the length , How I can write the word below latitude values ?
Representing 4D data in mplot 3D using colormaps
The reason that I need it is that I need to create a subplot on top of another plot .
But I'd like to be able to define the location of the subplot using the data coordinates of it
inner ` axes ` printed at ` 0.5 , 2.5 , 1.0 , 0.3 ` ( in outer ` axes ` coords )
You may be trying to force the use of ` hist ` ... consider taking a step back to construct a bar plot .
How can I capture the output of the plots this way - matplotlib subplot objects don't seem to implement _repr_html_() ?
However , I would suggest first trying to draw your picture at a lower resolution and seeing if that works for you ( the results may be good enough ) .
You might do better with ` scatter ` and the keyword ` rasterized=True ` , which will flatten all of the vector graphics down to a raster image ( which will take less memory ) .
` scatter ` documentation
Inside of my " save " step ( executed on each process ) , I have some very simple code that makes a boxplot with matplotlib's ` boxplot ` function and some code that uses ` savefig ` to write it to a .png file that has a unique name based on the specific data used in that process .
I have to do several subplots , each with an inset at the same custom location relative to the subplot .
How can I get insets to look the same in each subplot without being forced to put them at specific locations ?
You can get a list of colors from any colormap defined in Matplotlib , and even custom colormaps , by : #CODE
Should be possible to add a axes with the underlying figure coordinates : give a look here .
Say I have a marker with a known size in points and I want to draw an arrow to this point .
However , as soon as you resize the Axes then the transformation will be off .
I suspect you need to add a callback on ` resize_event ` #URL to update your transform ( via ` set_transform ` #URL )
You also need to include something about the aspect ratio of the axes get points on the rim of the point ( because the shape of the marker in data units in an ellipse unless the aspect ratio = 1 )
Use the ` set_ [ x|y ] ticks ` methods of ` axes ` object and toggle the grid as normal : #CODE
with line style and color ( or all the rest of line / artist properties ) set to what ever you want
This results in something like this ( two of the hlines are not really needed , they just increase the drawing area ... ):
I had been playing with ` annotate ` but since the string would have to be sacrificed this solution had lost some appeal to me .
Try using ` annotate ` : #CODE
you can use data coords with ` annotate ` too .
However , if you remove ` arrowstyle= ' <-> '` , then you get a ` YAArrow ` which allows you to set ` width ` , ` frac ` , ` headwidth ` arrowprops key / values .
PyPlot : Trying to generate shared legend in a subplot , but legends don't appear properly when embedded in a loop .
Since all pie plots share the same legend , I wanted to show just one " shared " legend on each sheet .
The solution I found is shown here : matplotlib - Legend in separate subplot Place each pie plot in its own ` subplot ` , then generate a " dummy " pie in another pane , generate a legend , then hide all the pie's pieces using ` set_visible ( False )` .
So , in summary , this problem seems to stem from the ` .set_visible() ` methods being " remembered " across loops ... but it affects the ` PdfPages ` backend , not the graphical one .
I removed the reference to Figure 0 and had it generate a new figure each time .
Also , for things like this , I find it's much clearer to avoid the matlab-style state-machine interface and keep track of axes and figure objects directly .
In ` Matplotlib ` I need to draw a graph with points on the x-axis on each integer between ` 1 ` and ` 5000 ` and on the y-axis only in a very limited range .
if you add then ` plt.tight_layout() ` the subplot will get stretched to occupy as much of the figure canvas as possible , accounting for axis and ticks labels
I need to annotate a pylab rectangle with few data lines - which are of different length .
Figure GUI freezing
is much more efficient ( axes are created only once ) , neater ( at the end matplotlib is OO ) and potentially less prone to memory leaks .
If this is the case , you want to clear first the content of the axes before redrawing .
In my simple case you can clear the axes with #CODE
See the links in my answer or any of the animation examples .
In the case you hide your window you should clear the axes before you plot a second time with [ ` Axes.cla `] ( #URL )
animation with matplotlib ' format " rgba " is not supported '
I'm trying to make an animation with matplotlib , using the examples from here .
That use() statement didn't help me , but I ran into the same errors as you trying to get the second part of the basic matplotlib animation example working in IPython .
Thanks ! in order to explain my question a little bit .. please see #URL ... for the dendragram on the top and right I need to provide the x-axis ( top subplot , and y2 -axis for the right subplot ) with the original observation names not the original tick-labels
As you can see , I want the edges of these patches to be white .
You forgot to display the legend : #CODE
I thought legend was necessary .
I need to create a plot with the ` 3rd ` column as the ` x ` axis and ` 4th ` column as the ` y ` axis , with the ` 2nd ` column as a contour on it , with contour lines at ` 1 , 2 , 3 , 4 ` and so on .
But one more question : As you examine my code you'll see I swapped axes passing my coordinate x , y as y , x to matplotlib to make my plot north-oriented .
how can I set the resolution of an animation saved as mp4 movie with " matplotlib.animation " module ?
Also note that the animation module is relatively , so you have to check that your version of ` matplotlib ` matches the version of examples you find .
You can do this using a blended transform : #CODE
transform tutorial
In ` update ` I went with the most brute-force approach , clearing the ` axes ` and then re-drawing it , in general you want to grab the artists that are returned by ` plotPolylines ` and update those with your new data .
I have a scatter graph and have implemented a highlighter type thing through matplotlib #URL .
I'm using Matplotlib's Axes3D to create a scatter plot with custom colors like this : #CODE
This is actually a feature of Matplotlib's 2d plot scatter plot as well , and here is a question with a potential solution to it .
Your original has a non-linear axes , it might be logarithmic .
How to set_gid() for each bubble in matplot scatter chart ?
I draw a scatter chart by below codes : #CODE
In Ipython I've given a look at ` PathCollection ` methods , and it looks like there is no trivial way to get out the single patches from it .
Matplotlib - Return dataset after zoom / pan
I am trying to create a pair of scatter plots on the same figure
If scatter plot 1 is zoomed or panned I want to redisplay scatter plot 2 such that only the new data set is displayed
The sub plots share the same underlying dataset but don't share equivalent axes so I can ; t use sharex , sharey etc ., .e .g . scatterplot 2 is the result of applying a different function to the same data shown in scatterplot 1 that results in different axes
I think I need to somehow extract the data set displayed each tme scatter plot 1 is zoomed / panned and pass that data to the function that plots scatter plot 2 but I cannot find any info on how this could be done
i have had some luck with returning sets of scatter point indices using the ' picker ' event - what i really need is something that returns the scatter point indices for all visible points triggered after a zoom / pan event
You can retrieve the axes view intervals : #CODE
Then use the intervals to determine which points are visible in the first subplot and use that to decide what / how to show the second subplot .
i'd been going down a similar route looking at event.inaxes.get_xlim() and event.inaxes.get_ylim() on a ' button_release_event ' i'm surprised there isn't an easier way though , i.e. an axes method that returns all indices to x and y visible data points for a given scatter plot
@USER I could be wrong , but I am pretty sure that the backends draw _everything_ and then only display the section you asked for , so knowing which points are visible isn't all that important most of the time .
You can find an example in How to set_gid() for each bubble in matplot scatter chart ?
with ` scatter ` you can give a different radius per point .
If you want physical sizes , you can use @USER link with ` Circle ` but with the warning of @USER
matplotlib : Delete a subplot
Here is a working example showing the removal of an unwanted axes :
The problem is when I dynamically add a subplot to the figure , the figures compress with every added subplot .
Then when adding a subplot change the figure height , because the canvas will determine it's height by checking the size of the figure : #CODE
i have to draw these 3 components on a vertical scale .
If you want to set this for all the ticks in your axes , #CODE
I can create the image I need but it comes out as .png that I have no control over - if I could sligthly edit it ( e.g. to move legend to the side , or modify labels ) would be great
The following example is for moving the legend from default location to right upper corner after examination .
axis level doc and axes level doc
However , this seems to be related to the axis artist I am using .
This produces really nice-looking graphs , although when I " zoom in " too close on various sections of the plotted graph using the Figure View ( which appears when you execute plt.show() , the x-axis values change from standard number form ( 1050 , 1060 , 1070 etc . ) to scientific form with exponentials ( e.g. 1 , 1.5 , 2.0 with the x-axis label given as + 1.057e3 ) .
The formatting of tick labels is controlled by a ` Formatter ` object , which assuming you haven't done anything fancy will be a ` ScalerFormatter ` by default .
I've never found the scientific notation axes and always end up turning them off .
matplotlib : subplot background ( axes face + labels ) colour [ or , figure / axes coordinate systems ]
I have a figure containing 3x2 subplots , and I would like to set a background colour on the middle pair of subplots to make it clearer which axis labels belong to which subplot .
Setting ` facecolor ` when constructing the subplot changes only the colour of the area defined by the axes ; the tick and axis labels are still drawn on ` figure.patch ` .
After a bit of experimenting around , it appears that ` figure.axes [ x ] .get_position() ` returns Axes co rdinates ( normalised co rdinates [ 0.0-1.0 ]) , yet ` Rectangle() ` appears to want Display co rdinates ( pixels ) .
This code more or less works ( E D: interactively , but when outputting to a png ( using the Agg renderer ) , the positioning of the Rectangle is completely off ): #CODE
In that example , they're adding the patch to the axes ( so it'll move if the axes are moved ) but that requires that they jigger with clipping because the object is outside the axes ' bounding box .
Just use the ` transform ` kwarg to ` Rectangle ` , and you can use any coordinate system you'd like .
However , if you wanted to do things more robustly , and calculate the extent of the axes , you might do something like this : #CODE
Animations in Matplotlib : Making a " Loading Bar "
but that causes the line to not draw at all .
I'm calling scatter inside a loop and want each plot in a different color .
I'm calling scatter inside a loop and want each plot in a different color .
For some time I was really annoyed by the fact that matplotlib doesn't generate colormaps with random colors , as this is a common need for segmentation and clustering tasks .
The error is because ` set_major_formatter ` assumes it is getting a ` Formatter ` object ( doc ) so it is blowing up when it tries to do stuff with your function .
First thing is that you keep on adding subplots , while you rather wnat to set the subplot as current axes .
To set the output stream to the current subplot use : #CODE
When you only have one subplot ( 111 ) , the latter is not needed .
When you add children to the axes ( the subplot ) or change them , the figure does not redraw automatically .
I don't think that this can be done currently , ` hexbin ` converts list of x , y -> a collections of ploygons .
If you really want to be able to update in-place either use a square 2d histogram ( so you can use ` imshow `) , or you can modify ` hexbin ` to return a list of patches ( instead of a ` polyCollection `) and keep track of the binning your self .
I'm assuming the `" refresh "` string that is sent is supposed to be the arrays of the stuff ( ` self.spectra.X , self.spectra.model `) that I am refreshing for the ` matplotlib ` line needed in the ` refreshFigure() ` function .
Yup , replace the `" refresh "` with the data that needs to be sent back , and send that to your tab .
Fill the right column of a matplotlib legend first
Hey I am trying to fit a legend onto a plot so that it doesn't obscure the graph .
So in the minimum working example , above , what I want to be able to do is move the ' plot 2 ' label in the legend into the right column , i.e. directly under ' plot 3 ' .
The legend is filling in the columns from left to right .
In other words , if you trick it into believing that there is another line ( without any text or line color in the legend ) , then you can populate the space under ' plot 3 ' .
This code is a modified version of Giggi's on Animating 3d scatterplot in matplotlib , with a fix for the colors from Yann's answer on Matplotlib 3D scatter color lost after redraw ( because colors will be important on my video , so I want to make sure they work ) .
A perfectly valid .avi is generated by this , but it's blank for all of the four seconds except for the axes .
How can I populate the save function's plots the same way I populate a normally running animation , or is it possible in matplotlib ?
EDIT : Using a scatter call in the update ( without setting the bounds as in the initializer ) causes the .avi to show the axes growing , showing that the data is being run each time , it's just not showing on the video itself .
Remove ` blit=True ` from ` FuncAnimation ` and ` animated=True ` from ` scatter ` and it works .
For the scatter plot , ` X ` , ` Y ` , and , ` Z ` are fine : #CODE
An alternative is to grab the axes and manually set an x- and y limit .
Right now , that it the best I can do , see Figure .
However , as you might see in the Figure , ' csplines ' seems to be the most acuarate technique , but it is not enough .
Why do you want to draw the line in the first place ?
At last : it would be probably better to create self.ax with add_axes , to be more coherent with all the other axes and have more control on his positioning
Putting axes and subplots together can give problems with the relative position of the plot with respect to the buttons and slider if the figure size is changed or the window resized .
I think that a consistent division of the space in the figure canvas , either using ` axes ` or ` subplots ` , would be better to avoid such possible problems .
So I suggest either to create the plotting axes as ` self.ax = fig.add_axes ( ... )` or to use something like gridspec .
Scaling scatter plot in IPython Notebook
The best way is to interact with the ` axes ` object directly #CODE
That is what axes are for ...
Maybe you want to set the ` xticks ` : #CODE
This would use sci format on y axis when figures are out of the ` [ 0.01 , 99 ]` bounds .
cmap = cm.get_cmap ( ' jet ' , 20 ) then scatter ( x , y , c=tags , cmap=cmap ) gets me part way there - its very difficult to find useful documentation for matplotlib
You can create a custom discrete colorbar quite easily by using a BoundaryNorm as normalizer for your scatter .
That would be much easier to make 0 grey , but i couldnt get this to work with the scatter or the custom cmap .
I have noticed that the errors are coming from matplotlib axes ( I'm not sure how ? ) and gives the error ` pickle.PicklingError : Can't pickle class ' matplotlib.axes.AxesSubplot ' : it's not found as matplotlib.axes.AxesSubplot ` .
The problem is that not all parts of an ` Axes ` object can be serialized , which is necessary to move data between the processes .
and you make need to call ` plt.draw() ` to get the effects of some modifications to ` axes ` objects to be reflected in the display ( you changed the state of the object , but that does not automatically update state of the pretty things based on that object ) .
Python programs do not edit themselves , they have a run time of variables and collections and dictionaries and all that good stuff , that doesn't affect the code itself whatsoever .
I was wondering if anyone had any insight to a problem I am having with getting a user created object passed to a GUI so that the GUI will refresh itself and not move to ' Not Responding ' .
There is something strange going on with the ` blit ` , re-drawing axes .
@USER The axes labels also do not get updated
Matplotlib : draw lines with width given in data coordinates
I'm trying to figure out how to draw lines with widths in data units .
you can do this with ` annotate `
Just use ` annotate ` , this should get you 90% there : #CODE
` annotate ` doc and examples .
matplotlib tick labels position relative to axes
Matplotlib animation MovieWriters fails on Ubuntu 12.04
Following the matplotlib example , it fails to load the animation writer : ` AttributeError : ' module ' object has no attribute ' writers '` ( line 15 of the example ): #CODE
Tick labels that I am talking about are on the colorbar .
Matplotlib legend error under Ubuntu ( but not on windows vista )
I am not given enough points to smoothly connect the line , and sometimes very few data points to draw from .
I see that there are a number of libraries out there for Python which assist in creation of the contour maps similar to this .
Plot representative errorbar size in legend ?
I would like to plot these points without errorbars ( because it makes it too busy ) , but to plot a representative error bar in a legend ( which shows the errorbar with an accurate size ) .
Also , it would be best if I could plot this in a separate legend , but that might be asking too much .
How to draw diagrams like this ?
I want to use matplotlib to draw more or less the figure I attached below , which includes the two intersecting planes with the right amount of transparency indicating their relative orientations , and the circles and vectors in the two planes projected in 2D .
If the geometry is simple , and the " orbits " circular , it might work , but if you're wanting to draw ellipses seen at an angle , the viewer may desire more visual clues on the whole 3D arrangement .
Then I'd draw them with a vector drawing app over the rendered 3D image .
The following program executes fine but only one legend is displayed .
does only last legend gets displayed when you run this ??
I am assuming you really want one legend ( that is the floating box ) with all the entries in it .
You are running up against the way that ` legend ` works , each time it is called it destroys the current legend and replaces it with the new one .
If you only give ` legend ` a list of strings it iterates through the artists ( the objects that represent the data to be drawn ) in the ` axes ` until it runs out of labels ( hence why your first curve is labeled as the 4th ) .
If you include the ` kwarg ` ` label ` in the ` plot ` command , when you call ` legend ` with out any arguments , it will iterate through the artists * and generate legend entries for the artists with labels .
AFAIK , you need to call legend once , with all the arguments .
This will also work if you have separate axes ( such as twinx ) , and all of the legend information will come through on one legend .
Indeed you are correct , I just happened to have it that way because I had multiple axes in that piece of code .
pyplot scatter plot marker size
In the pyplot document for scatter plot :
Basically I'm trying to make scatter plots with different marker sizes , and I want to figure out what does the ` s ` number mean .
If the size of the circles corresponds to the square of the parameter in s =p arameter , then assign a square root to each element you append to your size array , like this : s =[ 1 , 1.414 , 1.73 , 2.0 , 2.24 ] such that when it takes these values and returns them , their relative size increase will be the square root of the squared progression , which returns a linear progression .
plot specific probability in matplotlib hist
Try setting the min and max y-values from the min and max yticks for example , if that works you might find a better way of setting the max x and y value ( or a ' hard ' set_xlim() on the axes ) .
FuncAnimation does not refresh
I recommend reading python matplotlib blit to axes or sides of the figure ? and Animating Matplotlib panel - blit leaves old frames behind .
python matplotlib blit to axes or sides of the figure ?
I'm trying to refresh some plots that I have within a gui everytime I go once through a fitting procedure .
Also , these plots are within a framw which can be resized , so the axes and labels etc need to be redrawn after the resizing .
I know that my language might be a little off but I've been trying to read through the matplotlb documentation and the differences between Figure , canvas , graph , plot , figure.Figure , etc . are starting to evade me .
You're running into problems because you're blitting just the inside of the axes instead of redrawing the plot .
One deals with grouping things into the parts that you'll worry about when plotting ( e.g. the figure , axes , axis , lines , etc ) and another that deals with rendering and drawing in general ( the canvas and renderer ) .
( E.g. text , a line , the axes , and even the figure itself . ) An artist a ) knows how to draw itself , and b ) can contain other artists .
For an artist to draw itself , it uses the renderer ( a backend-specific module that you'll almost never touch directly ) to draw on a ` FigureCanvas ` a.k.a.
To draw everything in a figure , you call ` canvas.draw() ` .
( The exception is if you're only updating one subplot in a figure with lots of subplots . )
I have been searching for 2 years for a good summary of how the Fig / Axes / Axis classes are supposed to relate !
I guess I assumed by non-linear you meant logarithmic . xticks will place arbitrary ticks , xticklabels can label them .
I need to draw a punchcard with matplotlib which seem to not have such a function.So I have coded the following one : #CODE
Aligning rotated xticklabels with their respective xticks
There is a problem with this : If two points are side-by-side , ` ax.scatter ` may draw them with a bit of space in between , depending on the scale :
The class for a matplotlib axes is a ` AxesSubplot ` : #CODE
It's not created using some fancy call of ` type() ` either ; at least , ` grep AxesSubplot ` does not return any results on the module source file for the ` axes ` module .
I can write ` matplotlib.pyplot.cla() ` as ` axes.clear() ` , where ` axes ` is an ` matplotlib.axes.Axes ` object .
The class that is used as a layer between ` Figure ` ( which is what is returned by ` plt.figure `) and the GUI layer is ` FigureManagerBase ` ( and it's per-toolkit sub-classes ) which is defined in ` backend_bases.py ` .
In principle , if you have a ` Figure ` object and want to destroy it by hand , you just need to get a hold of the manager .
A reference to it isn't stored in the ` Figure ` object , but is stored in the ` Canvas ` object so you can destroy a window via #CODE
Some lines , some scatter , some hist etc .
Everything you can display on an ` axes ` is a subclass of ` Artist ` and have a member function ` remove ` ( doc ) .
All of the plotting functions ( should ) return the ` artist ` ( or list of ` artists `) that they add to the axes .
You can get a list of all the artists in a given ` axes ` with #CODE
I have managed to produce a scatter plot which has a scale 1:1 using the command ` plt.axis ( ' equal ')` , but the output contains too much white space on the sides .
If you jsut want the color coded image , without axes , labels , etc ., I'd still do the same , just use #CODE
to extend the axes over the whole figure .
Take care of the ` aspect ` of you plot , otherwise mpl might shrink your axes again .
Alternatively , you can update your data with ` set_xdata ` and ` set_ydata ` that are methods on the axes object that gets returned when you create a new plot ( either with ` pylab.plot ` or ` pylab.subplot `) .
I want this to happen like some animation i.e. as points arrive the older will disappear.Basically I want to implement something like this [ Online Clustering ] ( #URL )
Changing it via ` plt.hold ` changes it for all ( new ) axes .
You can change the hold state for an individual ` axes ` by #CODE
Can you explain how this animation was made ?
You can do this either by saving each frame individually and stitching them via ffmeg on using the [ ` animation ` api ] ( #URL ) .
I've plotted a bunch of scatter points then redraw the canvas : #CODE
` scatter ` returns a ` PathCollection ` object , which you can see has a relatively limited api for setting things after the fact .
which will give you a ` Line2D ` object back and look identical your scatter plot .
I'm having trouble getting anything but numerical values to work with the colormaps .
I want to annotate certain lengths in a matplotlib figure .
For this , I think I can either use annotate and figure out how to supply the start and end positions of the arrow .
But for annotate , how do I control exactly where the arrow begins and ends ?
` annotate ` assumes you want to add some text , if you do not simply pass an empty string as the first argument .
So just to be clear on this : if you want a dimension line , where the text is centered and " slightly above " the dimension line - you cannot use the text in the annotate call itself , as it will snap to one endpoint - and that is why we must add the arrow and the text separately , correct ?
If you could get away with just calling some function whenever the x or y axis gets resized , the easiest hack would be to bind to ` xlim_changed ` and ` ylim_changed ` events generated by your axes .
This callback executes whenever you hit the forward , backward or home keys as well as when you use the pan or zoom tools ( at least with the WX and GTK backends ) .
However , it still executes after matplotlib has already done its usual rescaling of the axes .
I am trying to get this working so I can use it to make an animation of a velocity field over time .
Pressure is plotted as a contour in the back .
I need to specify the width but I don't know how to define it because of the way xscale , yscale resets the axis .
Or is there a way to automatically set it so the histogram looks right purely based on the fact I've set xscale and yscale to ' linear ' or ' log ' .
You can either add each axes to a list , like this : #CODE
Without knowing about matplotlib , you could add all your axes ( ? ) to a list : #CODE
If so , use shared axes ( I'm using ` subplots ` here , but you can avoid it if you want to stick to matlab-style code ): #CODE
If you want them all to share their axes limits , but to have ` adjustable= ' box '` ( i.e. non-square axes boundaries ) , use ` adjustable= ' box-forced '` : #CODE
You were assuming that the aspect ratio applied to the outline of the axes and not the data plotted on the axes .
( There are other ways , but just making a square figure is far simpler . Matplotlib axes fill up a space that is proportional to the size of the figure they're in . ) #CODE
That picture I included in the original question is everything I want but with wrong aspect ratio between axes .
The aspect ratio can't be constant if neither the limits or size of the axes change .
In theory , we can always draw 4 rectangles placed on a grid 2 x 2 such that their height / width=aspect_ratio was the same for all of them .
Once this is done , it is just the matter of putting labels on the axes .
In matplotlib , the aspect ratio of the plot refers to the ratio of the xscale to the yscale of the data and doesn't relate to the height / width of the outline of the plot .
Combing the answer of Joe Kington with new pythonic style for shared axes square subplots in matplotlib ?
temp_inverse_axis_ratioN is the ratio between x and y sides of the current plot ; since ' aspect ' is the ratio between y and x scale ( and not axes ) , we need to set aspect to desired_box_ratioN * temp_inverse_axis_ratioN .
However , to remove the axes ' and figure's background on-screen , you'll need to set both ` ax.patch ` and ` fig.patch ` to be invisible .
In that case , though , you may want to make the axes take up the full figure .
If you manually specify the location of the axes , you can tell it to take up the full figure ( alternately , you can use ` subplots_adjust ` , but this is simpler for the case of a single axes ) .
For those wanting to only remove the frame ( border ) , and keep labels , tickers etc , one can do that by accessing the ` spines ` object on the axis .
You need to get hold of the axes of the colorbar .
Assuming you hold a reference to the colorbar in ` cbar ` you get to the axes via ` cbar.ax ` .
This will rescale the axes to match this ratio , but which way the rescaling is performed is not fully understood by me :
I might increase / decrease this number gradually in small steps and the axes would shrink / extent in one dimension to match the ratio accordingly .
If you want to avoid this hassle completely you set ` ax.set_aspect ( ' auto ')` and afterwards set the exact position of the axes explicitly with #CODE
Example : ` set_position (( 0.1 , 0.2 , 0.4 , 0.6 ))` will position the axes bottom left edge at ` ( 0.1 , 0.2 )` and the top right edge at ` ( 0.1 + 0.4 , 0.2 + 0.6 )`
Try setting rscale ( which is basically yscale ) after ` set_ylim() `
Alternatively , you can set the axes to respond to the pick event ( see onclick method on a colorbar matplotlib python ) as such : #CODE
Notice the difference in the type of artist that the event is carrying with it ( and hence the information you have easy access to ) .
Try Sage - it's open source and can draw weighted directed graphs .
So how can I transform ` matplotlib.axes.AxesSubplot object ` to ` matplotlib.figure.Figure object ` or directly return " Figure object " from Pandas plot ?
You can get the figure from the axes object : #CODE
How to improve the label placement for matplotlib scatter chart ( code , algorithm , tips ) ?
I use matplotlib to plot a scatter chart :
And label the bubble using a transparent box according to the tip at matplotlib : how to annotate point on a scatter automatically placed arrow ?
Here's a modified example of one of the demos from the matplotlib site , it also prints out the paths that draw the colorbar .
I have a simple graph with a Navigation Tool Bar .
When I zoom or pan , the graph is correctly updated , but the axis labels get messed up .
Removing the ` frameon=False ` option from ` f = Figure ( figsize =( 12 , 5 ) , dpi=100 , frameon=False )` solved the issue .
You need to add code your ` on_pick ` that can tell which artist it is dealing with .
You can do this with closures , a slightly simpler / less elegant way is to simply add a ` label ` to your axes #CODE
Sorry for a typo , I meant an ` axes ` instance , not just an ' axis '
Moreover , if you return not just a line , but the complete ` axes ` instance , you might be saving a lot of sweat of a poor grad student somewhere , who's been ordered by her boss to add a grid onto the plot .
I want to create a boxplot diagram where each x-value has two boxplots right next to each other , kinda like this :
Draw horizontal lines from x=0 to data points in matplotlib scatterplot ( horizontal stem plot )
draw a line from x=0 to the plot marker
To draw a " line " from x=0 to the points , you should simply try making a bar chart , either instead of or superimposed on the existing one .
There are also the more direct ` pyplot.vlines() ` and ` pyplot.hlines() ` , which are applied to the current axes .
Matplotlib offers vertical " stem " bars : #URL .
One can nonetheless draw horizontal stem bars quite easily , through repeated ` plot() ` calls ( one for each stem ) .
As pointed out by Rutger Kassies , there are actually some " stem " functions that automate the " manual " method from my other answer .
The function for horizontal stem lines is ` hlines() ` ( ` vlines() ` is for vertical stem bars ): #CODE
I tired using ` event.artist.get_facecolor() ` but it gave me the error `' Axes ' object has no attribute ' get_facecolor '`
I would make two subplots : plot the positive times in the right-hand subplot , and plot abs ( negative times ) in the left-hand subplot , with a reversed x-axis .
( Text colour comes out as black ) #CODE
how to draw on a matplotlib canvas created in a different class
How would I access the display instance in a different class if I wanted to draw a new figure .
You should not be thinking about drawing onto a canvas , you should be thinking about plotting onto an axes object .
How are you generating this image ( ` imshow ` , ` pcolor ` , drawing patches by hand ) ?
I think Clip an image using several patches in matplotlib may have the solution , but I'm not sure how to apply it here .
Bar chart to compare data of various fields
I am thinking of taking the percentage of Mod2 with respect to Mod1 ( and treat Mod1 values as 100% ) and draw bars .
Axis ticks , colors etc . you can then easily fine tune according to your need .
I would like to create histograms of the occurrence of strings that looks like what is generated by d.hist() ( eg . with subplots ) for s1 and s2 ( one per subplot ) .
( pulled from ` matplotlib / lib / matplotlib / colorbar.py `) I think by setting ` drawedges ` to ` True ` you are telling it to draw those lines .
drawedges does indeed draw the edges for me , but draws them in black !
@USER patches to implement that are welcome .
and I would like to have them displayed in a plot's legend in the form : #CODE
Efficient way to plotting multiple images with many patches in matplotlib ?
Each image gets its own axes : ax , and remembers ax.transData #CODE
I've used RunSnakeRun to profile the code , and all I really gather from that is it is taking a long time to draw everything .
The basic idea that I had when I learned about the transformation in matplotlib was to draw each image in its own coordinates , and then maintain several transformations so I could do cool things with them later , but I suspect that it's not going to scale well .
The actual output of the draw looks like this :
The figure takes about 4 seconds to redraw when I resize it , and I'm going to be wanting to pan / zoom .
I was adding two patches for each feature , and about ( 300 features per image ) so I could see an outline and some transparency .
I also need to write some code to put lines in between the matching features , but now I'm not so sure using multiple axes is a very good idea , especially when this is a relatively small dataset .
Is there a way to combine a group of patches so they transform together or more efficiently ?
Would it be more efficient to pack everything into a single axes ?
Or is the transform the main culprit here ?
I'm not planning on their being any animation beyond pan and zoom .
do you need to be able to modify the patches independently after you have drawn them ?
They may scale or transform with the plot , but not independently of one another .
I'm transforming unit circles to ellipses because thats easier than trying to get the xscale , yscale , and rotation out of the matrix .
It is the same idea but with paths instead of patches .
I was playing with PathCollection ( my dyslexia is killing me switching between Path and Patch ) , and if I can get a unit circle drawn and I can apply an affine transformation to it , then I think it should work , as it doesn't seem to inherently fill the space .
But I keep getting a " Type Error : Invalid affine transformation matrix " when trying the dummy transform : Affine2D ([( 2 , 0 , 0 ) , ( 2 , 1 , 0 ) , ( 0 , 0 , 1 )])
Using this you can also do this with a ` list ` and ` append ` , or create your own class , ect .
Here are two examples : Example 1 , Axis left , Example 2 , Axis right .
You can play with ` _PLANES ` and might be able to get the desired behavior for all axes but this is likely to break in future versions of ` matplotlib ` .
The mechanism for determining the position of the axes is implemented in the file named ` axis3d.py ` of ` matplotlib ` .
You might be able to Monkey patch the ` Axis ` class in this file to get it working the way you want .
This Wrapper Class allows you to draw the zaxis on the left , on the rigth or on both sides .
I've simple added a function to draw a surface with code borrowed from #URL
Custom Artist In Matplotlib Legend
For saving images , I would like to make use of the legend to render a custom image ( additionally the built-in draggable feature makes this very appealing ) .
I'm reading up on the legend , but I can't seem to figure out how to make a legend that calls my own paintEvent() method for Qt in which I can render custom images .
In case this approach is terrible , here's my goal : I want to put a image ( rendered inside the program by Qt ) either inside the plot window or find a way to append this image on top of the exported figure .
Sounds like you just want an image in the Figure , right ?
For example , I want a ` sqrt ` normalization to concentrate values near 1 .
Fixing my code in the above way still gives me scatter points in blue ( all the same shade ) .
However using the draw function of Networkx doesn't do the trick #CODE
Is it possible to prevent overlapping edges using the draw methods from Networkx ?
To draw the graph : #CODE
I am new in Qt and python , I am using matplotlib widget in Qt only because it is very close to MATLAB plot , histogram , stem , imshow tools .
Anyway , I will try to code by myself the interactive tools that I need in pyqt :) QRubberBand class seems to me a good starting point ; have you other advices about Qt classes to implement some interactive tools ( essentially to draw line , rectangle , polygon and so on ) ?
How to get a matplotlib Axes instance to plot to ?
To this function I need to supply quotes and " an Axes instance to plot to " .
I now also need an Axes instance though , at which I am a bit lost .
Use the " get current axes " helper function : #CODE
I posted earlier about a program I was attempting to make to plot four-dimensional data ( xyz coords and voltages ) on a 3d scatter plot with a colour map dependent upon the magnitude of the voltages .
possible duplicate of [ Matplotlib 3D scatter color lost after redraw ] ( #URL )
See this Matplotlib 3D scatter color lost after redraw that reports the same thing from version 1.1.0 ( and has a work-around ) .
The difference is that I get unwanted white spaces inside the plot area when I plot two subplots which share axes via the ` sharex ` and ` sharey ` attributes .
The white spaces persist even after setting ` autoscale ( False )` .
This looks like a bad interaction between the size / location of the ` axes ` object , the shared axes , and the equal aspect ratio from ` imshow ` .
I get with no white spaces within axes .
However , I would like a solution where the axes ' ranges do not change with resizing of the figure .
do you want your axes to be always the same absolute size ( like 5x5 cm ) ? or you want them to maintain the same aspect ratio independently of the figure size ?
What I would like is for each subplot to display the full dimensions of the image ( in this case , 10x10 pixels ) , maintaining the same aspect ratio independently of the figure size .
I can resize the figure , and each subplot would resize accordingly .
The reason I would like the axes to be shared is that when I zoom in on one subplot , I would like the other subplot to zoom in correspondingly .
Changing Axis Labels for a Box / Violin Plot in Matplotlib
You can then plot to the first axes with #CODE
contourf result differs when switching axes
When first plotting I noticed I had my axes wrong .
So I switched the axes and noticed that the structure of both plots is different .
On the first plot the axes and assignments are correct , but the structure is messy .
Every time you update and save the figure , refresh the preview tab .
And Bar chart at that .
I'm trying to put together a scatter plot in pylab and so far have failed miserably .
My goal is to draw a scatter plot of this data , with the first row of data on the x axis and the second row on the y axis .
This gets me something that resembles a scatter plot , but not quite what I'm looking for :
Note that the what you're doing in your line ` scatter ( data [ 0 ] , data [ 1 ])` is done just after the ` loadtxt() ` statement for the two columns .
I've already optimized the plotting code , ie . reusing figures / axes / lines and just changing the y data .
You can do this by iterating over your list of axes : #CODE
Overriding matplotlib.artist.Artist to draw complex shape
I want to create an Artist in matplotlib that can draw a ` compound ` shape that includes text and images encapsulated within a FancyBboxPatch .
I have derived a class from the aforementioned FancyBboxPatch and overridden the " draw " method , but it does not seem to work .
What I am trying to achieve is an object that is drawable by matplotlib , but is more complex than the simple patches available ; a bit like the concept of a compound widget in GUI design .
The rectangle does not get drawn and the Annotation throws an error : ` AttributeError : ' NoneType ' object has no attribute ' transData '`
Can I override the ` draw ` method this way ?
when overriding draw , you should call original draw , after ( or befre ) you're done with your changes because there may be some internal methods it calls that you're not aware of , check source code for FancyBboxPatch.draw
As I can see , FancyBboxPatch is a subclass of Patch , which is subclass of Artist , both Patch and Artist have methods draw , so you can't just simply override them without calling the original method
EDIT : I'm super blind , sorry for that , you're calling the draw method , however it is a good idea to add * args and ** kwargs to any overriden methods .. try that , and perhaps call FancyBboxPatch.draw at the end of overriden method
Adding * args and moving the draw method to the end of the overridden draw made no difference ...
This gives me a list : ` a list of 9 Text yticklabel objects `
Note that you can use values in the position argument that go beyond your axes ranges .
Additionally , you can set the reference coordinate system using the ` transform ` parameter .
There as also ` annotate ` which is more flexible than ` text `
If I place ax.text() outside the subplot , it is not displayed .
I want to use matplotlib's colormaps to map this number to a color , but not plot anything .
but I have a problem , when the legend is outside the plot
But the legend gets cut off , if I apply the tight_layout before announcing the extra artists .
I know I can shrink the plot's width to fit the legend , but I want to keep it as dynamic as possible .
thanks for the sample code - I will work on it and let you know if I can get anything out of it ( already had 2 exceptions - se_index give me duplicate errors , and ylim is not defined .. ) anyway - I will post updates .
annotate a plot using matplotlib
This should help Matplotlib Annotation Guide .
For more info about annotate see docs .
annotate plots in matplotlib
Annotations are best be done using the annotate function of matplotlib .
By the way , you should probably also take a look at ` plt.axvline ` if you only want to draw a line as indicated by your span of zero width .
The only thing I had to add is to set ` plt.xlim ` and ` plt.ylim ` otherwise the viewport / axes are fitted tightly to the background image .
matplotlib datetime xlabel issue
My basic approach is to divide the y-data into chucks and plot each vertical group on a new axes using ` ax.twinx() ` and setting the limits appropriately .
Maybe you should look at the definition of hist .
No , random data is used as an example . hist works for any kind of integer or float data .
The problem is you are not applying hist correctly . for your data probably you want to use a bar plot
what y and x mean ?. hist calculates and represents the frecuency of a series of numbers taken in some intervals ( the bins ) .
I did make use of plt.bar and not .hist , but I got distracted due to the transparency feature available with hist .
The ` alpha ` kwarg is an ` artist ` kwarg so all of the plotting functions _should_ respect it .
I am confused about the matplotlib hist function .
There was a change in ` numpy `' s hist function a while ago that changed the meaning of the ` bins ` a bit , it is important to make sure you are looking at documentation that matches the versions you are using .
I would like to show each individual feature as its own contour .
As per @USER ' s comment , I need to explain why ` contour ( labels , levels= np.unique ( levels ) + 0.5 ))` or something similar doesn't work : #CODE
I would try either masking down the image you hand to contour to just the region of interest , extracting the path it gives back , and then shifting them to be in the right place .
That is essentially what ` contour ` is doing underneath , you might be able to same some time by skipping a bunch of the auxiliary work it does .
Note that ` labels* ( labels == ii )` will put each label's contour at a slightly different location ; change it to just ` labels == ii ` if you want overlapping contours between adjacent labels .
I am using matplotlib in Python 2.7 to plot a filled contour plot .
Can you help me figure out how to draw this kind of plot with matplotlib ?
I want to plot my animation graph from the command line without starting the X server .
Is there anyway of looking at the animation plot from the command line without starting X ?
However , if you just want to view your animation as a series of images using ` fbi ` it shouldn't be a problem .
The easiest way to draw a graph probably would be to use google's Chart API : #URL
Sorry , should be ` scatter ` to allow for color to be a list of colors of the same shape .
Is there any way to use bivariate colormaps in matplotlib ?
You _might_ be able to get a bit of traction by sub-classing ` Normalize ` and laying out your color map very cleverly .
@USER : I got the idea , and you can see another problem with this kind of colormaps : they should be nearly continuous but it looks like there are sharps transitions in the value .
If you have some time to lose I suggest you to look at this kind of colormaps : #URL
You might be able to get a bit of traction by sub-classing ` Normalize ` to map your vector to a scaler and laying out a custom color map very cleverly ( but I think this will end up having to bin one of your dimensions ) .
It would require specialized sub-classes of ` Normalize ` and ` Colormap ` and I am going back and forth on if I think it would be a lot of work to implement .
So far I have succeeded in putting separate line style for the particular node , which gives it distinctive line and distinctive style marker in the legend box .
Text curving along the line isn't easy to do with matplotlib , but ` annotate ` will allow you to easily label the line with text and an arrow .
I was aware of annotate but was planning to use it to point important phases in time .
I will now play with annotate to achieve the goal sought in this post .
Updating 2D array as y data in matplotlib animation
At the moment I am clearing the axes and plotting at every update , which is not very efficient .
matplotlib - 3D plots - combining scatter plot with surface plot
I want to combine a 3D scatter plot with a 3D surface plot .
The following code plots a 3D scatter plot with a 3D surface plot : #CODE
I've changed the colours of the surface plot from the default to a colormap " hot " in order to distinguish the colours of the two plots - now , it's seen that the surface plot overrides the scatter plot , independently of the order ...
A work around to this is to ( by hand ) split the data in the scatter plot in half ( the data above the plane and the data below ) , and then plot the three things in the proper order . see #URL
python matplotib how to scale colorbar based on ylim
If I change the ylim of the plot , the colorbar limits don't change i.e. don't update to reflect the signal values in this " new " frequency range .
Matplotlib subplot axes
In summary , this is what I want to do : I want the first set of nodes to come in subplot ( 1 , 2 , 1 ) and the second in subplot ( 1 , 2 , 2 ) .
I want the first set of nodes to come in subplot ( 1 , 2 , 1 ) and the second in subplot ( 1 , 2 , 2 ) .
You need to tell ` netwkorkx ` which axes to draw into , if you do not , it will draw into the currently active axis ( what ever ` plt.gca() ` returns ( doc ) .
ValueError : Argument must be an image , collection , or ContourSet in this Axes
what is the result ` type ( Axes [ 0 ])` ?
I would like to draw rectangles associated to some values ` ( X_i )` .
I would like some way to reset the x axis limits so that a ) it adds space on each side and b ) the xticks cover the whole xaxis at reasonable ( default ) intervals .
Right now you have a color bar on the figure with only 1 axes .
Setting the colormap will resize the original ` Axes ` instance .
You can use ` ax.get_position() ` to get the bounding box of the resized ` Axes ` .
I find it easier to cheat a bit and use ` ax._position.bounds ` , which gives a rect ( left edge , bottom edge , width , height ) that you can directly use to make a new axes , as shown below .
UPDATE : In the above solution there is no color bar , in the solution below there is a color bar , but you make it white and you remove the labels and the spines .
The problem with this solution is that tha legend and the rectangle of the colorbar are still visible .
Circle below graph on matplotlib
I have written the following code using matplotlib plot a graph and some circles on the same axes .
` PlotAxes [ i ] .add_artist ( Circle ( ..., color= ' y ' , zorder=0 ))`
Annotating a Figure using String with Strange Symbols
The data plots just fine , the problem comes when I want to annotate the curves using the names pulled from the header , in particular if I try to pass : #CODE
You might also want to suggest ` p.gca() .cla() ` , so that if you have a figure title , etc and you don't want to redo all that , just update the axes .
which will clear the axes for you when ever you add a new plot .
Set the colour of matplotlib ticks on a log scaled axes
However , when I set the axes of my graph to log scale the ticks revert to black again .
You can set the colormap to be whatever you like , here I use spectral .
I've been trying to figure that out , but I can't figure out how to point the axes instance to bars.index .
You can start by plotting your data as error bars , and annotate them with the corresponding text .
I tried to find a workaround by using regular expression to annotate twice the same text ( one with the " C " in red only and one without the " C ") , but because each letter does not occupy the same space , it doesn't work pretty well for all of the words ( see below ) .
From this data I then draw up a figure with a fixed candlestick width and a figure width of the amount of minutes times the individual candlesticks width ( len ( data ) *candlestickWidth ) .
Each ( ScalarMappable ) artist controls its own color .
The solution I found was to re-instance the colorbar in the same axes entry as the original colorbar .
In this case , axes [ 1 ] was the original colorbar .
Added a new instance of the colorbar with this designated with the cax= ( child axes ) kwarg .
The header is read into one array , the first column into another and the rest of the data belongig to these two axes values is read into a third array .
you can connect and disconnect your motion capture function based on which axes your mouse has entered / left ( which are , themselves , connect-able events )
It isn't clear from your example , but I'm assuming you have separate axes / subplots .
In that case , it's easiest to just detect which axes the event is in using ` event.inaxes ` .
Change figsize in matplotlib polar contourf
I am using the following example Example to create two polar contour subplots .
Multiple y-scales but only one enabled for pan and zoom
I would like to find out how to disable one of the axes for panning / zooming , so when I use the pan / zoom tool , only ax2 will rescale for example .
I suspect you will have to write a callback to update the second axis when the first one changes . pan / zoom are axis level activities and it is not clear how you want the two y-axis generate by twinx to be linked generically .
So I tend to forget some basic things , for example , how to add a legend , how to add a color bar , how to customize a colormap , how to change the font of a specific part of the figure , how to make some transparency effect , etc .
In documentation for Axes it mentions a ` get_xaxis ` method which returns an Axis instance .
In the documentation for Axis it mentions a ` get_label ` method which returns a Text instance .
In the documentation for Text it lists a ` set_fontsize ` method .
The problem I'm having is that the function ` ticklabel_format ( style= ' sci ' , axis= ' y ' , scilimits =( - 3.0e-6 , - 1.0e-6 ))` is not applying the given scilimit values .
If I use the values in the ` ylim ` function it does work , but it won't be in scientific notation .
I am using Matplotlib , and I am using the ` FuncAnimation ` , which is used by many of the animation examples .
Using animation :
Without using animation :
Below is the full code ( uncommenting the 3 indicated lines in ` main() ` works , but I would like to see it update in real-time , hence trying to use the animation ) .
Then the animation-object hooks into the figure-object and waits for the figure to be shown before attempting to draw any more frames for the animation .
Since I wasn't planning on using the animation instance later ( for example , to draw a movie ) , I didn't assign it to a variable .
But because all of the functionality relies on the hook , when the canvas is finally shown I presume Python's garbage collection has removed the Animation instance --- since it was never assigned to a variable --- and therefore the animation can never be started .
More generally , you could set the ` x ` coordinates to be whatever you wanted , and then set ` xticks ` and ` xticklabels ` appropriately .
I'm aware that there exists a Circle class , but I don't know how to specify that the left half of the circle should be white and the right half should be black .
( This doesn't automatically rescale the axes , but that's easy to add , if you'd like . )
If you'd like it to always be at the origin , you can specify the transform to be ` ax.transAxes ` , and turn clipping off .
However , this will make the " circularity " of the circle depend on aspect ratio of the outline of the axes .
I draw a scatter chart as below :
The documentation of make_axes() describes how to use ` pad ` : " pad : 0.05 if vertical , 0.15 if horizontal ; fraction of original axes between colorbar and new image axes " .
I have a plot with an Axes , and I call : #CODE
You could make a scatter with coloring by the timestamp .
2 arrays one ListedColormap but 2 colormaps
The rest of my code to color the colormaps is #CODE
When you call imshow you are * adding * a new image to your Axes instance each time .
Deleting the " anImage " reference does * not * remove the image from the Axes .
As your solutions suggest , you could `` set_data `` on your Image instance , or instead call `` anImage.remove() `` to remove the image from the Axes .
prevent matplotlib from rebasing my axes at zero
Edit : Setting ` ylim ` doesn't help because the limits are actually set correctly .
Similarly with ` yticks ` .
I'm using ` quiver ` to draw vectors in matplotlib : #CODE
They're patches instead of paths .
Because you don't seem to need any axes you can also use a normal projection , remove the axes and draw a circle .
Why don't you use a simple [ ` Circle `] ( #URL ) instead of the ` Wedge ` ?
I edited the code , it now uses a ` Circle ` .
Axis overlapping line in matplotlib
I'm currently trying to draw a series of arbitrary lines on a matplotlib graph .
How can I make matplotlib draw my lines over the axis ?
As a style note , you should use kwags , not positional args to pass arguments to ` scatter ` , ex ` scatter ( x , y , s=20 , color= ' r ' , marker= ' o ' , alpha= .5 )` which is much more readable and ( more ) future proof .
How to autoscale y axis in matplotlib ?
I'd like to add space under the line , for example have ylim min limit set to - 0.1 , but do it automatically .
You want ` margins ` doc
` spectral ` is the reverse color scheme of ` spectral_r ` .
I'm trying to do this in a subplot .
It is not plotting anything because you did not give it a valid surface to draw .
color converter doc , ` imshow ` doc .
I wrote some code that has a few boolean statements at the beginning , and depending on which ones are True / False different problems are solved , and different plots are created ( currently using imshow and some animation ) .
stacking colormaps
What I'm trying to achieve is to make yet another color-coded scatter plot , where the color-mapped variable varies from large negative to large positive values , and I'd like to tone down the values around zero --- basically , I'd like to be able to pick colors from a stock colormap ( say , ` cm.Blues_r `) for negative values of the color-mapped variable , and from a different one ( say , ` cm.Oranges `) for positive values of that variable .
You are going to need to dig into the ` Normalize ` classes as well .
The 0.475 and 0.525 are to ensure that the middle contour is truly white .
If you use the Uppercase spelling , you instantiate the ` Figure ` class .
` Figure ` works just fine for every plot I've made so far ; isn't it a class ?
What's the difference , then , between ` Figure ` and ` figure ` ?
I added links to the documentation , which should be clear about the difference of ` figure ` and ` Figure ` .
How to get rid of the extra legend entry of Pandas plot() ?
And my question is shown as the annotation : how to get rid of the extra legend entry ?
The chart is missing the " color box " in legend .
You can turn off the legend title by : #CODE
Or you can draw the legend by yourself : #CODE
When you set legend labels , the first label will give to the dash line .
But as I need to customize the legend text and assign the axes object to a variable for later on processing , so I use the second method .
Now I meet another issue : the first " color box " inside the legend is missing !
How to draw the union shape of rectangles in python
I want to draw the union of a group of rectangles .
Googling , I see some old matplotlib mailing list discussion of it , where it seems the idea was to gradually add URL support to different artist types , but I guess they never got around to it .
The URL is drawn for PathCollection objects , so you could make a Path out of your text , then make a PathCollection out of that path , and then add that PathCollection to your plot .
It works for images and scatter plots , but if I try the same thing for text objects the hyperlink doesn't appear .
@USER : You're right , it seems that URLs were never implemented for most artist types .
The little catch is that the unit is in axes unit , referred to the size of you plot , so a margin of 1 will put space around your plot at both sizes big as your present plot
Then you could've reversed the RTL ones just before ` join ` ing them all together
Ideally it would just entail setting the endpoints ( or radii / axes ) of each object and a color , like how you can easily generate rectangles / circles using endpoints .
This is supposed to return a Figure like this : #URL
you are right , but now I got another error : ` raise RuntimeError ( ' Locator attempting to generate %d ticks from %s to %s : exceeds Locator.MAXTICKS ' % ( len ( locs ) , locs [ 0 ] , locs [ -1 ]))
RuntimeError : Locator attempting to generate 87501 ticks from 0.0 to 3500.0 : exceeds Locator.MAXTICKS `
I can help you with patching arbitrary classes and point out why it didn't work in this case , but that error requires domain knowledge of matplot axes that I lack .
@USER the problem is that you are setting the step for the ` MultipleLocator ` based on the default ticks ( ` [ 0 , 1 ]` in steps of ` 0.2 `) so every time you make an axes you the set the minor tick step to be ` .2 / n ` , thus when you change the axis range later , it blows up because you are still using the tiny minor tick spacing .
I'm using ` matplotlib.patheffects ` to draw a path using a dashed line .
The command line arguments are ( minimum segments ) ( maximum segments ) ( subplot scale ) .
As you can see , the second plot isn't quite right -- the eighth subplot only has seven dashes , and the others are a bit off as well .
How can I do this so that the dash lengths are reliably transformed to the coordinate space of the underlying axes regardless of scale ?
My first guess is that the transform is not correct .
I just tried your suggestion of a straight line with : ` Path ([( 0 , 0 ) , ( i , i )] , [ Path.MOVETO , Path.LINETO ])` and the results are similar , i.e. it plots the correct number of segments along the line until it has to rescale the subplots .
I tried calling ` tight_layout ` for each subplot , but this crashes my ipython-notebook kernel .
Acceptable approaches include fixing the xlabel , ylabel , and title for each subplot , but another ( and perhaps better ) approach would be to have a single xlabel , ylabel and title for the entire figure .
fyi : ` tight_layout ` should be called on the figure instance , not the axes . however , ` ImageGrid ` is the best way to go , IMO
My axes are improperly sized and my xlims and ylims are not taken into account -- I've updated my question with example code and a new figure .
Once all these patches are drawn , a mouse-click in the figure window produces the following : #CODE
I have set up an animated scatter plot using the matplotlib animation module .
The code I have written to do this does not error out but the video it produces just shows a blank set of axes or a black screen .
How can I add a title to each subplot in an ImageGrid and a single xlabel / ylabel for the entire figure ?
For some reason , however , my subplot titles aren't appearing .
If you want a title for each subplot , you can just use the title command for that axis .
If you want one big ` xlabel ` and ` ylabel ` , you'll have to make a large ` axes ` object around your grid .
Multiple Subplots with One Axis Label
To draw contours , you are associating a value ` z ` with each ( x , y ) point on your map .
For instance , if you wanted to make a contour map of temperatures , ` data ` would be the temperatures .
It doesn't make sense to plot a contour with just that ( unless you have only one timestamp per location , and you want to plot a single , static map with the time as the z value ) .
You can't just have " an animated contour map throughout the day " , you need to have an animated contour map of something ( i.e. , some other quantity ) throughout the day .
You can then generate a series of contour maps where your ` data ` variable is taken from the " Points " column .
Updating marker style in scatter plot with matplotlib
I am working on an interactive plotting application which requires users to select data points from a matplotlib scatter plot .
` scatter ` has turned your data into a collection of paths and no longer has the meta-data you would need to do this ( ie , it knows nothing about the semantics of why it is drawing a shape , it just has a list of shapes to draw ) .
Joe Kington has written a wonderful example ( ` DataCursor `) of how to add an annotation displaying the data coordinates when a user clicks on on artist ( such as a scatter plot ) .
I am looking to change the style of either one or many points as the same time ( either using Lasso or a picker ) so adding and keeping track of multiple added scatter dots is not ideal .
What I want to do is specify the precise RGB colour values of a contour line generated with matplotlib .
then I'll get three contour levels which are all black , or if I were to substitute ' w ' in place of ' k ' then the contours would all be white .
matplotlib 3dbars : trouble with axes
How to make a long text fit into the legend box ?
As you can see , there is a problem with the legend text on the right side which does not completely fit into the legend box .
Changing the font size of the legend text does not help .
Which setting do I have to configure such that the legend box adapts itself to the length of the text ?
Does it fit when you make the legend texts shorter ?
@USER Exactly , I'm using ` ax.plot ( x , y , label=label )` to specify the labels of the legend .
Perhaps I should add that I join the labels dynamically in the plot command using ` label=str ( pr_auc_values [ result_id ]) + ' | ' + filenames [ result_id ]` .
How can I create single axes labels for an entire figure created with ImageGrid
However I would like to create the plot / axes etc . in one cell , and plot later using maybe ; #CODE
Is it that you don't want the figure generated , or you just don't want to look at the empty axes ?
The axes = fig.add_axes ([ 0 , 0 , 1 , 1 ]) cmd still gives me a plot after the cell , even with semicolon and pass .
matplotlib : if I set fig height , x legend is cut off
You could order the save method to take the artist of the x-label into consideration .
Actually , the variable ` xlabel ` might not be needed .
Dragging while holding the left mouse button allows us to pan the plot left-right or top-bottom .
Pylab doesn't " draw " bars with height of 0
I'm trying to draw a bar chart with the following code : #CODE
And can you clean up your example code so it can just run ( ie , put your example data in the snipit , get rid of the xlabel details ) ?
Now , what I want to do is to draw a figure representing these locations and also show the relative frequency , i.e places visited most often .
Turn off grid in a loglog graph with multiple axes
I want to draw a graph with two y scales and a loglog graph in it .
Please tell me how to plot the ` hist ` histogram that I have obtained .
You're essentially asking for a 4D figure -- are you imagining some sort of animation or some sort of stack of 3D plots ?
matplotlib mac OSX 10.8 cuts off tick and axes labels
My installation of matplotlib is appears to be cutting off the tick mark labels and truncating axes labels .
Even if you fixed this exact issue ( maybe by using a different backend , or stripping off the offending function ( which might break things in other ways )) I am pretty sure there are core parts of ` Figure ` , ` Axes ` , or ` Canvas ` objects that can not be pickled .
You could call the ` axhline ` method from the Axes objects , as in the example below , or set te current Axes with ` sca ` .
There are about 25,000 numbers in each array , and I'm plotting them as a scatter plot with matplotlib .
In the process I may have gotten myself farther away from the answer , but this code at least prints the entire scatter ( it fails to cut up the data like I want ) .
This works so far ( although it doesn't even look like a histogram ;-) but OK ) , but now I want to calculate the mean value for each bin and append some error bars .
Controlling alpha value on 3D scatter plot using Python and matplotlib
I'm plotting a 3D scatter plot using the function scatter and mplot3d .
I didn't see any other likely options related to this setting in the scatter documentation .
I'm having a problem with the Text object that matplotlib use to represent the ticklabels .
I am using matplotlib to draw candlestick charts .
The only way to do this is by rewriting the candletsick() function to draw two lines instead of one .
` >>> from matplotlib import axes , figure `
AttributeError : ' Figure ' object has no attribute ' Axes '`
i just noticed that we can do it with a scatter plot .
Node labels using networkx
Then draw specific labels with #CODE
Error bars in the legend .
i'm plotting several data points with y error and I don't want errorbars included in the legend .
Matplotlib : Dont show errorbars in legend
You can modify the legend handler .
See the legend guide of matplotlib .
I have been looking at temperature plotting with sensors and wanted to find how I can either construct a contour / heat map or edit the colours of my points based on a cmap ?
This is what the ` scatter ` plot is for : #CODE
If you want to change the color of the points , you might wanna use the ` cmap ` argument of ` scatter `
However , the translate transform was not working either .
You have to transform them first , i.e. #CODE
So , it seemed that I was always getting the wrong rotation point ( of course after adding the coordinate transform as you rightly pointed out ) .
` hist ` returns a tuple that contains the histogram bin locations and y values .
Is it a coincident that the exponent seems to have the same fontsize as the legend ?
But I cannot seem to find a simple way to transform this to a mercator ( regular square lat and lon ) projection in Basemap .
Or just transform the coordinates ?
@USER and Pelson - I want to transform the data .
Other values worth looking at are ` frac ` .
Python : 3D contour from a 2D image - pylab and contourf
I'm able to load and display an image ( code below loads the image below ) , but I'm unable to plot this as a contour in 3D , I understand an array is required for ` pylab.contourf ( x , y , z )` though I'm unsure how to achieve this from the loaded image data .
I think the OP's essential question is how to convert ` im ` ( see his code ) into a numpy array to pass into ` contourf ` .
The reason your image can be represented in a contour plot is that it is clearly a pseudocolor image , that is , an image that uses the full RGB color spectrum to represent a single variable .
Contour plots also represent data that have a single variable that determines the color ( i.e. , the Z axis ) , and therefore you can probably represent your image data as a contour plot as well .
This is the reason I suggested that you use a contour plot in the first place .
( What you're actually asking for in this question , though , generally does not exist : there is no generally valid way to convert a color image into a contour plot , since a color image in general has three independent colors , RGB , and a contour plot has only one ( the Z-axis ) , i.e. , this only works for pseudocolor images .
1 ) If you have the z-axis data that's used to create the pseudocolor image that you show , just use this data in the contour plot .
2 ) If you don't have the z-data , it's more of a hassle , since you need to invert the colors in the image to a z-value , and then put this into the contour plot .
In the end , you will need to understand the difference between a contour plot and an image to get the details to work .
As far as I know , matplotlib has no 3D equivalent to ` imshow ` that would allow you to draw a 2D array as a plane within 3D axes .
You can't do this with imshow , but you can with contourf , if that will work for you .
You need to understand the difference between a contour plot and an image .
Instead of plotting the false color images from the z-values , make a contour plot from the z-values .
Going on the net to find an answer to my problem , I tried the following thing with the matplolib contour function : #CODE
You can do this using the ` levels ` keyword in contourf .
How to draw a plot joining points from two measurement times ?
And another ` R ` approach using ` matpoints ` and ` matlines ` ( and ` boxplot `) #CODE
However , you can do it with ` scatter ` : #CODE
matplotlib : alignment of legend title
In matplotlib , how can I adjust the alignment of the legend title ?
It is always centered , but I need it to be left aligned with the legend box .
I tried to change the alignment of the title's Text artist which has no effect .
Second observation : for long title strings the anchor point moves to the left border of the legend box ...
The anchor point for the alignment is in the centre of the legend box .
Maybe there is a VPacker or HPacker instance associated with Legend ?
I think you need to displace the ` Text ` object , using the ` set_position (( x , y ))` method .
It seems that , in my update function , if I set ylim for the graph ( radius ) to be 1 ( which is the same as all of the points ) , then some of the annotations disappear .
No idea why , but it works if I leave the ylim alone .
The second plot shows that adding a ` None ` value appears to work , however if you pan the view of the plot , you get what is shown in the third figure , a line jumping to an earlier part of the plot .
On my machine ( Python 2.7.3 , matplotlib 1.1.1 ) I still get the unwanted line if I pan the plot .
The data you show is not consistent with making an image , but you could make a scatter plot with it .
scatter plots , where for each ( x , y ) pair , a z-value is specified .
image ( imshow , pcolor , pcolormesh , contour ) , where an x-axis with m regularly spaced values , and a y-axis with n regularly spaced values are specified , and then an array of z-values with size ( m , n ) is given .
Your data looks more like the former type , so I'm suggesting a scatter plot .
Here's what a scatter plot looks like ( btw , your y and z values are the same , which if probably a mistake ): #CODE
My questions are what are the meaning of the axes , and how can I generate a table out these values ?
I can import this an plot it as a 3D scatter , but would like to interpolate at 3D surface mesh between the points .
@USER In the above code you can take both the keys and the values ( k , v ) as numpy arrays and do a scatter plot using matplotlib.pyplot.scatter ( k , v )
The collections library can do your lifting .
( As you mentioned , you could connect a callback to the draw event and accomplish this . It would incur a large performance penalty , though . )
Is it possible to draw bezier curves in shapely and dilate / buffer them ?
And here is the way to archive same result much faster ( without neither bar chart nor hist ): #CODE
And [ here ] ( #URL ) is the way to archive same result much faster ( without neither bar chart nor hist )
Within each axes , I want to add some text .
Now , in one of the plots , the axes , the title is " Pollution Signal " , in another , it is " one " , and in another , it is " GOME " ( all just examples ) .
Memory leaks are terrible when you call multiple axes o figures without the proper clean !
For example , here's the original scatter plot , which has the correct orientation :
Then here's my heatmap ( notice that the structure is rotated 90 degrees counterclockwise from above , but that the axis data is correct ... the numbers on the axes are generated automatically from the data , so if you simply reverse the axes the picture comes out correctly but the numbers are all off ):
I just can't see how this could be , since the data parsing routine is identical to what it was before when I just generated the scatter plot .
I'm drawing to draw a simple undirected graph with networkx and I'm having trouble coloring the nodes according to a specific attribute .
I draw the graph like so : #CODE
If you want to track this down , the main work of ` draw_network_nodes ` is done here by a call to ` scatter ` .
There is a comment in the ` scatter ` function ( here ) that marks this as a known problem and states how the ambiguity is broken .
Jake Vanderplas has some wonderful animation examples in his blog , and in my opinion they're thouroughly explained ( some familiarity with matplotlib needed ):
I've got a scatter plot / heatmap generated from two numpy arrays ( about 25,000 pieces of information ) .
How do I refresh a matplotlib plot in a Tkinter window ?
Also , it might help to use a raw string : ` ylabel ( r ' $x^2$ ')` .
With out really knowing what you are trying to do , I would suggest either following the link in @USER ' s comment , or just using multiple separate axes .
I want to draw a scatter plot using pylab , however , some of my data are ` NaN ` , like this : #CODE
Is there some way that I could draw the points of real value while not displaying these ` NaN ` value ?
legend on each point with pylab.plot
I would like to have each exact value as a legend above each point representing that value on my graph .
Use the ` annotate ` method of matplotlib .
python matplotlib : way to transpose axes
Suppose I have a plotting function that takes an axes argument ( or returns one ) .
Or even the axes before the plot so that the plotting function just does everything correctly ( labeling ) by relying on the axes functions ?
what sort of artists do you have on your axes ?
possible duplicate of [ How to switch axes in matplotlib ? ] ( #URL ) ( note that one didn't get a good answer either )
John Hunter's example for swapping axes on an existing plot was #CODE
remove overlapping tick marks on subplot in matplotlib
How do I make sure the top and bottom of subplot ( 312 ) do not overlap with their neighbours ?
Aside : If the overlapping x- and y- labels in the lowest subplot are an issue consider " pruning " one of those as well .
I have a two dimensional data and two dimensional mesh of quadrilaterals describing a domain subdivided into patches .
Below are three example elements or patches , each with six node values each .
Node position and value data might be stored in ` [ Kx3x2 ]` array , where K is the number of elements .
But , how would I draw each patch image on the same axis ?
` imshow() ` is also problematic for non-rectangular patches , which is my general case .
I was a little concerned how contour plotting might work , since element faces are no longer logically connected .
Then use the ` xticks ` method to specify how many ticks on the x-axis and where to place them .
In the second code sample you use ` ax0 ` , which I guess is an ` Axes ` instance , in the first code sample you use ` yax ` , which presumably the axis-child of ` ax0 ` .
Strange subplot effect with matplotlib
First subplot #CODE
Second subplot later on with new cm : #CODE
Third subplot later on with new cm : #CODE
Fourth subplot later on with new cm #CODE
Last subplot with new cm #CODE
I would like to draw some points on the surface of a sphere .
This works great for single artists and can cover a lot of use cases , however the way that the artist is drawn to the canvas means that one artist is always on top of the other , there is no way to have the artists switch order in some places .
You can sort of work around this by doing the splitting ' by hand ' and plotting your functions peice wise with the correct order ( see How to draw diagrams like this ? ) , however this means you can not rotate out of some small viewing angle and have things look ' right ' .
I've had similar problems before , where resizing the window size or xlim / ylim changed the amount of visibility in dense regions .
Is there a way to have it fix the scaling of the labels and axes and such ?
You really should grab the ` axes ` object that ` subplot ` returns , and then modify ` graph ` to be ` graph ( p , ax )` so you don't end up reliant on global state .
The text problems are still the same as the other answer -- the legends are big , axes numbers are big , titles overlap the axes of the graphs above them , etc .
Is there a way to either autoscale the text when shrinking down a subplot like this or to add padding between graphs ?
Apply affine transform to quiver in python matplotlib
I am trying to apply an affine transform to a quiver plot .
But when I save the figure with a 2x2 subplot , the resolution is very poor .
Aliasing when saving matplotlib filled contour plot to .pdf or .eps
I'm generating a filed contour plot with the matplotlib.pyplot.contourf() function .
This produced a contour plot which did not exhibit the problems you've shown .
Another alternative , perhaps better , approach , would be to fool the anti-aliasing by putting coloured lines below the contourf .
More into , it's not that contours have outlines , but there is tiny gap between contours and white background of the plot window is what shows as contour outline .
@USER ' s trick with contour lines is good , it seems it fills the gaps just fine .
Another one would be to plot the array with ` imshow() ` before calling ` contourf() ` - this way plot background will mach contour boundary and gaps will be invisible .
Id had the same issue in SVG and your second solution fixed it - but I had to manually specify the ` zorder ` as I had some hatched overlays generated with ` fill_between ` , and the contour was on top of those .
After using the useful answer by @USER for a while , I finally found a proper solution to this long-standing problem ( currently in Matplotlib 1.4.3 ) , which does not require multiple calls to contour or rasterizing the figure .
Looks like needs to change to scatter ( x , y ,... ) to plot data points , how difficult it is to change array Z to x , y ?
You didn't provide much information to go on , but it sounds like you really want to create a scatter plot .
Fixing color in scatter plots in matplotlib
Can I create scatter plot using imshow() ?
As @USER said , you want to produce a scatter plot .
I want scatter points .
As far as I understand , I cannot call imshow() twice in a subplot and position each image at a different location along x ( they both share the starting position , thus overlapping , and there doesn't seem to be a setting to overcome this ): #CODE
After some googling , I've found a potential solution that entails creating extra axes within the top subplot , inside of which I can plot each column : #CODE
So just use ` sympy.plotting.plot ` for evaluation and do the fancy subplot transformations in matplotlib .
In order to update sympy plot ( not creation of a subplot , just adding a new expression ) use ` sympy_p1.append ( sympy_p2 )` .
If you use ` plt.subplot ` or ` plt.axes ` you can create a list / array of axes by hand
you can also use map , ` x ` and ` y ` being name space variables and ` axx ` some iterable over your axes objects : #CODE
I'd encourage you to look at the source of ` matplotlib.axes.Axes.hist ` ( it's just Python code , though admittedly hist is slightly more complex than most of the Axes methods ) - it is the best way to verify this kind of question .
plot nothing but the legend in matplotlib subplot
I have a bunch of subplots and one I want to contain a legend ( there are the same number of handles and labels in each of the other subplots so I just want a master legend for all of them ) .
Now where the gap1 , I want to put my master legend .
I plotted the same in the first subplot .
Now I just want to put the legend in the center for the ax2 subplot ( in gap1 ) and remove everything ( axis , lines , ticks etc . ) except the legend which is in the center .
The handles used in the call to legend don't have to be on the ` axes ` that you calling ` legend ` on .
Interactively pan the text out of the data window on all sides .
Python : Adding Matplotlib Figure to Auto-Generated Frame Output from wxFormBuilder ?
How to set xlim and ylim for a subplot in matplotlib
I would like to limit the X and Y axis in matplotlib but for a speific subplot .
subplot figure itself doesn't have any axis property .
` plt.subplot ` ( doc ) return an ` axes ` ( doc ) object .
Once you have a referance to the axes object you can plot directly to it , change it's limits , etc .
and so on for as many axes as you want .
Problem with keeping the axis instance is that it does not have all the properties that plt has , for example one cannot use axis.ylim() to get the ylim of the plot on an axis .
` plt ` has many _fewer_ options than working directly with the axes object .
Yes , I agree , not relying on the interactive version is preferable , but there is no way to * get * the ylim of a plot having only axis .
After a plot is done , it will have an ** automatic ** ylim assigned , but the axis will not have that information .
So if latter drawings depend on the ylim , as you said one has to set_ylim to override the current range .
There is also a ` get_ylim() ` function on the ` axes ` which will return the limits and ` ax.get_yaxis() ` function which will return to you the ` axis ` ( note difference between ` axes ` and ` axis `) .
In the ` ylabel ` and ` title ` you use an ' ' which may or may not give problems with encoding .
I want to draw the filled polygon using Matplotlib's ` fill ` function .
That function needs the points to be ordered so that going from point to point describes the contour of the polygon .
So far , I have tried defining turning points , i.e. , x values where the contour changes direction .
You simply need to re-assign ` ax.format_coord ` , the call back used to draw that label .
The alternative is to forgo the matplotlib animation writer and make the movie yourself .
There are no margins left , and using ` set_data ` makes the whole process much faster indeed !
When rendering more than one image on the same axes , a composite image is created that does not have a transparent background when rendering to pdf , so the background color of the axes does not show through .
Animation by using matplotlib + errorbar
I'm trying to make an animation based on this example .
My main problem is that i don't know how to connect the animation with errorbar .
@USER i need something like result of this code but for example it has to move to right ( it - i mean x axes ) using
I'm looking to use the values of a query within a matplotlib scatter plot based on a ginput plot .
Not just in the legend , but in labels and title as well .
You can see in the image below that it isn't perfect -- the legend text is aligned properly , but unfortunately it now strays outside the legend box .
You might be able to try different legend options to get something that looks better .
It says right there that setting ` linewidth=0 ` means don't draw edges .
I'd like to create a colorbar legend for a heatmap , such that the labels are in the center of each discrete color .
Ideally I'd like to generate a legend bar which has the four colors and for each color , a label in its center : 0 , 1 , 2 , 3 , > 4
Axis plotting in python - matplotlib
All the available help online seems to draw from modules that we do not have .
Unless you need to make each marker a different size or color , I would suggest using ` plot ` instead of ` scatter ` because it is faster and you can more easily modify it later ( if you want to do animations ) .
Do you know how I would add a legend to for my " millionspins , millions " section ?
And another bit in my legend for " average spins " ?
You should ask a new question ( or search existing questions as I know that has been answered ) about your legend .
where the legend is not what I wanted .
I would like the legend to contain either ten entries with the lines and dots merged together for each color or just the ten dot-lines .
I realize what the mistake is : I add ten points to the my_legend list , and the legend function of pylab is then reading from it until the list ends .
Is there a way I can make the legend function only register one entry for each iteration of the loop ?
Would " How can I filter the contents of pylab's legend ?
If you want the legend for the lines , you just put the ` label=label ` into the other plot command .
An alternative approach is to create a ` mylines ` list ( similar to ` mylegend `) and to append just one of the plot command and then call the ` pl.legend ( mylines , mylegend , ... )`
I would like to annotate the data points with their values next to the points on the plot .
What is the best way to annotate all the points for a multi-column DataFrame ?
Write a function that loops over x , y , and the value to annotate beside the point .
Finally , if you're in interactive mode you might need to refresh the plot : #CODE
as the other posts to expose the axes , however this is unnecessary and makes the : #CODE
Finding the best location for a second legend box
Space is a premium for a set of subplots that I am automating in which there is sometimes many curves in one subplot .
I want to split the legend into two boxes and then optimize the location of the second legend box ( the location of the first is provided with loc= ' best ') .
So , I am hoping to find the second best location or if I could retrieve the chosen legend location than it would be okay to choose an alternative .
if can be useful , ` pltleg1.get_bbox_to_anchor() ` ` Docstring : return the bbox that the legend will be anchored ` .
you have a canvas ( if you've got a gui or something similar ) , a figure , and axes
you add the axes to the figure , and the figure to the canvas .
The plot is held by the axes , so for example : #CODE
There is a separation between the user layer ( figures , axes , artists , and such ) and the rendering layer ( canvas , renderer , and such ) .
` figure ` s hold ` axes ` which hold ` artists ` ( and ` axis `) .
I would suggest using a scatter plot , it sounds a lot more suited to what you describe .
Use the scatter plot then as I suggested as well
The problem with scatter is , that I cannot change the edge thickness of the square marker , only the size .
However , when I try the way shown here with ` colorss= np.random.randn ( 100 ) cm= cm.hot scatter ( x , y , c=colors , marker= ' s ' , cmap=cm )` I get the error _raise ValueError ( " Color array must be two-dimensional ") _
I particularly liked the illustration of how to handle the legend .
Most of it's functions figure out what you current axes is , and then call the correct function on that axes .
What really happens is that for each iteration a new line for ` A ` and ` B ` is generated , overlying with the original one , but also generating a new legend entry .
After 50 iterations , I have 100 lines and 100 legend entries .
I put the ` if i == 0 ` statement in , because I do not know the number of iterations in advance ( yes , I do in this case , but not in the application this is targeted at ) and somehow have to ' initialize ' the plot and legend .
) Where do I place the ` legend ` command ?
For a more complete example see here and the full gallery of animation examples .
The spectral data can be tabulated so as to use a 3D plot area for each spectrum .
yes , I have tried using ` xlim ( radians ( 0 ) , radians ( 90 ))` but it didn't do anything do the plot .
How to create a dynamic title in a Matplotlib animation
I'm trying to create a Matplotlib animation where the title changes with each frame .
Haven't played with ` ArtistAnimation ` , but remember that titles are just ` Text ` objects , and ` Text ` objects are also ` artist ` objects .
And I would like to plot EnergyPerSquareMeter as scatterplot ( with the x-axis =HDD ) and annotate the points with the year .
But problem is that Python do not put the coloured points from the data , but tends to draw lines between neighbouring points in data field , so the plot looks ugly .
If you want to plot color-coded points , use ` scatter ` ( e.g. ` plt.scatter ( x , y , c=value )`) .
The plotting is going well but I would like to view the streamlines in Arc so I have been trying to get at the calculated values .
Ultimately I am trying to get it into ArcGIS but as long as I can get at the numbers and manipulate them I am not worried about the moving it over to Arc part .
I am particularly wondering how to draw line segments as in the below graph , assuming I can generate the necessary coordinates .
how to set the background color of contour labels in matplotlib ?
The ` backgroundcolor ` of a text artist might be what you need ( #URL ) .
If you set up the contour plot as : #CODE
#URL UserWarning : Images are not supported on non-linear axes .
warnings.warn ( " Images are not supported on non-linear axes . ")
Drawing Arrow in ( x , y ) coordinate in Python
What I want to do is that to draw arrow according to the given angle ( just to show the
I am still not sure to draw directional point ( arrow based on angle ) whether I use pylab or some other modules or .. still not sure at all .
You can draw arrows with ` matplotlib.pyplot.arrow ( x , y , dx , dy , hold=None , ** kwargs )` .
This will draw an arrow starting at ` ( x , y )` in the direction of ` angle ` with a length of ` 1 ` .
The text file , " equations.txt " , contains collections of linear equations in the following format : #CODE
You can see available colormaps at #URL .
The list of available colormaps by default is here .
last question : How can i limit the the x and y axes ?
If , however , I create 2 different plots , without animation , one in the beginning and one on the end , one can notice the color differences between the two .
If you want the range that the colorbar represents to change each frame of animation , then modify your for loop as follows : #CODE
I also second your opinion on transforming data for plotting purposes -- one should transform data in order answer a question -- the graph should make that answer legible .
But it seems the limits on both axes are always equal to the maxima from the data given to be plotted .
possible duplicate of [ How to autoscale y axis in matplotlib ? ] ( #URL )
( copied almost directly from How to autoscale y axis in matplotlib ? )
You want ` margins ` doc
This solution is good but it seems it can't set left and right or top and bottom margins independently .
If you use figure and axes objects , it's ` ax.set_xticklabels `
However , you can manually ajdust subplot padding by using ` figure.subplots_adjust ` method .
Pylab contour plot using Mollweide projection create artefacts
The purpose of the script is to do a contour plot of some data in a Mollweide projection with pylab .
There is a strange behaviour of ` contourf ` .
Some of the points seem to be wrongly drawn ( See Figure below ) .
You may have noticed that the contour lines work perfectly in both images .
If I use bbox_inches= ' tight ' , the figure margins are cut .
The more complicated , but more controllable method is to avoid using ` fig.add_subplot ( 111 )` and instead use ` fig.add_axes() ` which allows you to be much more strict in terms of how large your axes are when you define the axes instance .
You can then tweak the size of your axes to take up as much of the figure area as required to maintain a 5 " figure area .
I hadn't realized that it was able to maintain the aspect ratio of the axes instance easily , even if the aspect ratio of the figure is different from that of the axes instance .
I tend to try to be very explicit when I define my axes areas because I deal with satellite imagery and try to keep it as the native sensor resolution or some factor of that sensor resolution , which requires a little bit more control .
Can I convert a contour plot in matplotlib to a format that can be imported and edited in AutoCAD ?
I have written a script in Python 3.3 which reads position ( x , y coordinate ) and risk values from a text file and saves the resulting contour plot using matplotlib .
My company needs to be able to edit the contour in AutoCAD .
Unfortunately , my knowledge about AutoCAD is severely limited , and the people at my company who know AutoCAD know very little about generating contour plots .
How can I create a contour plot that can be imported in AutoCAD ?
I have tried saving the plot as an SVG file , opening it in Inkscape , and saving it as DXF , but it does not save the contour color information , and the task needs to be automated anyway .
The contour color information is important to preserve because the color indicates the order of magnitude of risk .
You should perhaps try some converter that can produce DXF from EPS , PDF , SVG ...
I can manually convert SVG to a DXF format using [ Inkscape ] ( #URL ) , but I lose the contour colors , and I would prefer to automate the process because we could have hundreds of these to convert at a time .
I referred to this question about extracting x , y data from a contour plot to write the Autocad script .
I send ` make_autocad_script ` the ` outfile ` and ` contour ` plot that I need , and in Autocad I import the script .
This plots each contour as a random color , but that could be replaced with whatever color you wanted .
This is a cost of the way that MPL de-couples the description of what to draw and _how_ to draw it .
I often work with raster data where for example i want to add a colormap , legend and some title .
Note that i manually defined the axes position so that spans the entire figure .
So the figure y-size ( height ) is increased and the y-size of the axes is decreased equally .
This gives a larger ( overall ) output image , but the axes area will still be the same size .
It might be nice the have a figure or axes property like .set_scale() to force a true 1-on-x output .
It _should_ ( I think ) draw each pixel as a rectangle .
Then , you don't need to define the axes positions because they are already as big as the figure .
Finally , you can call savefig() with the argument bbox_inches= ' tight ' if you don't want to manually specify the margins .
Conditionally draw connecting lines in matplotlib
Because direction wraps when moving from 359 to 0 degrees , it is inappropriate to draw a line connecting 359 to 0 .
Is it possible to conditinally draw connecting lines if the shorter jump does not wrap ?
Here is how it looks ( excuse the poor axes :-)
Tick labels do not align with the ticks .
If you look at ` axhspan ( ymin , ymax , xmin=0 , xmax=1 , ** kwargs )` in the matplotlib documentation for axes , you can make things like that :
The advantage of ` figtext ` over ` text ` and ` annotate ` is that ` figtext ` defaults to using the figure coordinates , whereas the others default to using the coordinates of the axes ( and therefore " T=4K " would move around if your axes are different between the different plots ) .
you can tell both ` annotate ` and ` text ` to use figure units ( or a [ mix ] ( #URL ))
And ` figtext ` is the obvious way to get there , not ` text ` with a transform .
I would have assumed that the OP wanted axes units though , so you don't have to fix it up if you do sub-plots or change the tick label size ect .
It seems important perceptually ( and aesthetically preferable ) to have the 4K in the same absolute location of each subplot .
Here's a demonstration of using ` annotate ` .
The main window is locked and still running in background .
If you want to force things manually , you can transform the ` x ` values with log2 before plotting , and then use the ` LogLocator ` tick locator .
draw the nodes explicitly by calling the top-level function , draw_networkx_nodes
I use python to draw histogram fetching data from file ' data.txt ' using the following code : #CODE
Is it possible to plot these data as a contour plot ?
Take a look at the contour demo of the matplotlib docs .
Hence a good way of assigning custom labels to the axes will be very helpful .
Assuming that you have an axes object ` ax ` you can do simply do something like this #CODE
scatter plot made by R
data : ( I cannot put all the data , please tell me how to join the * .txt file ~ 40.5 Ko ) #CODE
That means that when you subset it with ` X_train [: , 0 ]` , you aren't getting a 1-dimensional array- you are getting a matrix with one column ( which matplotlib then tries to scatter ) .
@USER When I tested it , it _did_ draw the curves automatically with different colors ; one in blue , the other in green .
I'd recommend ditching the ` import pylab ; from pylab import * ` lines and replace ` stem ` calls with ` plt.stem ` and so on .
Here comes the problem : If I use the toolbar's tools ( zoom , steps , pan , etc ) when I'm visualizing a plot , the " historic " of the toolbar won't reset when I plot a new graph later .
Unfortunately , when I set figsize =( 8.5 , 11 ) in order to correctly size the PDF for printing , matplotlib picks a very thick default linewidth and text size that mess up the plot ( the legend is too large and the lines in the bar chart overlap ) .
I normally use the standard ` figure.figsize ` which is ` (8 , 6 )` and a linewidth in the axes object that is ` 1 / 12 ` of the font size ( eg . ` font_size = 16 ` when I include the plots in twocolumn papers ) .
mp.rcParams [ ' patch.linewidth '] : the width of rectangle strokes including the bars of a pyplot.bar plot , legends , and legend labels of bar plots
mp.rcParams [ ' xtick.minor.width '] : the linewidth of small xticks ( yticks similar )
mp.rcParams [ ' xtick.major.width '] : the linewidth of large xticks ( yticks similar )
How can i draw a vector / line starting from polar coordinates ( magnitude and angle ) instead of rectangular coordinates ( x , y ) in python with matplotlib ?
This attempt still gives me labels [ 0 , 100 , 200 , 300 , 400 , 500 ] for both axes .
in order to transform coordinates from the data coordinates ` oldcoords ` to the plot axis coordinates ` newcoords ` .
ok , but the context is a bit complicated and I don't think it's important : I have a plot created with ` pcolormesh ` , this plot has one axis in linear scale and another one in log scale , I find a minimum of this plot , and want to mark this minimum by drawing a rectangle in the place of the minimum , however , because of the log scale , the rectangle has ugly shape if I plot it in the data coordinates , therefore I want to draw it in the plot coordinates , i.e. to give it a readable data-independent size , and so I need this transform , which should be an easy thing to do , but I guess I do it wrong ...
in short : I want to draw a rectangle centered on a chosen data region , but having size related to the size of the plot , e.g. having width and height equal to 5% of the plot , independently on where it is centered
You then transform to some new coordinates x ' and y ' and plot x ' against log ( y ') ?
If this is the case then when finding the minimum you will have a point in x ' -log ( y ') space and you then need to draw a rectangle in these coordinates .
I have x , y , and then plot y in log scale , so matplotlib does this transform for me : x ' =x , y ' =log ( y ) .
Then I find a point in x , y coordinates , and want to draw a rectangle , either in x ' , y ' coordinates , or in the plot coordinates , which are basically equal to x ' , y ' .
All the ` Line2D ` objects in an ` axes ` are stored into a list #CODE
At draw time , if ` _bbox ` is not ` None ` ( and there is no ` _bbox_patch `) ` _bbox ` is passed to ` patches.bbox_artist ` which is a function ( labeled as a debugging function in the docstring ! ) which uses the ` dict ` to generate a ` Rectangle ` object on the fly ( which is not returned ! ) .
Someplace in the ` set_* ` and ` draw ` in the rectangle is where the bug is .
The reason I can't set the axes to some fixed value is that ` mean ( xvals )` and ` mean ( yvals )` and their standard deviation varies between the plots quite a bit .
I want to do a 2d plot of the points with something like ` plt.plot ( xvals , yvals , ' . ')` , and it is important for me to set the axes automatically so that one can see the main distribution of points clearly .
If you don't return the ` anim ` object ( which has all the timers ect ) in it , it gets garbage collected when ` Execute ` returns , which deletes all those objects , and hence your animation does not run .
ax = plt.axes ( ylim =( 0 , 8 ))
I need to use the ` bbox_extra_artists ` argument to ` savefig ` because I have a legend down the bottom that gets cut off the figure if I don't .
A simple solution is to just hatch the background axes patch .
The question is how to update the fill_between Poly data based on line1_data and line2_data each time update_data() is called and draw them before blit ( " # Update fill data too " " # Draw fill too ") .
The reason is that they have thrown away all of the meta-data that would allow you to map between data-space and draw-space , and just keep a list of what to draw .
If you know a fast threading trick to redraw everything while playing the sounds , would be nice - I called draw with threading.start ( ... ) .
delete all collections associated with it #CODE
draw the new " filled_between " Polycollection #CODE
A similar trick is required to overlay an unfilled contour plot on top of a filled one , since an unfilled contour plot is a Collection as well ( of lines I suppose ? )
What would be a good way to know axes height scale and the correct text position within the script ?
Use ` annotate ` .
Even when I want to place things in data coordinates , I usually want to offset it by some fixed distance in points , which is much easier with ` annotate ` .
If you're trying to place it below the axes , you can use the offset to place it a set distance below in points : #CODE
I will try to use annotate instead of text .
Python Pylab subplot bug ?
But when I try to ` subplot() ` these graphs , the last one ` ( subplot ( 3 , 2 , 6 ))` doesn't show anything .
What confuses me is that this 6th graph is drawn perfectly when put in a separate figure but not in the subplot - with identical configurations .
In general , if you are working with more than one axes or writing non-interactive scripts it is better to use the OO interface , rather than the state-machine ( MATLAB-like ) interface .
Note that the plotting functions are member functions of the ` axes ` objects returned by ` subplots ` .
possible duplicate of [ How to autoscale y axis in matplotlib ? ] ( #URL )
( mostly copied from How to autoscale y axis in matplotlib ? )
You want ` margins ` doc
Just run the code , and hit the " SET " Button .
The ` hist ` command doesn't seem to recognise it when I try and specify ` base ` or ` basey ` .
Common xlabel / ylabel for matplotlib subplots
This is why your " googlings " suggest making a large subplot first .
If , however , you want a common x , ylabel for all subplots you can simply loop over them : #CODE
you used returns a tuple consisting of the figure and a list of the axes instances , it is already sufficient to do something like ( mind that I've changed ` fig , ax ` to ` fig , axes `) : #CODE
If you happen to want to change some details on a specific subplot , you can access it via ` axes [ i ]` where ` i ` iterates over your subplots .
Thanks for your suggestions , but if I do that , I have to add the big_ax after plt.subplots() , and I get that subplot on top of everything else - can I make it transparent or send it to the back somehow ?
More importantly , " axes " is maybe best not used ; it can be a function built in to matplotlib .
Maybe you could replace " axes " and " ax " both by " axs " ?
I see you are making a new Series ( e.g. , ` Meter1 `) out of each column of your DataFrame and then plotting them individually on the same axes .
By default , it also generates a legend , which you can suppress with the keyword argument ` legend=False ` .
However , it seems in this case the first option still puts the entire DataFrame in one Figure .
How to remove padding / border in a matplotlib subplot ( SOLVED )
The second subplot is just the first image with an overlay ploted .
An alternative would be to manually set the xlim and ylim of the axes : #CODE
my requirement is to draw a bar chart for the above data .
From your comment " .. mark out several important values on the x-axis " I think you shouldn't be changing the xticks and labels , but rather add vertical lines with appropriate annotation .
matplotlib , draw multiple graphs / points in figure
See for example [ this mpl example ] ( #URL ); it uses an animation , but wheter the data comes in from an animation or a sensor doesn't matter much in this context .
You could simply overplot the current axes , or update the data using ` set_data ` . svg / javascript doesn't come in anywhere , it's matplotlib .
It will update the graph every few seconds if you refresh the page .
I'm trying to make a 3D scatter plot using matplotlib .
The issue I'm running into is that the plot isn't using a 1:1 aspect ratio between all pairs of the axes .
I haven't tried the whole subplot routine , yet .
That's a good idea , although I don't know if it will work with a 3D scatter plot .
Okay , I've tried a few things on the page you linked and they were all about changing the aspect ratio of the window itself , not the actual plot axes .
Is there a way to adjust the axis range for 3D scatter plots ?
I'm looking to plot -x to x for all three axes .
It's a little strange to me that I wasn't able to find a function / kwarg like extent for my 3D scatter plot , but I guess it doesn't mean the mechanism isn't there somehow .
By default , the axes are not cleared between plots , so when you plot the second plot , it adds to whatever was already plotted .
Why don't you set the data limits so the axes start at -1 or some such value instead of 0 ?
I am drawing a histogram using matplotlib in python , and would like to draw a line representing the average of the dataset , overlaid on the histogram as a dotted line ( or maybe some other color would do too ) .
Any ideas on how to draw a line overlaid on the histogram ?
I am using the plot() command , but not sure how to draw a vertical line ( i.e. what value should I give for the y-axis ?
You can use the ` plot ` or ` vlines ` to draw a vertical line , but to draw a vertical line from the bottom to the top of the y axis , ` axvline ` is the probably the simplest function to use .
My intention is to group all plots in one image with the subplot method of matplotlib , depending on how many functions I call .
How can I get a spherical look ( ` ax autoscale `) and change the color ?
The trick is setting ` linewidth=0 ` because otherwise matplotlib tries to draw lines that are so thick that they run on top of each other and make the whole surface look black .
This was not an issue for me because of ` ipython ` , but rather it originated from trying to update and draw figures in a long loop .
To specify the orientation of the figure before saving simply call the following before the ` plt.savefig ` call , but after creating the plot ( assuming you have plotted using an axes with the name ` ax `) : #CODE
Setting the autoscale to False after the data points are plotted , but before the image is , makes sure that the axes scales only to the data points .
Using xticks is the correct method to manually set the x axis ticks .
The argument of ` xticks ` is the key here , can you give the code you have tried to use ?
@USER thanks , but the issue I have is even the ticks change with the plt.xticks ( xticks ) function with xticks =[ 150.05 , 150.10 , 150.15 , 150.20 , 150.25 ] , the x axis still ends up having wierd units of 1.5e2 multiples
When using the pyplot interface , you can set the xticks via ( provided you imported matplotlib.pyplot as plt ) #CODE
Also , you seem to have imported matplotlib as plt , but some of your commands ( like ` xlabel `) lack the ` plt .
One fix could be to simply set the xticks vertical e.g #CODE
Failing that you could manually do what python has attempted , subtract 150 degrees from the x axis and change your xlabel such that you have #CODE
I'm trying to create custom markers in matplotlib for a scatter plot , where the markers are rectangles with fix height and varying width .
so in my simple case I plot the points i , i and draw rectangles around them .
Empty square for legend for stackplot
I have that portion working and displaying properly , but I'm unable to get the legend to display anything other than an empty square in the corner .
This is the final ( cleaner ) approach to getting the legend .
Stop pyplot.contour from drawing a contour along a discontinuity
I have a 2d map of a coordinate transform .
The contour appears along the 45 degree line between the two poles , but there's an additional part to the contour that connects the two poles along the 0 / 360 discontinuity .
Note that all contours connect the two poles , but even though I have NOT plotted the 0 degree contour , all the other contours follow along the 0 degree discontinuity ( because pyplot thinks if it's 0 on one side and 360 on the other , there must be all other angles in between ) .
stop pyplot.contour from drawing a contour along the discontinuity
I will also want to plot a contour along 0 degrees , but if I can figure out how to hide the discontinuity I can just shift it to somewhere else not near a contour .
I am , however confident that you can get the plot you want using something other than contour .
Here is the complete code to append to your example : #CODE
What is left to be done is to generate a new set of contours with the correct values so that colormaps apply correctly , labels will be applied correctly etc .
However , there does not seem to be a simple way of doing this with matplotlib : the relevant ` QuadContourSet ` class does everything and I do not see a simple way of constructing an appropriate contour object from the contours ` c1 ` and ` c2 ` .
I found the solution ( set 2 ) that uses the mpl Toolkit and AA to allow sharing of the X Axis and present more than 2 scales . by changing the code to allow for set 2 is where I noticed problems .
The side scales almost look good ( exception is repeats on the right ) and I CANNOT CHANGE FONT size of the X-Axis labels and Y Axis labels .
To distinguish between plots use a legend .
Sub-Frame class to create a frame that includes a Figure and Canvas
If it isn't built in , it is easy to do with annotate .
To convert the times from strings to floats , you can use ` pylab `' s date ` datestr2num ` and supply it as a converter to ` loadtxt ` : #CODE
When you change the positions of the ticks , the associated x / ylabel does not follow .
If you for example want the label " X label 2 " to stay where it is but don't overlap the other subplot , you can try to add a #CODE
I have searched about the 3d visualisation and animation in matplotlib but get nothing useful information .
Animation and 3D plot are available on mplot3d library .
Take a look at wire3d_animation and mayavi Animation .
Tick properties for scatterplot matrices with Matplotlib
Then after you set the x tick positions for the top row and left column of subplot call : #CODE
Alternately , you could add each subplot axes individually with ` fig.add_axes ` .
Don't automatically adjust xlim , ylim for certain plot items in matplotlib
When using matplotlib to draw a bunch of lines , the axes limits are automatically adjusted to fit all plots into the visible range .
Is it possible to tell matplotlib not to adjust ` xlim ` , ` ylim ` for certain plot objects ?
The method I'm currently using seems inefficient ( I'm clearing the subplot and redrawing it every time ) and has some undesirable drawbacks ( the scale gets readjusted every time ; I would like it stay from 0.0 - 5.0 ) .
I am not familiar with exactly how it decides which stream lines to draw , but I could imagine that it is some sort of greedy algorithm and hence will give different results walking towards the high density region and away density region .
Dynamically place legend in plot
I know I can statically place a legend in the plot by defining the parameter ` loc ` ; however , my choice of location will sometimes cover the data in my plot .
How would I place the legend dynamically in the location that interferes with the data the least ?
Interestingly , the location of the legend is not fixed .
move the graph using the GUI , the location of the legend will readjust itself automatically .
Im getting only the last legend shown .
Are you sure that you don't want the ` legend ` call * inside * the loop ?
No , not trying to call legend inside the loop .
I had to adjust ` label=q ` to ` label=str ( q )` , but after that , the plot and legend are produced as expected .
To get colors is easy , ` scatter ` will take an iterable of colors for per-marker coloring : #CODE
Getting the shape is a bit trickier , as ` scatter ` only takes one ` marker ` for all the points , so if you want to use multiple ` scatter ` calls : #CODE
picking on matplotlib legend when legend is outside of axes
I've run across and interesting quirk when I've modified the legend_picking.py example where the legend is outside of the axes as follows : #CODE
The onpick function ends up being called twice for the Line2D artist that I click on in the legend .
I think this has to do with the fact that the children " tree " of the legend has the lines twice .
Double event registered on mouse-click if legend is outside axes
For this , I toggle the line style of the plot between `" : "` ( background plot ) and `" - "` ( highlighted plot ) whenever a line is selected directly , or , by clicking on the corresponding entry in the legend .
This works perfectly until I try to move the legend outside the axes using ` bbox_to_anchor ` .
After this , a single mouse click on the legend line triggers 2 click events in succession , thereby canceling the toggling effect .
How do I place the legend outside the axes while preserving the correct behaviour for the pick_event ?
Simplified code that reproduces the problem ( Clicking on a plot line toggles between ' highlighted ' and ' not-highlighted ' , whereas clicking on a legend line briefly toggles the plot-line before going back to the previous state ): #CODE
For reasons I don't understand , there are two copies of each line in the drawing area of the legend ( and it behaves differently when it is inside and outside ) .
My diving into the legend artist has found that a legend line is in the children tree of a legend twice when the legend has the bbox_to_anchor set .
I think it is a bug in the legend creation code .
It should only need the artist once to draw it , and it should not change behavior in this way when you set ` bbox_to_anchor ` .
Only 3 lines added to the original legend picking example .
In ` matplotlib ` , how can I show a grid in 3D scatter plot ?
You can use the grid method of the axes to turn the grid on and off .
How should I change the values of my ` xticks ` and ` yticks ` and perhaps their frequency ?
What I need to do is change the xticks and yticks to other numbers .
How do I change the xticks and yticks to show " 0 ...
There are different types of shading too but usually the default is the best . rstride and cstride set where the surface contour lines go every so many data points in the x and y direction .
Try something like 10 for a total of 25 contour lines in each direction or whatever you want .
I actually get only the axes plotted when I run your code , not the surface plot .
Python matplotlib : Change axis labels / legend from bold to regular weight
It seems by default that matplotlib axis labels and legend entries are weighted heavier than the axis tick marks .
Is there anyway to force the axis labels / legend entries to be the same weight as the tick marks ?
If I understand you correctly , all labels ( axis and legend ) were typed similarly to ` ( ' label entry ')` and the only math mode entry was the y-label ` ( ' $ y-axis $ ')` .
I would expect this code to draw a red border around the figure : #CODE
Check axes scale in matplotlib
Is there an easy way to check if axes in matplotlib are logarithmic / linear ?
So i think an alternative solution would be to play with the xticks position and the xlim of the plot .
I have an interactive application using matplotlib to draw some graphs .
If I plot a new set of date in the same graph , with updated limits for the axes , it works fine .
I couldn't remove this points from axes origin see fig .
A bug with the 3D code , adding the same ploy collection to a 2D axes gives the expected results .
Do you see the axes , but no data ?
y.append ( contour )
The code you've posted contains several errors , and no request to draw a plot .
These cause an error when calling ` Polygon ` .
I try a draw : #CODE
I get a window with a title of " Figure 1 " , but it's gray .
I try another draw : #CODE
But what happens if I don't do a show or a draw or just exit ?
I think you are having event loop issues with the gui ( that is why the buttons don't work , the strange behavior with draw ) .
Is the matplotlib draggable legend not available on Mac OS 10.8 ?
The plot has a draggable legend .
The code first creates a figure , then uses the figure to create a subplot , which returns an axes .
I'm using the axes object to create the legend .
I haven't found anything on the web that can explain this error or why the draggable legend doesn't work on mac .
I did find this in the matplotlib documentation : ` Note that not all kinds of artist are supported by the legend yet ` , but I don't know if that applies here .
However , I've just tried and the draggable legend works with the ` Qt4Agg ` and ` GTKAgg ` backends .
mark the contours in matplotlib contourf by ( x , y ) indices and not levels ?
I am not sure if this is what you are looking for , but you could do something like this to get a contour around a particular set of x and y indices : #CODE
or if your question is that you want to base contour lines on z values at specific x , y locations : #CODE
Currently , my polygon seems to consist of many patches that connect all the points , but the order of the points is not correct and when I try to fill the polygon I get a weird looking area ( see attached ) .
I plot the point locations ( black circles ) and my polygons ( colored patches ) using #CODE
So you draw a line from the first point to the second , then from the second to the third et cetera .
A shapefile ( see the documentation ) contains a list of shapes , like a Null shape , Point , PolyLine , Polygon , with variants containing also the Z and M ( measure ) coordinates .
In this case probably a PolyLine or Polygon .
I would suggest using the struct module to parse the binary ` .shp ` file , because again according to the documentation , the points of a single Polygon are in order , and they form a closed chain ( the last point is the same as the first ) .
If you want to test for intersection with a Polygon do something like :
The second by manually setting the xticks .
You can explore the results by capturing the result of the hist function :
` hist , bins , bars = ax.hist() `
I take it that a ` Figure ` must always been drawn with a ` FigureCanvas ` ?
However , as long as you don't need to draw the plot before you save it ( some things have to be drawn to determine their extents ) , you should be fine .
where I use the longer method of referncing the ylabel name of each graph .
But it seems it is not clean way and I will use the " ylabel " of each canvas since they are different .
just call plot again ( and again ) to draw any number of separate curves : #CODE
if yop want to draw lines across the whole plot use ` ax.axhline ` and ` ax.axvline ` .
` matplotlib ` maps values to colors using the ` colormap ` ( doc ) class ( and it's sub-classes ) and the ` Normalize ` ( doc ) class ( and it's sub-classes ) .
I am trying to generate a plot by matplotlib that three graphs are in a row and axes have names .
Custom legend in a plot
I have a code which I draw a circle of given radius and color on some points of the graph .
How should I make legend for this circles and crosses ?
My legend should only represnt each circle by its color and a given radius in legend box and the same for the cross .
How to make matplotlib show legend which falls out of figure ?
I draw a graph but unfortunately my legend falls out of the figure .
You can adjust the space that a set of axes takes within a figure by modifying the subplot parameters .
Legend in python without labels
I would like to show a fixed legend in a python matplotlib plot .
for some cases , dataX is missing , but I would like to show the whole legend ( always the three colours ) .
All I have found so far is based on labeling the data you plot , so : is there anyway to create a legend independent of the data you are plotting , and specify the symbol and colors when creating the legend ?
it would be nice if you put your axes / plot code so as to be corrected .
And there it sets the limit values of the axes this way : #CODE
This doesn't show how to go with zero values on the logarithmic scale . as log ( 0 ) is undefined so matplotlib will ignore these values.Setting the xlim to 1e1 will make the x axis start from 0.1 and still would ignore 0 ( I believe ) .
( My original suggestion was to use ` plt.xticks ( x , x-1 )` , but this would affect all axes . To isolate the changes to one particular axes , I changed all commands calls to ` ax ` , rather than calls to ` plt ` . )
here is an example of such a line ( look at the oscillating dark blue line , other black lines are a contour of another value ) :
With my previous little experience I was trying to draw a contourf , with this code #CODE
` legend ` and ` colorbar ` both have this capability , but implemented in rather complicated ( and for me , hard to reproduce ) ways .
There doesn't seem to be a clean way to set this directly ( but might be worth a feature request to add that ) , however the title is just a ` text ` artist , so you can reach in and change it .
Update xlim based on current ylim ?
I have a plot in matplotlib and I would like to resize automatically the ` xlim ` based on the view fixed by ` ylim ` .
And the problem occurs when I have a set of data that goes from ` y=0 ` to ` y=20 ` , then the ` xlim ` remain unchanged : I would like to have it automatically rescaled for the view corresponding to ` plt.ylim ( 0 , 10 )` .
Can you write a wrapper function that modifies both xlim and ylim at the same time ?
Even more radically you could try to patch in a version of ylim that did this .
You may find the get_ylim() method of the axes instance useful .
The question is about an automatic way to get ` xlim ` adjusted according to what is shown in the figure
if I set ` histtype= ' bar '` , there are no bars at all ( although it works if I do not set the yscale to `' log '`) :
Matplotlib is trying to fill all the way down to 0 , but 0 is always off the axes on a log scale ( because log ( 0 ) is negative infinity ) .
The change in 1.2.1 was so that this happens automatically when you call ` hist ( ..., log=True )` .
Marking data labels on outliers in 3D scatter plot
` show ` just tells the figures ( what ever they are ) to draw and is backend agnostic , where as setting up the toolbar is very backend dependent .
I was hoping to just draw it onto each figure and then draw the graphs over the template :
draw template : #CODE
The issue I am having is that some of my graphs have a " non-linear axes " and the I get the error : ` warnings.warn ( " Images are not supported on non-linear axes . ")`
You may need a ` plt.pause ( 0.01 )` after the ` plt.draw() ` line to get the refresh to show
You may need a ` plt.pause ( 0.01 )` after the ` plt.draw() ` line to get the refresh to show .
In principle you can also use a normal ` plot ` instead of ` scatter ` and update the data in the loop , but the 3D updating can be wonky / may require poking at the internals a bit .
The current docs for the matplotlib mplot3d contourf function contain two examples :
Also the following image is the scatter plot of the data .
Moreover , scatter plot is very slow given the huge number of data points involved .
You can get the same effect of ` scatter ` ( if you don't want to scale the size or color of each point independently ) with #CODE
Matplotlib plots ( pcolormesh and colorbar ) shift with respect to their axes when using rasterized=True
Thereby I noticed , that after rasterization the color-area itself shifts a bit with respect to the axes towards up and left , so that a white stripe at the lower and right edge of the plot appears .
Matplotlib : Multiple legends for contour plot for multiple contour variables
Or do you actually mean 1 legend with muliple items ?
Since contour plots ( can ) have a different style for each level , its not obvious how you would want to plot that in a legend .
You could use these to fix the limits of your axes .
You could have a look at switching off autoscaling of axes which is on by default .
autoscale
Disable the autoscale , or set it to ' tight ' , before plotting , see :
Also , in my opinion , it would be a better solution to use ` plt.axhline ( y=20 , c= ' w ' , lw=3 )` rather than ` plt.plot ( range ( 60 ) , 20* np.ones ( 60 ) , ' w- ' , lw=3 )` , as the [ ` axhline `] ( #URL ) spans the whole horizontal extent of the axes , even if you pan / zoom in the plot .
Also , in my opinion , it would be a better solution to use ` plt.axhline ` rather than ` plt.plot ` to make a horizontal line , as the ` axhline ` spans the whole horizontal extent of the axes , even if you pan / zoom in the plot .
Some ways i had thought were to grab the indices corresponding to weekends and then draw transparent bars between xlims .
For Problem 2 i tried to use Major Formatter and Locators , the code is as follows : #CODE
Strange Behavior of Python's Matplotlib Module - Plotting a Circle
However , it applies to both the fill and outline of a matplotlib artist , so if you set ` alpha=0 ` , nothing will be drawn .
This line sets where and how big the axes the radio buttons are drawn onto is : #CODE
To be clear , ` rax ` is just an ` axes ` object to which you are adding the radio button widgets to .
This looks like it is an issue with how the buttons are made ( drawn as circles ) and the aspect ratio of the axes .
I need to read the data AND the column headers , plot them and produce a corresponding legend .
but how do I produce a suitable legend ?
I thought the legend command with no parameters would suffice ( e.g. ` matplotlib.plot.legend() `) but that is not the case .
/ usr / lib / python2.7 / site-packages / matplotlib / axes .
With pandas , this will produce the same figure ( automatically plotting all columns of the dataframe and adding it to a legend ): #CODE
Removing axes margins in 3D plot
I spent last few days trying to find a way to remove tiny margins from axes in a 3D plot .
I tried ` ax.margins ( 0 )` and ` ax.autoscale_view ( ' tight ')` and other approaches , but these small margins are still there .
In matplotlib , since there are margins on every axis on both sides , it would be great to be able to control each of them .
Lots of sample code [ here ] ( #URL ) ( " Bar plots " example is similar to my case above ) .
There is not property or method that can modify this margins .
Basically I want to make phase plots , so assuming I have a 2d array , how can I get matplotlib to convert this to a plot that I can attach titles , axes , and legends ( color bars ) to .
Please note that you'll get the array indexes in the axes legend .
Figure title ( suptitle() ) disappears if you specify figure size in Matplotlib
I assume you have an ` Axes ` object someplace in your code , call it ` ax `
initially draw a surface
then draw some random lines in a loop .
Between drawing each line , a little time is wasted , to give the impression of an animation .
I want to show the elapsed time in my animation in matplotlib .
The second return is never getting hit , so it doesn't know to update that artist .
PythonXY , IPython Qt Console , matplotlib , draw something not in inline mode
I draw something using ` matplotlib.pyplot ` ( imported as ` plt `) .
And how can I draw figures in another window , adding more properties , and making the figure not display until ` plt.show() ` ?
matplotlib : update position of patches ( or : set_xy for circles )
Inspired by this example I'm trying to write a little matplotlib program that allows the user to drag and drop datapoints in a scatter plot dynamically .
In contrast to the example which uses a bar plot ( and thus allows dragging of rectangles ) my goal was to achieve the same with other patches , like for instance a circle ( any patch that is more scatter-plot-compatible than a rectangle would do ) .
While a ` Rectangle ` provides a function ` set_xy ` I cannot find a direct analog for ` Cirlce ` or ` Ellipse ` .
If I'm understanding you correctly , you should just be able to pick a single point on the right hand edge of the graph where the axes should be aligned , and matplotlib will take it from there .
I tried to follow some examples but got error like ` AttributeError : ' Figure ' object has no attribute ' ticklabel_format '`
That is a method of ` axis ` ( not ` axes `) objects .
I'm just shooting in the dark , but looks like xlabel takes a variety of options :
I am generating a groundwater elevation contour with Matplotlib .
Can we use log inside xlim ?
You can set the x limits with a range , using either pyplot's ` xlim ` or with the object oriented interface ` ax.set_xlim ` .
Even if you use a log scale , the values you pass to ` xlim ` will be applied to the normal scale ( e.g. , ` ( 0 , 100 )` would go to ` ( 0 , 10**2 )` on the log graph )
To get a log scale , you just need to change the xscale with ` ax.set_xscale ( " log ")`
@USER : ` e ` has shape ( 10 ) and ` nu ` has shape ( 5000 ) ., so numpy can't figure out what you want to happen that gets fed to the ` sqrt ` .
Python - matplotlib axes limits approximate ticker location
When no axes limits are specified , matplotlib chooses default values as nice , round numbers below and above the minimum and maximum values in the list to be plotted .
Sometimes I have outliers in my data and I don't want them included when the axes are selected .
I have tried setting the axes to be the minimum and maximum value in the list not including the outliers , but that means that those values lie exactly on the axes , and the bounds of the plot do not line up with ticker points .
Is there a way to specify that the axes limits should be in a certain range , but let matplotlib choose an appropriate point ?
Is there any way to tell matplotlib to either ignore the outlier value when setting the limits , or set the axes to ' below 0.142921640661 ' and ' above 0.160337332636 ' , but let it decide an appropriate location ?
I'd prefer it to be plotted like my second example , but with better axes limits .
EDIT : I was originally masking the data like unutbu said , but that doesn't actually set the axes right .
Whitespace in pyplot legend entry ?
I want to add some spacing between the end of the legend entry and the legend border .
To give you an example of why I want this , it's to balance out space on both sides with using one marker instead of two in the legend , see example below .
@USER The legend code in rather complex with lots of nooks and carnies , there could very will be a parameter to tune _exactly_ what you want that I do not know about .
@USER There is the snarky solution of turning the legend frame off so you can't tell ;) I would specifically look at how the bounding box is generated , I think that the point artists is much wider than it looks which is what gives you that extra padding .
I just used the legend ` kwargs ` in the end .
I'm trying to plot a filled contour plot , but the edge of each polygon is white .
I plot all the points with scatter function , but i don't know how to plot each RGB point with it's respective RGB colour .
set ` color ` attribute in ` scatter ` function :
Check out this [ matplotlib 3d animation example ] ( #URL )
Hi nordev , the solution with the log x-axis is probably the best , minus the end labels , as they're not correct , ie M0 is not the lowest valued spectral class .
All in same Axes , grouped by rows ( M0 , M1 , ... )
Here is another solution to get all the different Spectral classes plotted in the same Axes with a legend identifying the different classes .
All in same Axes , grouped by columns ( 1.3 " , 2.0 " , 2.5 ")
It's going to be an awful of of graphs if I have to do each spectral class independently !
I've discovered that removing the ' i ' loop and using the code ' plt.plot ( xs [ 0:7 ] , ys [ 0:7 ] , label =d f.columns [ 0 :: 2 ] [ -3 :] + '"')' solves the data type issues , but causes my legend to display incorrectly .
Instead of getting the 3 line legend : ' 1.3 ' , ' 2.0 ' , ' 2.5 ' , I get three lines of : ' Index ([ LimMag1.3 " , LimMag2.0 " , LimMag2.5 "] , dtype =o bject )' - interesting as " is not in any of my column headings .
How do I get my original legend labels back ?
I think I've finally solved the remaining problems , at least in an ordinary python console : Using the code from nordev's third solution , but omitting the ' i ' loop , and substituting ' plt.plot ( xs [ 0:7 ] , ys [ 0:7 ])' , and ' leg = plt.legend (( ' 1.3 ' , ' 2.0 ' , ' 2.5 ') , loc= ' best ' , title= ' Seeing ( asec )') for the legend , returns a correctly formatted graph with no errors when ruin from a saved .py file in a python console .
Solutions I've seen seem to use subplots or spines , which seem to be overly complicated for my purpose .
I am looking for something more integrated with pandas , like passing the ` ylim ` or ` style ` argument )
You can manually draw a line in the middle of the plot : #URL But it seems like matplotlib does not have a command to send the xaxis.tick to the middle of the plot .
In this case I would recommend to use ` ax.spines [ ' bottom '] .set_position ( ' zero ')` rather than ` ax.spines [ ' bottom '] .set_position ( ' center ')` , as the latter places the spine in the center of the ` Axes ` , not necessarily at y=0 , meaning it moves relative to the y-axis while panning / zooming .
There should be an images shown in each of the axes ( using imshow ) in the top four rows .
In the bottom left axes I want to show / plot some text .
If I use annotate it would be quite tiring to do for all peak .
It's one more line to annotate all the peaks .
thnx for your answer . this is working though . not sure what was wrong with annotate .
Assume we have three groups " A " , " B " , and " C " and for each we want to create a boxplot for both " apples " and " oranges " .
If you mean exactly the kind of plot from molly's answer ( only one subplot ) , this is not possible with a pandas plotting command .
I have had navigation tool bars to some of the plots and all buttons work well but one : " Edit curves line and axes parameters " ( traditionally the most right one , but don't know if you cannot change its place ) .
Draw your colorbar in a customize Axes .
Create your fig and axes object explicitly so you can control them better .
In this case , use the ` autoscale ` method of the axes object #CODE
so then the question remains to the pandas guys , why the autoscale does not happen for just plotting the second column , but happens plotting with a boolean selector .
But here is a work-around , based on the last example given here : Floating Axes .
Extracting subplot coordinates in Python
I am new to Python and I am actually trying to plot a figure over a subplot .
The difficult thing is that I need the axes property which is a string I can obtain by simply printing the subplot ( Example below ) .
This string contains all the information I need for what I want to do ( a simple axes ([ x , y , deltax , deltay ]) .
Demonstration of Forward Time Central Space in Python's matplotlib animation package
I want to create a simple animation of how bad the Forward Time Central Space ( FTCS ) solves the flux conservation equation for a Gaussian velocity distribution ( " Physics ... yeah ! " ) .
I have written a small animation based on this tutorial .
I'm satisfied with it ( given that I don't really know anything about matplotlib's animation package ) , but I cannot get the animation to be slow enough so that I can actually see something .
How can I have each plot in matplotlib's ` subplots ` use a different axes ?
Multiple independent axes for every subplot
Axes for every subplot
Overlay plots in every subplot axes using subplots .
What do you mean by " _multiple_ independent axes for _every_ subplot " ?
Also , with " Axes along every subplot " do you mean that you want to have _independent_ axes ( i.e. not sharing x- or y-axis with other subplots ) for every subplot , where each subplot has ticklabels ?
What do you mean by " overlaying plots in every subplot axes using subplots " ?
Don't tell it to share axes : #CODE
With the axes only partially shared with ` sharex= ' col ' , sharey= ' row '` it does work for me .
Also how would I overlay plots _in_ shared axes ?
Show more than one plot in a given axes ?
ex 4 plots that all share x , y axes , and THEN overlay a bar graph on top of one of them that uses the same different axes to the ' right ' of the graph ?
@USER well I did learn how to moved the legend from it so it was helpful .
Legend using PathCollections in matplotlib
I'm plotting groups of circles using collections and I am not able to generate the legend of the three categories .
` PathCollection ` s are not iterable objects , so trying to generate the legend the following way ; #CODE
Note that the command ` print p.get_label() ` shows that the object has an associated label , but matplotlib is unable to mount the legend .
One possible solution is to add ` Line2D ` objects to use in the legend , also known as using proxy artists .
Great.I was more concerned about finding a way to enable the legend , using patchcollections not thought of an easy way solve this my problem .
I've been able to avoid the resizing of the parent plot by modifying your code to create new axes for each colorbar then placing each one manually .
I am mainly looking for something that is more space-efficient than subplots and can manage various colormaps .
Make sure you specify the ` xlim ` : #CODE
If you don't , then matplotlib will autoscale the x-axis , which is not what you want in this case , as the table underneath the plot is tied to the location of the actual bars .
The idea is that I want to refresh the data in the bar chart , not to update the previous data .
Check out [ ` plt.cla() `] ( #URL ) , which clears the contents of the Axes .
The ` plt.cla() ` function should provide what you're looking for , as it clears the contents of the current axes .
You can set the color of the patches with the ` colors ` kwarg .
The ` Normalize ` object takes care of normalizing your data to the range that the color maps expect as input , and the color map converts the float to a color .
` Normalize ` doc
But I cannot figure how I can plot the list with ylabel the frequency and xlabel the numbers on the list .
I thought to create a dict with the frequencies and plot the values of the dictionary , but with that way , I cannot put the numbers on xlabel .
Customized markers via Path
In any case , we can avoid drawing the markers and PatchCollection can be used , to draw what should be the markers .
And I suspect you want a [ blended transform ] ( #URL ) to do what you want .
I don't necessarily want to " backport " in terms of syntax - I'm just looking for an approach that works in both older and newer ` matplotlib ` , which : allows me to a ) draw a custom path myself ; b ) use it as a marker ( so its position is in data coords - but it's size is in pixel coords ) .
Many thanks to @USER for the comment on blended transform - in trying to figure out why that doesn't work for me , I finally found the solution .
In addition , for instance ` matplotlib.patches.Rectangle ` is instantiated through location and size , as in ` Rectangle (( x , y ) , width , height )` .
... and this recalculation of the vertices of the marker path would have to be repeated each time the zoom level , or the figure pan , or the window size changes .
As such , vertices / paths ( and patches ) and transformation alone cannot be used for this purpose .
Because the markers size is , so to speak , managed separately ( from its position ) - that means that you don't have to do any special calculation in your custom marker Path specification ; all you need to do is make sure its vertices fit in the range ( 0.0 , 0.0 ) to ( 1.0 , 1.0 ) - the marker drawing engine will do the rest .
So I'd have to use ` plt.plot() ` as usual , but then that doesn't use ` Figure ` class directly - so the figure manager was a way to both work with ` Figure ` class directly , and use ` pyplot ` as a backend .
Colorbar shinks scatter plot
Doing so shrinks my scatter plot to the left ; however , I would like to keep the scatter as close to 1:1 as possible as the x- and y-axis are at the same scale .
I know about ` imshow ` and ` pcolor ` , but the first doesn't allow you to easily set the units of the axes like ` imagesc ` , and the second makes you set the x- and y-coordinates of the boundaries of the pixels , rather than the centers of the pixels , which I do not find intuitive .
From the ` extent ` documentation : " Data limits for the axes .
Colormap issue using animation in matplotlib
But when using animation , the colormap got stuck in first frame of the data range , and after some steps it shows unnormalized colors while plotting .
A list of colormaps with matplotlib is available here .
pyplot 3D bar legend
I'm trying to add legend to a 3d bar , but with no success .
How Can I add a legend to a 3d bar ?
Usually a legend is more appropriate for discrete values and a colorbar for continuous values .
I would like to track the coordinates of the mouse with respect to data coordinates on two axes simultaneously .
So the question is : How can I modify the code to track the data coordinates with respect to both axes ?
I think this is a bug , if you get the inverted transform for the ` transData ` it does not behave properly outside of the call back and is raising errors from ` transfroms.py `
Due to the way that the call backs work , the event always returns in the top axes .
You just need a bit of logic to check which if the event happens in the axes we want : #CODE
This might be a subtle bug down in the transform stack ( or this is the correct usage and it was by luck it worked with tuples before ) , but at any rate , this will make it work .
The issue is that the code at line 1996 in ` transform.py ` expects to get a 2D ` ndarray ` back , but the identity transform just returns the tuple that get handed into it , which is what generates the errors .
The ` ax1.transData.inverted() .transform (( event.x , event.y ))` code performs a transform from display to data coordinates on the specified axis and can be used with either axis at will .
The problem is , I use the ` Cursor ` in situations where there is only one axes as well as with twinx axes .
So I don't want Cursor to assume there is always two axes , ` ax1 ` and ` ax2 ` .
add vertical line intersecting 3 different axes in a figure in matplotlib
But i want to draw a vertical line intersecting these axes .
I dont want to use subplots and also i dont want to add axvline for each axes .
But I dont want to seperately add for each sub axes .
So everytime , I have to draw seperate line for each axes and it may cause more computation power
@USER Artists are attached to axes .
Drawing across three axes with a single artist seems dicey to me .
I also tried creating another axes from [ .1 .1 .8 .7 ] .
@USER Is the animation too slow ?
Why do you expect that using a 4th axes object ( a heavy object that needs to be fully rendered ) would be faster than updating three lines ( which are lightweight objects and it can be optimized greatly via ` blit `) ?
I have tried animation with one axes .
I would like create a pseudocolor plot ( e.g. ` contour ` or ` contourf `) and a colorbar .
This new colorbar shall still serve as a legend and give proper colors for each tick ( 3000 = blue , 6000 = yellow ) .
The best value for these parameters will depend on the aspect ratio of the axes .
The size of the axes seems to not get shrink-wrapped to the polar plot , thus in the 1x2 arrangement there is a lot of space above and below the plot that are part in the axes object , but empty .
I think the fundamental problem is that the ` axes ` object's bounding box does not shrink wrap around the polar plot and all the colorbar lengths are keyed off of the over-sized bounding box .
Taking a look at the call signature for the ` colorbar ` , the ` ax ` keyword argument is the " object from which space for a new colorbar axes will be stolen .
So , we have to maintain a dual ` Axes ` .
Sadly , having to maintain the additional axes means a lot of hand hacking of position .
As you can see , I had to force the figure to draw in order to get the size of the axis right for the left hand plot .
If you do not force the redraw , the size of the color bar is based on the original axes size and you get the same size axes as the left .
At this point , I have not found a way to tell the ` Axes ` for the color bar to automatically track the main ` Axes ` for changes in size .
matplotlib forcing pan / zoom to constrain to x-axes
And I only want the x-axis to be pan / zoomed , not the y-axis .
edit : found the pan / zoom function at #URL
But I have no idea how to override the Axes class with a subclass when Axes objects are created automatically from Figure objects .
It is possible to use your own axes class .
You could do it properly and make a subclass of the toolbar , but you have to then create instances of Figure , FigureCanvas and your NavigationToolbar and put them in a Tk app or something .
stop / start / pause in python matplotlib animation
I'm using FuncAnimation in matplotlib's animation module for some basic animation .
This function perpetually loops through the animation .
Is there a way by which I can pause and restart the animation by , say , mouse clicks ?
Since the animation is driven by a generator function , ` simData ` , when the global variable ` pause ` is True , yielding the same data makes the animation appear paused .
` circle = Circle (( 2 , 1 ) , 0.5 )`
using ` set_aspect ( ' equal ')` before and after filling the subplot
I simply can't convince the first subplot to change its size .
This may help if there are shared axes involved .
This creates a new axes object which you are manipulating independently of the axes used by the FITSFigure object .
If you want to modify the axes , you can use the undocumented fig._ax1 objects instead of your ax objects .
get QuadMesh object from Axes ( or Figure )
The problem that I'm running into is that in my script , I'm calling a function which creates the ` QuadMesh ` ( generated from ` ax.pcolormesh ` ) instance and returns the ` Figure ` and ` Axes ` instances associated with it .
Is there any way to get a handle on the QuadMesh instance from the Axes instance ( or Figure instance ) ?
I'm not really sure this is what you want -- especially since there are 4 quadmeshes -- but you can find the quadmesh given the AxesSubplot via its ` collections ` attribute : #CODE
Now I'd like to be able to zoom in and out and to move around the image , using the GUI , without touching to the existing plot and axes , in order to align it with my plot .
In other words , I want to scale to given ` sx ` and ` sy ` factors , and to put origin of the image at a given ` ( x , y )` point , clipping parts of the image going outside the axes .
maybe use a second axes and see if you can make it transparent ( not sure that is possible though ) .
Finally , I followed tcaswell suggestion and used 2 different axes .
This way , I simply have to play with ` set_xlim() ` and ` set_ylim() ` of my image axes to change the origin and / or the zooming factor of my image .
I order to get the image below my plot , without hiding it with the frame of the plot , I removed the frame of the plot and used the frame of the image axes instead .
I also hidden the ticks from the image axes .
In both cases , the contour lines don't match the underlying image .
matplotlib : combine different figures and put them in a single subplot sharing a common legend
We need to combine 2 of these figures in a single subplot .
The data from figure1 will be plotted in the left subplot and from figure2 in the right subplot , sharing the same legend and witht he same scale in axes x and y :
If you want , say , line number 1 plotted only in subplot number 1 , and line 2 plotted only in subplot number 2 , where the y-axis has the same limits ( shared y-axis ) , this is pretty easy .
Your solution is basically the same as the one I presented above , in the sense that both are creating both ` Axes ` instances as subplots on the same figure ( giving the desired layout ) , and then plotting , rather than plotting , then extract / move the axes , as your question was concerning originally .
As I suspected , the easiest and most trivial solution is to make the individual ` Axes ` subplots of the same figure instead of having them tied to separate figures , as moving one ` Axes ` instance from one ` Figure ` to another is not easily accomplished ( if at all possible ) , as specified in a comment .
The " original " problem still seems to be very hard to accomplish , as simply adding an ` Axes ` instance to the ` Figure `' s ` _axstack ` makes it hard to customize to the desired layout .
` of your current code , to make the legend centered horizontally , with the top just below the axes : #CODE
@USER According to [ this comment ] ( #URL ) by Joe Kington ( December ' 12 ) , ` Axes ` instances deliberately aren't supposed to be shared between figures , making your request pretty hard to accomplish .
How do I include a matplotlib Figure object as subplot ?
How can I use a matplotlib Figure object as a subplot ?
Specifically , I have a function that creates a matplotlib Figure object , and I would like to include this as a subplot in another Figure .
You should modify your plotting functions to take ` axes ` objects as an argument .
If you note , it says ` figure ` is undocumented in the ` Figure ` documentation , so it might not do what you want ;) .
If you dig down a bit , what that kwarg really controls is the figure that the created axes is attached too , which is not what you want .
In general , moving existing axes / artists between figures is not easy , there are too many bits of internal plumbing that need to be re-connected .
You need to your plotting functions to take an ` Axes ` object as argument .
so if you pass in an ` Axes ` object it gets drawn to ( the new functionality you need ) , but if you don't all of your old code will work as expected .
Why does the matplotlib API for subplot seem to offer a matplotlib Figure instance as an argument ?
Rather than having my function return a matplotlib Figure instance , I can get back a matplotlib.axes.AxesSubplot object .
several contour plots in the same figures
I would like two plot the contour plots of them in the same figure to see the difference between them .
Show only the n'th ticklabel in a pandas boxplot
I have a pandas boxplot with FICO score on the x-axis and interest rate on the y-axis .
How do I access the plot , subplot , axes objects from pandas boxplot .
` dir ( matplotlib.axes )` lists ` Axes ` , ` Subplot ` and ` Subplotbase ` as in that namespace but no ` AxesSubplot ` .
While matplotlib is certainly more flexible , the learning curve is much higher and from my exploration - creating a boxplot was not as simple and transparent as in pandas .
` AxesSubplot ` ( I think ) is just another way to get at the ` Axes ` in matplotlib .
` set_xticklabels() ` is part of the matplotlib object oriented interface ( on axes ) .
So , if you were using something like pylab , you might use ` xticks ( ticks , labels )` , but instead here you have to separate it into different calls ` ax.set_xticks ( ticks )` , ` ax.set_xticklabels ( labels )` .
( where ` ax ` is an ` Axes ` object ) .
The ` OO ` layer knows how to draw to a ` canvas ` and how to convert data -> abstract pretty lines .
By default , you are probably using the ` GTKAgg ` backend or the ` TKAgg ` backend , which draw the lines to a canvas embedded in a gui and are both interactive backends .
strange matplotlib zorder behavior with legend and errorbar
I encountered a rather strange behavior of legend and the errorbar plot commands .
as you can see , the errorbar caps are overwriting the scatter plot .
If I increase zorder enough this does not happen anymore , but the plot line overwrites the legend .
errorbars , as well as the ending caps shall be below the scatter plot point .
the line plot shall be above the scatter and the error bars
the legend shall be above all others
` P.errorbar ( zorder=0 )` , ` P.scatter ( zorder=1 )` , ... as correctly suggested by you , still yields the same plot , the error bar caps are still above the scatter dots .
If you want the legend on top , just specify the ` zorder ` argument for that as well .
legend has no z-order , thus I cannot give that argument to it .
On the left pic , the errorbars are below the scatter plot , but the error bar caps are above , that is just wrong .
On the right pic that works correctly , but the line is above the legend , which is unintended .
You can change the zorder of the ` legend ` with ` P.legend ( loc= " center ") .set_zorder ( 102 )` to get it on top in the second subplot .
Also , in your comment above you say that the errorbars are below the scatter plot , which seems not to be the case for me , and I suspect it is not for you either .
The errorbars are below the scatter , but the strokes limiting the bars are above the scatter .
The ` .set_zorder() ` for the legend worked perfectly for me .
In your first subplot the errorbars are plotted on top of the scatter points because ` errorbar ` is called with ` zorder=2 ` , while ` scatter ` is called with ` zorder=1 ` - meaning the errorbars will overlay the scatter points .
In your second subplot , you have called ` errorbar ` with ` zorder=99 ` , ` scatter ` with ` zorder=100 ` and ` plot ` with ` zorder=101 ` - meaning that the errorbars will be placed underneath both the scatter points and the line .
The reason the ` legend ` is displayed on top of the line in the first subplot , while it is on top of the same line in the second subplot , is due to the fact that you haven't explicitly set the legend objecta ` zorder ` value , meaning it will use its default value ( which I believe is 5 ) .
I have a data set I wish to plot as scatter plot with matplotlib , and a vector the same size that categorizes and labels the data points ( discretely , e.g. from 0 to 3 ) .
The formatting of tick labels is controlled by a ` Formatter ` object , which assuming you haven't done anything fancy will be a ` ScalerFormatter ` [ by default ] [ 1 ] .
I have a question concerning updating dynamically scatter plots from matplotlib .
How can I tell the interpreter to draw the scatter plots , and once done to remove the former points after updating ?
the key element is the method ` set_offsets() ` , that substitutes the data of the scatter plot .
Then such scatter object is returned by ` update() ` , so that matplotlib knows that it must be updated .
For another source with a matplotlib animation handled by a class , see this matplotlib example .
With blit=True in the last line the animation is faster , but depending on your OS it may not work .
` np.fft ` is the python fast fourier transform module .
` np.fft.fft() ` is the fast fourier transform function from the module .
David's answer actually doesn't work for me , but the way I usually use it looks like this : you can create an axis object , as mentioned by David , by creating a new subplot : #CODE
/ Library / Frameworks / Python.framework / Versions / 2.7 / lib / python2.7 / site-packages / matplotlib / axes .
I want to plot a scatter plot in python so that every point ( x , y ) gets different shade of the same color .
You can use the colormaps ( as tcaswell suggests ) , or you can also specify the color directly .
In case that's what you want to do , here's an example for specifying the color directly in a scatter plot .
Matplotlib animation with pcolormesh and contour
Now , I would like to glue these images to obtain an animation .
the animation I obtain only shows the last image ( so no animation ! )
I am drawing up some graphs for a math class , and I can't get the spacing for peacewise definitions quite right in the plot legend .
You may have a tough time getting this to be pixel-perfect , as I don't think matplotlib's notion of legend labels is designed to support this sort of alignment of separate parts of the label .
Ideally , you could write a custom legend handler that is " aware " of a multi-line block of TeX , but I'm sure this is non-trivial .
In ` python ` , with ` matplotlib ` , I have to draw 2 CDF curves on the same plot : one for data A , one for data B .
This will produce 2 spheres and a path that I want one of the spheres to take , but I'm not sure how to include this in the animation , I can animate the path , but not the ' Line3DCollection_2 ' sphere .
There's an example of a 3D animation [ here ] ( #URL )
I am doing a scatter plot with square marker in matplotlib like this one :
If you really don't want to do it the easy way , I would just draw each patch yourself .
The marker size in ` scatter ` is given as area .
In a way it's a manual scatter plot ( a loop is used to construct the figure ) , so depending on the data-set it could take a while .
This approach uses ` patches ` instead of ` scatter ` , so be sure to include #CODE
One comment on the ` Rectangle ` : The coordinates are the lower left corner , hence ` x-h / 2 .
Adding label to contour
Does anyone know how to label contour ?
I just want to annotate automatically generated contours inside plot window the easiest possible way .
I am confused by your use of legend and saying you want to annotate the curves .
On your linked example that's classical legend on contour lines .
I used ` annotate() ` function to label my filled contour :
Update : As suggested in the comments , user can choose ` axes fraction ` type for ` xycoords ` parameter and use relative reference in range [ 0 , 1 ] to set mandatory ` xy ` point parameter :
` plt.annotate ( ' my_label ' , ( .9 , .1 ) , xycoords= ' axes fraction ' , backgroundcolor= ' w ')`
Ah , did not understand your question at all ;) You can use axes units with annotate , #URL see the doc on the kwarg ` xycoords ` and ` textcoords `
Axes coordinates go from ` [ 0 , 0 ]` ( lower left ) to ` [ 1 , 1 ]` ( upper right ) and are fraction of axes height and width .
You should look at how the ` pan ` code works .
changing ` draw ` -> ` draw_idle ` makes it seem a bit better .
Given that ` pan ` works exactly like this , I think the slow down is in the QT boiler plate , not in ` matplotlib ` .
Also looking at the ` pan ` code , it uses the same ` set_xlim() ` method .
The fact that ` pan ` is smooth says the problem isn't in ` set_xlim ` which leaves QT as where the time sink is .
Is it possible to add a string as a legend item in matplotlib
I want to have a string inside my legend as a separate legend item above the ' 0-10 ' item .
This is the code for my legend :
Use a dummy object ( aka a " proxy artist " ) for your extra string .
I picked a ` matplotlib.patches.Rectangle ` with no fill and 0 linewdith below , but you could use any supported artist .
#URL UserWarning : Legend does not support [ ]
Use proxy artist instead .
The issue is that ` plot ` returns a * list * of lines , so you need to get at the actual artist .
I think the easiest way is to use the boundaries from your ' imshow axes ' to manually calculate the boundaries of all your ' lineplot axes ' : #CODE
The above code seems nice , but i do have some issues with the autoscale chopping off part of the plot .
There might be a " Ticker " object in matplotlib that does something like this .
You can only specify one ` markerfacecolor ` , scatter might be a better option if you really want points .
There is an illustrative example of how to create custom colormaps here .
` plt.plot ` can only draw in one color , but ` plt.scatter ` can assign a different color to each dot .
But the scatter plot allows only one marker per plot , or do I miss something ?
You can add your own colormaps to ` _cm.py ` in your mpl directory and then change your rc file .
There are several functionality missing from matplotlib with regards to interactiveness like when I want to hover and display information specific related to the points in a scatter plots .
export axes area only to bitmap using python matplotlib
When I create false colour plots or scatter plots with lots of data though , the exported pdf easily gets larger than the full paper is allowed to be .
Is there a way I could export only the axis area to bitmap , so I can include it in vector axes later ?
I realised this workaround for a large scatter plot .
Can matplotlib animation output vector sequence ?
Is it possible to output sequence of files in vector format through matplotlib animation module ?
Can I instruct animation class to output sequence of vector files ?
" FileWriters " from Matplotlib animation module seem to support only raster output .
So Matplotlib animation module seems to work only with raster data .
I looked in dense list of codecs supported by ffmpeg , but none seems to provide vector output , and I'm not sure in the first place if MPL feeds the encoder with raster or is there any possibility for vector output from MPL animation module .
My problem is that I used x264 with custom parameters suited for animation , but my contour animation can look better for sure .
Maybe I should forget about it , and use ` figsave() ` then employ some animation package .
The animation writers are _exactly_ the same thing as saving the images using ` figsave ` ( in fact ' ffmpeg_file ' _does_ save the files and then uses ffmpeg to stitch them together , but it is way slow ) .
I'll look into it , as I'm under impression that animation module is much faster then using simply ` figsave() ` in a loop .
I tried various parameters , then finally I followed Dark Shikari's advice on encoding animation with x264 - it looks OK , but vector animation can do it better .
SWF is vector format provided by popular animation packages , also there is SVG animation but that's too fresh .
Any decent vector based animation application writes vector to SWF or doesn't write at all .
HTML5 and SVG animation is too experimental . libming and swftools provide Python bindings , but I never really used them .
Well I imagine SWF writer to be very complex , but saving the sequence of vector files would let us use in 3rd party animation package and assemble output .
Supported formats by MPL animation module seem to be these : ` [ ' rgba ' , ' tiff ' , ' jpeg ' , ' png ' , ' raw ']` which is printed after initializing ` FileMovieWriter() ` with unsupported format ( ie . ` rcParams [ ' animation.frame_format '] = ' svg '`) .
Animation with matplotlib where points are dynamically added to a graph
However , I would like to set up an animation with matplotlib which would allow me to see the initial graph and the points progressively added to it as the code is calculating them .
However , there's something a bit strange happening : for example , if I tell the program to draw 5 points by setting ` i=5 ` it actually returns me 7 points instead of 5 .
You have to clear your figure : #URL if you really want to draw histograms in a loop .
( And you are right I didn't want to draw the histograms - I just wanted to use the functionality )
If you want to get this to look right with out re-writing the 3D code , split the sine wave up into pieces and make sure you set the z-order right by hand ( see How to draw diagrams like this ? for a simpler version of this ) , but you won't be able to rotate the image .
If stuff like ` caretdown ` doesn't work for you , you can create your own marker by passing a list of ( x , y ) pairs , which are passed to a Path artist .
You can also pass an existing ` Path ` instance as a ` marker ` , which allows even more flexibility .
You could also try passing a ` Arrow ` instance as marker , but I'm not sure whether that works .
+1 : you can also use symbols from a font ( #URL ) , and there are plenty of arrows , but since arrows are so easy , I like the ` Path ` suggestion .
This is why I preferred the Path solution , since it makes a symbol that plot can use directly ( though what you have works fine too ) .
` imshow ` produces a raster , while ` pcolormesh ` and ` pcolor ` produce rectangular patches .
When you save as an svg , the output will be vector patches .
@USER I actually believe that OP wants to have axes with _negative_ values , as it is specified that the values to be plotted are ranging from 1 to 35 , as well as the title of the post .
multiple markers in legend
Matplotlib : Dont show errorbars in legend
Stop matplotlib repeating labels in legend #CODE
Can you change the title to something like ' multiple markers in legend ' ?
The default behavior is to use 2 points , which is what you need to make a legend entry for lines .
See : legend user guide and ` plt.legend ` doc and ` legend ` doc
i.e I want to make a function that accepts the Figure object , and makes all the necessary changes , some of which are available as input arguments .
I want to change my plot size smaller ( 3 , 2 ) but I have an issue that my text ( axis label , legend , axis title ) don't change their sizes .
Seems like my ticks on the axes are only shown right , if they only consist of one number .
Matplotlib : scatter plot - symbol size based on pixel distance
Suppose I wanted to automatically select the size for square symbols in a scatter plot to make the borders align ( a question like that has been asked ) .
In my answer to that question , I suggested that the distance between two data points measured in pixel could be used to set the size of the symbols in a scatter plot .
Yet another approach would be ` patches ` .
I get the window , containing the axes , where I can plot what I need .
I am generating a groundwater elevation contour and a streamplot in matplotlib
The contour indicates that the elevation is decreasing in many areas but the groundwater flow ( streamplot ) is pointed uphill .
Especially the part for contour lines and the arrows .
can you set the ` xlim ` on the axis ?
Would setting the ` xlim ` as ` (( X [ max ] -x [ max-1 ] / 2 )` be good enough ?
Tcaswell is correct , you want ` margins ` , the ` padding ` that I was thinking of refers to the padding between sub plots .
@USER ` margins ` is perfect .
( copied almost directly from How to autoscale y axis in matplotlib ? )
You want ` margins ` doc
I believe ` margins ` cannot be used to obtain exactly what I want , since they margins can only be symmetric , while I want them only on the right .
animation plot in matplotlib with double for loop
I would like to create an animation with matplotlib in python .
I would like to have the animation ploted for one time value ( counter i_t ) and all bodies ( counter i ) in one window as a movie so the previous plot is erased at the next time step .
Generally , you have to plot each frame on its own and then make the animation out of it .
it will run better if you just replace the data with ` set_data ` , rather than blowing the whole axes away every frame .
Adapt the animation speed by changing the number in ` plt.pause ( 0.001 )` .
Why won't scatter work for you ?
The most notable difference is that in a particular chart the legend is located in the upper corner instead of the lower corner .
I'd guess the slightly different size of the figure ( in pixels ) changes the " best " location for the legend , as well .
( For now , I updated my code to allow positioning the legend where I want for this single chart )
Using matplotlib.animate to animate a contour plot in python
I have a 3D array of data ( 2 spatial dimensions and 1 time dimension ) and I'm trying to produce an animated contour plot using matplotlib.animate .
Does not hurt you to often in the animation anyway .
The pyplot functions you are calling , ` axhline() ` and ` axvline() ` draw lines that span a portion of the axis range , regardless of coordinates .
Instead , use ` plt.plot (( x1 , x2 ) , ( y1 , y2 ) , ' k- ')` to draw a line from the point ( x1 , y1 ) to the point ( x2 , y2 ) in color k .
Another solution to plot horizontal and vertical lines is to use [ ` hlines `] ( #URL ) or [ ` vlines `] ( #URL ) , respectively , as this is more trivial than a regular ` plot ` i.m.o .
` Rectangle ` doc
I want to draw some social network analysis graphs in networkx .
Is there an easy way to provide some basic statistics ( RMS for x and y , total number of items etc . ) in a legend , like ROOT does :
If you do write it up it might be worth adding this as a standard plotting tool in ` axes ` .
pandas timeseries plot xticks second-level granularity
See #URL Out [ 20 ] for a plot that show up xticks in #URL format .
matplotlib empty legend handles
I wanted to add some text to a legend in a matplotib plot in python .
but legend does not accept the None keyword .
( I get the error $Legend does not support None , Use proxy artist instead . $ )
pandas time series plot show the last timestamp in xticks
It seems you want the functionality provided by ` hlines ` and ` vlines ` rather than ` axhline ` and ` axvline ` , as the two latter uses the Axes coordinate system , while ` hlines ` and ` vlines ` use the data coordinate system .
Why does the NetworkX graph not draw in Cygwin ?
The following code creates a graph and attempts to draw it - but nothing appears on screen : #CODE
the ` agg ` backend does not include an interactive part ( it knows nothing about how to draw to a gui ) , you need to use one of the interactive backends .
You have to include a legend call : #CODE
I am using matplotlib.pyplot.annotate to draw an arrow on my plot , like so : #CODE
In the last example in your code you could have used ` headwidth ` , ` frac ` and ` width ` to customize the arrow , the result is ` arrow0 ` shown below .
The earlier example worked with scatter .
If it's scatter plot can I color the dots differently ?
#URL I am referring to the scatter plot section .
Some will be images , and others will be line / scatter plots .
( the line and scatter data are showing up on the right figures , but the image seems to always be going on the figure that was created last , eventually I'll be displaying more than one image figure , so I can't just create the image figure last )
Here is roughly the code I have so far , the 3D scatter plot is showing up on Figure 1 , but both the image and the line plots are showing up on Figure 3 , with Figure 2 blank : #CODE
How to go from a contour to an image mask in with Matplotlib
If I plot a 2D array and contour it , I can get the access to the segmentation map , via ` cs = plt.contour ( ... ); cs.allsegs ` but it's parameterized as a line .
I'd like a segmap boolean mask of what's interior to the line , so I can , say , quickly sum everything within that contour .
Don't you have access to the original ` data ` producing the contour plot ?
You should then be able to produce the desired boolean mask by doing ` data > threshold ` , where threshold is the value at the contour line .
This would work in certain situations , but you can have multiple contour lines for the same value if for example there are multiple peaks in the data .
Using a threshold would select the data within all those contour lines .
Note that contour lines which ' leave ' the plot at different edges by default wont make a path which follows these edges .
I ended up instead using ` scipy.ndimage.measurements.label ` , which essentially makes the contour masks I need .
Title rows and columns of matplotlib subplot layout ( replacing subplots with titles )
There might be a cleaner way , but you can fake this by just using ` text ` or ` annotate ` inside of the edge axes .
So , I am trying to produce a contour plot with the following axis lengths x=37 , y=614 .
I can produce a contour plot no problem , but when I add a colour bar the image becomes resized to what i'm assuming is the size of the colour bar .
It's the ` imshow ` command that's changing the aspect ratio of the axes , not the colorbar .
If you want it to behave like ` contour ` , the just specify ` aspect= ' auto '` .
Matplotlib - Hide error bars ' label & points in legend
I don't want the error points and the None label in the legend , how can I take those out ?
@USER - Matplotlib's legend behavior was changed in ` 1.1 ` or ` 1.2 ` ( I can't remember which offhand ) .
Prior to this , all plotted artists would be shown in the legend , regardless of whether or not a ` label ` was explicitly assigned .
There was a refactor of the ` Legend ` class awhile back .
` plot ` always returns a tuple , even when there's only one artist .
Only artists with an explicitly assigned label will appear in the legend .
However , it's easy to control what's displayed in the legend .
And what would I do if I have more than one legend to be displayed ?
Say that I'm also plotting an ` hline ` and I want a legend for it too ?
As my example is written , ` dens ` is actually a tuple with a single ` Line2D ` artist ( ` plot ` always returns a tuple ) .
` legend ` expects a sequence of artists and a sequence of labels .
I'm getting a warning when I try this : ` UserWarning : Legend does not support [ ]
Use proxy artist instead .
Also , is there a difference between bins and patches ?
In Matplotlib , it's not too tough to make a legend ( ` example_legend() ` , below ) , but I think it's better style to put labels right on the curves being plotted ( as in ` example_inline() ` , below ) .
A much simpler approach is to annotate the last point of each plot .
It seems that you want to use a parasite axes with a specified scale .
changing the xticks on a python plot
I want to change the xticks to the values of the list ' xp ' .
My xticks however are still running from 0-1829 .
xticks is a function , not a variable , so you don't want to assign to it .
Note that as your labels look long , you might want to use the rotation= argument to xticks in order to rotate the labels .
In a python plot , I have used xticks to tell my plot what values to put on the xaxis : #CODE
xticks , as you see , takes two parameters .
If I try to do a graph not using subprocess ( just plotting 2 arrays as axes ) , I don't get this problem .
I have been able to force it to draw the line always by initialising my list of temperatures with a value of zero ( 0 ) , but that only works assuming the temperature isn't at zero for any time .
It leaves the other axes untouched .
` clf() ` clears the entire current figure with all its axes , but leaves the window opened , such that it may be reused for other plots .
You can't pass xlabel , ylabel and title as arguments to the ` plot() ` method , as those are properties of ` Axes ` instances .
A ** simplified ** explanation as to why you can not do this readily : You can have _several_ calls to the ` plot() ` method for _each_ ` Axes ` object ( e.g. plot two or more different lines in same subplot ) .
If each of these method calls were to set the title , xlabel and ylabel of the ` Axes ` , everything would get pretty messy pretty fast !
Python plot log scale set xticks ?
it doesn't show 0.001 on plot which is xticks [ 0 ] ?
you can check if the ticks are there calling ` ax.xaxis.get_ticklabels() ` , if yes , try adjusting the ` xlim ( 0.001 , 1 )` to a slightly smaller value than 0.001 ,
matplotlib - How do you keep the axes constant while adding new data ?
I'm using a 3D scatter plot , and I would like the axes to be fixed to a specific range , since the location of the data with respect to the edges of the plot is what is important .
Currently whenever I add new data , the axes will reset to being scaled by the data , rather than the size I want ( when I have hold=False ) .
If I set hold=True , the axes will remain the right size , but the new data will be overlayed on the old data , which is not what I want .
I can get it to work if I rescale the axes everytime I get new data , but this seems like an inefficient way to do this , especially since I need to do all other formatting again as well ( adding titles , legends , etc )
I tried this with a regular 2D scatter plot , and the same issue still exists
Have you looked at [ autoscale ] ( #URL ) ?
It looks like the animation module expects you to have all of your data available when you start the animation , but for my use case the data is streaming in at real time , and possibly not a constant rate .
Where you remove just the added scatter plot each time through the loop .
How do I automatically adjust subplot options for a matplotlib figure having a plot and a table ?
Additional help : Why this is shown as a scatter plot ?
Set color to be used for an array masked values plotted with matplotlib contourf
Is there any other method I can use with ` contourf ` ?
For what it's worth , ` contourf ` and ` contour ` differ from ` imshow ` in that they simply don't draw anything where the array is masked .
Knowing now that contourf simply doesn't draw anything where the array is masked , this will certainly work !
What I need to do now is to interrogate the orientation of one axes , to set the orientation of the other .
I've also not found any function to set the dist .
I have a workaround , which ultimately might give me better timing , and that's to use another control to set azimuth and elevation , and then use that to view_init() both left and right eye axes .
But I'd prefer in the first instance to get the orientation from one of the axes .
It remains to label the axes .
matplotlib - extracting values from contour lines
This question / answer pair shows how to extract vertices from contour plot : #CODE
How to get the exact shrink value when customizing arrow styles in annotate
I have a code that uses matplotlib ( python win32 v2.7.5 ) to plot contour plots with color bars that are animated or the contour gets updated .
If i delete ALL axis and re-create them each time , then it looks ok even in new version , but I am thinking that this is not efficient process with animation .
The issue is not in imshow , I get the same result with contourf , also notice that my colorbar gets pushed to the left as well , unlike the other cases you mention .
/ Users / xxxxx / .virtualenvs / test2 / lib / python2.7 / site-packages / matplotlib / axes .
I think actively creating the figure and axes yourself gives you better readable code .
So before plotting do : ` fig , ax = plt.subplots() ` for example , and then always pass the axes to pandas with ` ax=ax ` .
That gives you full control / insight on what gets plotted on which axes and figure .
Capturing the axes and passing it to the next plotting command works fine for me , and is the way to go if you want to reuse your axes .
Difference is that the axes returned by matplotlib ( via pandas ) is captured , and passed again with ` ax=ax ` .
There is one axes for each parameter that it drawn .
I want to call a function when an axes is picked , using mpl_connect on ' pick_event ' .
The following code generates the figure and axes : #CODE
Unfortunately , this implementation only reacts on pick events on the axes corresponding to the last item in the list .
When this axes is clicked , however , the function calls for all connections are executed .
pickers only work on the top layer of stacked axes .
Matplotlib Savefig Function Draws Axes Over Self if Transparent is True
To clear your axes you are using ` ax.cla() ` , but you need to issue ` ax.clear() ` ( or possibly ` plt.axes ( ax ) .cla() `) .
Adding an annotation box to a matplotlib contour / heat map plot
I want generate a contour plot / heat map with a color bar and then add an annotation box .
If I try to put everything in the same subplot , the box gets covered up .
Annotation box to contour map :
Further it is very easy to set the placement , width and padding of the colorbar relative to the ` Axes ` .
use the ` xticks ` command : #CODE
Then you have to remove the offset in your ` yticks ` , i.e. ` plt.yticks ( y_axis , y_values )` .
I want to draw two filled contours with alpha blending , and a colorbar to match resulting plot .
draws colorbar for last contour .
How to draw colorbar that matches actual plot in this example ?
I dont understand why you want to use two colormaps in your plot , but dont want to combine them for the colorbar .
matplotlib long legend name
Could someone tell me how do i fix a long legend entry which overwrites into area of other entry ?
What would be ideal if , I could do 3 legend entries in first row and two legend entries in the second row .
What do you mean with " fix a long legend name "
Plot to Specific Axes in Matplotlib
How can I plot to a specific axes in matplotlib ?
I created my own object which has its own plot method and takes standard args and kwargs to adjust line color , width , etc , I would also like to be able to plot to a specific axes too .
I see there is an axes property that accepts an Axes object but no matter what it still only plots to the last created axes .
You can use the plot function of a specific axes : #CODE
I guess I can manually look to see if a axes property is set , but I guess I'm confused as to why the plot function takes an axes property if its not to plot to that axes .
I have edited the example to use the function ` sca() ` which sets the currenty active axes .
The plot is made in the specified axes .
Can you tell me why there is an axes property though ?
Setting this property should associate the line artists with that axes according to the documentation , but I don't see that .
I think it is an artifact of the way that the documentation is generate , the ` Line2D ` object has an ` axes ` property , but it is set by the code in ` plot ` and the value you pass in is ignored .
The last two are " Fancy " bbox patches , so the padding , etc is set in a different manner .
Also , if you're labeling things in your plot , you'll probably find that ` annotate ` is a better choice .
1 ) Use latex ( you'll need " full " latex , not just matplotlib's mathtext ) , or 2 ) Plot them separately and draw a box around the result .
However , sometimes the c++ app needs to refresh the app and calls the following method : #CODE
3D animation using matplotlib that shows a body rotating about a fixed point
Alternate possibility : Can I get separate plots for each values of x , y and z so that I can stitch them and make an animation ?
Matplotlib is not going to be the best tool for 3d animation .
To get a 3D sphere , for example , you just use the command ` sphere ( pos =( 1 , 2 , 3 ))` , and animation is super easy .
Here's a simple animation that shows a ball bouncing on a plate ( source ): #CODE
You could display them as minor ticks if you set them on the axes object with ` ax.set_xticks ( xValues , minor=True )` .
matplotlib.pyplot will not forget previous plots - how can I flush / refresh ?
Why don'y tou simply create a different subplot for each graph and stack them vertically ?
Matplotlib - creating a filled 2d contour plot
And I want to display a contour plot with colors ( not lines ) but , the examples at matplotlib are all fancy 3d plots .
As suggested I've tried using the contourf example like so : #CODE
Use ` contourf ` , see #URL
As David said , use ` contourf ` : #CODE
Thanks guys , I've tried using the basic example but it looks very ugly [ 2d contourf ] ( #URL ) at least the [ 3d image ] ( #URL ) looked nice and it at least created the illusion of being close to continuous .
maybe there's an option to plot something like the tiles in the 3d plot but in 2d so it looks like a contour plot ( because of the coloring ) but it'll just try apply a color as a function of the value ( e.g the lesser the number the more " bluish " it goes etc . ) because as it seems increasing the number of lines just doesn't cut it , it's not granular enough .
You can also play around with different colormaps - try ` cm.hot ` , ` cm.gray ` etc .
If you have the [ GDK backend ] ( #URL ) installed you can use it to draw tiffs natively .
I use Python lib ` matplotlib ` to plot functions , and I know how to plot several functions in different * subplot * s in one figure , like this one ,
sorry , don't understand " plot multiple images together in different subplots with one figure " Can you draw something using ascii-art or describe some more please ...
Basically , it's the same as you do normally with creating axes with ` fig.add_subplot ` ...
want to smooth a contour from a masked array
I have a masked array which is used by matplotlib.plt.contourf to project a temperature contour on a glabal map .
I was trying to smooth the contour , but unfortunately none of the proposed solutions seems to be able to handle masked array .
Is there any way I can smooth my contour on maskedArray
I had to set the Figure on the axes as the one plotted first .
self.figure = Figure ( None )
This will add the new image to the axes .
I don't think lines are meant to be moved from one axes to another like that .
Upfront : I don't know whether you can append like that ; however , you can certainly abstract what you are doing into a function and pass it axes to work on : #CODE
But you're right , it's relatively simple to write a function to append it .
Quoting the doc : " hist : array
@USER The function ` histogram() ` returns a tuple ` ( hist , bin_edges )` .
If I add plt.show() in myfun , it can plot in the correct subplot , but nothing in the other one .
Apparently Figure is not .
There are plenty of tutorials , but they create a Picture on a Canvas and then add Axes to it .
Note : In matplotlib , all artists ( a ` Figure ` is an artist ) are backend-independent .
` self.fig = Figure ( .. )
So I want to convert it to pixbuf and append it to textview .
It's not a problem if I save it first and load it later as a pixbuf and append it to textview .
Pyplot polar scatter plot color for sign
I have a pyplot polar scatter plot with signed values .
Legend transparency , when using secondary axis
The legend of the plot of a secondary axis somehow is transparent to the plot of the other axis .
As you can see , the legend for the blue plot is overdrawn by the red plot .
Is there any way to make the legend opaque to all plots ?
EDIT : @ ` tcaswell ` : While your answer works for a single legend , it doesn't work if both axes have a separate legend .
While your more general approach solves this problem , using ` Figure.legend ` unfortunately places the legend outside of the plot .
By default the second axes is rendered after the first one ( they have the same ` zorder ` so they render in the order they were added ) .
To get what you want you just need to tweak a few things about your axes : #CODE
We set the ` zorder ` of ` ax1 ` to be higher so it is rendered later , but if we do just that , the second axes isn't visible at all as it as all drawn under the frame ( white background and box ) of ` ax1 ` .
The above method is ad-hoc and not general , if you want to make sure you axes is above all axes , you need to use ` Figure.ledgend() ` , which is a ` figure ` , not ` axes ` feature .
Note that this legend is now placed using figure coordinates .
@USER I don't think there is a better solution due to the way that mpl renders the images ( layer by layer ) , nothing in the bottom axes can be ' on top of ' anything from the top axes .
You should open a new question about better ways to place the figure legend .
Another , in my opinion better , solution to this " problem " is to use a subplot rather than specifying the ` Axes `' s bounds ; #CODE
This is done by specifying the fraction of the polar axes radius where you want the ticklabels to be placed as an argument to the ` frac ` parameter of the ` PolarAxes `' s ` set_thetagrids() ` method .
The argument should be a fraction of the axes ' radius where you want the ticklabels placed .
I.e. for ` frac ` 1 the ticklabels will be placed inside the axes , while for ` frac ` > 1 they will be placed outside the axes .
You should try different values for ` frac ` to find a value that is best suited for your needs .
If you don't specify a value to the parameter ` frac ` as above , i.e. ` frac ` has default value ` None ` , the code outputs a plot as below .
I can have thousands of points all concentrated ( with very little scatter ) around one value not close to any power of 10 and still want to apply a log scale to the X axis .
scatter ( data ) and scatter ( trans ) is not same shape .
Python : 3D contour from a 2D image - pylab and contourf
Is there any way in a panel of NxM subplots to just have the axes being shown for the left column and bottom row .
and then only the left and bottom axes will have the labels displayed .
To access each subplot you can get it from ` axes ` like you do in a matrix : ` ax = axes [ i , j ]`
For example , doing ` axes [ -1 , -1 ] .xaxis .set_label_text ( ' Test ')` will put a label at the bottom , right subplot ...
A logarithmic colorbar in matplotlib scatter plot
I would like to make the colors of the points on the scatter plot correspond to the value of the void fraction , but on a logarithmic scale to amplify differences .
The way that ` matplotlib ` does color mapping is in two steps , first a ` Normalize ` function ( wrapped up by the sub-classes of ` matplotlib.colors.Normalize `) which maps the data you hand in to ` [ 0 , 1 ]` .
` Normalize ` doc
3 ) Create a legend using the filename ( without .csv ) as the reference for each line of the plot .
Arbitrary key or legend with matplotlib
Is there a way to make a key or legend to display the meaning of each colour ?
For a few making a custom legend as ali_m shows would work .
There's only 5 , so a custom legend is what I was thinking .
Python : subplot within a loop : first panel appears in wrong position
I am trying to make a series of 2 x 5 panel contourf subplots .
The problem is the indexing ` subplot ` is using .
This will always steal space from the last set of axes
Combining a line from plot to marks from errorbar in matplotlib legend
When plotting data on matplotlib , I use errorbar to place the scatter marks and plot to draw the linear fit result .
I store the errorbar output in an array I feed to ` fig.ax.legend() ` to tell it what to place in the legend ( I follow matplotlib conventions ) .
Is there a way to tell it to add the fit line in the same legend line ?
In matplotlib at least v1.2.1 , you can add a tuple of lines that should be overlayed for the legend entry : #CODE
When I try to place the legend I get an error : `` AttributeError : ' NoneType ' object has no attribute ' create_artists '``
i found this wonderful short tutorial on animation :
I just wanted to make a scatter plot graph in python .
( change code to make scatter plot of random data )
Python matplotlib - updating data during animation in Conway's Game of Life
The code below creates an animation for Conway's Game of Life using Python and matplotlib .
Figure size ( edit ):
The lines within the two rows are the axes spines .
just hide the axis labels and ticks , not the axes spines .
You have to hide the axes spines ( e.g. setting their color white ) and give them low ` zorder ` then add the table with higher ` zorder ` #CODE
This solves the problem with the spines but still doesn't include my entire data set , there should be rows both above and below the limits of the table EDIT Also clust_data is just one list that contains 3 values per item ( x , y , z )
Now , it is almost straight-forward to write a function to transform your data into a string like the previous latex table .
All the matplotlib examples with ` hist() ` generate a data set , provide the data set to the ` hist ` function with some bins ( possibly non-uniformly spaced ) and the function automatically calculates and then plots the histogram .
See the colormaps here : #URL
There's a full list of colormaps here : #URL
Look at ` scatter ` #URL
See the answer here to generate the " periods " and then use the matplotlib scatter function as @USER mentioned .
If you're plotting something with a million line segments , though , this will be terribly slow to draw .
Have a look at the colormaps here ( gist_ncar is about 2 / 3 of the way down ): #URL
You can do this with ` scatter ` .
control axes in matplotlib dynamically
I want to dynamically set the axes based on the input file .
Pyplot has ` xlim ` and ` ylim ` functions in its API .
The only thing that ` plot_date ` does for you over ` plot ` is some configuration of the axes formatters , which you can do by hand .
There is a very silly bug ( or maybe strange design choice ) in that ` volume_overlay ` returns a ` polyCollection ` , but does not add it to the axes .
You can use axes or figure units instead of data units
` pylab.text() ` uses data coordinates by default , but you can use relative positions ` ( 0 , 0 )` to the lower-left and ` ( 1 , 1 )` to the upper-right , passing the parameter ` transform ` .
With the parameter transform , can we tell the text to follow the plot ?
Button does not work in second ( nested ) figure
For your buttons to work , you need to keep a reference to the ` Button ` object around .
You may just not be letting the gui main-loop ever get a chance to draw the figure .
Finally , be sure to read the Matplotlib animation cookbook for examples on how to do animation right .
Essentially , ` np.unique ` allows us to transform ` [ 1 , 1 , -1 , -1 , 1 ]` to ` [ 1 , 1 , 0 , 0 , 1 ]` .
But when I am doing this the all the values are plotted on the first subplot .
I can't test it at the moment , but basically , you just need to tell basemap which axes to use .
fig , axes = plt.subplots ( 13 , figsize =( 10 , 15 ))
I know I can use matplotlib's " annotate " and " text " to do many ( if not all ) of those things , but somehow that feels like a workaround .
As you did not want to use ` annotate ` or ` text ` the next best thing is ` py.scatter ` which will accept a marker #CODE
I'm trying to run the contourf example from the matplotlib documentation .
how to draw a colored sector using python ?
So , I need to draw a sector using python matplotlib and fill this sector with a color ( alpha 1 ) .
[ Here's ] ( #URL ) an earlier answer of mine using parasite axes .
It's a result of the transform that the axis labels use .
Basically , axis labels use a blended transform where one direction is fixed in axes coordinates and the other is free to move .
( The transformations tutorial is a good place to start if you're not familiar with matplotlib's transforms : #URL ) At any rate , if you want to place labels at arbitrary positions , I'd recommend ` annotate ` over using the x-labels , y-labels , etc ( though you can just change the transform of the labels ) .
I don't have time to write a real answer , but I think you can do what you want with ` annotate `
For an ` axes ` class there are methods for getting axis sharing ( ` get_shared_x_axes() ` , ` get_shared_y_axes() `) , but no corresponding methods for setting sharing .
For those that ask why : I'm using a matrix of plots dynamically , and can control this using view limits , but it just seems like there could be an easier way , and turning sharing on / off and using autoscale would be it .
The answer is that the way shared axes are set up is to share some of the internal state of the two axes .
See this PR for work on-going work on un-linking axes .
use ` ax.transData.transform() ` to transform your points , and then use ` points_inside_poly() ` : #CODE
The plot with points shows a much smaller region , and negative values for the y-axis ; have you tried manually setting the axes limits to those in your first plot ?
@USER there is no map behind the arrows , as I am plotting currents surface , all the datas draw the continents .
For example see this converter in java :
My axes are x , y , and depth .
To do this , you don't need the explicit loop . there is the 3d ` scatter ` on the page you linked to which accepts an array of the same shape as the color keyword .
Copy axes instance
Short explanation : I want to copy the data and properties of a certain Axes-instance to another Axes instance , with the difference that I want to zoom in to a certain region .
Surely the easiest way would be to take the original image , clipImageSectionPix as you need , scales it with scaleImage and then create a new plot - the axes and labels should then be created , correctly and automatically for then new FOV , ( you will even get the ticks adjusted ) .
I don't see where the new axes and labels are created , unless you mean to replot them with ImagePlot .
In that case it is still impossible to create multiple axes instances to zoom in different regions .
Only the axes render with ` plot_surface ` .
@USER just the axes render with ` plot_surface ` ( and I get a undescriptive Visual C++ runtime error ) .
I _can_ plot the points using ` scatter ` , so I'm pretty sure I have the other stuff set up correctly .
@USER no , it just displays an empty set of axes
For example : ` ax = axes ( projection= ' 3d ') ; u , v = np.mgrid [ 0:2 *np .
Your axes for the ` plot_surface ` look at a glance rather different from the other plots .
Matplotlib Figure inside Python Launcher , MacOSX
And finally , I am trying to plot simplified binary data in one subplot and normal ascii file in another subplot .
Viewing progress of MovieWriter file for animation plots
I've tried using annotate but haven't progressed very far .
The method ` plot() ` opens each file and plots each dataset on a different subplot .
As you can see , each subplot has a different number of xtick labels , which looks pretty ugly to me .
My first approach was to set the ticklabels manually with ` xaxis.set_ticklabels() ` , so that each subplot has the same number of ticklabels .
Moreover , I am not really sure if sharing the x-axis is a really good idea , because it is possible that the x-values differ in every subplot ( for example : in the first subplot , the x-values ranges from 8:00 am - 11:00 am and in the second subplot the x-values ranges from 7:00 pm - 9:00 pm ) .
My next attempt was to use an axis for each subplot .
Then you access each axes using : #CODE
If I enable the sharex attribute , I get 6 bins , if I however disable sharex , matplotlib uses a different number of bins for each subplot .
Right now I am also thinking about alteratives to subplot ( s ) .
Principially , I am not tied to subplot ( s ) .
I looked at ` figure.add_axes() ` , but I think that too many axes distracts the user more than it really helps , but thanks anyway !
( For the first case , why not just plot colored hexagons in a scatter plot , and for the second case , ` hexbin ` should work .
axes labels and ticks in multiplots
I do not understand why I cannot get x and y axes show up in both figures .
converting diurnal scatter plot into heatmap plot
Ideally , it would have a legend on the size showing how much data is in each 2D bin .
My question is : how can I get an ` ax2 ` object ( having the same subplot position as ` ax1 ` had ) which has a 3D projection and which " imports " all of the 2D data that was previously plotted to ` ax1 ` ?
This is a nice example , and it almost answers my question -- I want to avoid the plt.figure() call in your code , and simply replace an existing subplot of the first figure .
If you can modify your answer ( or add to it ) so there's an example with the data temporarily stored ( or something more space efficient ? ) , and rewritten to the same subplot location , I'd be happy to accept this answer .
This example uses one subplot , but the idea is the same no matter how many you have : #CODE
why is turning off the 2d axes necessary ?
It may not be necessary in all cases , but turning it off prevents anything from the 2d axes from getting rendered .
The solution should be independent of the scales on the x and y axes .
Using the code below , I have managed to create a subplot for each record ( 5 in test database , ArcGIS 10.0 file geodatabase , Python 2.6.5 , Matplotlib 1.0.0 ) , but each subplot is identical .
I have searched through the forum examples of summary plots / reports , subplot syntax , and looping techniques in my attempt to identify the proper syntax .
This happens because you are using a double ` for ` loop : you are plotting all the parameters for every iteration ( i.e. for every subplot ) .
This happens because you have two nested ` for ` loops : the first loop iterates over each ` row ` , whereas the second loop makes the scatter plot appear on every subplot .
This in turn means that every plotted parameter will appear on every subplot .
In the master branch of pandas on GitHub the [ ` hist `] ( #URL ) method has a ` figsize ` parameter for this exact feature .
Python scattered chart legend
I would like to add a legend to explain the color scale :
matplotlib scatter plot legend
I created a 4D scatter plot graph to represent different temperatures in a specific area .
When I create the legend , the legend shows the correct symbol and color but adds a line through it .
I tried changing Line2D to Scatter and scatter .
Scatter returned an error and scatter changed the graph and returned an error .
With scatter , I changed the range ( 10 ) to the lists containing the data points .
When I run this , the legend no longer exists , it is a small white box in the corner with nothing in it .
2D scatter plot
Using the ` scatter ` method of the ` matplotlib.pyplot ` module should work ( at least with matplotlib 1.2.1 with Python 2.7.5 ) , as in the example code below .
Also , if you are using scatter plots , use ` scatterpoints=1 ` rather than ` numpoints=1 ` in the legend call to have only one point for each legend entry .
3D scatter plot
To plot a scatter in 3D , use the ` plot ` method , as the legend does not support ` Patch3DCollection ` as is returned by the ` scatter ` method of an ` Axes3D ` instance .
Does this work for 3D scatter plots as well ?
In order to get the legend to work when plotting a 3D scatter , use the ` plot ` method with the marker as a positional argument .
Certain values of the independent variable are resonances , and I want to label them with something resembling matplotlib's annotate .
matplotlib scatter plot using axes object in loop
Forum research pointed me to application of an Axes object , in order to plot multiple series on the same plot .
As I understand it , the figure object is now being created only once , however the subplot object does reoccur for each record , which is the goal .
However , I can only add a single subplot object ( for series 2 , - ultimately I need to add 12 more series ) inside the loop .
As soon as I add a second subplot object , like shown in code above , I get the NoneType error .
I successfully did a contour plot , and wanted to plot that same data on a 3D plot .
I'm wondering about the best way to find all the intersection points ( to roundoff error ) between two sets of contour lines .
Are you looking for the intersection of say the z= 0.75 contour from Z1 with the z= 0.75 contour from Z2 ?
I also changed ` contour1 = plt.contour ( Z1 , colors= ' k ')` to ` contour1 = plt.contour ( X , Y , Z1 , colors= ' k ')` so the axes and your intersections are in the actual X , and Y coords of your grid rather than a count of your grid points .
In one contour set there are 24 lines with a total of 12818 line segments , the other contour set has 29 lines with 11411 line segments .
This plot is for 50x50 grid with the actual X and Y axes :
You are already using a very powerful handle for axes ` ax1 ` to ` set_aspect ` .
You can also set limits for the axes using this handle : #CODE
Axes handle has much more properties .
Is it then possible to shade the background of the axes based on the y value ?
This works fine when all coordinates are within the map , but if they go across the map boundary , basemap performs strange extrapolation , as it seems not to know how to draw the rectangles in the right way .
Axis labelling with matplotlib too sparse
If you know the general form of the equation you can apply a transform to it and use a poly-fit algorithm ( still infinite , but continuous ) to try fitting it .
Matplotlib's ` hist ` says " Compute and draw the histogram of x " .
I'm currently writing line and contour plotting functions for my PyQuante quantum chemistry package using matplotlib .
I would now like to update this to do contour plotting as well .
What I would like to do is to generate the mesh in more or less the same way I do in the contour plot example , " unravel " it to a ( npts , 3 ) list of points , evaluate the basis functions using my new fast routines , then " re-ravel " it back to X , Y matrices for plotting with contourplot .
The problem is , when I want to combine different subplots , the x-axis labeling of the other subplots disappears , which I do not appreciate for the leftmost subplot in the figure below ( two rows high ) .
As you can see I experimented with ` xticks ` and " rotate " as well , but the results were not satisfying because the labels were rotated around their center , which resulted in messy labeling .
The ticklabels are often long , and it helps to rotate them on the bottom subplot and turn them off on other subplots , as well as turn off xlabels .
If you want to rotate the xticklabels of the bottom right subplot only , use #CODE
This rotates the ticklabels 30 degrees and right aligns them ( same result as when using ` autofmt_xdate `) for the bottom right subplot , leaving the two other subplots unchanged .
I have been looking at matplotlib for quite some time but I see the 3d scatter plots and they seem to not convey the picture i want .
Is 3d plot useless in my case and I better plot 2 graphs and join the y axes of both graphs together so that I could see both the graphs on top of each other .
` subplot ` could be useful
I agree with David K , ` subplot ` should convey the information you want .
Does anyone know a way to bring a scatter plot to the foreground in matplotlib ?
I have to display the scatter plotting on top of the contour , but by default it is plotted underneath ...
Check out the [ ` zorder `] ( #URL ) parameter of the ` scatter ` method .
You can manually choose in which order the different plots are to be displayed with the ` zorder ` parameter of e.g. the ` scatter ` method .
To demonstrate , see the code below , where the scatter plot in the left subplot has ` zorder=1 ` and in the right subplot it has ` zorder=-1 ` .
This means that the scatter will be placed on top of the contour in the first subplot , while it is placed underneath in the second subplot .
Also you can explore the Matplotlib animation classes : #URL
If you want to do animations , you really should learn how to use the ` animation ` module .
matplotlib exit after animation
I am writing a program in Python , using matplotlib to ( among other things ) run an animation showing a numerical solution to the time-dependent Schrodinger Equation .
Everything is working fine , but once an animation has finished running , I would like the window it was in to close itself .
The reason I need a way of closing just the window on its own is that I want other things to happen ( other animations , calculations , comparisons between previously calculated animations ) to occur after the animation window has been closed .
If I have to be there to restart after every animation , then I may as well stick with what I had .
To get an idea of what I want , if you add the following to the bottom of the code , then what I want is for the first animation to run , then close , then the second animation to run :
You can't zoom so to speak to my knowledge , but you can set the axes .
For example if your original graph goes from 1-100 on both axes , you can programmatically make it go from only 30 to 40 and save that .
If you want to insert a small plot inside a bigger one you can use Axes , like here .
The problem is that I don't know how to do the same inside a subplot .
I have several subplots and I would like to plot a small plot inside each subplot .
I will draw a poor picture to show you what I mean .
This is call Implicit function curve , you can use ` contour ` to draw it with argument ` levels =[ 0 ]` : #CODE
For example if I have 10 data points , I want to join 1-5 with a line and then join 6-10 with a line .
How to speed up matplotlib scatter ploting ?
I need to draw a batch of scatter charts in matplotlib , and found the speed of matplotlib is slow , then I lineprofile the function , and found the hotspot is ` fig , ax = plt.subplots() ` , It costs 56.1 % of time to creat a blank figure and axes !!
You can also probably re-use the axes you create for the color bar .
I tried a method using xticks , and it plotted my y values , but that was it .
fig.add_subplot() * transform * doesn't work ?
Regarding to the post Embedding small plots inside subplots in matplotlib , I'm working on this solution , but for some reason , transform is ignored !
The idea is to do small subplots inside each subplot of a grid .
I know how to do it with a similar method as you , but I don't understand why transform karg is supported by fig.add_axes() and doesn't work .
The ` transform ` kwarg -- at most -- converts * points * from one coordinate system to another .
The height and width are ratios , not points , so there is no way the ` transform ` kwarg could be used to single-handedly convert the ` [ left , bottom , width , height ]` list from being with respect to the axis to being the approprate list with respect to the figure .
So , I don't understand why transform is a karg of add_axes .
I understand what ` blit() ` does , and I would like to ` blit() ` the axes bounding box , but I do not understand how to implement it and the references I read did not help .
Make scatter plot from set of points in tuples
What is the right way to do scatter plot of this set ?
First transform ` s ` to a list and than to a NumPy array .
I have some jagged contour plots that I need to smooth .
I need to smooth them out without losing any of the contour lines .
I have considered two methods of smoothing the contour lines .
Get each contour line coordinates via ` contour_object.collections [ col_index ] .get_paths() [ path_index ] .vertices ` and smooth / re-plot each one .
What is the best way to smooth out these contour plots ?
If you have the different contours stored as separate sets of data ( e.g. if you just steal the different line plot data sets that the contour plotter is using ) then you could apply smoothing to only those contours where the data loss from smoothing is acceptable , and leave the smaller , inner contours unsmoothed and jagged .
This ( along with proper titles and captions ) will draw attention to the smoothing so that there's no risk of anyone misunderstanding the fact that the smoothed plot is altered data , and lets you display the prettier large contours with another panel for the uglier , jagged small contours .
matplotlib : preventing a few very large ( or small ) values to affect my contour
in plotting the data some times there are a few very large ( or very small ) numbers which , if not taken care of , will affect the contour in a bad way .
a solution is to take out the 10% highest and lowest data out of the contour color grading and considering them as less than and more than . the following figure shows the idea :
( Should I define it the contour operation or are there other ways ? )
Because I was using Contourf , I defined levels ( for example to draw the color bar as your example I would have defined it as levels= numpy.arange ( .3 ,. 9 ,. 2 ) then in my contourf command I added these kwargs : levels , extend= ' both '
You can use the ` xticks ` command to do so .
python animation without globals
I found out there was an animation package in matplotlib , but it doesn't take ( or give ) variables , so every implementatin of it I've seen ( even matplotlib's documentation ) relies on global variables .
2 ) how would you do such an animation in python without globals ( Even if it means ditching matplotlib , I guess ; standard library is always preferred ) .
In pygame , I thought , I would have to draw the board myself .
Is the class here useful because it's the most convenient way to get an output from the animation ( that's basically my problem , trying to feedback the output state back into the step of the program : you can give it inputs , but how do you get the updated state ? ) .
Is there really no simple way to get a return from the animation call ?
I guess , for me , that is the problem with both solutions ( global and class ) or maybe just with the animation method in general : With my functional programming training , my instinct is to want to explicitly see the output for each iteration and hand it back to the game of life function in a while loop .
The problem is that matplotlib's animation ` func ` is decidedly non-functional .
I want to draw some delimiting line around each cluster .
If you then want to draw curves around each of those clusters , you'll have to do that through matplotlib .
I am having trouble controlling the color and linestyle of histogram plotted using Matplotlib's ` hist ` function with ` stacked=True ` .
That did work , but is there no way to do this inline with ` hist ` ?
xticks ends placement of numbers on x-axis prematurely , i.e. the ticks do not reach the right end
The problem is a poor interaction of the default tick locator and your use of ` xticks ` .
If you remove the ` xticks ` line , you will see that it gives you a range of ` [ 0 , 25 ]` .
When you use ` xticks ` it puts the given string at the given location , but does not change the limits .
For some reason that I can not see , the autoscale doesn't work with your plot ...
You can call ` autoscale() ` after ` xticks() ` , which will set the new axes ' limits automatically .
You can fake it by hand ( see How to draw diagrams like this ? ) or use ` mayavi ` from enthought ( which is openGL based and does ' real ' 3D rendering )
You can definitely do this with color map , but requires a bit of work ( see stacking colormaps ) .
As i know subplot is the answer to my first question ?
See documentation for ` hist ` and the documentation for ` np.histogram ` .
I have written this code in order to draw Mediterranean surface currents with a netCDF file : #CODE
I was able to do axes scaling and whatnot by keeping it local to the already created pyplot figure .
yes , I meant to have the date on the X-Axis ( still trying to figure out that xticks trick .. )
` matplotlib.figure.Figure ` is just a ` Figure ` object and it is your problem to wrangle the gui .
Unable to save matplotlib.figure Figure , canvas is None
I think i'm missing a key concept about matplot figures canvas.How can I update fig.canvas to reflect the current Figure , so i can use ` fig.savefig ( outputPath , dpi=300 )` ?
The way the architecture of mpl is the ` Artist ` level objects know how to set themselves up , make sure everything is in the right place relative to each other etc and then when asked , draw them selves onto the canvas .
When you try to save the figure you are asking the canvas to ask all the artists to draw them selves on to it .
Figure is the top level container for all the plot elements , though it's bit more complicated than this .
Matplotlib contour plot of matrix type
I'm getting hung trying to create a contour plot of three [ 1 , m ] numpy matrices .
and contour wants something along the lines of ` ( 15000 , )`
I suppose I am more confused as to why I cannot directly use contour ( x , y , z ) since all my arguments are 2D vectors ( which meshgrid would be used to make )
Can I draw lines between those two subplots ?
Suspect you can do this with ` annotate ` .
Figure lines are upper than axis lines , so you don't need any axis to draw it .
This example mark the same point of the two axes .
It's necessary to be care with the coordinate system , but transform makes all the hard work by you .
@USER is right though , I just looked up the [ docs ] ( #URL ) on ` annotate ` , and ` ConnectorPatch ` seems to be exactly what I'm looking for , so I'll try it out and come back later !
I found out it's also much easier to do this kind of thing with scatters if you don't need to connect the dots , because scatter can have a colormap as an argument .
draw a smooth polygon around data points in a scatter plot , in matplotlib
I took the @USER ' s approach ( numpy / scipy : smooth spline representation of an arbitrary contour , f ( length ) -- x , y ) , which I think it's a very good method .
I am trying to animate a contour map using the matplotlib function : FuncAnimation .
Possible duplicate : [ Animation with contours matplotlib ] ( #URL )
Also : [ Animating a contour plot in matplotlib using FuncAnimation ] ( #URL )
Based on #URL and Python / Matplotlib - Quickly Updating Text on Axes , I've built an animation , but the text parts just won't animate .
That does draw it , but it slows it down the same amount ` blit=False ` does .
Why you don't simply avoid animation and makes your own animation with plt.ion() ?
title = ax.text ( .5 , 1.005 , '' , transform = ax.transAxes )
I thought that animation was a newer / preferred method ( over building it manually ) .
I'm not an expert with animation method .
Pablo , what you are describing is _exactly_ what the animation module does behind the scenes , except it wraps it all up in a ( nominally ) easy to use package and gives you things like one line saving to a mp4 and setting up timers to get a given frame rate .
The question is ' how do I make blit work on artists outside of an axes '
See Animating matplotlib axes / ticks and python matplotlib blit to axes or sides of the figure ?
So , the problem is that in the guts of ` animation ` where the blit backgrounds are actually saved ( line 792 of animation.py ) , it grabs what is in the axes bounding box .
This makes sense when you have multiple axes being independently animated .
In your case you only have one ` axes ` to worry about and we want to animate stuff outside of the axes bounding box .
Note that this may not work as expected if you have more than one axes in your figure .
Ideally , the text bounding box should be used ( since it is passed from the animation function ) , but for some reason it is not being used ( even though I think it is in artists ) .
@USER The animation code is still a little rough around the edges .
To add to tcaswell's " monkey patching " solution , here is how you can add animation to the axis tick labels .
Specifically , to animate the x-axis , set ` ax.xaxis.set_animated ( True )` and return ` ax.xaxis ` from the animation functions .
I want to annotate the characters of AType in a plot , placing every element of AType in the position ( on the plot ) indicated by the corresponding ( x , y ) pair in XYCoord .
This has not been a problem , but I would like to draw a connecting line between the letters when the distance between pairs of points is less than a value " BMax " .
Now , I would like to draw a connection line between letters if distances between them is less than BMax .
will help , but I have tried several ways , and have not been successful in defining the " ax.annotate ( ... )" part , to draw lines between the letters .
It does have a list of buttons at the bottom of the window , one of which seems to be zoom / pan .
I seem to be able to pan the plot in all the 4 directions and the axis shifts .
It is hard to move axes between figures , which is what you want to do .
It would be better to re-factor the code you used to generate this list to have the functions take axes as an argument and then plot to those axes .
possible duplicate of [ Matplotlib : Annotating a 3D scatter plot ] ( #URL )
This is a much better solution than using ` xticks ` .
How can I draw an area bounded by some linear inequality functions using matplotlib .
I would like to draw somethin simmilar as wolfram alpha does : #URL s=39 w=200 .
It seems you need to set the legend after though : #CODE
I would like to plot one subplot like : #CODE
How do i get the 3d bar plot of X , Y and Z lists . where X , Y , Z corresponds to x , y , z axes .
Is there a way like " append " statement used for adding elements in a list , that can be used within matplotlib pyplot to add a plot to an existing one ?
However , I think it is cleaner to state explicitly that ` geom_macro ` uses ` ax ` , and , moreover , by making it an argument , you make ` geom_macro ` more reusable -- perhaps at some point you will want to work with more than one subplot and then it will be necessary to specify on which axis you wish ` geom_macro ` to draw .
If you just want on each subplot to have ~300 lines , change ` axes [ r ] .plot ( raws )` to ` axes [ r ] .plot ( raws [ r ])` .
@USER I encounter a _italic_ValueError : setting an array element with a sequence._italic_ with either ` axes [ r ] .plot ( raws ) to axes [ r ] .plot ( raws [ r ])` .
@USER all I get are empty axes .
In order to have a plot with autoscale axes with matplotlib , I use this code : #CODE
The key , I think , is to set the " zero " values to ` None ` so pylab does not draw them .
One problem in what you've posted is that in the ` update ` function you want to actually update the artist you've plotted , not drawing an extra one .
Like I was saying , you should be actually updating the artist ( a path collection , in case of the ` scatter `) .
Pyplot animation not updating continuously
I'm trying to display the frames captured by a CCD camera in real-time using pyplot animation .
It will quickly update a dozen or so animation frames , then pause for a second , then update again , then pause again , and so on .
I know it isn't the part where it makes a call to the camera's frame buffer ; I tested out just calling that in a loop and it never slowed down , so I think it's somewhere in the actual processing of the animation frames .
I wouldn't think this would be too much for the animation to handle at one time .
The problem is not in ` animation ` , the following works just fine : #CODE
Below is the sample of the script and here the description of what it should do : in the init part of my test_figure class , I create a figure ( figure 1 ) , add a subplot , plot 100 random points , define properties for a textbox and connect the event ' pick_event ' to the function onpick() .
` text ` ( like almost all ` axes ` class methods ) adds the artist to the figure , but does not force a re-rendering .
Is it possible to draw a polygonal patch in a polar plot in matplotlib ?
And I would like to draw a filled polygon specifically in a polar plot .
I am aware that add_patch can be used to draw in the xy mode of matplotlib .
You can use ax.add_line() on a polar subplot : #CODE
possible duplicate of [ How to draw diagrams like this ? ] ( #URL )
Of you must use matplotlib , then i guess you could split up your surface into lots of smaller ones , but you're going to encounter a pretty big performance bit doing this , and you'll to override the values in the legend too .
One simple way to achieve this is to use the ` text ` or ` annotate ` methods of the ` Axes ` , with a kwarg ` transform ` .
If you want to CORRELATE the data , you can do a scatter plot ( faster ) , or a regular plot with dot markers ( slower but more customizeable IMO ): #CODE
I have seen some of the slider examples but I am not able to translate that to pandas plots or what axes or arguments to pass to the Slider object .
I want to plot these 2D samples with its contour in a graph , these samples are colored by its cluster .
How do I size them up a little so that they look normal with respect to the width of the axes .
Note the " 0.003 " offsets for the coordinates , this is because for some reason plt.arrow does not draw the arrow in alignment with the axis .
I am using a scatter plot .
As you can see , not only is the tan graph sketched , but a portion of line is added to join the asymptotic regions of the tan graph , where an asymptote would normally be .
I think you want to change the dimensions of the axes that your time-series is being plotted in , rather than the dimensions of the figure canvas ( which as far as I'm aware can't be altered without changing the overall figure size ) .
please note that you also have lots of other options . you could just set the x-limits for each of your plots to match the duration of the longest timeseries , so the size of each set of axes will be the same and the aspect ratio of the data will also be equal . or you could use ` ax.set_aspect ( num )` to enforce a constant aspect ratio for each set of axes .
Replace ` plot ` in your application with ` axes [ ith index ] .plot ` , etc .
It sound to me like you should use ` contourf `
It seems that your ` z ` is not dependant on ` y ` but contourf can still handle this .
There are two things graphed a scatter plot ( with 4 points ) and a interpoated surface .
The scatter plot shows up as expected .
matplotlib from mpl_toolkits.axes_grid1 import host_subplot - ylim control of right axis ?
Also , you should call the ` set_ylim ` method after the plots if you haven't disabled the autoscale of the axes .
What I am attempting to accomplish is to plot the data values on the map based on the related reference index in the lons / lats lists , and then contour the values of the data variable .
The two labelled axis intercepts have significant overlap with the axes as well as the graph itself .
In my particular case , I set the linewidths of the scatter points to zero : #CODE
Matplotlib with boxplot cannot set aspect as expected
I thought it was the external look of both axes .
I'd like to position and label some xticks , but I want some of the labels to be nicely typeset fractions .
I have an ` x-y ` pair , for which I want to plot y over one x-axes and on the top ` x '` axes with different scale : ` ( x ' = f ( x ))` .
Try to draw with pencil and paper what you are looking for .
I am plotting a scatter plot using #CODE
You can get a legend for the colours with the ` plt.colorbar() ` command .
To add to wflynny's answer above , you can find the available colormaps here
I'm working on a network project in which I need to draw lines ( edges ) between pairs of points ( nodes ) .
Unfortunately , this is not possible ( afaik ) during animation .
You draw the edges between them .
The Node class has the coordinates stored as members ( x and y ) , as well as index .
Change matplotlib Button color when pressed
I'm running an animation using matplotlib's ` FuncAnimation ` to display data ( live ) from a microprocessor .
It almost all works , except that the pick event is not sent when the zoom or pan navigation buttons are selected .
What I am looking for is a way to programmatically turn off pan and zoom modes .
I thought I would be able to do this by setting the checked state of the toolbar pan and zoom buttons to False .
` _active ` is the current state of pan and zoom .
So , here is the code that disable pan zoom : #CODE
However , there is no method ` tick_params ` for Axes in matplotlib 0.99 .
matplotlib : draw major tick labels under minor labels
You can achieve this by defining a converter that converts sting representations of dates to ` datenums ` .
You already have one such converter in your ` np.loadtxt ` method call .
Simply feed the ` plot ` method the two lists as arguments , and set the x-limits with ` xlim ` .
In pyplot , is it possible to have a bitmap plot with vector axes , labels and all other text ?
Also , if you want to have matplotlib resize the " outside " of the axes instead of the data limits to maintain a set data aspect ratio , use ` ax.set_adjustable ( ' box ')` .
matplotlib combines box plot and histogram with legend on
In addtion you can manually control your axis location with a ` subplot ` and ` subplots_adjust ` : #CODE
Ok , I did a little more research and this pretty much covers what i wanted to do . using matplotlib colormaps did the trick . here is a link to the options of map colours .
What I need is to draw something like this :
I'm going to have 6 different subplots on one figure , and it's a bit tedious to keep copy / pasting the same " xticks " settings and " legend " settings over and over again .
One more thing : " xticks " doesn't seem to accept a named graph as the prefix .
Is there a way to specify which graph " xticks " is editing ?
Hm this is why I tend to write the whole plotting procedure inside a single ` for ` loop , so that you're making a new subplot and immediately changing its settings .
But if this is impractical ( e.g. you're working in the interpreter window ) you can call your desired subplot into focus by just doing subplot ( xxx ) , whichever one you want to edit .
Then xticks should edit that one .
If your subplots are actually sharing an axis / some axes , you may be interested in specifying the ` shareX=True ` and / or ` shareY=True ` kwargs to ` subplots ` .
Anyway , Im trying to make the subplot as large as possible ( fullscreen if possible ) .
You can use the ` rect ` argument to ` axes() ` to set the ` ( left , bottom , right , top )` extent of the axes within the figure canvas .
I'd like to have one axis label centered over two axes in matplotlib .
For example , I set up the axes as follows : #CODE
The coordinate is in the axes coordinate space , meaning 0 is the bottom and 1 is the top of the ` Axes ` .
Seeing how your ` Axes ` are placed at x= 0.01 , you can make the label appear at the right side of the plots as well #CODE
I am reasonably knowledgeable with programming and algorithms , but I lack the know-how on how all the add-ons such as matplotlib that connect with python or how a text editor that can execute my code like Sublime Text 2 accesses them .
With crisp clusters like that obtained through k-means , it is easy to visualize through a normal scatter plot such as the one obtained through matplotlib .
Is it possible to update matplotlib quiver position coordinates in an animation ?
I'd like to draw and animate some particles with matplotlib .
I am able to draw single frames using matplotlib ` quiver ` .
( I am using the matplotlib animation class . ) I read about the ( undocumented ? ) ` quiver.set_UVC() ` , but that seems to update only the direction , not position .
Cut the border of the axes
I did draw a graph , and I need to call ` axes ( aspect = ' equal ')` , in order to keep the proportions of the coordinates .
However , inserting axes , it also inserts a border , like in this figure ( the grey area is the border inserted by the axes() ) .
Please help to set the axes border to absolute 0 , and in the same time to set the aspect ` equal ` .
I wish to use at maximum the frame space , and cut completely the border used by axes .
I would like to draw a great circle arc on maps .
With a starting point , a bearing and a distance along the bearing you can compute the destination point with a calculator like Great Circle Calculator by Ed Williams using the calculator labeled " Compute lat / lon given radial and distance from a known point " .
by ` ax ` I mean the current ` Axis ` object , which you were getting at via ` gca ` .
From the Matplotlib doc it seems that I need to set ylim , but can't figure the syntax to do so .
Pandas plot() returns the axes , you can use it to set the ylim on it .
You can also pass an axes to Pandas plot , so plotting it in the same axes can be done like : #CODE
If you want a lot of different plots , defining the axes on forehand and within one figure might be a solution that gives you most control : #CODE
Then the y-limits will stay the same even when you zoom in on a particular subplot .
Worked a treat for me too , however I had to use ` xrange ( 1 , figure.number )` as ` Figure object is not callable `
matplotlib : changing stem plot legend colors
With matplotlib I'm creating stem plots , setting stem plot colors , and creating the plot's legend something like this : #CODE
I'm guessing the first dot in the legend is supposed to correspond to the point color ( as it appears in the graph ) , while the second is supposed to correspond to the stem / line color .
However , both stem and point colors end up corresponding to the color of the points in the graph .
The default for legend is to display two markers .
Your legend command is using the markers , not the lines as inputs by using ` plot [ 0 ]` .
Unfortunately , the stems are not supported artists for legend so you need to use a proxy artist .
Setting axis values of a 2D contour plot without using xticks
I'm attempting to set the values of the x and y-axes of a plot generated using contour() but am currently unable to read specific values off of the axes as desried .
Previously I've been using xticks and yticks to set the values of the axes , but now the exact position on the plot has become important , so being able to read values off the axes would be very helpful which I can't doing with x / yticks .
And would similarly use this for the y-axis of my 2D contour plot #CODE
You can get rid of the error by taking out the extra parenthesis in the call to ` contour ` : #CODE
If that doesn't give you the plot you want , try ` xlim ` and ` ylim ` to set the axis limits directly .
I didn't help a lot because it shows how to transform coordinates to different reference systems , but not width or height .
The box is centered where you put it , you just need grab the transform you want ( they come packed with their inverses ) .
There are many pair of points that give the same width , so if I choose one pair randomly and transform it , I'm going to get an equally arbitrary coordinate .
And you do know you can set mpl to not show that gray background on the axes right ?
By default ` annotate ` is done using ` xytext = None , defaults to xy , and if textcoords = None , defaults to xycoords ` .
will return a ` Bbox ` object for your text in display units ( the ` draw ` is necessary so that the text is rendered and actually has a display size ) .
I have tried 3D plots ( scatter and surface ) which is working quite decent , but the values are overlapping and most of the time you can only see one dataset .
Options 1 - draw a heatmap of the difference of 2 datasets ( or ratio , whatever is more appropriate in your case ) #CODE
If you really need to show N > 2 datasets together , I would go with contour or contourf : #CODE
I like the contourf approach .
I draw three points with lines from the x-axis to the point .
It spaces the lines to fill your axes .
Either adjust the aspect ratio of your figure or change ` xlim ` .
@USER right , and the auto-limits are _also_ chosen based on the values -> the _display unit_ spacing is set to fill the axes
Color differences between contour and contourf in matplotlib
I'm trying to produce a plot which uses both contour and contourf where they both use the same colormap , plotting the same data .
However , contourf is only used to plot data which is ' significant ' in some way ( using a masked array ) .
Meanwhile , contour is used to plot all the data .
I nearly have this working as I would like , but I am finding that the color of the contour lines is slightly different from the color of the filled contours from contourf .
I'm guessing that the differences come from the fact that either the contour colors are actually half-way between the contour colors ( which would make sense , as the contour lines are defined at a value , e.g. 1 , 2 , etc , and the filled contours are between 1 and 2 , i.e. with a ' value ' of 1.5 etc ) .
my contour levels , used for both contour and contourf are #CODE
The contour lines are plotted as #CODE
Is there a straight-forward way to have the colors of the contour lines ' match ' those of the filled contours , i.e. the line at 1 is the color of the 1-2 filled contour , the line at 2 is the color of the 2-3 filled contour , the line at -1 have the color of the -2 -- 1 filled contour etc .?
A slightly orthogonal approach is to replace the ` contourf ` call with a ` contour ` call on the same masked data but with 3x the line density or something like that .
I think that one possible solution here is to create a new colormap for the call to contour .
and the contour levels to plot as #CODE
which is then used in the call to contour #CODE
It isn't quite perfect though , the colors are ever-so-slightly off from the colors from contourf .
I used ax.lines.pop() after draw the plot inside the OnOver function but that doesn't worked .
Instead of constantly creating and destroying lines we can just draw them once and keep updating them .
How can you put a matplotlib artist in the background to overlay a plot on top ?
First of all , the ` circle ` in your code is not a ` Figure ` , it is an ` Artist ` , more specifically a ` Patch ` .
In matplotlib , a ` Figure ` is a top-level ` Artist ` which contains other elements , so your title is a bit misleading .
The artist with the lowest ` zorder ` gets drawn on the bottom layer , and the one with the highest gets drawn on top .
Also , thanks for pointing out that my title was misleading , I changed it to say artist .
Unable to save matplotlib.figure Figure , canvas is None
Is it possible to do this with an animation function , like in the dynamic image example ?
I'd like to call a function inside a loop , thus I don't know how to achieve this with an animation function .
Matplotlib's animation only deals with one increasing dimension ( time ) , so your double loop won't do .
Maybe I should use the animation functions , like in the dynamic image example : #URL but I don't know how can I transform that into a loop-based code .
Also , in order to run the animation you need ` plt.show() ` .
It's a good practice to explicitly create and operate on your your Figure and Axes objects .
It seems like you should be able to set the power limits of the ` ScalarFormatter ` for the axes .
Is there an ( elegant ) way to apply the change to both axes in one go ?
You could draw your data this way : #CODE
Animation using matplotlib with subplots and ArtistAnimation
I am working on an image analysis and I want to create an animation of the final results that includes the time-sequence of 2D data and a plot of the time sequences at a single pixel such that the 1D plot updates as the 2D animation progresses .
Then set them up in a subplot side by side The link below has an image of the end result which would ideally be animated .
Unfortunately , the plot command does not seem to have such an attribute so I am at a loss as to how I can produce the animation .
I was also curious as to whether anyone knew of a cool way to highlight the pixel that the 1D data is being extracted from , or even draw a line from the pixel to the rightmost subplot so that they are ' connected ' in some way .
I know how to plot a scatter graph but don't know how would you extract information from a functions output .
how to format axis in matplotlib.pyplot and include legend ?
A minimal example of a legend :
You can add titles to each sub plot using the set_title() method of the axes .
The key point is ` c=z ` which tells ` scatter ` to apply the colormap specified with ` cmap ` to each point according to the scalar value of ` z ` .
In this case each point has a RGB tuple associated with it and ` scatter ` uses the color you specify .
This you can not achieve with just the ` alpha ` keyword of ` scatter ` :
Why is it not OK to call Matplotlib from Sublime Text 2 ?
Now , I am trying to write Python code with Sublime Text 2 .
What I need is a scatter plot of angle vs counts for the 2 combinations ' U ' vs ' C ' .
Ok , so my matplotlib doesn't seem to have a module subplot .. not sure why !
Many thanks , I changed " fig , axes = plt.subplots ( nrows , ncols )" , not sure if this was correct , but seemed to fix the error , seem to get this error now #URL
Without the parentheses you are referring to the function as an object , which you often do when you want to pass a function as an argument to another function , you are doing this when you set up your buttons - ` self.Brt = Button ( self.LF_Control , text= " -> " , command= self._Brt )` - here self._Brt is a reference to a function , and it is passed into ` Button ` , it is not executed at this point .
I do actually get the Button_Up print , but still no Figure to load .
Button : UP
Button : UP
Button : UP
Button : UP
Button : UP
` self.Brt = Button ( self.LF_Control , text= " -> " , command= self._UpdateCanvas ( 4 ))`
In this ` self.Brt = Button ( self.LF_Control , text= " -> " , command= self._UpdateCanvas ( 4 ))` the ` ( 4 )` after ` _UpdateCanvas ` means that ` _UpdateCanvas ` is called , and ` command ` is set to be whatever it returns .
Somewhere inside the code for ` Button ` there will be some code that calls the function you have passed in when the button is clicked , ` _UpdateCanvas ` is in this case being used as a ' callback function ' .
The output you gave above - the ` def : _Execute ` and ` Button : UP ` are logged when you actually click the button or when the app starts up ?
Thanks @USER , I think the thing that confused me was that ` Button ( commend=#### )` referenced as an object -> the function , while the ` self.after ( 100 , ##### )` calls a function .
weird contour plot with polar projections using matplotlib and basemap
Your Basemap object ( m ) also serves as the mpl axes .
Python Matplotlib Basemap animation with FFMpegwriter stops after 820 Frames ?
I want to make an animation of satellite data which comes in small 3 minute files and show it on a rotating globe .
This is why I chose to make the loop in the following example code step through the animation in 3 minute steps .
possible duplicate of [ Why does my pylab animation slow down with each update ? ] ( #URL )
I'm currently doing the equivalent of the interactive class listed in Joe Kington's anwer here - matplotlib : update position of patches ( or : set_xy for circles ) #CODE
Or to remove all artists , and lines completely , without having to remove the axes or the figure ?
Those are ` axes ` and ` figure ` level functions as well -> ` ax.cla() ` and ` fig.clf() ` , but they will remove everything , including the map the OP wants to keep .
Updating the x-axis values using matplotlib animation
I want the x-axis to increase in value as the animation progresses , such that the total length of the animation is 100 but at any time the subplot is only presenting me with the time values from 0-24 and then iterates up to 100 .
I have also tried incrementing the solution ( as opposed to the axis ) by only plotting the values in the window that will be seen in the subplot , but that does not increment the x-axis values .
I only want the second subplot ( ` ax2 `) to update the x-axis values .
animation wont run when I use blit , not yet sure why
If you need to run faster , you will need to play games with the bounding box used for blitting so that the axes labels are updated .
Note that for ` xlabel ` and ` text ` the keyword is ` fontproperties ` and for ` legend ` it's ` prop ` .
I have coded a Python charting application that takes as input an http feed ( e.g. EurUsd ticks ) from my broker and then uses Matplotlib to draw price candles and indicators .
pyplot : change ncols within a legend
I decided to set the number of columns in the legend to 2 .
It is possible to do this within one legend ?
You want a legend that is part 2 columns , part 1 column ?
90% sure this can't be done with a single legend
Legend in matplotlib is a collection of OffsetBox .
In principle , you can change " ncol " within a legend by manually rearranging these offsetboxes .
The down side is this gets really annoying do write / maintain , as you have to make sure the ticks and axes labels don't overlap with each other .
what do the values of the rect mean in the context of a subplot ?
The ` left ` and ` bottom ` are the location of the bottom left corner of the axes in figure fraction units .
Can matplotlib draw a stacked cylinder bar plot like the one below ?
The code is not very polished , but I did annotate it .
As far as I know the label argument is for the legend .
The argument ` label ` is used to set the sting that will be shown in the legend .
Intelligibly displaying multiple ( dense ) scatter plots on one axis in Python-Matplotlib
I have decided to represent the categories by color with a legend , which makes for difficult tradeoffs between using symbols who are big enough that their colors are easily visible and symbols small enough to not excessively cover each other .
1 ) The envelope ( e.g. similar to a " rolling max ") of each category , 2 ) the number of points at a given frequency ( e.g. a kernel-density-style histogram ) , or 3 ) the distribution of " peak heights " at each frequency interval ( e.g. a boxplot / violin plot for each category at several frequency bins ) ?
The problem is , the point of displaying all this data on one set of axes is to quickly compare the categories with each other , and using separate plots kind of defeats this purpose .
@USER - ` scatter ` colors and / or scales points by a 3rd / 4th variable .
( The existance of separate ` plot ` and ` scatter ` functions is a result of matplotlib generally following matlab's api . Use ` plot ` when you just want to plot points or a line , and ` scatter ` when you need to color / scale the points by some other variable . ) Instead of 3 calls to plot , you'd have a single call to scatter .
With ` scatter ` , the points would be drawn in effectively random order , instead of in " layers " .
@USER - As an example of " plot vs scatter " for something similar to your plot : #URL
matplotlib contour plot with lognorm - colorbar levels
I am trying to make a contour plot with defined levels and log norm .
possible duplicate of [ Python Pyplot Bar Plot bars disapear when using log scale ] ( #URL )
The issue is with the bottom of bars being at y=0 and the default is to mask out in-valid points ( ` log ( 0 )` -> undefined ) when doing the log transformation ( there was discussion of changing this , but I don't remember which way it went ) so when it tries to draw the rectangles for you bar plot , the bottom edge is masked out -> no rectangles .
you need a ` plt.draw() ` or ` ax.figure.canvas.draw() ` to re-render the axes .
You should capture the second axes as ` ax2 = ax.twinx() ` .
I think it is best to do it line by line ( keep say y fixed ) and use the ` scatter ` function .
For more with scatter see the demo here
What I am looking for is basically a method to draw an arbitrary surface , like a " polygon in 3d " if there is such a thing .
However , your problem is you need to understand that the equations you are writing define a volume when you want to draw a sphere .
I do not want to draw a sphere , but the surface of the volume defined by ` x*y*z <= 1 ` , i.e. the surface defined by ` x*y*z=1 ` .
And then maybe patch the whole thing up , because I have poles along all three axes ?
The volume would then be cut off across the axes at -5 and +5 .
Use 3d object as marker in 3d scatter plot - Python
The last two lines draw the figure and saves the static background to the variable ` self.background ` .
I wanted to save and load the static background to make the figure draw faster .
Matplotlib - Broken axis example : uneven subplot size
A further issue is how to position conveniently the ylabel .
added ylim and ylim2 parameters do determine the height ratios in such a way that the data units are equal : #CODE
After creating an array of matplotlib.figure.Figure , how do I draw them as subplots of One figure ?
I want to redraw those Figure objects as subplots of one Figure .
You should refactor your code to take the axes to draw to as an argument .
I just wanted to know if there was a better way to store and re draw the figures .
right , pass the axes you want ` subHistogramClientWrapper ` to draw to as an argument , instead of having it create and return ` figure ` objects .
Set up the axes you want _first_ and pass the resulting ` axes ` objects into your wrapper function .
I shall handle everything with both axes .
pyplot legend label being truncated
I'm trying to create a legend that will contain the color of the line it corresponds to and the label .
My current code is plotting the legend but is only plotting the first letter of the label ( D instead of DL11 ) .
If you have used ` label ` you don't need to call legend with arguements
They behave just fine , you are just using them wrong , you can't add the same artist object to more than one ` axes ` [ in the future , this will be enforced by the library ] .
There are bits and pieces of the internals of the ` artist ` and the ` axes ` get mixed up when you add an artist to an axes .
For example ` get_axes ` returns what ` axes ` the ` Artist ` is in , if you added it to multiple axes this would get tricky ( ier ) to keep track of .
This is related to why moving axes between figures is hard ( After creating an array of matplotlib.figure.Figure , how do I draw them as subplots of One figure ? and How do I include a matplotlib Figure object as subplot ? )
` draw ` is not automatically called if you don't go through the state machine interface ( ex ` gca() .plot ( ... )` would not automatically redraw , but ` plt.plot ( ... )` would ) .
Pandas : boxplot of one column based on another column
I would like to boxplot the age of each Group ( A , B , C ) .
Misread 1st time so gave answer for histograms ... keeking that below . for boxplot the code is : #CODE
Thanks Joop , unfortunately the title command just changes the part that says ` Age ` in the boxplot ( in your post ) , that's why I asked .
How to change background color for scatter plot in matplotlib
How do I change the background color of a scatter plot in matplotlib ?
@USER True , but that is because ` aspect= ' auto '` and can in any case be adjusted by changing the subplot spaces ( or e.g. gridspec ) .
In the accepted answer that you link the colorbar is also not as tall as the axes , so still some adjustments are necessary .
I wish to draw lines on a SQUARE graph .
The ` draw ` is just to make sure it gets rendered .
Latex Citation in matplotlib Legend
Is there a way to include a Latex / Bibtex citation in the legend text ?
Whenever the latex file is compiled , the citation in the legend will be updated automatically .
How does one display a legend on a pdf in matplotlib without it overlapping the x-axis of some graphs ?
I would like a single legend per page .
However , each legend overlasp the x-axis of the bottom center plot on each page .
I am using the following command to generate the legend : #CODE
You could make more space at the bottom of the figure by making the axes smaller either by using a 7 by 3 array of subplots or by each axis size directly .
Two unique marker symbols for one legend
I would like to add a " red filled square " symbol beside the " red filled circle " symbol under legend .
When I use the numpoints in the legend now , I do not get one blue symbol and two red symbols .
And I think just add ` numpoints=1 ` as an argument to ` legend `
I want to draw a square lattice with ` Networkx ` .
Also , I would like to join the points horizontally and vertically with arrows .
Save Matplotlib Animation
I am trying to make an Animation of a wave package and save it as a movie .
Matplotlib Animation
Single plots from ` img ` can be plotted just fine , but the animation module gives an error .
Each element in ` img ` needs to be a sequence of artists , not a single artist .
I realize that this question has been asked before ( Python Pyplot Bar Plot bars disapear when using log scale ) , but the answer given did not work for me .
A scatter plot in a grid would be an easy route to a grid of circle .
I made an animation of a wave , but the colorbar keeps shifting around , and I don't know why .
I tried using the animation modul of matplotlib but it partly doesn't work with python 3.3 and doesn't support some 3D plotting ( it seems ) .
So without a movie or an animation , how do I simply the code to not save the images for the movie first ?
You can draw the lines in either PIL or Numpy , whichever you prefer , but you need to use Numpy to work with Numpy objects and PIL to work with PIL objects .
For example to use this plot as subplot of others , merging legends ...
definitely pass in the ` Axes ` object .
Try to set the ` xlim ` of your ` Axes ` : #CODE
avoiding to set the ` xlim ` manually .
I've updated the answer adding some comments about ` autoscale `
With ` plt.legend ( loc=2 )` ( places the legend in upper left corner ) the output becomes :
where ax1 is the subplot I want the image to show up in .
To plot a horizontal line at a given y-value between two x-values , you could use ` hlines ` .
If I let it print t after every animation i corectly adds one up in console , but the text does not get updated in the plot .
I'm plotting a bar graph without axes .
Does matplotlib autoscale have a default minimum tick size ?
Is there a way to autoscale my axes when points have a small granularity without manually finding and setting the axis limits ?
When I compile matplotlib it says that due to patches it ships its own libagg and I can't find which tkagg it is using , so maybe that's where things go wrong ?
Usually you define first the axes instance to be a polar representation : ax = fig.add_subplot ( 111 , polar = True ) and plot the points using a random angle and a random radius .
I cannot reproduce this error with IPython 0.13.2 and matplotlib 1.3.0 , even with a polar subplot .
Change the ticklabel orientation and legend position of plot
I plot and set the legend to be outside .
Also my legend outside is cut off .
Can I change the orientation of the ticklabels to be horizontal , and then adjust the entire figure so that the legend is visible ?
As for the positioning of the legend etc ., it is probably worth taking a look at the tight layout guide
Also , how do I change the plot size so that I can see my legend .
I want to change the font size of the legend title .
The way to go about this is to get the legend object and then change the title that way ( e.g. , How to set font size of Matplotlib axis Legend ? )
Instead of rewriting all my code using ax.XXX , figure.XXX , etc , is there any way to get at the legend object from the code I have written , and then go from there ?
Visual comparison ( rightmost subplot produced with the above code ):
Is there any way to use ` streamplot ` for changing coordinates ( like what we have for ` quiver ` and ` contour `) ?
because you are just blowing away the axes labels and replacing them with text independent of where they _should_ be .
For instance , whenever I create a new axis I've found that I prefer if it has particular settings for the spines , to make it look a little more Tufte-esque : #CODE
Add options as you see fit ( e.g. a ` figure ` , a subplot designation , ... )
Annotation Difficulty in PCA with numpy and matplotlib
Seems you just want to know how to annotate data in a plot , in which case you could cut the code here down to plotting a few simple randomly generated sets of data .
If I understand you correctly you just need to annotate your plots using the column heading .
Subplot hides xlabel
The ` xlabel ` text of the first plot gets lost under the second .
How do I provide ` xlabel ` s for subplots without this happening ?
Since your x axes are all the same , I would suggest setting ` hspace= 0.0 ` and removing the x axis labels ( use ` plt.set_xticklabels ([ ])`) .
matplotlib subplot with image background
how can I create a subplot , where the background is created fully , without a gray boundry , with a png image from file.png
In order to have the image span the whole window , you need to create the axes manually so that space isn't left on the sides for the tick labels .
How can I plot the same figure standalone and in a subplot in Matplotlib ?
Is there any way to generate a plot once , and the have it be part of a subplot ?
Pass ` axes ` objects to ` generate_plot* ` and use the OO interface instead of the ` pyplot ` interface .
Generally speaking , matplotlib artists can't be in more than one axes , and axes can't be in more than one figure .
You can have the plot in question as a subplot , than then bind a click / keypress / whatever to hide all of the other subplots and make the selected axes temporarily fill up the entire figure .
After clicking on a subplot
Aligning markers for individual points in matplotlib and removing " double " legend for markers in matplotlib in Python
Removing the duplicate marker symbols , with ' o ' and ' * ' in the legend on the upper right corner .
Could I have done this without using ax.twinx() , which generates two scales ( one for " #candidates " and other for " Performance " - and if this double entry of legend is related to using the 2 scales ?
For ( 2 ) , I also used ` plt.legend ( numpoints=1 ) just before the last line , plt , show() ` according to the answer here , multiple markers in legend , but that didn't seem to remove the " duplicate markers " in this context .
In the meanwhile I also figured out that the easiest way to solve the triple dots in the legend is to use the " scatterpoints=1 " if you are using scatterplots , instead of bar plots ie . plt.legend (( rects [ 0 ] , rects [ 0 ]) , ( ' Current time period ' , ' Next time Period ') , prop =d ict ( size=10 ) , numpoints=1 , scatterpoints=1 )
You should not call the ` legend ` method several times for each ` Axes ` ; include the ` numpoints ` kwarg in your original ` legend ` call .
This extends beyond line breaks ; the axes are also straight , not wavy .
How to automatically set ylim from data shown on the screen after setting xlim
For example , after I set xlim , the ylim is wider than the range of data points shown on the screen .
plot right after I set xlim :
plot after I manually set ylim :
Thanks Saullo , however , autoscale ( axis= ' y ') still calculates the data range from the full data set , including data points not shown on the screen
I tend to use ` spines ` to get the x-axis centered : #CODE
@USER - I removed almost everything except the parameter passing between the dialog and the frame . and I still draw the figure but that is about all I left in .
Speeding up matplotlib scatter plots
I'm trying to make an interactive program which primarily uses matplotlib to make scatter plots of rather a lot of points ( 10k-100k or so ) .
So , I'm working on ways to speed up scatter , but I'm not having much luck
Alternatively , I can edit the collection returned by scatter .
But , I can't get either to draw so I have no idea if they'd be faster .
I've been through this a few times trying to speed up scatter plots with large numbers of points , variously trying :
Using a heatmap / grid instead of a scatter plot
Matplotlib is just not very performant when it comes to scatter plots .
A subsample scatter plot should usually be OK .
We are actively working on performance for large matplotlib scatter plots .
Pcolormesh should be your go-to visualisation tool when trying to plot gridded data in boxes ( as contourf is when drawing gridded data as iso-valued areas ) .
But with Basemap , you should always transform the coordinates into the map's coordinate system - ultimately this could potentially mean that both the x and y coordinates need to be 2 dimensional arrays , so we do that and convert : #CODE
I tried the way below but it is just a scatter point plot .
Do you want some sort of 3D surface plot instead of a 2D scatter plot ?
matplotlib contour plot : proportional colorbar levels in logarithmic scale
I would like to draw a line which is not on any of the plots .
I know how to draw a line which is part of a plot , but I don't know how to do it on the white space between the plots .
Is there not a way to draw an arbitrary line on top of a figure ?
` annotate ` is also very useful for this purpose
For drawing lines , you just specify the ` transform ` that you'd like to use as a kwarg to ` plot ` ( the same applies to most other plotting commands , actually ) .
To draw in " axes " coordinates ( e.g. 0 , 0 is the bottom left of the axes , 1 , 1 is the top right ) , use ` transform= ax.transAxes ` , and to draw in figure coordinates ( e.g. 0 , 0 is the bottom left of the figure window , while 1 , 1 is the top right ) use ` transform= fig.transFigure ` .
As @USER mentioned , ` annotate ` makes this a bit simpler for placing text , and can be very useful for annotations , arrows , labels , etc .
You could do this with annotate ( by drawing a line between a point and a blank string ) , but if you just want to draw a line , it's simpler not to .
It's easy to create a transform where the x-coordinates use one transformation and the y-coordinates use a different one .
It's very handy for something like what you want , where the y-coordinates are fixed in axes coords , and the x-coordinates reflect a particular position in data coords .
The following example illustrates the difference between just drawing in axes coordinates and using a " blended " transform instead .
Notice that with the bottom plot ( which uses a " blended " transform ) , the line is in data coordinates and moves with the new axes extents , while the top line is in axes coordinates and stays fixed .
So I have a graph that runs on an order of magnitude 10000 time steps , and thus I have a lot of data points and the xticks are spaced pretty far apart , which is cool , but I would like to to show on the xaxis the point at which the data is being plotted .
In order to append one location ( e.g. ` 271 `) , you can first get the current tick locations with ` axes.get_xticks() ` , and then append ` 271 ` to this array .
I am not working inside a subplot , so this is not applicable .
Does this work for 3d axes ?
fraction 0.15 ; fraction of original axes to use for colorbar
In my subplots I am making four plots of the same data set , with each subplot having a different time range .
However , if I give each subplot the SAME time range then the minor ticks do not disappear .
That being said , if I manually create each subplot ( with each having a different x-axis range ) , set the minor tick locations , THEN set each subplot's xrange I do not see the minor ticks disappear until I set ax3's ( i.e. the last subplot ) range .
When I set the minor ticks for the first subplot ( called ax1 ) the minor ticks appear , as they should .
So , in the end I have only minor xaxis ticks in the fourth subplot .
Mine still shows up with only ticks on the last subplot .
I am hesitant to label it as such , but it seems to me that all subplot axes should be independent of other subplots , and this seems to not be the case here .
You are passing the same object to each of your axes .
This object's contents are modified when you plot on ax4 based on the range on that subplot .
I am using matplotlib timer objects to register my own update function for an animation .
The resulting figure has vectors with infinite length - no matter how much I extend the axes ( the parameter lim ) The arrows ' head is not seen :
I have a simple scatter plot where each point has a color given by a value between 0 and 1 set to a chosen colormap .
I wanted the colorbar to show only the max and min values , ie : 0 and 1 and Joe helped me do that by adding ` vmin=0 , vmax=1 ` to ` scatter ` like so : #CODE
The warning about axes not being compatible is true whenever you manually add axes .
( ` scatter ` , et al , set it to the exact min and max of your data , by default ) If you pass in ` vmin=0 , vmax=1 ` to ` scatter ` , the ticks will show up .
If you have axes that aren't subplots , it will give that warning .
You want to have axes that aren't subplots ( the colorbar ) .
I am plotting and saving thousands of files for later animation in a loop like so : #CODE
I think what I want to do is reuse my axes like in this answer : #URL but I don't understand how .
Python / Matplotlib - Change the relative size of a subplot
I am unable to change the axes labels , scale , provide titles or anything .
To do that you also need to import FigureCanvas from _qt4agg matplotlib backend module and Figure class : #CODE
Then in the Matplotlib class definition you create instances of the Figure subplots and Figure canvas , that can then be used to interact with your plot from the main window .
What I would like to do is to have a graph which will plot my data in it's current format , but ignore missing points and draw a line between the point before the missing data and the point after ( i.e. interpolating the missing point ) .
Hm , ` matplotlib ` should draw a straight line between successive points in the plot .
Now one more thing , my original plan was to give the user the ability to draw a rectangle threshold i.e y between 2 and 4 , x between 0.5 and 1.5 for example in this graph ( with the xticks as they are [ 0 , 0.5 , 1 etc ]) then that would result in the blue , purple and red lines intersecting the rectangle and the code would then output the handles to these lines , see this image : #URL The rectangle threshold is the pale green region .
matplotlib : figlegend legend is empty box after upgrade to matplotlib 1.1.x
How can matplotlib 2D patches be transformed to 3D with arbitrary normals ?
How can matplotlib 2D patches be transformed to 3D with arbitrary normals ?
I would like to plot Patches in axes with 3d projection .
However , the methods provided by mpl_toolkits.mplot3d.art3d only provide methods to have patches with normals along the principal axes .
How can I add patches to 3d axes that have arbitrary normals ?
to transform your 2D patches to 3D patches with arbitrary normals .
Modifying this last step , we can obtain patches in 3D with arbitrary normals .
I want to do something similar where i draw 3d patch shapes on a surface plot .
You would have to draw two circles separated by the height of your cylinder and then connect the two end caps with lines .
What I want to do is create an animation in which the nodes of a graph change color with time .
When I search for information on animation in matplotlib , I usually see examples that look something like this : #CODE
Completely different approaches are welcome , of course ( it seems like there's always many different ways to do the same thing in matplotlib ) , as long as I can save my animation as an mp4 when I'm done .
The easiest way to do this is to draw the ` nodes ` and ` edges ` using ` nx.draw_networkx_nodes ` and ` nx.draw_networkx_edges ` which return ` PatchCollection ` and ` LineCollection ` objects .
best animation tutorial I have seen : #URL
Create a scrollable legend in matplotlib - Python
I was wondering is there a way I can make the legend scrollable vertically .
The reason for this is that I have too many lines on one graph to display them on a fixed legend with a font of a good readable size .
Flip x and y axes for Matplotlib imshow()
How would I switch the x and y axes , either with ` imshow() ` or to the ` numpy ` array before I send it to ` imshow() ` ?
Python : 3D scatter losing colormap
I'm creating a 3D scatter plot with multiple sets of data and using a colormap for the whole figure .
The force update is working by keeping the colors but only on the last scatter plot drawn .
I tried making a loop that updates all the scatter plots but I get the same result as above : #CODE
All this does is draw three color bars without fixing the problem of the scatter points turning blue when the figure is rotated or saved .
Just add a ` facecolor ` parameter to the Figure : #CODE
Presumably you could remove the previous histogram but leave the axes ( easier if you keep the return values from the plot command ) .
Plotting Weekly Tick Data From A Year Time Series
you need to set ` yticks ` before you set ` yticklabels ` : #CODE
Pandas Tick Data Averaging By Hour and Plotting For Each Week Of History
And could we make a simple legend / key with the week numbers ?
Hide Matplotlib Text during save
If you want to get really clever , you can monkey patch your ` Figure ` object : #CODE
I was very impressed at its power and simplicity -- five minutes , and I had an animation of a ball bouncing up and down with gravity .
1 ) Create the FigureCanvas before adding the axes .
I've embedded a matplotlib figure in a Qt ( using PySide as bindings ) , and am using the draw function to redraw the figure : #CODE
I'm also panning and zooming into this figure , and have been using the draw method to show the new perspectives from zooming in ( using set_xlim and set_ylim ) and from panning ( drag_pan and start_pan ) .
When it pans , I'm making new plots using blit , but I want to make sure that this isn't being redone during the draw method and everything is running efficiently as possible
When I pan , I need to be able to create new points , so I've modified the code from the navigationaltoolbar to get more control of the process .
The following code first displays what I need as a subplot and the second one shows all I can do , which is not sufficient .
You can make use of matplotlibs object oriented interface rather than the state-machine interace in order to get better control over each axes .
It takes a existing axes
derived from the Locator .
a new axes on the given side of ( top , right , bottom and left )
of the original axes .
Besides that , I need to adjust the yticks of the image itself in a way that at the moment the yticks are the index of the field , but they are representing a certain range in form of bins , so I'd like to write this at the axis instead of the index .
Is there a way to replace the yticks ?
I have used this in the exmaple ( rightmost axes ) .
drawing line on scatter graph in python
I have some code that plots data points on a scatter graph and draws two lines on it .
You can prevent the axes from being rescaled when you draw your ' box ' using ` plot ( ..., scalex=False , scaley=False )` .
However , I would suggest you use something like a ` Rectangle ` to outline your points , e.g. : #CODE
Text is an ` artist ` and you animate it exactly like any other ` artist ` : #CODE
Matplotlib Figure Editor with QT4 ( Solved )
In ` matplotlib ` there are ` Axes ` objects , ` Figure ` objects and tons of others .
I don't want to repeat code , e.g. , every plot method has a call to change the axes to the same values .
To show a plot you'll want to use ` fig.canvas.draw() ` where ` fig ` is an instance of the ` Figure ` class .
If you need to get the ` Axes ` or ` Figure ` from an ` AxesImage ` object you can call either ` im.get_axes() ` or ` im.get_figure() ` , respectively .
On top of that layer are ` artists ` which know how to draw them selves by tell the ` backend ` object what to do .
For example , the ` Axes ` object keeps track of it's children ` Artists ` which are the axes spines , tickes , labels , your lines or images etc and ` Axes ` objects are children of ` Figure ` objects .
When you tell a figure to draw itself ( via ` fig.canvas.draw() `) all the children artists are drawn recursively .
One draw back of this design is that a given instantiation of an ` Artist ` can be in exactly one figure ( and moving them between figures is hard ) so you can't make a ` AxesImage ` object and then keep reusing it .
` Axes ` objects know about things like tick location and labels and the display range ( which it does by knowing about ` Axis ` object , but that is getting even more into the weeds ) .
Things like ` vmin ` and ` vmax ` are encapsulated in ` Normalize ` ( doc ) objects which the ` AxesImage ` keeps track of .
You'll probably want to play around with sharing axes , axes labelling and all the other fun things that ` matplotlib ` offers .
I am trying to generate a 2-D contour plot of some data ( generated by a calculation at points on a Blender plane ) .
My question is ... what is the simplest way for me to mash these data points into a set of arrays that I can contour plot with Matplotlib ?
They are perpendicular , but not directly relevant to the principal axes of your original data .
They are principal axes with respect to massaged data .
Python : find contour lines from matplotlib.pyplot.contour()
I'm trying to find ( but not draw ! ) contour lines for some data : #CODE
I know ` cn ` contains the contour lines I want , but I can't seem to get
You can get the vertices back by looping over collections and paths and using the ` iter_segments() ` method of ` matplotlib.path.Path ` .
Here's a function that returns the vertices as a set of nested lists of contour lines , contour sections and arrays of x , y vertices : #CODE
How do I annotate with power of ten formatting ?
Reverse Z Axis on matplotlib 3D Plot
I'm trying to contour plot a function that's 0 at the 4 vertices of
EDIT : I realize there's more than one way to draw contours for given data .
In matplotlib ` contour ` ( the way you are calling it ) expects an array of ` z ` values .
Triplets aren't allowed , if you want to contour non-meshed data you're probably looking for the extensive tri-* routines in mpl . tricontour being one of them .
How to plot a scatter plot using the histogram output in matplotlib ?
I want to plot a scatter plot similar to this one :
I can plot a histogram from my data but i want a scatter plot for the same data .
Is there any way i can use the hist() method output as an input to scatter plot ? or some other way is there to plot scatter plot using the hist() method in matplotlib ?
Essentially ` plt.hist() ` outputs two arrays ( and as Nordev pointed out some patches ) .
Why not use the " standard " ` n , bins , patches = ax1.hist ( ...
If you don't want the patches , just use ` np.histogram ` .
I have a scatter plot set up and plotted the way I want it , and I want to create an .mp4 video of the figure rotating in space , as if I had used ` plt.show() ` and dragged the viewpoint around .
Instead of saving individual frames I'd prefer to use Matplotlib's built in animation support .
Matplotlib : panel label out of the box , above the ylabel
I've got an animation with lines and now I want to label the points .
These vectors change their legnth and their direction in each animation step .
Without animation this works : #CODE
My Vector animation problem I have solved with this : #CODE
AttributeError : ' list ' object has no attribute ' axes '
@USER I am also attempting to return a list of objects ` pyplot.text ` and ` matplotlib.offsetbox.AnnotationBbox ` , and I recive the same error ` AttributeError : ' list ' object has no attribute ' axes '` .
Are you sure that hist is the correct function ?
If that is the case , you could just draw a bar chart ( e.g. , ` mpl.bar ( x , spectrumnoise , width= 0.25 )`)
When you hand ` hist ` a list of arrays as its first argument , it treats each element as a separate dataset to plot .
From the ` hist ` docstring :
When the number of data points exceeds a certain amount , the line does not draw to the end -- there's white space on the far right that I cannot get rid of .
I could use a ` xlim ` to shrink the xaxis after plotting so that the part cut off is cut off the axis as well , but I'd rather not to as I'd like to keep my axis the way it is .
I thought about adding an additional element to ` bins ` and a zero to ` data ` and using ` xlim ` afterwards , but this strikes me as a really quirky fix .
The default Locator used by matplotlib looks at your data range and tries to pick limits that let you have ' nice ' tick spacing .
Use your ` Axes `' ` set_xlim() ` methods to avoid the autorange behavior you're seeing .
I still have to learn how to use axes .
How do you hide or show an Axes object ( subplot ) in matplotlib so you can toggle between different Axes in the same figure ?
I'm using matplotlib to display graphics in a Tkinter GUI and I'd like to use radiobuttons to switch between different axes in the same figure .
You can remove axes from a figure with figure.delaxes ( and add with add_axes ):
Two pieces of this are tricky : interpolation ( see Tom's comment ) and your desire to plot different sensors in the same subplot .
I suspect ` linestyle= ' none '` would also work and is a bit more semantically correct ( doesn't draw lines instead of drawing zero-width lines ) .
Change subplot color in DataFrame ?
I would like to change color of individual subplot :
You can grab the axes and set the limit with plain matplotlib : #CODE
I tried your code at different places but parallels+meridians still draw outside the region of interest .
I'm trying to install vn 1.2 of Matplotlib on my Ubuntu computer so that I can use some of the animation features .
How can I annotate a range of my data ?
If I was annotating by hand , I would just draw a large bracket above the range and write my annotation above the bracket .
- perhaps extend the ` AxesSubplot ` class instead of using a function ; this would allow it to act more like the ` annotate ` method -- no need to pass the axis .
and the plan would be to submit this as an ` Axes ` method .
You can also directly monkey-patch this in to ` Axes ` as-is .
Ah , ok -- submitting as an Axes method makes way more sense than whatever it is I said .
Smooth contour plot in matplotlib from 3 lists of different size
What you want seems to be a ` contour ` plot with a ` colorbar ` .
` contourf ` and ` contour ` methods don't draw anything where an array is masked ( see here ) !
Deleting and Redrawing Matplotlib Animation
I'm trying to be able to create an animation in a PySide window , and then later destroy and reanimate it based on new information .
Create a widget in the window for drawing the animation
Delete the widget and animation
How can I get rid of the current animation so that I can redraw a separate one ?
Instead of deleting the widget and the animation , why don't you refresh the data ?
@USER : In my actual program , I want the animation to be displayed or destroyed under certain conditions according to user input .
You can blur using one of the colormaps from ` matplotlib.cm ` .
hatched rectangle patches without edges in matplotlib
For the legend in plots there seems to be a fancy bbox option ... but not for colorbars
I'm trying to save a figure in pyplot with tight margins .
Long error in contour plot python
I am trying to create a contour plot with the x coordinates being label EF and y being labeled EB and z being a function labeled a .
I have tick data that I wold like to transform in OHLCV ( Open , High , Low , Close , Volume ) Daily , Hourly , 15min , 5min , 1min .
How can i place matplotlib animation on tkinter canvas ?
I am trying to add the animation to tkinter canvas .
How can i place matplotlib example animation on tkinter canvas either by grid or pack methods .
@USER : I already referred the links , but i am unable to implement the same for " imshow " and animation .
@USER i am drawing imshow on canvas ( figurecanvastkagg ) with artistanimation im running animation and also drawing some line on the same canvas using create_line . now how can i remove the animation alone without removing the canvas and line .
i can able to remove entire canvas but not animation ?
i have added my new modified code in the above post please have a look at it . please clarify . how to stop or remove animation and removing image and preserving the line , canvas
Text rendering With LaTeX
The " array " you show can not correspond to the axes you show .
I'm attempting to create a scatter plot with errorbars in matplotlib .
I'm trying to plot some data using Matplotlib's 2d scatterplot function while at the same time , producing projected histograms on the x and y axes .
Let's say I have two histograms and I set the opacity using the parameter of hist : ' alpha= 0.5 '
Yes , however the key to the problem is not ` set_visible ` but ` draw ` :)
It will draw a figure with an annotation .
A scatter plot or line plot would be ideal .
You are defining your yticks with the wrong dimension of data !
Image zoom / pan does seem to run a bit slow , but that could be another issue altogether .
I programmed it such that the user has the ability to play and pause the animation .
Now when the user pauses the animation I get the following error : AttributeError : ' FigureCanvasWxAgg ' object has no attribute ' _idletimer ' .
And wish to overlay those signals in the same subplot .
One way of achieving this is to make use of a ` Locator ` and a ` Formatter ` .
The issue is that in ` Axes.errorbar ` there is a default value of `' - '` for ` fmt ` , which is then passed to the call to ` plot ` which is used to draw the markers and line .
Bar plots :
` matplotlib ` also offers the function ` boxplot ` to do vertical box plots .
matplotlib's ` boxplot ( ..., vert=False )` makes horizontal box plots .
Strangely my labels for xticks are not fitting in the figure when I do this ( which is precisely the reason why I wanted to use horizontal box plots ) .
Matplotlib : twin axes and set_equal
[ xy ] axis.grid ( True , which= ' minor ') , but the grid disappears when I plot the twin axes ( using matplotlib 1.1 ) .
I want to plot these ` ( x , y )` points in a scatter plot but giving to each of them a marker according to the values in this third list .
The way ` scatter ` works underneath each call can only have one marker shape ( which can then be sized and colored ) .
Bar plot showing odd error line
Matplotlib set axes limits don't match shown limits due to sharex and equal aspect ratio
If you want to keep the x-axes shared , I believe you have to enlarge the bottom axes ' height , or accept that the limits of the upper plot change as well when you change the limits for the bottom plot .
I plotted as a scatter plot with gnuplot but I would like to represent as a heatmap2d or density distribution .
hist , edges = histogramdd ([ x , y ] , bins , range , normed , weights )
my scatter plot look like this
i want to show this picture as contour map or density map with color code bar .
This script is working but it gives scatter plot not density or histogram2d .
I want to make a contour map from histogram2d .
What is it in your opinion , what makes the histogram generated with ` process.py ` a scatter plot and not a histogram ?
And a contour map is something quite different from a heat map .
I made a scatter plat with my data but i want to show it by density map with different color .
If you're willing to do everything in Python , you can compute the histogram and build a contour plot in one script : #CODE
Matplotlib 1.3.0 , legend line and text do not match
In this case the legend labels come from txt files , with a `' \n '` character at the end .
The solution to keep using the same algorithm in Matplotlib 1.3.0 is simple , just add a ` strip() ` call before passing the legend label to ` plt.plot() ` : #CODE
If i increase the ylim to 3e7 it automatically changes it to standard form
@USER apparently you can just do : ` plt.gca() .ticklabel_format ( style= ' sci ' , scilimits =( 0 , 1 ) , axis= ' y ')`
This can be done by manually setting the format strings for the yticks : #CODE
@USER Not convinced that ` clip_on ` shouldn't work ... the annotation code is a bit finicky ( I think it got written first , then artist got re-factored , and annotation never got update )
By default in data units the annotation is only drawn if it is in axes .
You might be better off using a blended transform : #CODE
Second , the ` DateFormatter ` only takes the xticks from the plot and reformats them ; it only formats the existing ticks .
I have been following this chapter to embed a matplotlib Figure into a QTdesigner generated GUI .
my aim is to store the output locally and then import matplotlib to draw some pretty nifty graphs of bandwidth usages , cpu usages , memory usages and also interface usages .
Using ` xlim ` and ` axis ` was of no use , as it only allows the beginning and end of the x-axis to be set but no intervals in-between :
You have an example of the broken axis in the matplotlib examples : Broken Axis
I am using matplotlib to make scatter plots .
I want the markers in my scatter plot to be custom objects .
I had x , y , height vars to build a contour in python .
then i did a contour using tricontourf #CODE
Where do I tell pyplot , that I want to draw graph G ?
So , if I want to draw 2 graphs : #CODE
Please don't kill me about this stupid code , I am just trying to understand - how do networkx draw something matplotlib , while it even doesn't import yet !
Just create two different axes if you want to draw the graphs separately or create a single ` Axes ` object an pass it to ` nx.draw ` .
Finally , you could create a subplot if you wanted , like this : #CODE
Then an ` Axes ` object is added to the figure if one doesn't exist , otherwise get it from the environment using ` gca ` .
draw it with an internal function
turn off the axes
lastly if we're in interactive mode , draw it and reraise any exceptions that were caught
Matplotlib : Can a plot a line from one set of axes to another ?
I wish to plot marker " x " at say [ 100,100 ] and then plot " o " at [ 20% , 30% ] ( different axes , same plot ) and connect them with a line .
I can do something similar on the same axes ( with the same units ) with one call to plot the line , another call to plot the " x " and a final call to plot the " o " .
However , how can I get the line to go from one set of axes to the other ?
Without some more context we may only guess how you have created your axes .
You can use ` annotate ` to draw single lines : #CODE
I need a figure in matplotlib where both axes are always the same length .
Figure 1 :
Figure 2 :
` set_aspect ( ' equal ')` means that one unit on the x-axis is of same length as one unit on the y-axis , as seen in your Figure 1 .
Taking the quotient of ` x ` and ` y ` you should be able to scale the axes so that they have the same length .
How do I get the " subsm " The varible label in PER_CHG to display in the legend ?
I am trying to create a filled contour plot with discrete contour levels which I need to control in order to compare values from different data sources .
Yet , your result is also not what I want , because the levels should go up to 360 and show dark red as the final color , even though there is no dark red in the contour plot itself .
Nasty " feature " of contourf to accept " level " without complaint and making it look almost right .
Exporting a matplotlib animation to an image
I have a matplotlib animation ( for instance one of these ) and I want to export it to a SVG image where several frames are superimposed ( e.g. in this paper , Fig . 2 . on the 5th page ) .
Unfortunately I can't view the .pdf at the moment , but my approach to solving this would be to draw each ' frame ' of the animation in the same plot in matplotlib using ` plot ( x , y )` , and then use ` savefig ( ' image.svg ')` ( if .svg is a format that can be saved in this manner from matplotlib ) .
The yellow is still 2 , your top line ( which you aren't drawing ) is red , and above the 3 contour is white because it is outside of your levels .
OK , I think I got the idea how this default colormaps are used ( and I'm not bothered by that white ) , but ... then is there a way to make the colors behave as _I should expect_ ?
ie . using a ** colormap ** with colors from ** c0 ** to ** c8 ** let's say , for simplicity , but I still am referring to the _default_ colormaps ): when I set ` levels =[ 0 , 0.09 , 0.1 , 0.11 , 3 ]` I expect it to use ** [ c0 ( for 0-0.09 ) , c2 ( 0.09-0.1 ) , c4 ( 0.09-0.1 ) , c6 ( 0.1-0.11 ) , c8 ( 0.11 - 0.3 )] ** instead of using ** [ c0 ( 0-0.09 ) , c1 ( 0.09-0.1 ) , c2 ( 0.1-0.11 ) , c6 ( 0.11-3 )] ** .
The correct place to put the non-linear behavior is in the ` Normalize ` functions .
If the border can be removed then I can draw the x-axis line separately .
. A Google search for " hide axes matplotlib " gives that as the 5th link .
Remove the spines : #CODE
If you want to remove all spines ( and probably ticks as well ) , you can do #CODE
` subplots ` function returns a ` ndarray ` of axes .
With ` squeeze=True ` that case would return the axes instead of the array containing the axes .
@USER Also if you use ` squeeze=False ` change the last line to ` axes [ 0 ] [ i ] .imshow ( im )` since then the axes will be a 2D array .
The following code gives me a plot with significant margins above and below the figure .
I don't know how to eliminate the noticeable margins .
` tight_layout ` eliminates some of the margin , but not all of the margins .
So my question is : Could you suggest a way to accommodate the size of the figure to the size of the axes with arbitrary aspect ratio ?
In other words , first I create a figure and an axes on it , and then I change the size of the axes ( by changing aspect ratio for example ) , which in general will leave a portion of the figure container empty .
Anyway , this only change the size of the axes inside the figure .
( 2 ) ( more complitated ) using ax.get_position() to measure the axes aspect ratio .
The latter needs some more computation because the axes position is expressed in a [ 0 , 1 ] x [ 0 , 1 ] relative coordinate space .
After plotting your chart you can easily manipulate margins this way : #CODE
This example could be changed to the aspect ratio you want or change the margins as you really want .
In other stacktoverflow posts many questions related to margins could make use of this simpler approach .
I have this little formatter function that works with various x-y graphs that have different extents for both axes , so that I've found that it's necessary for me to write , say , ` plot_marginx = 0.05 * ( x1-x0 )` and to put that before the ` plt.axis() ` line ... likewise of course for y .
I just discovered how to eliminate all margins from my figures .
Since it expects a string it tried to transform it to string using the tuple's ` __str__ ` method which gave you got output you got .
Now I want to draw a line instead , using the same as above but plot_date ( dates , values , fmt= " - ") :
In your example you create a figure and axes on-the-fly and keep plotting in that same axes .
Clearing the axes before plotting would solve your issue , try adding ` pyplot.cla() ` as the first line of your loop .
I would prefer making a figure and axes object : #CODE
With your solution you have to re-create the ` Axes ` instance for every iteration , since you are clearing it from the ` Figure ` ( which is what ` gcf() .clear() ` does ) .
Since you are not changing the layout of your plot ( number of subplots , placement of subplots etc . ) , it is more efficient to clear out the ` Axes ` instance instead .
Then you have to create the ` Axes ` instance only _once_ .
Also , I'm not sure ` axes.plot ( *args , ** kwargs )` , when used with one argument , is used for data on either axes .
I'm converting a Shapely MultiPolygon to a PatchCollection , and first colouring each Polygon like so : #CODE
However , I need to create an animation of how the program proceeds , i.e. , something like :
I think it because it tries to draw before finishing the previous drawing or something like that .
The following ` MWE ` produces a simple scatter plot : #CODE
The limits for both the x and y axes are , by default , ` ( 0.0 , 1.0 )` , which is why the lower y limit remains at 0 .
Matplotlib + Qt : tight_layout() doesn't work on the first draw
When I'm done setting up the axes and putting data on the graph , I call #CODE
The tight layout does apply when I clear the axes and repopulate the chart .
Seems like there's no need to explicitly call ` draw ` or ` processEvents ` .
It is better to say , I have managed to save the chart's RGBA buffer to a variable using Python script , then get the value of the variable as a PyObject of buffer type , get the buffer and transform it to QImage then to QPixmap and finally put it into QLabel and display it .
Matplotlib Bar Customization
If you want to plot this in a certain axes , simply provide this axes as the argument to the ` ax ` parameter .
I draw two plot_wireframe in a single figure .
( 1 ) How can I change the color of lines and add legend in the figure ?
To set the colour or adjust the legend label , set this directly in the plotting call : #CODE
This way the axes gets adjusted automatically .
I'm trying to put an upright mu in my axes labels , but matplotlib just shows a square box .
For this purpose , I need to transform a meshgrid of x and y coordinates of the raster data into the coordinate system of the plot , for example polar stereographic .
If I could get a reference to the coordinate system of the Basemap instance , I could set up a coordinate transform directly between the GeoTIFF dataset and the map .
I'm wondering if it's possible to plot a contour ( level curves ) graphic from a 2D image in Python .
Did you see #URL - it is the top hit when googling " matplotlib contour plot " .
You can use the function ` contour ` from matplotlib .
You can also fill them in with ` contourf ` instead
@USER Take the example code I have and change ` contour ` to ` contourf ` .
As it is , the artist labels are set in the call to legend , instead of when the artist is created .
This means that there's no way to retrieve what's displayed in the legend for a particular artist .
All you'd need to do is just pass in the labels as a kwarg to ` scatter ` instead of as the second argument to ` legend ` , and things should work as you were wanting .
@USER you could create one ` figure ` with 9 ( 3x3 ) plots , using ` subplot ( 33x )` where ` x ` is 1-9 and indexes into the 3x3 grid .
If you search on stackoverflow there are plenty of answers on using ` subplot ` like this .
The issue here is that hist is an array of ` int `' s and dividing integers is tricky .
Or the other suggestion made by @USER just use the ` normed ` argument in the call to ' hist ' .
This rescales all the numbs in ` hist ` such that the sum of their squares is ` 1 ` , very useful when comparing values .
I draw each plot running a loop along x and y like this : #CODE
Finally , I set the axes and show the chart with the interactive navigation : #CODE
Try showing us a specific snippet of code that draws the cube , and then what you're doing that you'd expect to draw the 6 vectors
How to draw the cube and the arrows , or how to do the user interface to ( manually ? ) change the position of the objects ?
If you dont , i think coordinates are assumed to be equal to the axes projection .
Ideally , try to always be specific about the coordinate reference system your data are in when plotting with cartopy ( via the transform keyword ) .
If your extents are in Geodetic ( lats and lons ) you will have to transform the bounding box into the mercator coordinates , but other than that , everything else should work as expected .
NOTE : I'm going to go and update the example to include the transform argument ;-) ( PR : #URL )
Resizing a single subplot in matplotlib
I'm also having trouble trying to gives a legend for the top subplot .
Also to my understanding you must add a ' label ' to your plot in order to create a legend .
However , all the data to the top subplot is plotted at the same time ?
So i want to do a hist plot with matplotlib .
By default , ` hist ` produces a plot with an x range that covers the full range of your data .
I you want to have always the same view you can fix the limits with ` xlim ` .
Show consecutive images / arrays with imshow as repeating animation in python
I want to show these arrays one after the other , like an animation .
simple animation
Well with the code as above it gives me _AttributeError : ' Figure ' object has no attribute ' set_data'_ But I have changed this so many times I think Ive seen pretty much all errors .
you want to be calling set_data on the artist you want to update , not on the figure .
This runs without errors , however I dont see an animation , just the first image .
does it show and animation for you ?
Removing ani = will make the animation not be executed .
To make sure that the animation opens in its own window , rather than being displayed inline ( it doesn't work inline ) .
I want to draw and delete some lines .
But as long as I am doing an animation I also want to delete that lines and shapes .
I am trying to do an animation using the ` FuncAnimation ` module , but my code only produces one frame and then stops .
You need to keep a reference to the animation object around , otherwise it gets garbage collected and all it's timers go away .
As written , your code well only plot a single point which won't be visible , I changed it a bit to draw up to current index
Now , there is an explicit need to specify two axes , one for the arrows and one for the colorbar .
Suspect you will be better off drawing patches by hand than using ` matshow ` / ` imshow ` ( which will , I think , fill your sparse matrix ) .
Numpy doesn't care what the axes of your matplotlib graph are .
Make contour of scatter
I can make a scatter with #CODE
How I can get a ` plt.contourf ( x , y , z )` of the scatter ?
` contour ` expects regularly gridded data .
Use the following function to convert to the format required by contourf : #CODE
In matplotlib I like to customize my plots by shifting the spines from the origin , for example : #CODE
well that interferes with my nice spines see [ here ] ( #URL )
@USER So you wan't the axes to be from 0 to 9 and full circles ...
@USER yes , I eliminated that one since I thought the OP doesn't want the circles to touch the spines .
I basically draw many lines which overlap .
matplotlib + wxpython not sizing correctly with legend
Everything works fine until I include a legend but then the sizers don't seem to be working with the legend .
Even when I resize the window by dragging at the corner , the main figure changes size , but only the edge of the legend is ever shown .
That is , note that the legend is not visible in the wxFrame .
I've put the legend outside of the axes so that it won't cover any data points , and I'd prefer that it stay to the right of the axes .
` Fit ` is a wx level function that will resize the _figure_ to fit in your window , the legend is _part of_ the figure widget .
The bounding box changes size after the draw because the size of the text isn't sorted out until the figure is drawn .
You want a ) the legend to not be on the ` axes ` and b ) to be able to see the legend .
The only way to do that with the legend to the right is to make your axes take up less space in _figure fraction_ units .
It seems like what is happening is either a bug or that I'm doing something wrong , but intuitively , the size of the figure / canvas that wx uses should also include the legend , even if the legend is outside of the axes .
Pretty sure the ` bbox_to_anchor ` kwarg is over-ridding the ` loc ` kwarg and you are pegging the bottom left of the legend to ( 1.05 , 0.5 ) in axes units .
If the axes expands to fill your window , the left edge of the legend will always be 5% of the width axes to the right of the right edge of you axes , hence always out of view .
You either need to put your legend someplace else or shrink your axes ( in figure fraction ) .
option 1 move the legend : #CODE
option 2 move the axes + resize the figure : #CODE
Instead , I want a good way to get the plot to fit nicely in the frame while the legend is outside of the main figure .
` matplotlib ` can only draw to it's canvas , and it's canvas is the size of the ` figure ` widget .
Be a bit careful about the nomenclature , the ` figure ` is the wiget and the ` axes ` is the white box you can draw lines on to .
You can put the legend outside of the ` axes ` , but you can't put _anything_ outside of the ` figure `
You can ask the aritists ( the axes and the legend ) how big they are on the rendered figure and then programtically re-size them .
I need to create filled contour plots of sea surface temperature ( SST ) data within a polygon , however I am not sure the best way to do this .
I would like to be able to plot these data as filled contours ( contourf instead of scatter ) that are constrained ( clipped ) within the polygon boundaries ( the purple line ) .
I tried the suggested solution implied in : " The contour set itself does not have a set_clip_path method but you can iterate over each of the contour collections and set their respective clip paths " .
I have tried to draw lexicographic graphs with python33 networkx and matplotlib running on Linux Fedora 19 KDE , 64 bits .
I am trying to create a scatter plot with Matplotlib , and once I have the scatter plot ready , I would like to change the range in the date axis ( x-axis ) to focus on certain times in the data .
If I comment out the ` ax.set.xlim ` line , I get the scatter plot , however with some default x axis range , not even matching my dates .
If you put the ` xlim ` after ` scatter ` this works for me .
Try putting ` ax.set_xlim ` after the ` scatter ` command .
python : scatter plot logarithmic scale
I would like to annotate these lines with a text label that matches the slope of the lines .
I've tried both ` text `' s and ` annotate `' s rotation parameters , but those are in screen coordinates , not data coordinates ( i.e. it's always ` x ` degrees on the screen no matter the xy ranges ) .
I think it tries to get the data transform then do the rotation through that , but it's not clear that's right .
get line's data transform ( i.e. goes from data coordinates to display coordinates )
transform two points along the line to display coordinates
I draw the line however I want , then draw the annotation , then bind them with a helper function : #CODE
Then call another helper function after layout but before ` savefig ` ( For interactive images I think you'll have to register for draw events and call ` update_text_slopes ` in the handler ) #CODE
How to add a legend to a matplotlib eventplot ?
Does anyone know how to add a legend to matplotlib's new plotting type , eventplot ?
It is best to provide run-able examples ( which set up the axes and include fake data , and all of the plotting parameters ) in your questions .
The key point that make me understand is that the aspect refers to the data rather than the axes .
I have tested the ` contour ` function , but the data is quite irregular and the plots look quite bad .
I'm not sure how this will turn out but you could use different colormaps and overlay one plot on top of the other and play with the alpha ( transparency ) of the top one .
I would do a scatter plot , where the color is one value , and the size is another .
And here , from your existing data you can grab x-y points with ` np.meshgrid ` and use them in the scatter plot : #CODE
It is important to note that axes origins and scales have to match .
I think you have to use two separate axes .
` twin* ` is an easy way to get properly transparent overlapping axes , but sharing an axis is your main problem .
Axis are an arbitrary choice .
For me saving to pdf takes too much time and using pcolorfast with polar axes gives me a blank image .
Now I want to draw arrows coming out of each face of the cube , any idea how can I make that possible ?
You might also get somewhere with imshow + only showing a small section of the data + update on pan .
Also look into the ` animation ` module which will automate the timers and take care of blitting for you .
` f.show() ` does not block , and you can use ` draw ` to update the figure .
The problem is that , later , I have to represent the image contour in the function range .
But I couldn't find a way to have the x / y axes in the range -1 ..
I happened to be tweaking that code while checking stackoverflow for something else , so it's your lucky day .... below is a function that plots an image with appropriate tick marks on the axes .
This would plot an image , it would be fairly trivial for you then to use ` contour ( im )` after running this function to overlay contours on to a properly axisified map , although you have to be careful about the axis to make sure they're flipped in the ways that you want them ....
And you really should be using ` Formatter ` and ` Locator ` classes for setting the tick locations .
If you are plotting anything else on top of this graph ( where you make use of ` xticks `) then that is terrifying as the connection between the data and tick labels is now arbitrary and ( in my view , which is admittedly a bit extreme ) bordering on falsifying data .
You either transform _all_ of your data or none of it .
Or , for instance , if you're plotting data that's logarithmic or in any way doesn't use regularly sized bins , you have to disconnect the two ...
` pcolormesh ` can deal with un-even boxes , and if you are using logarithmic bins , you can use a logarithmic scale on the axes .
( doc ) It will also work with ` contour ` , ` contourf ` ect .
` ax2 ` is the bottom subplot .
Animation with pcolormesh routine in matplotlib , how do I initialize the data ?
I have seen many of the examples using the package animation , most of them using a 1D plot routine , and some of them with imshow() .
Below is what I would do to create a simple animation using pcolormesh : #CODE
It is the way I tried first ( iterating the plot inside a loop ) , but then I saw people recommending the animation package of pyplot .
Changing marker style in scatter plot according to third variable
I struggle with changing the marker style in the pylab scatter plot .
For me zoom , pan , and the various graph editing widgets work as expected .
setting xlim and ylim while using matplotlib ( something strange )
@USER contary to my snap answer , I don't think that should matter , ` plt.xlim ` will call ` plt.gca() ` which will make a current axes if one does not exist .
That same axes will then be picked up by ` plot ` and work fine ( just tested this ) .
` pylab.xlim ` is a shortcut that gets the current axes object and calls that object's ` set_xlim ` method .
Manipulate xticks , need every second xtick to just be the decimal and smaller font
But basically I have a plot where the xticks look like :
` xticks ( np.arange ( np.ceil ( xmin ) , np.ceil ( xmax ) , 0.5 ))`
You can create the xticks , e.g. , as follows : #CODE
it does however get a ` TypeError : ' list ' object is not callable ` with the ` xticks ( xticks )` ... changing this double-naming of ` xticks ` I still get a ` TypeError : cannot perform reduce with flexible type `
Just needs to be edited to have your ` xticks = [ ]` named something else e.g. ` xtks = [ ]` and instead of ` xticks ( xtks )` need to use ` set_xticklabels ( xtks )`
It's not the xticks but the xticklabels that you need to set .
And the second problem that you mention is because you need first to set the xticks as well in order to make sure that the labels and the ticks are matched .
I consider directly using ` xticks ` to be dangerous , it can in inadvertently de-couple your data from your axes labels .
The problem is that , later , I have to represent the image contour in the function range .
How to change the line colour for different lines in a subplot
Matplotllib plot scatter with circle sizes proportional from distance to mean
I would like to plot a scatter of values distances from mean in a scatter plot .
However , I would like to have the dots in the scatter proportional in size for the distance from mean , so a large distance would give a big circle and a small distance would give a small circle .
Just pass in the ` s ` parameter for the sizes of the dots and later annotate the dots .
You can play with the annotate function a lot more .
@USER Yes , pass a list of colors as the ` c ` parameter to the ` scatter ` function .
My guess is that before you were overplotting on top of previous axes ( accumulating them ) , which lead to longer savefig .
I have used the FuncAnimation routine from the animation package of matplotlib .
My problem comes saving the animation .
matplotlib contour input array order
Question : what order does the contour from matplotlib expect for the input 2D array ?
Elaborate : Matplotlib contour documentation says that the routine call is #CODE
If scalar_field is given to contour , #CODE
So what is the order that contour expect that scalar_field has ?
The ` contour ` doc string for matplotlib 1.2.1 states " * X * and * Y * must both be 2-D with the same shape as * Z* , or they must both be 1-D such that `` len ( X )`` is the number of columns in * Z * and `` len ( Y )`` is the number of rows in * Z* .
Your confusion is understandable and is due to the differences between numpy array addressing and the matplotlib 2D coordinate space used by ` contour ` .
But the answer is still the same : the first index into your ` Z ` array ( as specified by numpy ) corresponds to the * rows * of the array but the ` X ` array passed to ` contour ` ( as specified by matplotlib ) should correspond to the * columns * of ` Z ` .
You should plot using ` contour ` passing also 2-D arrays for ` X ` and ` Y ` , then each point in your ` scalar_field ` array will correspond to a coordinate ` ( x , y )` in ` X ` and ` Y ` .
I didn't find how to plot the legend though ..
This is only achievable with ` contourf ` rather than ` pcolor ` , you can do a similar thing but the color bar is a continuous rather than distinct .
For some reason mpl does not allow me to use ` pcolor ` on subplots , while ` contourf ` is allowed ..
how to move the tick and label position of the secondary x and y axes in python
I want to plot multiple axes using matplotlib in python .
I have done it using twinx() .twin ( y ) but I am not able to move the tick postion and the axis label with the spines of the new axes.please help me to fix this issue .
But how I draw diagonal crosses in each face , I'm stuck right know !
You can use patches .
How to shrink a subplot colorbar
E.g. in the boxplot below , I would like to overlay the text ( median , +- std ) on each box plot .
Assuming you are using the boxplot function to draw the boxplots , it returns a dictionary that holds the components of the graph .
As a side comment ` annotate ` is a bit more flexible than ` text ` .
How would one use ` annotate ` instead of ` text ` here ?
I've added them . tcaswell makes a good recommendation with annotate .
You could use annotate to create an offset for instance .
And with the axes adjusted so you can see the points better ( setting date range of x axis , setting range of y axis ): #CODE
It seems to me that this should be able to be figured out from matplotlib's transformation information on the axes instance .
correct aspect-ratio so I can simply draw my scatter and other diagrams
around the axes and an accurate shape ( square ) .
How to plot pcolor colorbar in a different subplot - matplotlib
What I want to achieve is to put a colorbar for a subplot in a different subplot .
` colorbar() ` accepts a ` cax ` keyword argument that allows you to specify the ` axes ` object that the colorbar will be drawn on .
This will take up the whole space given by ` subplot2grid ` ; you can adjust this to be more reasonable either by having the main axes take up many more columns than the colorbar axes , or by setting up the ` gridspec ` explicitly .
I added a section to the answer with another way to have the colorbar axes take up less space .
Just one thing : the second subplot call lacks gs variable
Can you change the ` plt ` calls to be OO calls as you are already creating and keeping track of the axes objects ?
No , ` cax ` sets the axes that the color bar is drawn to , ` ax ` is only used to determine which axes to steal space from if ` cax ` is not passed in .
Issues with python matplotlib and subplot sizes
Or just do your scatter plot in light grey , and overlay with a line of daily average values in a dark blue or red .
@USER - The problem with that is that the scatter plot takes a _very_ long time to render for a large number of points .
A big advantage of the " cunkplot " is that it's much faster to draw .
The documentation for the animation functionality is lengthy , but there are many examples at :
I'm trying to use blitting with pylab to animate my plots at a fast frame rate ; the code below seems to work fine , but plots new data on top of the old rather than replotting , so that I end up with a figure filling up with lines rather than one animated line ( in each subplot ) .
Secondly , in your rendering loop you need to restore the background before you draw any of your updated line artists on top , otherwise you'll always be drawing the background on top of your moving lines .
If you want the x-axis to also be updated during the animation , things get a little bit more complicated .
Firstly you'll need to set the x-axis to be animated for both sets of axes : #CODE
And finally , when you do the blitting you need to use the axes clipboxes , which contain the tick labels , rather than the bounding boxes , which do not : #CODE
With these changes the tick labels and the x-gridlines will get updated , but so far I haven't figured out how exactly to get the y-gridlines and the legend to be drawn correctly .
Also tcaswell is right to suggest looking at the ` Animation ` class - for your case it might work out to be a lot simpler , although I think it's also good to have an understand of how blitting works under the hood .
Axis missing in matplotlib
Without xlim / ylim set : #CODE
With xlim / ylim set : #CODE
Python : 2D contour plot from 3 lists , axes not generated in plot
I would like to create a contour plot showing the intensity of z with a colour scale at point ( x , y ) .
A question very similar to this has been asked and answered before ( Python : 2d contour plot from 3 lists : x , y and rho ? ) , but I am encountering problem where the x and y axis do not show up .
I have played around with the Python scripts shown in Python : 2d contour plot from 3 lists : x , y and rho ? and the number of interpolation points as well as the size of original lists / arrays appears to cause the problem of disappearing axis / failure to plot points .
Trying to draw ` imgdata ` results in the error : #CODE
I am trying to draw some objects with the fabulous Matplotlib package for Python .
These objects consist of points implemented with ` plt.scatter() ` and patches implemented with ` Poly3DCollection ` .
I would like to have the patches with a slight transparency so that the points and edges behind the patches can be seen .
Interestingly , if I first plot the ` Ploy3DCollection ` and afterwards the ` scatter ` points , the points can be seen , but not the edges .
In general the patches for the ` Line3DCollection ` have to be closed ( unlike as for the ` Poly3DCollection `) .
matplotlib.pyplot contourf function introduces holes or gaps when plotting regular data
I am trying to plot a 3D dataset using the contourf function in matplotlib.pyplot .
A surface plot of the data looks fine , but the contourf plot has a big hole in it .
Your question contains the answer as you have a class that will draw arrows between arbitrary points in 3-space #CODE
I'd like to get the plots " 2up " one next to the next for 3 rows total ( 5 subplots ) can't figure out how to handle that since all the subplot examples seem to be for subplotting ether the data or specific plots and specific grid placement .
So I don't know how to create the main plot and then subplot a number of graphs ( in this case 5 ) with titles as two-up ?
" What do you get when you type " type ( H7 )" I think the problem is that it's generating a new axes .
If you replace " do some plot " with a plt.plot ( data ) command , it will plot to the current axes .
( plt.subplot sets the current axes to the subplot returned ) .
@USER Why not use ` subplots ` and iterate over the zipped axes and ` subsm ` at the same time ?
How to change the text colour of font in legend ?
Is there a way to change the font colour of the legend in a matplotlib plot ?
Specially in occasions where the background of the plot is dark , the default black text in the legend is hard or impossible to read .
call ` Legend.get_texts() ` will get a list of Text object in the legend object : #CODE
Matplotlib legend fontsize
1.2.0 ` legend ` docs ( the oldest I could find online )
Plotting contour and wireframe plots with Matplotlib
I have to plot contour and wireframe plots for function .
and this is how it should look like ( scatter above works OK ):
how can I get some more solid-color schemes for contour than just colored-lines !?
@USER Use ` contourf ` .
Insert a Picture as the Background of a Figure ?
I wish to draw some pedestrian trajectories given the coordinates of every point on the trajectories .
So I am wondering whether it is possible to make my floor map as the background of the figure , and then draw the points and trajectories over it ?
matplotlib , subplot that takes the space of two plots
The dataframe plot method returns a matplotlib axes object .
You can call axes methods to customize -- #URL #CODE
What's important to me , is that the background of the ` Figure ` matches the background color of the GUI .
My partial solution would be to make the ` Figure ` transparent with the following code : #CODE
that supposedly will change the axes , but I get no interactivity : #CODE
also see Why is matplotlib.PatchCollection messing with color of the patches ?
legend gets multiple dots
The problem I'm having is that for each " dataset " I'm plotting , I'm getting two dots in the legend .
To make the axes not visible , try something like #CODE
( Ah , consulting matplotlib documentation , now I understand why I saw somewhere googling the subplot command . Somehow I thought " I do not need subplots .. " . )
At the end I used spines - I hope I will add my code tomorrow to help others .
It only shows how to delete all axes if I am right .
On Mouse-hover on a data point on scatter matplotlib plot , show label
Setting Different Bar color in matplotlib Python
How to create custom legend in matplotlib based on the value of the barplot ?
The Day of Week 4 is for example refer to Wednesday , is it possible to create custom legend which indicate 4 - Wednesday ?
How possible to add another legend in the custom legend ( 3 - Tuesday ) if only day of week 3 is displayed in the bar plot ?
If you want to do just one , it's easy , if you want to do a 3x3 grid , you just need to generate the layout and then loop over the axes sets + data .
Even though it does frustrate me a bit , it would be nice to be able to build a figure from figures like they were axes ...
The locator object you pass into ` set_major_locator ` is the object used by the axes to figure out where to put it's ticks both ` axes ` were using the same locater object .
As part of the draw the locator generates a list of where the ticks should be based on the limits of the axes which when it gets done for the second axes means no ticks are visible in the first axes .
Align matplotlib Text with colorbar
pyplot and semilogarithmic scale : how to draw a circle with transform
Probably the easiest way to do this would be to just use a plot marker instead of a ` Circle ` .
where ` transScale ` handles any nonlinear ( e.g. logarithmic ) scaling of the data , ` transLimits ` maps the x- and y-limits of the data into the unit space of the axes , and ` transAxes ` maps the corners of the axes bounding box into display space .
I would like some help on how to transform these structures so that two lines of min and max over date are displayed .
boxplot : index out of range error
It appears the only case you may have ` IndexError ` is in ` boxplot ` , when you try to plot an array whose length is not equal to that of your ` positions ` array .
I want to make a scatter plot of this data and add a color scheme based on a column of label ( N*1 ) , in float .
scatter plot from differnt data via matplotlib
My question is simple.Hot to make the two scatter plot in one figure ?
The other question is how to use the left y and right y axis together , say , the first scatter plot use the left y axis and , the second scatter plot use the right y axis .
Fortunately , all of the zoom / pan functionality is wrapped up in the ` NavigationToolbar ` family of classes .
matplotlib data accessible outside of xlim range
when I open the pdf in inkscape , I can select ( with F2 ) the entire data , it's just invisible outside of the specified xlim interval :
because it requires additional code and I would therefore prefer to use xlim
OSError : [ Errno 26 ] Text file busy on vagrant with synced_folder
I suspect there is an easier way to achieve what I did , instead of manually filling the x and y axes .
The ` contourf ` accepts a ` latlon ` keyword which , when true , accepts lat / lon inputs and converts it to the map projection automatically .
This code produces a boxplot using matplotlib .
I am working n a project where I need to do the top and side views of a cube , but I don't know how to draw the square that represent the view from the top .
So , How can I do the top view of the cube in a subplot like the example image ?
axes .
This can be used to rotate the axes programatically .
I would start with trying a version where you create the ` fig ` and ` ax ` outside the loop and simply clear the axes at the end of each run with ` ax.cla() ` .
I can see the axes changing to reflect the data but only the first point .
Your first attempt didn't work because you only created on ` Axes ` object using ` plt.plot ` .
Each subsequent call to ` plt.plot ` plots the new data on the same ` Axes ` with the old data .
Here , we're either creating a new ` Axes ` object for each iteration , or clearing the ` Axes ` object each iteration .
In both of the examples above the ax.clear and add subplot are right at the start of looping over the date so it gets cleared / overwritten each time I think .
The simplest idea is to plot contour plot of the decision function #CODE
h is just a size of your meshgrid ( smaller the h , more detailed the plot , but also it takes much longer to draw )
Specifying the line width of the legend frame , in matplotlib
In matplotlib , how do I specify the line width and color of a legend frame ?
For instance , what exactly is ` legend ` ?
I have also tried to run a simple legend like the below but it has not really worked .
To add a legend , if you set the colors with an array such as ` stacked_colors = [ ' #2166ac ' , ' #fee090 ' , ' #fdbb84 ']` and ` cols=stacked_colors ` , then it's easy to add a legend to a plot made from a pandas DataFrame :
I've attempted various things , such as the obvious construct the toolbar , set the sizer to the horizontal ` BoxSizer ` , and add it to the ` BoxSizer ` , but it doesn't draw ( although the ` InspectionTool ` will highlight where it should be ` , and when I close the window it throws a segfault .
Please note that you will have to manage the behavior of the buttons yourself , since some of them are push only ( fit-all , save ) , some are toggle ( zoom , pan ) and are mutually exclusive as well ... or you can just leave them all as push buttons as in ` NavigationToolbar2Wx ` .
Each of these arrays is assigned to its own subplot .
Visualization of scatter plots with overlapping points in matplotlib
I have to represent about 30,000 points in a scatter plot in matplotlib .
Furthermore , with the scatter plot is not possible to show how many points lie in each region .
Have you tried showing the histograms using contour instead of alpha blending ?
One approach is to plot the data as a scatter plot with a low alpha , so you can see the individual points as well as a rough measure of density .
In order to plot line with such equation you can simply draw a line through ` ( 0 , -w3 / w2 )` and ` ( -w3 / w1 , 0 )` ( assuming that both ` w1 ` and ` w2 ` are non-zero )
How to overplot a line on a scatter plot in python ?
You are telling ` matplotlib ` to draw a line going from ` ww1 ` to ` ww2 ` , which is exactly what it is doing .
Can anybody tell me how to draw the map above ?
I have been thinking about this without much luck and would really appreciate some help on how to implement this a draw the decision boundary ( initially before learning ) .
and ` get_window_extent() ` is the artist function that you want
I dunno what your problem is , but if you just want a simple scatter plot , take a look at this [ code ] ( #URL ) .
n , bins , patches = pylab.hist ( x , 10 , normed=1 , histtype= ' bar ' ,
Figure 2 however which is graphed at the end produces 4 lines exactly the same .
But the next step is to take the fourier transform to obtain frequency response .
In either case , be sure to put Fourier transform in the title it attracts people who know that function .
If you're looking for a power spectral density plot , have a look at ` matplotlib.pyplot.psd ` .
I am constructing a 3D scatter plot using matplotlib , but cannot get the figure produced to have a common origin for all 3 axes .
My code ( so far ) , i haven't implemented any definitions for the axes specifications because i'm very new to Python : #CODE
What have you tried , e.g. how do you set axes limits ?
By common origin , i mean where the axes all begin at the same point .
Ok , so you want to change the location of the coordinate axes .
Yes tcaswell , but I don't know if this will position the limits of all 3 axes at the same location .
You only have one axes .
In the plot there are 3 axes .
There are 3 ` axis ` objects , but only one ` axes ` .
There is only one origin in your axes ( 0 , 0 , 0 ) where the origins of the three ` axis ` line up .
When ever you plot call ` draw ` events get added to the queue of events for the main loop to process .
If you add them as fast as possible the loop can never clear it's queue and actually draw to the screen .
Figure GUI freezing
I have a code for a pcolormesh heatmap and dendrogram which works pretty great , except that if I have a prime number ( or sometimes not a prime number ) of samples and / or genes , the mesh no longer fits the subplot .
Yes , the whitespace is monstrous , and by " falls apart " I mean that whatever algorithm pcolor uses to divide rectangles no longer works ( maybe rounding errors ) , as I assume that the author meant it to cover the entire length and breadth of the subplot , though I could be wrong .
Adding a legend to PyPlot in Matplotlib in the most simple manner possible
TL ;D R -> How can one create a legend for a line graph in ` Matplotlib `' s ` PyPlot ` without creating any extra variables ?
Thus , I need a legend , however , taking a look at the following example below ( from the official site ): #CODE
How can I add a legend to my graph without having to create this extra variable and retaining the simplicity of my current script .
Then simply add ` Pyplot.legend() ` to the bottom of your script and the legend will display these labels .
This is the right idea , but you never add the labels so the legend will be empty
Add a ` label= ` to each of your ` plot() ` calls , and then call ` legend ( loc= ' upper left ')` .
Based on the documentation for networkx.draw the " pos " argument to the draw function accepts a dictionary which specifies the positions of the nodes .
However , when I try this I find that the positions is apparently ignored - or at least when I draw a graph and record the position of its nodes , and then use that dictionary as the pos argument for drawing a subgraph the corresponding nodes are not plotted in the same locations .
The first thing I tried to do was draw an arc on polar plot , as this seemed like a logical substep : #CODE
So the subquestion might be how do I draw an arc , in this case a 360 degree arc , at a given radius on a polar plot ?
Ultimately , as per the title , my objective is to draw concentric circles at a set of radii around a centre source .
These fill commands create polygons or polygon collections .
The image is given an extent which basically stretches it over the entire axes .
I'd like to draw different shapes using winged egde strucutre , so I have one class that actually draw any winged eged and another to define a cube and other shapes .
Now I want to draw 2 cubes on the same figure but I can't and I always get one cube in each figure .
I'd like to draw different shapes using winged egde strucutre , so I have : #CODE
and then I have one class for each shape that I need to draw for example : #CODE
The problem is when I want to draw two cube in the same figure .
I have tried many possible combinations of hold , gca and so on but in the end I get always one cube in Figure 1 and the other in Figure 2 .
Pass ` ax ` into the ` WEdge ` class , so they can all draw on the same axis : #CODE
I also realise that I could just change the labels of the y axis , but I also have another plot overlaid , so the yticks must be the actual values .
Python matplotlib scatter plot : changing colour of data points based on given conditions
As the documentation for scatter explains , you can pass the ` c ` argument :
On a double click for the limit I create a gtk dialog that pops up and asks for an input on the limit which then gets passed to the axes and resizes the graph and remakes the pickers #CODE
My idea was to use a ` Rectangle ` patch from ` matplotlib.Patches ` to accomplish this shading .
In the documentation , I can't find anything on how to transform the ` datetime ` coordinates to floats in the native transform of the plot I created by using the ` DataFrame.plot() ` method when I created the traces I'm trying to draw underneath .
Is there any simple way to draw patches on those plots generated with ` DataFrame.plot() ` ?
@USER why not just use subplot ?
I checked that before , but do not know exactly , how to access the subplot .
AttributeError : ' numpy.ndarray ' object has no attribute ' annotate ' is the error I get when trying to define the plot as ax1 and use ax1.annnotate .
My issue was that I did not know , how to access each subplot data .
python / matplotlib - How to put the legend of arrow
How can I put the legend of arrows drawn using pyplot.quiver or pyplt.annotate method .
I would like to put simple legend which desplay three different color arrows in such a simple way that , #CODE
You can use the quiverkey function to make a legend for arrows .
I am plotting a scatter plot of the number of restaurant reviews in week_n vs .
Since number of weekly review values are discrete and small in number , I have the following scatter plot :
My question is how can I make all the 366 points show up in the scatter plot ?
( the only thing I can think of is introducing a small amount of noise into each point value so they form cluster around each of the 33 points currently in the scatter plot )
I want to create a simple animation showing the rotation of an object over time , but for now I'm just trying to rotate the image .
Clear overlay scatter on matplotlib image
Is there a way to clear only the scatter point on the graph without clearing all the image ?
In fact , I am writing a code where the appearance of the scatter point is bound with a Tkinter Checkbutton and I want it to appear / disappear when I click / unclick the button .
Remove the artist from the figure if possible .
On the [ scatter docs ] ( #URL ) after the arguments list , it also describes the return type .
Pandas Bar Chart Issue
@USER The Series plot function uses the current figure and axes ( gcf , gca ) and the DataFrame plot , since it has to do more things , creates it's own figure .
The " add_line " function creates a vertical line in the subplot at the specified positions ( in axes coordinates ) .
The " label_group_bar " function takes a dictionary and creates the bar chart in the subplot with the labels beneath .
I'm trying to implement a contour map using matplotlib's pcolor function , however , there appears to be some subtle rules relating to grid arrangement to ensure a fully covered figure .
How to draw the resultant vector [ Como trazar el vector resultante ]
I would like to be able to toggle the zoom and pan buttons , but I'm having some difficulty getting it to work properly .
I feel like there must be a better way to do this , maybe one where there is only one patch that determines where all of the things are , rather than a whole bunch of patches .
I could do a scatter plot on top of the imshow image , but I don't know how to fix it so that the points will stay exactly the size of the pixel when I zoom in / out .
How to change axes linewidth in 3D matplotlib ?
I am trying to change the line width of the axes in ` 3D ` plots in ` matplotlib ` .
this also works , but does not support predefined colormaps with white in the middle ( like bwr , seismic , RdBu , RdGy ... ) .
Matplotlib : Adding & updating axes
I'm interrested in writing a function that will display a whole array as well as linking two other axes to the mouse coordinates ( pixel of coordinates ( n , m ) , one axe will contain array [ n , :] and the other array [: , m ])
First : there is some white space between the axes and the image , I don't really know why they appear .
Third : when I move the mouse in the figure , I can't update the two added axes ( ax1 and ax2 ) like I want ...
I keeped the aspect = ' auto ' because otherwise when figure is resized , the sub axes ( ax1 , ax2 ) do not keep the principal axe ( ax ) shape ...
Maybe it there is an option for axes to have something like disabling aspect ( like no aspect = ' auto ' for imshow ) .
Still , the added axes do not match exactly the x / y axis of the initial subplot and that's sad ...
I've noticed that the animation is not really what I'm searching for , if I don't put the animated = True and do a fig.canvas.draw() just after the set_xdata and set_ydata ( suppressing the rest of the function ) this display exactly how I want it to be .
Unfortunately , there is still this white spaces issue in the axes that I can't figure out .
` from collections import Counter `
This allows me to rely on ` hist ` to re-bin my data .
I'm trying to draw any graph in NetworkX , but get nothing , not even errors : #CODE
If you have a reference to your ` axes ` object : #CODE
I have a multi-panel plot that I set up with ` sharex ` to facilitate zoom / pan on all axes , and I plot time series data in both panels .
I have some data defined on a sphere ( a sphere not the earth ): is it possible with Python 2.6 and matplotlib to draw them on map ( of the type of Mercator map ) " automatically " or do I have to project the data ?
What software was used to draw this ?
Plot several Y axes
I would like to plot several Y axes , with different scales , here is my solution based on exemples I found on the web , but it only creates one extra Y axis , even I have more than that in my data .
As hinted in this question , you have to " open " the lower-level artist API , by storing the figure and axis objects passed by the matplotlib functions you call ( the ` fig ` , ` ax ` and ` cax ` variables below ) .
If you have more than a few categories , Matplotlib decides to label the axes incorrectly - you have to force it to label every cell .
Python plot with 3 axes ( bug in matplotlib )
Parsing the logs into a DB format for easy querying was simple enough , however I'm currently wondering what the best kind of graph to use would be if I'm looking for clusters of data - if say , one user is performing a lot of requests one after another with different timestamps , for example , this may present a fairly constant , but low line on a line graph or scatter diagram , but I'd like to make it more visually obvious that the user is making regular requests during a period of time .
How do you annotate a matplotlib imshow map with an arrow * and * text ?
Figure Not Responding after returning to console from show() ?
On looking at this more , it looks like you are doing all of your plotting on the hartee / bohr axes and the using ` twinx ` and ` twiny ` to get the eV and angstrom axes , but never plot anything to them .
You need to explicitly set their limits to match the limits on your other axes ( properly converted ) .
I haven't tested with twin axes , but my feeling is that it should work anyway .
Of course you can set different minor locators for x and y axis and you can wrap everything from ` ticks_format ` to the end into a function that accepts an axes instance ` ax ` and ` subs ` or ` subsx ` and ` subsy ` as input parameters .
However , I now wish to draw all my dots , etc . with respect to this reversed version of coordinate system .
However , as a more general point I would strongly recommend that you avoid using ` gca() ` and ` gcf() ` except for convenience during interactive sessions - it's much more Pythonic to pass the axes or figure objects explicitly , and it makes it way easier to keep track of exactly which axes / figures are being modified .
I have a scatter plot with the points shaded according to a third variable .
You get the same behaviour with ` numpy `' s ` histogram ` function and ` matplotlib `' s ` hist ` .
I realised that it's pretty easy just to set ` normed = hist / float ( sum ( hist ))` where ` hist ` is the un-normed histogram ( which works fine ) .
When I graph floats with a bunch of decimal digits , Matplotlib keeps trying to be clever and plots only the least significant digits , while adding the most significant digits in the corner ( for both axes ) .
get rid of the ticks and just use ` text ` or ` annotate ` to add the labels in .
I managed to get around the problem using the ` get_style ` method of the parent window to get the background colour and then set it as the facecolour of the axes .
It seems to me that it's the axes background that needs to be hidden .
Alternatively , have you tried setting both the figure and axes patches off ?
Both ways remove the color of the axes patch here , at least on a regular figure .
If not what's the most efficient way to draw it ?
Normal behavior often has a very wide white border around the axes , ` tight ` tries to minimize that .
So I assume it has something to do with the settings on the figure or axes .
Since the figure goes from 0 to 1 on both axes with the origin at the bottom left , you're making a rectangle of width and height 1 starting from the very top-right of the figure .
I'm not sure why the inline plot doesn't respect where you've placed the axes .
When I do " ax = fig.add_axes ([ 0 , 0 , 1 , 1 ])" everything outside of the actual axes is cut off .
In general , you shouldn't be creating your own axes with ` .make_axes ` ; you should let Matplotlib handle that itself .
Adding axes manually is an advanced thing that you would do if you need precise placement of axes ; in most cases , however , you should just let Matplotlib do its thing , and use ` plt.tight_layout() ` when things go wrong .
In the real life case I use ' imshow ' and all the examples I found use axes .
Rotating axis text for each subplot
Im trying to plot a scatter matrix .
But this seems to perform the rotation for the last subplot alone .
` plt ` only acts on the current active axes .
Agree , but the i , j iteration was already there , and only uses a subset of all the axes , there is no need to rotate hidden labels .
Just iterate through the axes tied to the figure , set the active axes to the iterated object , and modify : #CODE
matplotlib : Aligning y-axis labels in stacked scatter plots
In the plot bellow i have two scatter plots which have different number scale , so their Y-axis labels are not aligned .
What are the axes ?
One way would be to create an RGBA array , where the RGB values represent the spectral data , and the A values represent the intensity .
Alternatively you could use a HSV colormap , and represent spectral and intensity values using hue and brightness / saturation respectively .
I have two or three csv files with the same header and would like to draw the histograms for each column overlaying one another on the same plot .
The ` hist ` method of ` Series ` ( the type of ` values `) can be called with a ` bins ` keyword argument .
I think you want to share the x and possibly the y axes .
Try this for a scatter plot .
@USER I would also guess you make heavy use of ` plt.figure() ` instead of dealing directly with the figure managers or ` Figure ` directly .
The first warning is related with the way ` axes ` and ` subplots ` are created .
` axes ` are created specifying the size , while ` subplots ` puts the axes in a regular grid .
So ` tight_layout ` cannot resize ` axes ` , as it does with ` subplots ` and you get the warning .
Therefore using ` axes ` , ` subplots ` and ` tight_layout ` might need a lot of tweaking in ` fig.add_axes ([ 0.6 , 0.12 , 0.1 , 0.02 ])`
ps : I dont ' think that you need ` gs = gridspec.GridSpec ( 1 , 2 )` at all , unless you then do something extra with the axes .
Given a set of axes in matplotlib , is there a way to determine its size in pixels ?
( In particular I want to change the linewidth so it is proportionate for the axes size . )
and you should note that ` get_window_extent ` is an artist function so it should work on _any_ artist , not just axes
legend alignment in matplotlib
I'm trying to get labels left-aligned and values right-aligned in the legend .
To fix this , change the ` legend ` line to : #CODE
I would like to have my x-y scatter plots saved somehow , so that once all the x-y plots are generated , I could merge them on to one big graph where these graphs now form an array .
Axis scale with bins
After , for example , 100 points , I draw a x tick .
If your axes aren't standard ( linear or log ) , you just set them on a standard axis and label them something else .
Do you want your scatter to contain two colors ?
` fig ` is the figure object holding the axes and everything whats plotted .
Plot contours for the densest region of a scatter plot
I am generating a scatter plot of ~300k data points and am having the issue that it is so over-crowded in some places that no structure is visible - So I had a thought !
I want to have the plot generate a contour plot for the densest parts and leave the less-dense areas with the ` scatter() ` data points .
So I was trying to individually compute a nearest-neighbour distance for each of the data points and then when this distance hit a specific value , draw a contour and fill it , then when it hit a much larger value ( less dense ) just do the scatter ...
I have been trying and failing for a few days now , I am not sure that the conventional contour plot will work in this case .
Depending on how crowded these values are , you could probably tease some structure out by just doing ` scatter ( x , y , alpha= 0.1 )` or some suitable small value .
* '' There's absolutely nothing to be gained by plotting the exact position of every x , y point '' * This is also true , which is why I am trying to do the contour plot .
I have messed around with colour maps ` plt.hexbin() ` but I do not think that they are as instantly clear as a contour plot .
@USER So why not use ` np.histogram2d ` to make an array of bin counts , then draw them as a contour plot instead ?
Use ` np.meshgrid ` to create a grid of points at the resolution you want the contour
Plot the contour from the binned data , but use the mask from step 3 . to filter out the lower density regions .
I resorted to using a hexbin ' heat plot ' because I couldn't reduce the computation time of the contour stuff from order n^n -_- ... might be worth going back and looking at it was a fun problem .
Unfortunately , I'm not actually trying to plot straight lines but rather a contour plot , so I think there is no easy workaround for this other than using PNG output for now ...
I don't know what you mean by overlaying it on a ' map ' , but you can use the ` alpha= ` argument to ` imshow() ` to make the image semi-transparent ( or you could just draw your ' map ' on top of the image ) .
to draw a weighted hexagonal binning plot , in this case using the ` C= ` argument to specify the weights , and again using ` alpha= ` to control the transparency of the plot .
* or you could just draw your ' map ' on top of the image * great advice and life-saving post !
you're right : every subplot is contained in the ax array , and you can customize each subplot independently .
It will depend on your use case which is better , I typically call the array ` ax ` if there is a chance I will change the number of subplot .
The problem is that when you index ` axarray [ 0 ]` , you're actually indexing a whole row of that array , containing several axes : #CODE
A quick way of setting the attributes of all of the axes in the array is to loop over a flat iterator on the axis array : #CODE
Another thing you can do is ' unpack ' the axes in the array into a nested tuple of individual axis objects , although this gets a bit awkward when you're dealing with large numbers of rows / columns : #CODE
The problem is as the error tells you , ` axes ` objects don't have a ` set_clim ` function .
How could I make a contour plot with a high gray contrast map ??
I am trying to make a contour plot for a paper and I'd like to make it in black and white but with more contrast in the gray level .
@USER ` vmin ` and ` vmax ` are passed through to ` Normalize ` and are already set by manually setting ` norm ` .
I'm trying to create a completely custom legend ( i.e. I don't want to use ` plt.legend ` or ` plt.colorbar ` .
I want to produce a filled contour plot with a few individual contour lines and a colorbar , rather like the " Lines with colorbar " plot over at the matplotlib tutorial The thing is that , after I have my routine produce this thing , I don't want to display it immediately .
As a warning , there is a major re-factoring of ` finance ` coming in 1.4
To learn how to find these things yourself , especially as the finance package is impossible to find the docs online , I recommend you download and installed ipython .
Python Mathplotlib Selecting Values and Removing via Rectangle Selection
matplotlib savefig bbox_inches = ' tight ' does not ignore invisible axes
Unfortunately , the tightest bounding box appears to include invisible axes .
This is great , except that I like to use a set of invisible figure axes to place annotations in .
If the invisible axes extend beyond the bounds of the visible content , then the pdf bounds are larger than the visible content .
I would point out the axes is sill visible , you just made the axis objects not visible . add ` fig_ax.patch.set_color ( ' r ')` before you save the figure to see this .
and why do you put the annotations on a separate axes ?
I put my annotations on a separate set of axes so that the annotations can extend beyond the data axes and so I can specify the position in millimeter units instead of data units .
Perhaps there is a way to meet these requirements without having a separate set of axes ...
yes , ` annotate ` will take location in all manner of units .
I looked at ` annotate ` and it pertains to leader lines to label specific curves and features inside the data axes .
It _is_ set by what is visible in _as far as the code is concerned_ the axes you have in the back is visible -> it gets factored in .
As for creating your own axes ticks there is an entire set of tools for locating and formatting ticks .
The only consideration that goes into deciding if an axes is ' visible ' is if ` ax.get_visible() ` returns true , even if you have no visible ( either ` artist.get_visible() == False ` or simple transparent ) artists in the axes .
" When I put ` fig_ax.set_visible ( False )` then ` savefig() ` ignores the invisible axes .
Unfortunately , when I set ` fig_ax.set_visible ( False )` then any artist placed in fig_ax is also invisible .
use ` annotate ` ,
` annotate ` works well for text , since you can can specify ` textcoords= ' figure points '` .
I'm not sure how to do arbitrary patches though .
Also see #URL you can ( mostly ) easily go from screen space ( in pixels , which if you control dpi gives you inches ) -> figure fraction with the inverse transformation to sort out where to put arbitrary patches .
Below is my code , it is actually the combination between quiver and animation functions from matplotlib .
I really don't understand what you're aiming for - you say you want to draw animated quivers , but your animation function looks like it's meant to just adds points to a line .
My aim is to create an animation which quivers are moving into the directions of arrows .
matplotlib draw ellipse contour
I am trying to draw something similar :
The main idea is to draw ellipses with different color in some specific range , for example from [ -6 , 6 ] .
I personally wouldn't do this with contour as you then need to add information about the elevation which I don't think you want ?
By default , ` axes.imshow ( z )` places array element ` z [ 0 , 0 ]` in the top left corner of the axes ( or the extent in this case ) .
matplotlib contour plot in given range
I need to draw ellipses like in the picture given below .
But I need to draw ellipses in range X :[ -10 , -10 ] and Y : [ -2 , -2 ] .
Inset axes anchored to specific points in data coordinates ?
I'd like to be able to overlay multiple inset axes on top of a set of parent axes , something like this :
Ideally , I'd like the anchor point of each set of inset axes to be fixed in data coordinates , but for the x , y extent of the axes to scale with figure size rather than the scale of the data .
For example , if I zoomed in on a region in the parent axes , I'd want the positions of the inset axes to move together with the data plotted in the parent axes , but for their areas and aspect ratios to stay the same .
However , I'd settle for just being able to set the extent of the axes in data coordinates .
However , I need my axes to be anchored to specific points in data coordinates .
I would suggest grabbing onto the ` draw_event ` and on every draw relocate / rescale everything as you want .
@USER They're close , but not quite what I'm looking for - _ " artist need to be drawn in the canvas coordinate " _ , whereas I need to position the child axes in data coordinates .
You want the inset axes to move if you pan the main axes ?
@USER Yes - they should remain anchored in fixed positions relative to my data when I pan and zoom .
Save the inset axes as images and then insert them in the larger figure .
If you are trying to fake animation , you need to add a ` pause ` so you can see each updated line : #CODE
You should create a figure , and add a subplot ( ax ) , and pass that ax to basemap .
The problem you are having is that the circle is extending past the edges of the ( axes that you can not see , but are there as the library sees the figure ) and hence is getting clipped .
It's also _very_ slow to draw even a single plane , so I suspect that an OpenGL backend is the way to go , a la visvis .
hist : array
Return the bin edges ( length ( hist ) +1 ) .
annotate in matplotlib places the number 1 off center when saved as a pdf
I am finding that the annotate function in matplotlib places the number 1 off center when the figure is saved as a pdf .
Matplotlib : How to adjust linewidth in colorbar for contour plot ?
I would like to keep the ` linewidths ` of the contour lines in the figure at ` 0.75 ` but increase them in the ` colorbar ` ( for better readability ) .
I initially tried ` CB.collections ` , but the ` colorbar ` has no ` collections ` .
Basically , setting the initial ` linewidths ` to the desired level for the ` colorbar ` , then generating the ` colorbar ` and afterwards using ` collections ` on the original contour-lines to decrease their linewidth .
It seems to be designed to explicitly _follow_ the line widths in the contour plot .
Specify join order in matplotlib
My plotting code outputs the data axes as a list of axes called ` data_ax ` , so the ` Line2D ` objects are nicely organized into a list called ` lines ` .
For example , if I want to label curve 3 on data axes 2 , I can simply type #CODE
Just leverage python collections like ` dict ` and ` tuple ` like they were meant to be used .
I have a scatter plot in matplotlib , with a ` onpick() ` action on them , as in the MWE below .
Duplicate items in legend in matplotlib ?
I am trying to add the legend to my plot with this snippet : #CODE
Your label inside the ` for ` loop is adding ` len ( representatives ) -1 ` repetitive labels to your legend .
Edit : The format of the below code uses the format posted on the matplotlib legend tutorial .
Each iteration , ` rep ` is being overwritten and when it is used to call ` legend ` , only the last representatives plot is stored in ` rep ` .
You could also try plotting your data the way you do in your OP but make the legend using #CODE
So if I'm plotting similar lines in a loop and I only want one example line in the legend , I usually do something like #CODE
But the scatter thing cannot be solved by i == 0 , since it is not in the loop .
There's only one ` Intersections ` row in the legend .
But why I have three red dots in the legend ?
` plot ` and ` scatter ` have differently-shaped return values .
In this case , just add a file custom.pth file that contains a line " custom " ( see simulia.pth for an example ) or append the path to custom folder in your script .
So I also append the path to Tkinter.py by adding a line
Use a 2D histogram of some sort ( e.g. ` matplotlib.pyplot.hist2d ` or ` matplotlib.pyplot.hexbin `) ( You could also display the results as contours -- just use ` numpy.histogram2d ` and then contour the resulting array . )
Make a kernel-density estimate ( KDE ) and contour the results .
I'm going to plot each one similarly , so I won't use contours , but you could just as easily plot the 2D histogram or gaussian KDE using a contour plot : #CODE
Do I adjust the contour levels to reflect the percentages ?
Basically , yes , you should adjust the contour levels to reflect the percentages .
Therefore , contouring a value of 0.1 would imply that 90% of the data is inside the contour , etc .
now plot contour for h2 , it will be the contour which containing some amount of all points
An alternative to Giulio Ghirardo's answer which divides the lines in segments you can use matplotlib's in-built scatter function which construct the line by using circles instead : #CODE
You can force the aspect-ratio of the axes to be one via #CODE
to get the size of any artist in display units , you can use this to programatically re-size things .
The following oversimplified demo program shows that I want to change the label on an axes in response to some event .
If anyone stumbles upon this , I had a similar problem : my axes labels wouldn't show up even though I was calling ` set_xlabel ` .
Set up the figure with a known height and make the scale of the two axes equal ( or else the idea of " data coordinates " does not apply ) .
Make sure the proportions of the figure match the expected proportions of the x and y axes .
Compute the height of the whole figure ` point_hei ` ( including margins ) in units of points by multiplying inches by 72
Calculate what those units would be in points ` pointlinewid ` while adjusting for the margins .
How to interactively find and annotate local max ( peaks ) in matplotlib ?
This works and I can get the coordinate of the peak but I would like to automatically annotate the peak found .
do you want the find and annotate all maxima ?
@USER I would like to annotate the peak I've found clicking before and after it how I've written in the question .
You can check the xticks with ` ax.get_xticks() ` .
I dont see how you can make the xticks dates , but you can override the xticklabels yourself : #CODE
How to draw planes from a set of linear equations in Python ?
The point is , matplotlib renders each artist in one shot and then layers them into the final image .
I need this to plot several trajectories in an animation where ( xni , yni ) would be the nth particle at time i .
I tried passing the argument ` label= ' nth quartile '` to ` plt.fill_between ` and then calling ` pl.legend ( loc=4 )` , but in contrast to regular plots , no legend appears when using ` plt.fill_between ` .
@USER If you want legends with color blocks , then try @USER ' s link ; otherwise if you want the annotations like the ones in your example plot , jus use ` annotate ` or ` text ` .
again , regardless of simple ( scatter ) or complex ( bubble ): cannot get this beyond this error #CODE
With ` pandas 0.12 ` and ` matplotlib 1.3 ` this should work , when you pass the columns of the ` DataFrame ` as arguments to scatter : #CODE
For ` pandas 0.13 ` there is an open pull request that will add " scatter " as an option to ` df.plot ` so that the following line should be equivalent : #CODE
Get coordinates from the contour in matplotlib ?
From the documentation example here , one can easily produce the following contour plot with the code snippet .
I have obtained my contour plot and meanwhile got the ` matplotlib.contour.QuadContourSet ` instance ` CS ` .
However for my case , I need to obtain either the equation of the contour line or the coordinate set for further computation .
How can I extract the coordinates of the contour line from the instance ` CS ` ?
Otherwise , the contour thing is only a " vase for visualization " then .
to plot the first ( -1 ) contour level .
how to draw a nonlinear function using matplotlib ?
I would like to draw the curve a generic cubic function using matplotlib .
I want to draw curves that are defined by functions such as : x^3 + y^3 + y^2 + 2xy^2 = 0 .
The contour is just to show how the function behaves around 0 .
Understanding matplotlib xticks syntax
actually ` xticks ` is the interval for your x axis ticks or measurement , so as your level of measurement is in ` hours ` so it is better to tick for each hour in a week ( i.e. ` 7 days * 24 hours `) for the week's in the data set ,
Returns : tuple : ( n , bins , patches ) or ([ n0 , n1 , ... ] , bins ,
I wish to draw a line whose width is specified in the data unit .
Instead of plotting the lines , you can draw the filled area as a polygon .
The object underlying all of the ` matplotlib.patch ` objects is the ` Path ` .
Therefore , if you master the ` Path ` , you basically can draw whatever you like in whatever manner .
Let's now see how do we achieve your goal with the magical ` Path ` .
It is not enough to do a new plot but a refresh of the drawing pane must be done !
Add a self.canvas.draw() after your plot command in the draw method of the Output_Panel_Fig this should help .
It is not enough to do a new plot but a refresh of the drawing pane must be done !
Add a self.canvas.draw() after your plot command in the draw method of the Output_Panel_Fig this should help .
The best I came up with to answer your question is to use a Path object as marker .
Matplotlib scatter marker size
I'm trying to plot a 3D scatter with ` matplotlib `
` scatter ( x , y , s=20 , ... )`
Actually , I think you are trying to use the 2D scatter plot function instead of a 3D one .
Your answer made me realize that maybe I had something wrong with the scatter .
Get a smooth contour out of a width-variant shape ?
I want to get a smooth contour of the shape .
Since the widths of the lines are different , the contour that I am looking for is kind of like a fitting line that considers all the widths .
The contour should be a continuous curve that is gap-free .
The normal matplotlib boxplot command in Python returns a dictionary with keys for the boxes , median , whiskers , fliers , and caps .
The Pandas library has an " optimized " boxplot function for its grouped ( hierarchically indexed ) dataframes .
This will return the boxplot properties directly in a dictionary , which is indexed by each column that was plotted in the boxplot .
when I call the function , both the hist and the scatter plot should appear
Since the histogram fills the bars it is probably better to do it first then the scatter plot .
What I want is to plot without vlines , just a line join every point .
This code is taken directly from the matplotlib animation examples , and it works fine using plain old python ( aka ` python animate.py `) .
``` So they are compressing the data and displaying it as dB power which is common for spectral " graphs " .
How to sort a boxplot by the median values in pandas
I've got a dataframe ` outcome2 ` that I generate a grouped boxplot with in the following manner : #CODE
python matplotlib errorbar legend picking
I'm trying to code a legend picker for matplotlib errorbar plots similar to this example .
I want to be able to click on the errorbars / datapoints in the legend to toggle their visibility in the axis .
The problem is that the legend object returned by ` plt.legend() ` does not contain any data on the artists used in creating the legend .
gives you the Line2D objects used in the legend .
I would expect the legend to have a similar data container , but i cant see this .
My question is , is there a workaround that could allow me to do event picking on an errorbar / other complex legend ??
To be clear , you get artist in the legend , but are now trying to pick on them .
huh , 90% sure you have found a bug / un-address corner case , give me a bit of time to re-remember how the legend code works ( it is amazingly general , but a tad opaque and not super well documented )
What is going on here is that the standard handler for ` ErrorbarContainers ` uses 4 artists to generate the legend entry ( ` LineCollection ` for bars , ` LineCollection ` for caps , ` Line2D ` for the connecting line , and ` Line2D ` for the markers ) .
The code that generate the artists only returns the first artists in the list of artists added to the legend ( see ` matplotlib.legend_handler.HandlerBase.__call__ `) .
The first artist in the list for error bars happens to be the line collection that is the vertical lines , which is what ends up in ` leg.legendHandles ` .
The solution is to make a local sub-class of ` HandlerErrorbar ` which re-orders the artist list so that the artist that gets saved in ` leg.legendHandles ` is the ` Line2D ` object for the markers .
The only hitch is that you can still only pick the Line2D for the markers in the legend .
Ideally I'd like to pick both the markers and the errorbars in the legend independently , but I'll settle for this solution !
First set of ( scatter ) plot data remains on the graph during animation with Python's matplotlib
I'm trying to animate a line and 3 scatter points on a graph .
Everything seems to be working except the first set of scatter points don't get removed on the graph .
Unless you have a complelling reason to use ` scatter ` ( which is you want each marker to be a different color or size , which your example code does not show ) the above will generate the same animation much more efficiently .
The issue with your original code is that you are not updating the ` scatter ` artist each time through , you are adding a new artist which interacts with the blitting code in strange ways ( on my machine , all of the previous dots randomly were visible or not ) .
I'm happy to get rid of scatter , this looks much more cleaner .
Trying to draw a line connecting a point on a 3D subplot to another 3D subplot .
Note that you have to make it into an NLTK Text object after tokenizing it .
I would like to take each point and plot it one after another , creating some sort of animation .
If you don't need a live animation , you could render each plot as a PNG , then use mencoder to generate the animation , as described in the Matplotlib FAQ .
If you do want a live animation , that's what matplotlib's animation is for .
1 ) uncomment ` plt.show() ` and refresh the figure ( e.g. maximise it on the screen ) .
Here ` subplot ` seem to be appropriate , thus starting with something like this might be an option .
As you want to remove some spines ( axis ) you can further check this example .
How to draw a dashed line using Matplotlib's ConnectionPatch ?
If you still have the this is problem , try to manually alter the respective Path objects .
This means that the tick that you want to delete , being at the top , is the last one , that is ` yticks [ -1 ]` : #CODE
Setting yticks to [ -1 ] that removed the label at -145 , what I don't understand is how my original effort managed to remove 2 ticks from the y axis
Isn't yticks a function ?
The map itself and the legend show up perfectly but the paths of the hurricanes do not .
Adding axis to offset contour plots
In an offset contour plot ( like on the left in the image below ):
I have been trying to add horizontal and vertical axis in the X-Z and Y-Z planes over the offset contour plots ( like in the right image ) .
Notice that the horizontal vertical axis go all the way out to the xlim , ylim zlim extents and dont stop at the end of the main data plot .
The bit of code for plotting the offset 2D contour plot in the Y-Z plane is : #CODE
I want to be able to arbitrarily set my xlim , ylim zlim and get horizontal vertical axis that span those ranges .
It's simple , just draw them yourself !
` mlab.specgram ` just computes the data , while the axes method ` specgram ` plots it .
Essentially all of the plotting methods are actually methods of the ` Axes ` object .
You can use some algorithm like ` contourf ` or ` imshow ` interpolate where you don't have data ...
However , Figure files ( produced by matplotlib.pyplot.imshow ) are not saved , showing following error messsage : #CODE
Python , Matplotlib , plot multi-lines ( array ) and animation
I'm developing a little tool using animation on tkinter environment .
My goal is to make an animation with " mline " changing the data at each loop .
refresh my piechart using matplotlib ?
Just change the ` plt.subplots ` parameter depending on how many you need to draw .
legend setting ( numpoints and scatterpoints ) in matplotlib does not work
I tried to get the legend right for the dashed line so I played with the rcParams a little bit , but it for some reasons wouldn't work on my computer .
If you make a plot with markers , ` matplotlib.rcParams [ ' legend.numpoints ']` adjust the number of points drawn on the legend lines .
I don't know what does ` matplotlib.rcParams [ ' legend.scatterpoints ']` do , but I guess regulates the number of points in the legend of scatter plots .
If you want to change the length of the lines in the legend give a try with ` matplotlib.rcParams [ ' legend.handlelength ']` and / or ` matplotlib.rcParams [ ' legend.handleheight ']` .
All the ` legend .
* ` parameters are available as keywords for the ` legend ` function .
` Line2D ` objects and ` scatter ` objects are handled differently by the legend code ., ` numpoints ` sets the number of markers that are shown for ` Line2D ` objects , ` scatterpoints ` sets the same for scatter plots .
and you don't need to use ` rcparams ` to control this , just pass them as keyword arguments to ` legend ` .
@USER : thank for confirming the ` scatterpoints ` . later I'll edit the answer adding the fact that you can use ` legend ` keywords
That should just toggles a bool in ` axes ` object .
This writes your annotated text alternatively shifted left and right ` xoffset ` from the point you want to annotate .
It is important to draw the figure before getting the extents , as it is not calculated before .
Please note that ` fig.canvas.draw() ` is an quite expensive operation , so don't do this too often , e.g. , first create all white texts , then draw the figure canvas , and then create all red texts .
Why do you not wanna use the scatter plot ?
Python Matplotlib : Change Colorbar Tick Width
I would like to set my contour linewidths to 0.5 , but when I do I cannot see the color contours in the colorbar .
If I set the contour linewidths to 1.5 , I can see them in the color bar , but the contours are too thick for me .
Any ideas on how I can control the contour linewidths and the colorbar linewidths separately ?
This gives the same result than the method the OP realized in the comments but you do not need to get the axes childrens and to discover which is the object you have to set linewithds .
I know how to use matplotlib's append_axes locator function to append histograms alongside 2D plots , e.g. : #CODE
and I also know how to append a colorbar in a similar manner : #CODE
What I am not clear on is how to do both in the same subplot without the two appended figures overlapping .
Below is a way of plotting three axes using ` gridspec ` .
I think I need to somehow add the subplot returned by plot() to a figure in order to use savefig .
I'm guessing that the last snippet from my original post saved blank because the figure was never getting the axes generated by pandas .
With the above code , the figure object is returned from some magic global state by the gcf() call ( get current figure ) , which automagically bakes in axes plotted in the line above .
In practice , one should always disconnect all callbacks when they
does it for title and axis ticks , but ignores the legend if it is placed outside the frame , as in the figure below .
Notice that I placed the legend to the right of the figure .
Almost all of the plotting functions return a reference to the ` artist ` object created ex : #CODE
If you have the reference you can remove an artist via the ` remove ` ( doc ) function ex : #CODE
I can pretty easily plot what I want as a 3D scatter plot like so :
Matplotlib savefig does not save axes
I'm trying to save a figure that works fine in IPython inline but does not save the figure to disk with the axes and titles included .
I have clearly set the xlabel and tick marks work correctly in IPython inline plot .
I saw this question , but it only seems to work for ` barbs ` .
scatter function in matplotlib
I would like to draw a sketch like the one below , using python with matplotlib .
ok , i updated matplotlib to 1.4 , and got rid of the tight_layout error . however , now it gives a warning : This figure includes Axes that are not compatible with tight_layout , so its results might be incorrect .
I was thinking to plot a series of 50 patches and colour them according to the data and using a colour scale ?
Or is it that you want the axes to be similar as in the figure ?
Basically you're asking how to do something similar to ` twinx ` for polar axes .
As an example to illustrate the problem , it would be nice to display the green series on the plot below at a different scale than the blue series , while keeping them on the same polar axes for easy comparison .
Caveat : Because shared axes don't work for polar plots , the implmentation I have above will have problems with anything that changes the position of the original axes .
I'll add an example of an automatic locator for the second axes ' ticks , but I may not be able to get to it until this weekend .
Just to add onto @USER ' s ( great ) answer , I found that the " hack to ensure that the original axes tick labels are on top of whatever is plotted in the twinned axes " didn't work for me so as an alternative I've used : #CODE
However this method does not really allow for having a legend .
This can not be done with a single scatter call , you must loop over the marker shapes .
The way that scatter is implemented under the covers it can only use one marker shape ( which it the scales and colors as needed ) per call to scatter .
You just need to keep the list of lines returned by plot and use fig.legend to create a legend for the whole figure .
If you want to use ` scatter ` try something like #CODE
As a comment , ` plot ` is always faster than ` scatter ` .
Only use ` scatter ` if you need to continuously change the marker size or color .
You can use a loop to plot the data as many scatter plots ( and many different datasets ) but in my opinion it looses all the speed benefit provided by ` .scatter() ` .
With these being said , it is however not true that the dots have to be identical in a scatter plot .
The problem was how I parsed through my data and how I could add a legend in the wouldn't mess that up .
Since I did a for-loop and plotted each point individually based on if it was measured at Observation location 1 or 2 whenever I made a legend it would plot over 50 legend entries .
Python GUI that draw a dot when clicking on plot ?
I tried to pass four axes as well , but still no go .
Any suggestion that leads to a way of combining / stitching multiple ' hist ( by =) -plots ' in the same subplot grid is welcome .
if you don't us ` by= ` is the histogram plotted in the correct axes ?
The correct way to pass multiple plots into an existing figure is to first create all the desired axes and then pass all of them to the pandas plotting command .
You can carry out the subplot creation more elegantly using GridSpec
I am trying to create a animation - first I draw a circle , then I want to redraw it .
Extract specific paths from matplotlib contour plot
I have the following contour plots : #CODE
I have seen that there is a way of extracting point values from a contour plot along the lines of this question , however , that gives me a set of ( 2000,200 0 ) points which I have no idea how to filter .
I was thinking maybe something can be done based on paths from the contour plots ?
You may also try ` Least Square Circle Fitting ` for which an example in ` Python ` is given here .
In Sublime Text , when I import the libraries , they work .
I like the look and feel of Sublime Text 2 better , but you can tell this is built just for python .
You need to find out exactly what you are calling from Sublime Text .
This solution ONLY applies if what others are saying is true and Sublime Text is calling another python interpreter that is different from the one that you are calling from the shell .
Quick and dirty way to find out what Sublime Text is calling :
The first line is giving you the path to python interpreter that Sublime Text is using .
Another thing - if you want to run different python from Sublime Text , then take a look at this .
I tried to remove the arrows in a test example and got a ` NotImplementedError : cannot remove artist ` in ` ...
Assuming you don't have any other patches in the plot ( e.g. a bar plot uses patches ) , you can just do ` ax.patches = [ ]` to remove the arrows .
Ideally , you'd get the patches from the ` sl.arrows ` ` PatchCollection ` , but it doesn't actually store a reference to the patches themselves , just their raw paths .
If you do have other patches in the plot , you could remove all instances of ` FancyArrowPatch ` instead .
I use a trick to draw a colorbar whose height matches the master axes .
Meanwhile , gcf() .axes shows both axes .
This appears to be more convenient if I want to wrap a function to draw a colorbar with matching height .
Use ` plt.sca ` to set the current axes .
Python xticks in subplots
How can I change my xticks just for one of these subplots ?
I can only access the axes of the subplots with axarr [ i , j ] .
How can I access " plt " just for one particular subplot ?
Use the axes methods of the subplot object ( e.g. ` ax.set_xticks ` and ` ax.set_xticklabels `) or
Use ` plt.sca ` to set the current axes for the pyplot state machine ( i.e. the ` plt ` interface ) .
= contour
= contour , then I must ask the other question , thanks for your time
` contour() ` draws contour lines of a scalar field , and ` streamplot() ` is draw of vector field ,
This seems quite what I wanted , but how can I draw for a particular value , say streamline = 5.29 ?
If you mean the contour line of 5.92 : ` cset = contour ( X , Y , Z , [ 5.92 ] , linewidths=2 , cmap= cm.Set2 )`
You can control the spacing and position of each subplot directly using gridspec .
Just draw the ellipse borders on top of the hexbins .
Get centre and amplitude of each hexagon , ( possibly discard all zero bins ) and make a scatter plot using the same colour map as in ` hexbin ` and adjusting the marker size and shape as you like .
I've checked you data and , after loading it using this answer , you can transform it in order to plot like : #CODE
right-button pick the artist object --> will change the face color of the artists
I have created quite a nice visualization program using Qt as the interface layer and matplotlib to draw much of the content .
I use contour and countourf as well as text and lines and never run into problems with releasing objects .
I have tried completely replacing the axes objects but that doesnt help .
I really am not free to replace the Figure instance .
If you want to draw the line up to ` j ` use the following : #CODE
How do I force scatter points real pixel values when plotting in pyplot / python ?
I'd like to replot those points and their respective areas ( which are real pixel values ) into a scatter window and then save it .
You can use patches to create markers sized relative to the data coordinates .
Memory usage for matplotlib animation
I've been tweaking the code from this page #URL to make my own animation , but it crashes very quickly .
From the way the code was calling animation ( i ) to set the y_data on the line every time , is the old data not replaced , causing the memory build-up ?
My knowledge on the inner workings of matplotlib is limited , and some things I've tried is putting close() , clf() , and gc.collect() in animation ( i ) , but none of them worked .
By default the animation code tries to save some number of frames ( defaults to 100 ) .
The ` Locator ` classes will do much of his for you .
@USER : edited the answer to include ` Locator ` examples .
I draw a symmetrical n*n matrix ` D ` with ` matshow ` function .
Then the axes need to be re-ticked with the above two commands .
Somehow , even with xlim set , it gives indices out of ` neworder ` s range , thus throws an exception .
I think the point is xlim will not limit the ticklocks ( for formatting reasons ) .
( The legend looks as expected , which is interesting . )
I manage to draw correctly the line for a single time-step with the following definition : #CODE
Converting Integer ( Day Count ) X Axis to Months
If you want to use matplotlib to save the figure at one-value-to-one-pixel ( for example , to allow easy use of colormaps ) , do something similar to this : #CODE
To get the axis spines on top of the the bars you can do the following : #CODE
A workaround could be to draw the tick lines outwards #CODE
Then it possible to set larger values to the spines ( as above ) but any attempt to change the ` zorder ` of the ticklines is simply ignored ( although the values are updated on the corresponding artists ) .
For me this is a bug somehow related with ` bar ` or some ` patches ` .
@USER iirc the tick lines + axes are drawn in one shot by the renderers so they _can't_ have different zorders .
I had the same problem of plotting above the axes as @USER .
I had the same problem of axes getting drawn below the plot line when I have grid lines in the background : #CODE
Set the zorder for the artist .
Each time you call ` plot ` ( or ` plot_wireframe ` but i don't know what you need that ) on an ` axes ` object , it will add the data as a new series .
To specify a subplot axes in the grid for the heatmap : #CODE
To create my heatmap in this axes : #CODE
To move the plot to the right in order to center it in the axes according to other subplots : #CODE
But both ` Polygon ` and ` PolyCollection ` need the vertices to be a 2d numpy array of shape ` ( N , 2 )` .
For not having a lot of numbres over the axes .
I have a code where I draw some arrows depending on the value of the variable , but sometimes those values are big like 9000 and sometimes the values are smaller for example 400 .
So how can I do the scales of the chart in logarithmic just to the axes scale change depending of the value of the arrows .
Use Axis method ` set_xscale ` or ` set_yscale ` .
This appears to be a bug from at least 2011 related to surface plotting with log-scaled axes .
Make legend correspond to colors of scatter points in matplotlib
I need a legend for this plot which corresponds to the cluster number in the plot .
Ideally , the legend should display the color of the cluster and the label should be the cluster number .
I was able to make the legend correspond to the color .
You can align the bounding box of a text with respect to the given coordinates with the keywors ` horizontalalignment ` and ` verticalalignment ` ( see ` Text ` documentations ) .
I'm using matplotlib and I wish to plot a contourf on top of a pcolormesh , displaying both at the same time as described .
However , when I try to display the data , only contourf is shown ( overrides pcolormesh ) .
What I want is this contour #URL on top of #URL without the messy white background !
Just to make sure ... did you verify that pcolormesh is displayed properly if you don't do the contourf step ?
Contourf is a filled contour .
1 ) You could try setting an alpha in contourf ...
This will make the filled contour partially see through .
2 ) Better option : use contour instead of contourf , which will then just plot contour lines .
You're right because I wrote contourf , but I've always been using contour ...
I am playing around with an example from the matplotlib gallery and the contour is showing up fine .
This is a problem because in my plots I have two axes and I need them colorized for better readability .
How can I control the bounding box or size of the boxes in the boxplot so that the text doesn't overflow the figure or collides with adjacent boxes ?
Matplotlib : Color bar on contour without striping
In matplotlib , I'm looking to create an inset color bar to show the scale of my contour plot , but when I create the contour using contour , the color bar has white stripes running through it , whereas when I use contourf , the colorbar has the proper " smooth " appearance :
How can I get that nice smooth colorbar from the filled contour on my normal contour plot ?
I'd also be OK with a filled contour where the zero-level can be set to white , I imagine .
Here's an example with only 30 contour lines which makes the problem more obvious :
Edit 2 : While I am still interested in figuring out how to do this in the general general case ( like if there's negative values ) , in my specific case , I have determined that I can effectively create something that looks like what I want by simply setting the levels of a filled contour to start above the zero-level :
` ca = contourf ( x , y , z , levels=linspace ( 0.05 , 1 , 125 ))`
If my data had any negative values or if I wanted to see actual contour lines , then my solution wouldn't work , so while it's not urgent for me , it's still a problem and needs a real solution .
The way that color bar for ` contour ` works is to draw a single line in the color bar for each line .
Changing this will involve re-writing how ` colorbar ` deals with contour plots .
@USER have you succeded in your approach with ` plt.cla() ` and ` plt.show() ` without animation ?
It is better to update the artist rather than call ` cla() ` .
Instead of one pixel , we then draw a bar in the plot .
In case it is a scatter plot , the data can be made ordered by sorting , because the sequence of plotting is not important .
Solution was fairly simple , but wasn't aware you could use Axes objects like this : #CODE
in hopes of hiding the top , right , and left axes in the saved images .
They worked fine in png images , but in the saved eps files , there are still boundaries ( not sure whether they are axes ) on the left and the top ( the right axis indeed disappeared ) .
I just did several tests with the following minimal working example , it turns out the axes will be invisible even in eps outputs if I either
2 ) turn off manual settings on xticks and xticklabels
If you turn the axes off , that region of the canvas is never drawn too , hence it stays the default color .
getting x , y from a scatter plot with multiple datasets ?
I have a scatter plot that is composed of different calls for scatter : #CODE
However since ` scatter ` is being called more than once , I get the same indexes twice , so I cant use ` x [ index ]` inside the ` onpick3 ` method
It seems that ` event.artist ` gives back the same ` PathCollection ` that is given back from ` scatter ` ( ` p ` and ` p1 ` in this case ) .
Tried using ` event.artist.get_paths() ` - but it doesn't seem to be giving back all the scatter points , but only the one that I clicked on ..
To get the x , y coordinates for the collection that ` scatter ` returns , use ` event.artist.get_offsets() ` ( Matplotlib has explicit getters and setters for mostly historical reasons . All ` get_offsets ` does is return ` self._offsets ` , but the public interface is through the " getter " . ) .
However , if you're not varying things by a 3rd or 4th variable , you may not want to use ` scatter ` to plot points .
` scatter ` returns a collection that's much more difficult to work with than the ` Line2D ` that ` plot ` returns .
For 3-dimensional scatter plots , is there a way to get the z data as well ?
Pyplot legend shows marks info
Now I want to have a legend that shows the meaning of each marker : #CODE
Use the label argument in combination with legend : #CODE
Basically I want to plot a contour using this and have tried using a number of examples as a starting point but am still unsure of how to proceed .
You just need to create the correct arrays ( see e.g. numpy.meshgrid or contour docu ) .
I am trying to use the x and y points as matrix positions and to form an array of z but again can't get it to be a 2d array as required by contour .
Almost all ` artist ` objects have a ` remove ` member function which will remove them from axes : #CODE
Since I need to draw several axvspan in the same plot , and I would like to know if there is a way to delete all at once ?
You could use annotate : #CODE
Axis labels are the name of the variable associated with the axis , not the numbers ` 1 , 2 , 3 ,..
You can set x tick labels with the ` Axes ` method ` set_xticklabels ` just doing this : #CODE
` xticks ` is not an ` Axes ` method but a function in ` matplotlib.pyplot ` , that ( I think ) wraps ` set / get_xticks ` and ` set / get_xtickslabels ` .
python plot stem with datetime base
I wish to plot a stem with matplotlib using datetime base . but it seems error happen :
It seems that stem x axis only admits floats , so you can convert your dates to timestamp ( float ) and then plotting .
first of all thanks for the answers , I don't get any error now except for the part that I just see the " streamplot " and not the contour ( cset ) which I wanted for the visualization of labels , I'd really appreciate some help with that issue
I want to draw a line along a ` P , Q , R ` ( where ` P ` and ` Q ` will be determined independent of this question ) .
Ultimately , I'd like to draw a line to show ` P+Q=R ` , so if someone also has something to add on how to code to get the ` Q ` that would be greatly appreciated .
Its the way to define where your new axes will be placed within the figure .
The last digit will then ' pick ' one of those places and return the axes for it .
So ` fig.add_subplots ( 2 , 2 , 1 )` will create a grid of 2 by 2 and return an axes for the top-left area .
Note that even though you define a 2 by 2 grid , only the axes you specify is actually created .
Or why ' fig.axes() ' doesn't return the AxesImage or Colobar instance but just the Axes or AxesSubplot ?
I think I just need more understanding of the Axes / Figure stuff.Thank you !
First off , I think you're getting a bit confused between the axes ( basically , the plot ) , the figure , the scalar mappable ( the image , in this case ) , and the colorbar instance .
Each figure usually has one or more ` axes ` .
Adding a colorbar creates a new axes ( unless you specify otherwise ) for the colorbar to be displayed in .
( It can't normally be displayed in the same axes as the image , because the colorbar needs to have its own x and y limits , etc . )
It's the axes that the colorbar is plotted in .
( Also , ` fig.axes [ 1 ]` is just the second axes in the figure . It happens to be the axes that the colorbar is in for a figure with one subplot and one colorbar , but that won't generally be the case . )
If you're going to use ` update_normal ` to update the colorbar , it expects a ` ScalarMappable ` ( e.g. an image created by ` imshow ` , the collection that ` scatter ` creates , the ` ContourSet ` that ` contour ` creates , etc ) to be passed in .
So it means once the colorbar or plot is placed onto the ` axes ` , the ` axes ` won't hold those instances inside it ?
One more thing I am curious is that can I add ` axes ` to ` axes ` , just to group some plots together ?
Well , the ` axes ` holds all of its " child " artists ( e.g. anything plotted on it ) , but a colorbar is usually plotted on a separate axes .
If you want to " group " plots , just plot them on the same axes .
You can add axes on top of each other ( this is what things like ` twinx ` do ) , but that's probably not what you want to do .
I understand holding the colorbar instance to update is probably the best way to do things , I am just wondering if I can retrieve the object by calling the ` get_children() ` of the ` axes ` the colorbar is plotted onto .
I am thinking of manipulating several plots together , like moving or shrinking the image axes and the colorbar axes together as a group while maintaining their relative position / size , etc .
You could also go for something with ` .replace ( 0 , np.nan )` , but matplotlib doesnt draw lines if there are nan's in between .
How can I do a hist ?
You can set ` transform ` argument of the ` Circle ` : #CODE
But instead of simply refining the grid and hope to reach a point where the colors of neighboring triangles get visually indistinguishable ( without reaching the point where artifacts appear first ) , my approach was to calculate the contour bands on the triangulation and then plot them in 3D .
I would like to annotate the variable names into the three bubbles .
@USER Is your question " how do I draw a circle and put text in it ?
I'm having issues with a slow animation in Matplotlib .
Following recommendations here , I'm using blitting to only draw the ( small fraction ) of rectangles that change in each frame .
I tried just passing a tuple of the ones that had changed ( the commented out block in the " animate " function ) , but that led to seemingly random animation frames ...
That function already exists ( in both pyplot and as an axes function ) .
Python matplotlib - White spines with pie chart ?
However for the pie chart this doesn't work and I'm presuming because a pie chart doesn't need spines .
I was thinking perhaps a second axis in the same position with a transparent face but white spines ?
Or perhaps I can draw a white rectangle onto the same axis , but how ?
Find most distant points in contour curve
I can plot this so as to display the contour density curves shown below the MWE .
I am working on a clustering algorithm and need for all points in my scatter plot that belong to the same cluster to be marked the same color .
I found ` scatter ` to behave odd sometimes ( at least in ipython notebook ) , but the ` plot ` function can do this , too .
Making the assumption that you are using legend ...
loc=1 places the legend in the upper right .
How to add a legend to matplotlib pie chart ?
how could I add a legend to this pie chart ?
So I guess I can add a legend showing the names and the values .
I checked your code , and the ` plt.legend() ` creates a legend , just how you want it to be ; maybe set the ` loc= " lower left "` , so it does not overlap with the relevant pieces of pie .
Maybe add these information to the legend .
Polygon Example :
matplotlib legend background color
Is there while rcParams [ ' legend.frameon '] = ' False ' a simple way to fill the legend area background with a given colour .
More specifically I would like the grid not to be seen on the legend area because it disturbs the text reading .
I used that method in a small convenience function I wrote to hide the legend frames for the same reason you cite .
Python - Plotting a raster image / contour plot with XY and Z points
I would like to plot these values using a raster or contour plot .
Store values of levels in contour plot
I'm coming from this question Find most distant points in contour curve where the answer given allows me to produce a contour plot like the one shown below , using the code that is farther down .
Here python is deciding the values of the levels where to set the contour curves .
Print string over plotted line ( mimic contour plot labels )
The contour plot demo shows how you can plot the curves with the level value plotted over them , see below .
As far as I can tell the levels are placed automatically in a contour plot , so automatic placement would be ok .
Using a LineCollection is faster than using ` plt.plot ` if you have a large number of lines , but I haven't been able to figure out how to add a legend if using LineCollection .
The legend guide says to use a proxy artist , but if you have to create a different proxy artist for each line segment in the LineCollection , it might be better to bite the bullet and just use ` plt.plot ` .
And since you want a legend , it seems plausible that you have a small number of lines .
( And if you're wanting to add a legend , you presumably do ! )
Just to show the other option , though , you can still use a ` LineCollection ` , you just need to use " proxy artists " for the legend : #CODE
Perhaps change ` make_proxy ( item , ... )` to ` make_proxy ( item / z.max() ,... )` so the legend colors match the LineCollection colors ?
I don't want to just cut off the lower part of the right yscale , I want to move it up , so that the whole green graph starts at same point where ' Pair Price ' is starting .
The one which sits on top should however draw a transparent square when the value of the passed array is 0 , and a different color for each other number in the passed array .
I have the following code to draw the plane ` x+y+z=1 ` , but unfortunately although I set the limits to [ 0 , 1 ] for all the variables it still draws the continuation in the negative area .
For me , they only limit the axes and don't clip the data .
I have the following code to draw a cube in an opengl canvas in wxpython : #CODE
brings up a scatter plot .
and to configure axes labels or limits , you write : #CODE
When you use the plt directly automatically matplotlib create a ' figure ' and a subplot , but when you want to work with more than 1 subplot then you will need to use ' axes ' methods , example : #CODE
Oftentimes , the " make-it-just-work " code takes the pyplot route , as it hides away all of the figure and axes management that many wouldn't care about .
I usually design my functions to accept as optional arguments the axes and / or figure objects the user would like to operate upon ( if not given , then I use plt.gcf() and / or plt.gca() ) .
Note that any action via pyplot ( such as plt.xlim() ) gets / sets the current axes / figure / image ( the " state machine ") , while actions like ax.set_xlim() do not .
You still have access to the axes object in ` ax ` though .
draw plot with lots of text outside of it ( matplotlib )
I have 2 points ( a vector of size 8 ) and 3 different bitwise operation ( And , Or , Xor ) I mapped each point and the result of bitwise operations on the 2D plot . now I want to show each points real data itself and the result of operation beside plot ( righ of the plot or above the plot ( whenever is possible or it's better )) so later when I want to analysis the result I can read data value easily . right now my image is like this , and you can see the legend is cut off and I have no place outside of plot to write anything :
You can use add_axes to directly control the size and location of your axes and then use text to add the text you want .
For example , if the plot limit is set to xlim ( 0 , 1 ) and ylim ( 0 , 1 ) , and a data point at ( 0.0 , 0.5 ) is plotted as a circle , only the right half of the circle is visible on the plot .
generating contour plots for X , Y data in python
if you had X , Y and Temperature data see below for an example . how would you plot the temperature contour of the data in python #CODE
The typical plotting library is matplotlib which allows contour plots .
Have a look at [ this discussion ] ( #URL ) about how to do a contour plot from a csv
I saw here that I can transform the rotation , but this will works only as long as the plot is not resized .
I'm interested in being able to resize the figure after I draw it - this is because I usually draw something and then play with the figure before saving it
The solution is to transform the text rotation angle from the plot to the screen coordinate system , and let's see if resizing the plot causes issues as you suggest : #CODE
As far as I am aware , you need only apply the histogram equalisation to the value component of the HSV transform to equalise the image : #CODE
You can , of course , apply the above to each channel of the HSV transform if you wish to see what the output would look like .
Write your own plot wrapper , that does the ` x.magnitude ` , as well as possibly putting labels on the axes that use the units of ` x ` , doing any conversion of the units ( as Matplotlib was trying to do ) , or anything else you want to do with the units .
How to use two distinct colormaps in different data ranges on a single data set
For example , in the included image I have managed to combine two builtin colormaps into one , but it is still a linear scale that can only be characterized by its maximum and minimum values .
The only thing I've changed is plot to scatter .
Is there a way I can call scatter such that it doesn't mess with my current axis limits ?
You can control the x and y axes limits : ` plt.xlim ( xmin , xmax )`
I would use ` ax.autoscale ( enable=False )` before your call to ` scatter ` .
If you want to limit ` autoscale `' s reach , set the ` axis ` kwarg to `" x "` ( i.e. ` ax.autoscale ( enable=False , axis= " x ")`
If column 1 does not satisfy this range , it is plotted in the next subplot .
Here is my try , I use ` quiver ` to draw the triangles , it need the normal vectors of the line : #CODE
I have rougher lines to draw on , so it's a bit rough , but it works !
For Example : ` $^\circ$ Text ` would produce ` Text `
Colormap entire subplot
On the bottom subplot I would like to be able to plot the relevant colour , but spanning the entire background of the subplot.i.e it would just look like a colourmap over the entire plot , with no lines or points plotted .
It should still correspond to the colours shown in the scatter plot .
what I would ideally like to do is put this background under the top subplot .
code for bottom scatter subplot : #CODE
Setting the extent to the dimensions of the top axes makes it align with it .
I use Spyder 2.1.10 and it seems to be working , although the animation is a bit fast .
Know where the user clicks on the draw so as to change the face color of a rectangle .
For example , if the space key is activated , I would like to go back to the initial draw .
Here is a solution where the draw of the rectangle has not been factorized .
cross hairs in python animation
So I'm doing some animation using matplotlib.animation .
However , I'm having trouble creating a legend for the plot that has variable size symbols that corresponds to the listed size .
Is there a way to create this legend in matplotlib without manually drawing circles and text on the plot ?
Yes , you can be specific about which data you make a legend for ( choosing illustrative sizes ) and specify their labels in the legend .
Starting with data from one of the other scatter-legend questions here , and leaving some in that doesn't go into the legend ( crosses ): #CODE
Left to do : moving the legend outside your plot .
so I looked for the answer myself and have found an example that is working -- Plot Pandas DataFrame as Bar and Line on the same one chart .
I want to search the annotate data points and show only the ones specified in the search and then update the plot with the result of the search .
To do what I think you want , you'll have to use the ` plot ` function instead of ` scatter ` in order to connect the lines .
To do a colorbar instead of a legend : #CODE
@USER You can change the font size and spacing in the legend options , see the docs for ` plt.legend() `
@USER , Probably using a legend isn't the best solution for you .
@USER See my edit for how to do a colorbar instead of a legend .
This code outputs the dot plot graph , but the result looks quite awful , since both the xticks and yticks don't have enough space , that it's quite difficult to notice both ` 4 ` and ` 8 ` of the ` cyl ` variable output its values in the graph .
If it's the former , it's because you've manually set the tick locations with ` yticks ` .
A word of warning : ` tight_layout ` works only with subplots not with ` Axes ` objects
` scatter ` does not have ` markersize ` parameter .
You can set the width of whats called a spine ( a side of the axes ) in Matplotlib : #CODE
Can't use set_ydata for a " stem " -plot in matlibplot
What can be done to refresh all elements of the stem-plot ?
If you just want a new plot with y_new as input , just call ` show() ` after the first ` stem() ` -call and plot y-new with ` stem ( x , y_new )` .
My data frame has many columns , of which I loop over to have a subplot of each column .
If you plot multiple subplots , the ` plt.subplots() ` returns the axes in an array , that array allows indexing like you do with ` ax [ plot ]` .
When only 1 subplot is created , by default it returns the axes itself , not the axes within an array .
This forces it to always return a ' Rows x Cols ' sized array with the axes , even if its a single one .
By adding the ` squeeze ` keyword you always get a 2D array in return , so the indexing for a subplot changes to ` ax [ plot , 0 ]` .
You just need to use the correct style arguments to ` bar ` , or look at how ` hist ` does the ` stepfilled ` plotting : #URL or use ` step ` + ` fill_between `
Simple matplotlib animation
I can compute their evolution with a script I already wrote in Python , but I would like to visualize a simple animation of their motion in the x , v space
Ho , I want to plot 24 images in 1 plot using subplot .
How do I define the functions init() and animate() such that I can produce an animation using e.g. : #CODE
You can change to color of the circles in an animation like this : #CODE
As part of that figure creation I have to call imshow() to draw an existing image ( in my case the screenshot of a map ) to the axis to later on draw additional material on top of that .
The legend shows a line and two rectangles .
Is there any way to change the legend handlers for the two histograms to also display lines ?
You can draw lines with the same formatting as the histograms and use those to create a legend : #CODE
( For example , the ` labelpad ` for an axis controls the padding for the axis label ( e.g. xlabel ) , not for the ticks . )
Basically , you want to use the ` frac ` kwarg to ` ax.set_thetagrids ` to change the radial position of the theta tick labels .
Scale axes 3d in matplotlib
I'm facing issues in scaling axes 3d in matplotlib .
it seems that ` scatter ` resets the axis , you can put the ` ax.set ...
` function calls after the ` scatter ` call .
In my experience , you have to set your axis limits after plotting the data , otherwise it will look at your data and adjust whatever axes settings you entered before to fit it all in-frame out to the next convenient increment along the axes in question .
` counts ` and ` bins ` are what ` np.histogram ` would return ; ` plt.hist ` just returns the plotted patches as well .
To see both the normal distribution and your actual data you should plot your data as a histogram , then draw the probability density function over this .
You may try using ` hist ` to put your data info along with the fitted curve as below : #CODE
I created a graphic with matplotlib using subplot , so #CODE
The calls to ` Axes ` functions do not automatically trigger a re-draw ( unlike the ` plt ` functions ) .
I have created a simple animation of a surface binding process using matplotlib's FuncAnimation .
Use ` patches ` of previous ` init ` / ` animate ` call instead of creating new one every time .
I have created a robust version that basically reserves enough space for the nx*ny Circles to fit using : ` del patches [ nx*ny :] ` to safely prune the array after each frame .
How are existing subplot axes retrieved using subplot2grid / gridspec in Matplotlib ?
I have problems accessing existing subplot in a Matplotlib figure when specifying plot locations using gridspec directly , or alternatively , subplot2grid .
Regular subplot specs , e.g. add_subplot ( 211 ) , returns existing axes if any .
Using gridspec / subplot2grid seems to destroy any existing axes .
How do I retrieve the existing axes objects using gridspec / subplot2grid ?
I would like a solution where I do not have to define own placeholders for the axes objects .
A unified behaviour for add_plot etc . for the various ways to specify the subplot format is still needed though , IMO .
This is actually a subtle bug with the magic of how ` add_subplot ` determines if a an axes exists .
which is because ` gridspec.__getitem__ ` returns a new object every time you call it and ` SubplotSpec ` does not overload ` __eq__ ` so python checks ' is this the same object in memory ' when searching for existing axes .
You can pass to ` ts.plot() ` the argument ` xticks ` .
I want a line ( Line2D ) object to move with the current cursor position on several axes of a figure .
in draw_wrapper ( artist , renderer , * args , ** kwargs )
53 def draw_wrapper ( artist , renderer , * args , ** kwargs ):
54 before ( artist , renderer )
---> 55 draw ( artist , renderer , * args , ** kwargs )
56 after ( artist , renderer )
in draw ( self , renderer )
Also , I've seen that I was supposed to somehow save the canvas before the first line is drawn and restore it each time I re draw it , so only one line appears .
to draw the line at its new position , but that does absolutely nothing .
You can change the color map for a specific axes by using the ` set_color_cycle() ` method .
You can use some colormaps to color your lines , example ( here I use the ' jet ' colormap ): #CODE
Can we draw digital waveform graph with Pyplot in python or Matlab ?
I am trying to draw digital signal waveform graph for bits like 01010101010101 using pyplot in python , like
missing wedge in matplotlib contourf plot
I'm trying to plot a contour plot in matplotlib and I keep getting a missing " wedge " .
I have a similar dataset which is indeed missing a small cut , and which I would like matplotlib to interpolate across when doing the contour plot .
If I plot the very same data in IDL , for instance , IDL does interpolate when making the contour plot and no missing wedge is displayed .
I would like to make a contour plot that covers the full circle .
IDL's contour plot does this ( filling in the wedge between 2* pi-epsilon and epsilon ) , with the very same dataset .
Now , when I plot sin ( PHI ) , matplotlib fills in the contour between phi_1 and phi_2 , between phi_2 and phi_3 and so on , even though it has ** no ** information about what happens in the middle .
How do I do the same thing with another collection of graphs on the same plot ( e.g. from a different initial guess , converging to a different solution ) without disturbing the first collection , so that two colormaps distinguish the collections from one another .
Unfortunately , if the plot already has an existing legend , this does not change the color of the corresponding entry in the legend as well .
Is it possible to extend the approach to change the color of the legend entry as well ?
I currently draw the figure to plot on when i intitiate my program then plot on it later using a function which is called every so often using a loop .
The problem im having is that i have an animation of particles moving and colliding oin a pygame window and in order to plot points on the figure i have to pause the plotting which halts the animation of particles as it runs in a loop with graph() .
resizing rectangle on multiple axes on mouse motion : on using blit , draw_artist
I have a figure consisting in multiple axes , and on several of them I want to draw N rectangles to highligtht x intervals .
On my machine , when I move my cursor while button is pressed , I see rectangles drawn on th bottom panel only , it looks weird like there are several rectangles being drawn , I don't know ... but nothing on the first three axes .
i.e. create and draw a rectangle with a given width on two axes , then change the properties of the rectangles for all axes ( this simulates a mouse motion ) and re-draw the rectangles .
Ok I have managed to see all rectangles being resized by changing fig.canvas.blit ( ax.bbox ) into fig.canvas.blit ( fig.bbox ) and putting that out of the axes loop .
Therefore , the artist gets drawn on top of what it drew last time .
On the other hand , I'm not having the same issue you are with only the bottom subplot being drawn during " dragging " the mouse .
It's ` None ` if the event occurred outside an axes , and the axes object it occurred inside if not .
( Or , alternately , ` if event.inaxes in self.axes ` , if you want to limit the effect to specific axes . )
How to adjust the size of matplotlib legend box ?
So I decide to put my legend box there .
However , I find the items in legend are very small and the legend box itself is also quite small .
How can I make the items ( not texts ! ) in the legend box bigger ?
To control the padding inside the legend ( effectively making the legend box bigger ) use the ` borderpad ` kwarg .
If we change inside padding with ` borderpad=2 ` , we'll make the overall legend box larger ( the units are multiples of the font size , similar to ` em `) : #CODE
On the other hand , if you have very large markers , you may want to make the length of the line shown in the legend larger .
If we change ` handlelength ` , we'll get longer lines in the legend , which looks a bit more realistic .
Because the height of the errorbar whiskers in the legend is controlled by the height of the text , a lot of times you want to shrink the " dot " in the legend to make the errorbar whiskers more obvious .
Unfortunately , I don't think there's an easy way to say " make the errorbars in the legend twice as large " without changing other things ( e.g. font size ) .
When you call legend you can use the ` prop ` argument with a dict containing size .
See here for more info on legend
Edit : here's a version that doesn't show the axes , and uses legend instead of label so that you don't have labels being squished together .
That's why I switched to using a legend .
If I could pick your brain one more time , would you happen to know how to label each figure without having to add the subplot ?
I was just looking at the legend stuff and trying to figure out how to get that to work , but you beat me to it ( and did it much better than I could have done ) .
Matplotlib - Show legend with multiple colours representing the same value
I want to create a legend which displays both colours for a particular value in the same line .
Using the ` ncol=2 ` command in the legend properties and setting the second set of legend titles to just `''` it displays correctly .
For example , the code below produced the legend in the image shown at the bottom of this post : #CODE
@USER : I just use the normal legend command with ncol as an argument .
Currently , to draw a rectangle on my plot in matplotlib , I use : #CODE
Note the ` transform ` argument passed to the ` Rectangle ` method .
pretty sure this very similar to the code used to do the drop shadow on fancy legend boxes .
Animation based on only updating colours in a plot
At each step the colours of lines should get updated in the animation , but doing a for loop on lines seems to be really costly .
Plus I couldn't make it to work with animation artist !
I used draw .
What is wrong with the animation lines
As I said I want to run it side by side with an animation .
Therefore I prefer to make it an animation .
I think that would solve the lagging problem at least after the animation starts but right now the way I defined it , it doesn't work .
The better performance is mostly because collections are an optimized way to draw lots of similar objects in matplotlib .
If you don't need to share axes , then simply ` axLS=map ( fig.add_axes , rectLS )`
You can use gridspec to control the spacing between axes .
I used ` vstack ` to stack the spectrograms but the axes are not correct .
How do I correct the axes ?
The reason is ` matplotlib ` s standard interpretation of the axes of a 2D array ` a ` , where ` a [ i , j ]` is meant to be the ` i ` -th value of the ` j ` -th plot .
I tried doing ` x.plot ( subplots=True )` , but this creates a subplot for each column ( i.e. ` cresp1 ` vs ` cresp2 `) , which is not what I want :
You can draw it yourself : #CODE
I am taking at the left side ( the first subplot ) the 5th order plot and at the right side ( the second subplot ) the 4th order .
You should use ` subplot ( 1 , 2 , i+1 )` .
I didn't thought the subplot number !
I'd like to plot a contourf plot where the one part of my data varies in steps of order 1 and the other part varies with steps of order 100 .
Now I tried to just give contour levels like this : #CODE
IPython / matplotlib : Return subplot from function
But how can I return a plot from a function and use it as a subplot ?
You don't " return a plot from a function and use it as a subplot " .
Instead you need to plot the boxplot on the axes in the subplot .
The ` if ax is None ` portion is just there so that passing in an explicit axes is optional ( if not , the current pyplot axes will be used , identical to calling ` plt.boxplot ` . ) .
If you'd prefer , you can leave it out and require that a specific axes be specified .
The ' nature ' of the figure and axes objects and the logic behind the plotting commands can be difficult to understand at the beginning .
If you want just the ticks that you specify , you still set them in the " normal " way , but be aware that the colorbar axes coordinate system ranges from 0-1 regardless of the range of your data .
Now in this code there are two stuff listening the motion_notify_event : the class Event1 , which will draw circles at the cursor position , and the class ' plotclass ' , which creates the figure and draws cursors at the cursor position .
Of course if I do useblit=False , I'll get back to the problem where drawing my rectangles for the 14 axes is way too slow to be usable .
You'll have to subclass ` MultiCursor ` to not only allow the disable / enable , but also to refresh its internal saved state of the canvas .
I suspect this is because the Parent class has associated ' motion_notify_event ' to its own onmove() method , and because they don't store the id I can't disconnect it .
Is this a bug in Pandas or are plot and hist not interchangable ?
Plot and hist aren't interchangabe : hist is its own DataFrame and Series methods .
If you want to do this backward , that is read the data from your last file into ` x ` , then read and append the data from the second to last , then just change your sort to #CODE
On Github , a fix has been recommended : " use projecting caps for axes spine " .
Why is SymLogNorm not creating a proper plot when using contour maps ?
I want a log scaled contour plot with both negative and positive values in a log scale ( hence using SymLogNorm ) .
It works fine when using a scatter plot example , but not when plotting on a map .
Adding a subplot that doesn't share an x axis when others do
I'm trying to add a subplot onto the bottom of a figure of subplots .
So how can I add a subplot that does not share the x axis ?
This code does NOT work because they are shareing the x-axis of the last subplot .
Was having difficultly as I have to loop when plotting and my x axes are dates !
matplotlib : Two chart types with two axes
How do I draw a line ( with a corresponding secondary axis ) on top of the columns ?
I want to subplot ` foo bar and baz ` .
Using ` Montage ` to join the images .
You've called ` subplots ` twice : once before the loop with no arguments , which creates a figure with just one axis , but then in the loop you call it again with ` ( 3 , 1 , ... )` You want to move that second call to the top and then plot once in each of the three axes .
You are replacing the first ` fig ` when you call ` subplot ` inside the loop , here is a fixed version .
How can I make a scatter plot colored by density in matplotlib ?
I'd like to make a scatter plot where each point is colored by the spatial density of nearby points .
By this I mean those low-alpha thick margins you see around some time course plots .
In a nutshell , you want ` self.figure = Figure ( figsize =( 400 / 80.0 , 300 / 80.0 ))` .
` ax.bar ` returns a ` Container ` of artists ; each " artist " is a ` Rectangle ` with ` set_linewidth ` and ` set_edgecolor ` methods .
The following code works until creating scatter plot .
Confidence Ellipses over the scatter plot ?
If the scientific notation is wanted for a smaller range a custom Formatter can be used as #CODE
The following creates a scatter plot of my data .
For some , the method may be called something else ( e.g. ` scatter ` returns a collection where the equivalent method is ` get_offsets `) A few artists ( ` ContourSets ` for example ) don't contain references to the original input data , but this is quite rare .
The animation writer support is ( relatively ) new .
@USER Did you success in saving your animation ?
I tried the short one ( the two lines above ) in one program to save an animation created in Python but I didn't succeed !
However , reading your other posts about your animation problem , it doesn't seem that you have the problem discussed here .
Computing k means and plotting over the scatter plot
The problem lies in the fact that your data is 1-d , and to plot a scatter plot you need values for 2 coordinates .
I want to plot a dotted-style linear regression line through a scatter plot of data , where both x and y arrays contain random floating point data .
But you draw a dotted line repeatedly over the same location , so it seems like the normal behavior to me that it gets smeared at places where there are multiple dotted lines on top of each other .
It means that specified commands are applied to the active figure and the active axes ( subplots ) .
You can also consider the OO approach where you get figure and axes objects .
This means you can access any figure or axes at any time , not just the active one .
Its useful when passing an axes to a function for example .
I am trying to make a filled contour for a dataset .
Use the ` colors ` kwarg to ` contourf ` and manually specify the colors
Use a custom ` Normalize ` class and pass an instance in as the ` norm ` kwarg .
For what you're wanting , you'll need to subclass ` Normalize ` , but this isn't too hard to do .
The reason to use the second or third options is that they will work for any type of matplotlib plot that uses a colormap ( e.g. ` imshow ` , ` scatter ` , etc ) .
It's basically identical to the first option , but it will a ) work with other types of plots than contour plots , and b ) avoids having to manually specify the number of contours .
As an example of the second option ( I'll use ` imshow ` here because it makes more sense than ` contourf ` for random data , but ` contourf ` would have identical usage other than the ` interpolation ` option . ): #CODE
You can modify both new axes similar as the ` green ` one , but select the ` left ` spine and apply a negative offset .
The ` zorder ` from lines is only taken into account within the axes ( or so it appears ? ) , since you have separate axes on top of each other , you should modify the ` zorder ` of the axes : #CODE
They are ` axes ` objects and come from the example which imsc is showing , see : #URL
You can also change the color of the spines themselves with : ` host.spines [ " left "] .set_edgecolor ( p1.get_color() )` , etc .
I really like Matplotlibs 3D scatter plot ( you can rotate and zoom with the mouse etc . ) .
If you just have a z value with no corresponding ` x , y , ` values matplotlib has no information about where the draw the z value .
I am trying to show a matplotlib plot with axes labeled using gettext's _ ( " label ") construct .
This seems like a pretty standard contour problem ( isn't it ? ) .
Which will draw lines at values given by ` V ` .
When I want to do this sort of thing in systems like OpenGL , I'm think in terms of computing the transform which applies a 2x2 rotation matrix ` R ` about a centre ` c ` , and therefore thinking of points ` p ` being transformed ` ( p-c ) R+c ` = ` pR+ c-cR ` , which gives a ` c-cR ` term to be used as the translation component of a transform .
You'd have to incorporate a sufficiently high zoom factor about the centre of the image into the transform ; for a square image in a square window a factor of sqrt ( 2 ) would do it .
Add subplot to existing figure ?
i.e. how can I change the geometry to accomodate another subplot .
and then I want to add another subplot below : #CODE
Then the new subplot overlaps with the fourth one , when I want it positioned below obviously .
More generally what is going on with the ** kwargs with subplot ?
There are various ways to work around this , but one of the simpler solutions is just to give yourself a bigger subplot grid by using a third row of plots -- using a ( 3 , 2 ) geometry as in my example below : #CODE
presumably I could delete subplot 5 and 6 if they subsequently seemed unnecessary ....
Initially the file position is at the beginning ( unless you opened the file with append move ( ` a `) or you moved file position explicitly ) .
One way to do this is to make a scatter plot , where each dot can have any color .
I used ` edgecolor= ' none '` because by default the ` scatter ` markers have a black outline which makes the it look less like a uniform line .
The best approximation to what you want is to do a scatter plot where the color is set by the same values as the y array .
how to insert a figure into a new subplot in matplotlib
So I would like to create four subplot histogram pictures that are bundled together in one big picture .
I already tried to do this numerous times by looking at the documentation on the hist() function and the subplot option in pyplot , but I couldn't figure out how to combine these options .
I'm trying to use matplotlib's pcolormesh function to draw a diagram that shows dots in 2d coordinates , and the color of the dots would be defined by a number .
Now , if I try to draw the diagram : #CODE
If you want dots , use ` scatter ` .
` scatter ` draws markers colored and / or scaled by size .
Yeah , I tried using scatter , which I found easier to use .
I have 2D contour data that I can easily plot with imshow , with the " nearest " interpolation .
I would like to draw boundaries around the different regions overlaying the subplot .
If not I can just loop through the data and draw lines on the plot , but it seems like there may be a simpler way to do this .
Before writing you some code , have you had a look at the matplotlib gallery checking for contour plot examples ?
You can simply do an ` imshow ` plot and a subsequent ` contour ` plot .
I have tried this , but the contour plot interpolates data .
I want the contour lines to be on the edges of those rectangles .
I guess a simpler question would be can you draw contours to be on the edges of meshes based on bins with respect to the data .
matplotlib : legend issue while embedding fonts in eps figure
But if I comment the legend while making the plot then I do not get a Type 3 font .
It seems that the fonttype does not apply to the legend ( or am I missing something ? ) .
For each boxplot , I want the corresponding label on the X-axis to have a certain value .
opaque ) animated : [ True | False ] axes : an
transform : : class : ` ~ matplotlib.transforms.Transform ` instance
This should fix bad looking Text .
If it still doesn t work I don t know what else to do ... you could try to set LaTeX as default Text renderer ( ` text.usetex : True `) and see if this affects the normal Text .
This would help to nail down the Error , since LaTeX should look good ( better than normal Text ) there is something wrong somewhere in your setup , and activating LaTeX for all the Text might help to see where the problem might lie .
If all the Text looks bad there is a good chance that something with your latex compiler is wrong .
Text looks great , * LaTeX * does not ( looks like a half-res bitmap ) .
I did a lot of research and I see how to use the file_between but that requires specifying the Axis
The matplotlib functions like ` plt.plot() ` don't return axes , but pandas ' plotting methods uniformly do .
I'm trying to make a polar chart with matplotlib and python 2.7 , but I'm struggling on how to increase the space between the X-Axis and the Tick Labels for that same axis .
@USER already mentioned using the ` frac ` kwarg to ` ax.set_thetagrids ` .
it uses in the boxplot function .
mayavi.mlab has no attribute `' boxplot '` using the current between-releases development version .
The boxplot function you are calling is from matplotlib .
The overarching point of this exercise is to make the grid lines overlap for the two axes .
You need to manually set the ` yticks ` as it stands these are automatically calculated resulting in a variation .
Why is my 2D interpolant generating a matrix with swapped axes in SciPy ?
LineCollection animation when updating the frames in a loop
You need to draw the changed artist ( your ` LineCollection `) just after the line #CODE
You need to do this because the LineCollection was first added to the axes with the line #CODE
This however replots everything , and slows done a lot the animation .
The solution is to draw first all the rest with a call to ` plt.draw() ` before the loop , and then updating only the changed artist with a call to ` ax.draw_artist ( col )` .
I do not need to zoom and pan around the image , it is going straight to disk .
The other option is to write a custom sub-class of ` Axes ` which overrides the ` draw ` function and generate an artist for each point , raster it and composite it down , and then throw the artists away before making the next one .
Your second solution is interesting , how could I rasterize / composite an artist ?
I think the internal represenation is the problem , someplace there is the moral equivalent of ` _internal_data = np.array ( input_data )` and if you are color mapping , the scatter object will end up being at least 6*N*64 B ( N rows , 6 or 7 floats ( XYZ , RGB ( maybe A ) , 64bits )
Make a single artist , update it , and use ` draw_artist ` each time without restoring the canvas .
I changed your scatter function to have shapes that are visible in small numbers .
This will be very slow as you are setting up a ` scatter ` object every time .
I would either take sensible chunks of your data and plot those , or replace the call to ` scatter ` to the underlying artist objects , or use Joe's suggestion and just update a single artist .
However , you can use / abuse blitting to do this without subclassing ` Axes ` .
There's one additional trick : We need to have a special ` save ` method , as all of the others draw the canvas before saving , which will wipe out everything we've drawn on it previously .
Also , you might notice that the top and left spines are getting drawn over .
You could work around this by re-drawing those two spines ( ` ax.draw_artist ( ax.spines [ ' top '])` , etc ) before saving .
You just need to set the aspect ratio of the ` axes ` #CODE
Python Matplotlib lines in scatter plot
Is there a way to influence which points are connected in a scatter plot ?
I want a scatter plot where the points which are close together are connected .
what do you mean the points in a scatter plot are ' connected ' ?
When you plot them ( not in a scatter plot as @USER points out ; this would not connect the dots ! ) , the line connecting the points will therefore follow the order of the points .
I have to sets of points x , y , which i want to plot in a scatter .
( Like excel does , when you add lines to a scatter plot )
I've the feeling that you are overplotting the ` imshow ` on the same axes of the same figure .
As a side note , if you only have one axes in the figure , you can just use the axes title .
Plot Dates in MatPlotLib using a scatter data set
Here is an example based on your data using the hist method of a pandas.Series
Note : calling ` grid() ` , ` title() ` , ` xlabel ` and ` ylabel ` as you do shall not work ; each time it shall be prepended by ` pylab .
matplotlib iterate subplot axis array through single list
The ` fig ` return value of ` plt.subplots ` has a list of all the axes .
I have script which draw candlestick chart .
You can't annotate points past the 28th November because they aren't in the plotted data , so the call fails .
Annotation can be created now :
Basically , you want to pass ` patch_artist=True ` to ` boxplot ` .
` Text ` objects can have all of their attributes changed : #URL
Change axes in matplotlib imshow
Is there a way to change the axes values to those defined with the arrays ?
How to draw a histogram when some bins dominate the others
I would like to draw a histogram that explains how the data is distributed .
I am not familiar with ` matplotlibwidget ` , so there may be an easier way to do this , but you can grab the ` Axes ` object and do what ever you want to it : #CODE
I'm using Matplotlib to draw surface plots in a 3D space .
Also , I want to annotate the x , y , z axis , specifying the name of the values on that axis .
So I want to annotate the left corner in the plot .
To be more specific , if you look at the answer to that question it shows how to make a 3D Arrow and use that to annotate points in a 3D plot -- I have used this recipe extensively and it makes me wonder how it isn't built into matplotlib yet .
To fix this issue , I tried to append a "" ( nothing ) to the x axis array whenever that hour's value was a 0 and append the timestamp whenever its available , but it messes up the formatting of the graph .
Higher order interpolation for contour plots in python
I think that you want to smooth your data before you pass it to contour .
See #URL I don't think you can do it in one call to annotate .
In terms of a generalized solution , it would be as complex as the original annotate because there are quite a few different kinds of things that are created depending on the parameters given to annotate .
IMHO you are better off creating a number of rather simple routines that call annotate two times , one for the arrow and one for the text that correspond with the probably limited ways that you really want to use annotate .
Given the data accessors available in the Annotation class ' source code , it seems reasonable to assume that the path data is indeed available .
How to draw an errorplot and a boxplot sharing x and y axes
I just want to draw 2 sets of data that share the same y and x Axes , but one set drawn as a boxplot , and the other as errorbars .
I've tried setting hold to true or cloning the X axes but every time only one of the dataset gets drawn .
My question is really similar to that one add boxplot to other graph in python which answer doesn't work .
You can absolutely do this , and you don't need to do anything special like make multiple x or y axes ; since you want to plot them both on the same set of axes , you don't have to change anything .
One thing that you need to keep in mind is that the x-axis of a boxplot is ` range ( 1 , num_boxes + 1 )` , which might not be what you expect .
In Matlab , you can use a subplot range , but I believe this only works for single row configurations .
Use ` subplot ` with range : #CODE
Pandas / Matplotlib annotate on one column and label on another
In addition I would also like to label ( add legend ) on a different column in a pandas dataframe , in this case the column : ds [ ' Label '] .
I have managed to annotate the scatter with the years but I'm stuck on how to label the data from a different column .
Your question is a bit unclear but I think you want a legend that corresponds to the labels in ` ds [ ' Label ']` .
will give you a labelled legend .
Also , do you know a way to keep the legend " bubbles " small while increasing the bubble size inside the scatter ?
Plot issue while changing axes scales on matplotlib scatter plot
I am drawing a scatter plot using matplotlib .
Here's the plot of the data when there is no scale of the axes #CODE
The plot of the data with axes scaled to ` logarithm ' scale .
It appears that in this particular case , you can't scale the axes after the plot .
My guess as to why you can't scale post scatter plot : a scatter plot returns a PathCollection , which probably results in the scaling function looking only at the last entry of that collection , that is , the last point .
@USER If it were the case the the limit scaling only looked at the last point of the ` PathCollection ` , then no auto-scaling on scatter plots would work .
@USER You're saying that mpl auto-scales the linear data so that the axes have negative limits , and then attempts to take the log of those limits ?
' -- ' should also draw lines so I am confused .
How to set xlim in python matplotlib pyplot ?
Try to remove that line , or put it before the ` xlim ` command .
I would like to draw a stack plot with a colormap as given in Figure 5 of this paper .
Currently , I am able to draw a scatter plot of a similar nature .
I would like to convert this scatter plot to a stack plot with a colormap .
Here's my code to generate the scatter plot with color map #CODE
I wonder why there's an issue with the axes limits .
It seems like you are more looking for a contour plot : #URL
I tried the contour plot in the example section and other sources and it isn't really reflecting the figure I posted .
I feel that there are 6 bins for the z-values and I need to draw then using a stacked area chart .
What you want ( and what is shown in the figures you link to ) is a contour plot of interpolated " z " values given several x , y , z observations .
You'll need to interpolate your scattered data onto a regular grid and then use ` contourf ` .
Also , on a side note , in your call to scatter , you don't need to specify a custom ` norm ` if all you're doing is just a linear scale .
( For example , notice the " island " in figure that you're trying to copy . ) If you were going to try to use ` stackplot ` , you'd have to first use ` contour ` to identify lines of a constant " z " value before plotting them with ` stackplot ` .
` contourf ` basically just does this in one step , but it plots things more flexibly than ` stackplot ` ever could ( for example , it will happily handle " islands " : a.k.a. closed contours ) .
I tried using ` contourf ` as given here #URL but it throws me a ` Array Too Big ` error .
Plotting the result as either an image or a contour is fairly straightforward once your data is in an appropriate format for visual display .
I am now getting the figure ( I have edited my original post ) with some issues with the limits of the axes .
matplotlib , increase scatter size while keep legend size small
I want to increase the size of the " bubbles " inside a scatter plot .
However when I call legend on the data , the size of the " bubbles " in the legend is equally large .
Does anyone know a way to make the legend " bubbles " small while keeping the scatter " bubbles " large ?
Use ` plt.legend ( markerscale=k )` , where ` k ` is the scaling factor for the legend , relative to the plot's marker size .
I used xticks because this is how I had done it while generating a histogram in matplotlib .
set_xticks and set_xticklabels are axes methods , not functions in the ` plt ` module namespace .
A convenient way to get your hands on the ` axes ` is to call
Matplotlib Stackplot legend Error
I am trying to include a legend for my stackplot .
However an error occurs on the line with the legend .
Your question has alot of superfluous code ( does it matter that you are looping over files ? does it matter that you are labeling your axes ? does it matter that you are saving the figure ? ) It looks like you just dumped your entire script here without doing much debugging your self .
When you hit Ctrl ` to go to the console , you are using the internal version of Python that comes included with Sublime Text 2 .
Are there other , more efficient ways to draw this kind of graphs ?
Something more like a heatmap is probably what you want , or maybe a contour plot or just a scatter plot where you set the color of each disk to the wind velocity .
Here's a nice image done with matplotlib that's a heatplot with contour lines , and looks to be geographical .
One nice thing about the contour plot , is that max gradient will be orthogonal to the iso lines , so it's half way there to calculating the visualizing the forces on the wind .
Python numpy polynomial fit : How to draw region of uncertainty curve ?
I have data that I fit a curve to but which I want to also draw the points , the polynomial through the points ; but also a " region of uncertainty " around the fitted line - if it were a 0 degree polynomial it would best be a ~ / - standard deviation area coloured around the mean line .
It's your ` xscale ( " log ")` call causing the problems .
Remove first and last ticks label of each y-axis subplot
Then , I want to remove the first and the last label tick of each y-axis subplot ( because they overplot each other ) , I used : #CODE
If you do this , you can then just iterate through all the axes : #CODE
You can draw the arrow up to the boundary and use a type of arrow head that indicates that it's not the true end of the arrow , such as a half arrow head , `" shape " = " left "` , or open vs . closed , etc .
You can draw the arrowhead midway along the arrow , like is done for a streamline .
Matplotlib : Colour multiple twinx() axes
I have made it possible to add multiple y axes using this example : #CODE
However , is it possible to change the colour of the parasite axes ?
I'm not sure what exactly you want to color since the axes consists of many items which can have a color like spines , label , ticklabels etc .
I had tried this method previously but gave up when I couldn't get it to work for an arbitrary amount of y axes .
What I want is a function that plots a user-specified number of y axes ( corresponding to what the user wants to plot ) and offsets them and colors every part of the axes automatically .
I've tried using an array to store the axes but only the last one shows .
So instead I'm using the previous axes for each new twinx() in a for loop and it all seems to be working perfectly .
If you're just wanting to place text at a point in axes coordinates ( e.g. the upper left hand corner of the plot ) use ` annotate ` , not ` text ` .
` annotate ` is much more flexible , and is actually geared towards annotating a plot , rather than just placing text at an x , y position in data coordinates .
( For example , even if you want to annotate an x , y position in data coords , you often want the text offset from it by a distance in points instead of data units . ) #CODE
It should be noted that ` annotate ` is just a fancy wrapper for ` text ` which takes care of the transforms for you in the background .
Example : I have an image made of a grid , a few lines , a histogram and some scatter points .
It'd be much easier if I could just give a ` zorder ` to the grid to force it to draw last than having to also edit all the lines , points , etc .
Obviously , you meant the actual grid on the axes .
how to make a grouped boxplot graph in matplotlib
I've run them on different datasets and would like to graph their runtimes on each as a grouped boxplot in Python .
What you're running into is a bit of a classic gotcha with shared axes .
The ` plt.setp ( ..., visible=False )` is a workaround so that they're still shown on the first axes , but not on the other shared ones .
draw grid lines over an image in matplotlib
How can I draw regular grid lines over a tiff image ?
I want to draw regular square grids for each interval ( say 100 by 100 pixels ) over the image and save that with the drawings .
Basically , you can use ` twinx ` to create another Y-axis , but when I try it to the colobar axe , the aspect setting cause some problem , so I use ` set_position() ` to change the width of the two axes , here is the code : #CODE
I need to draw graphs in python matplotlib .
For each graph I do some calculates before and then draw the graphe .
My problem is that I call to this function twice or more , according to the number of graphs I have , I get the graphs in separate plots , but I want to draw all graphs on the same plot , in order to compare them .
Thanks a lot , I just remove plt.show() and put it after all calls to the draw function .
according to the number of calls I draw graphs on the same plot ( I'm doing the ` plt.show() ` after I finished all calls . ) each graph in different color .
and I need to draw a diagram where dates are on x-axis and data1 on y-axis .
Data2 is needed to draw dots in diagram and they should all be in differend colours corresponding their values .
The answer , btw , is " no " , but that using scatter plot will work .
A scatter plot will give what you describe .
Take a look through the mpl gallery page and you'll see that the ones like your sketch ( and that also match the structure of your data well ) are using a scatter plot .
Scipy : Display xlabel propably
Now I've seen questions and guides on how to embed matplotlib into Tkinter , but these always involve creating a matplotlib Figure() and then using the show() method and FigureCanvasTkAgg() on that figure , whereas the instructions to create a cartopy map is usually to simply use the pyplot's axes() method while providing a cartopy projection object and then using show() with the pyplot module ( instead of the Figure object ) .
It would also be nice to see an example of how I can draw lines or points in the new embedded cartopy map , e.g. which object do I use the .plot() method on ?
For others with the same problem the crucial steps as I understand it are to 1 ) create a matplot figure , 2 ) add an axes to the figure by including a projection argument ( thus making it a Cartopy axes ) , and 3 ) converting the figure to a Tkinter widget by using the FigureCanvasTkAgg function on it and then using its show() and get_tk_widget() method to pack or place the widget in the Tkinter window .
This means that embedding a Cartopy axes is as difficult as embedding a matplotlib axes in any of the GUI toolkits .
graphing scatter for ranges in python's matplotlib
I'd like to display the x values as their log transform , but keep the original values on the ticks so you can see the actual values .
For #1 I tried playing with xticks as you can see below but without much success .
This code gives the error ` TypeError : bad operand type for abs() : ' Text '`
Why is it necessary to use subplot , even when only single figure is involved ?
@USER -- You need to create an axes instance .
There's another convenience function for creating a figure and axes at once , but I can't remember what it is right now ...
You could however also capture the ` axes ` object which Pandas returns and then iterate over the artists to modify them .
Here the code example that should put the ticks of the twinned axis in the same ( absolute axes ) position as the ones for the original axis : #CODE
Use annotate by giving list python matplotlib
I have a function call draw .
I see that annotate may be the answer but it can't get a list .
Maybe you are working with the state-machine interface ( ` plt.plot() ` etc ) and dont have the right axes while working on it .
You can get the active axes with ` ax = plt.gca() ` .
ok that changes the size of my whole figure but what can I do if I wanted to adjust only one subplot ?
Is anything similar available for the subplot function ?
Generally , you can places axes any way you want .
You can directly add axes to the canvas at an arbitrary position with ` plt.axes() ` .
edit : and explicit axes box : #CODE
How to get smooth filled contour in matplotlib ?
Hi iam trying to plot a filled contour of uneven data . which is in a three lists .
My problem here is i can't able to get smooth filled contour . what i did is first i changed my data from a irregular points to a grid using griddata .
Let griddata generate samples on a grid by linear interpolation and use imshow or contour to do cubic interpolation based on that data , i.e : #CODE
@USER . actually the x and y are my screen coordinates i have to match this contour to screen resolution and / or size .
The last statement does not fully close the Figure .
The figure goes dark , and the contents go away , but the Figure stays on the screen until I exit IPython as shown below
See How to draw diagrams like this ? for a long explanation + possible work around .
Due to the way that matplotlib renders ( artist at a time ) one artist is either fully above or fully below another .
How can I make the change without changing the individual axes attribute ?
I mean , is there a way to do something like fig.setxticklables ([ ]) than doing it for axes , such that both ax1 and ax2 get the changes ?
I've already tried the contourf approach from Python plot - stacked image slices , but the result is less than optimal .
I recommend that you use ` Axes3D.plot_surface ` to draw flat surfaces , and use the ` facecolor ` argument to color them , like this : #CODE
How to make a basic scatter plot of column in a DataFrame vs the index of that DataFrame ?
Reversing colormaps or specifying colors in a matplotlib / pandas plot
SciPy.org colormaps
I'd like to be able to alter my axes labels , probably angling them since the current text is a little long and unwieldy .
Unfortunately , it doesn't look like boxplot returns the axes : #CODE
You can get ahold of the axes by selecting one of the lines and calling the ` get_axes() ` method : #CODE
How can i transform Image1 to Image2 using matplotlib.pyplot or another library in python
How can i transform Image1 to Image2 using matplotlib.pyplot or another library in Python ?
Have you already got the procedures on how to transform your image1 to 2 ?
I'm having some problems with the xticks of the graph here :
` try doing them on the axes objects
I am trying to make a contour plot like :
Python gives me the right axes for the values that I am expecting to see , but in the graph is just a blank and I know that it is importing the data in right way because it shows me my values before the plot .
If not , you'll need to interpolate to make a contour plot .
Right now , you seem to have ` z ` values at given ` x , y ` points , but ` contour ` expects you to give it a 2d array , like an image .
If not regularly , you basically have to interpolate before you can make a contour plot .
One thing you can do to test things is ` plt.scatter ( x , y , c=z )` which does a scatter plot of your points , and colors them by the ` z ` value .
How to change the colours of a contour plot
I am using this code below to create a contour plot , and it is okay , very succeed , but I cannot change the colors , do someone knows how to do that ?
get the names for the standard colormaps from
You will want to look into ` Formatter ` s to control how your tick labels are displayed .
In addition to this split I want to append a cut-like design to each of the plot figures which were split . for example imagine a bar-graph made of paper , if I split the bars at a certain point along the y axis by tearing the paper , there will be a rough edge at the split .
The ` AutoMinorLocator ` does only support evenly scaled axes .
This will become noticeable if you zoom and pan into the image .
I'm trying this with the standard ' subplots ' command of pyplot , but it doesn't seem to like it when I try to invoke a " lag_plot " on the resulting axes .
The proper subplot array is produced ( 2 columns and three rows of subplots , with proper axes ) , but all blank ( of course ) .
Ideally , I would like a subplot of just ` Value1 ` and ` Value2 ` with both plots being shaded using ` axvspan ` where ` On ` ( values with ` 1.0 ` in the ` OnOff `) are shaded and ` Off ` is not shaded .
you should be able to add an axes / subplot , hide the axis and add texts
If I try to plot this using a Robin projection using ` contourf ` with ` latlon=False ` than x and y are assumed to be map projection coordinates ( see docs , I think that's what I have ) .
Because you have log-linear data , then here we transform the data first , then run a linear fit .
How to draw arrows and arcs in a contour plot using Python matplotlib
I have made a contour plot like that using Python Matplot lib
Setting linewidth of Pandas boxplot fliers
Just want to chime in an say that I've submitted PR to matplotlib to allow full boxplot customization #URL
How can I specify the placement of the legend ?
then if you need to change the legend , you may do : #CODE
Add a legend in a 3D scatterplot with scatter() in Matplotlib
I want to create a 3D scatterplot with different datasets in the same plot and a legend with their labels .
The problem I am facing is that I cannot properly add the legend and I get a plot with an empty label as the figure in #URL s=5# .Uqd - 05GP-gQ .
" warnings.warn ( " Legend does not support %s\nUse proxy artist instead .
/ usr / lib / pymodules / python2.7 / matplotlib / legend .
#URL UserWarning : Legend does not support
Use proxy artist instead .
The problem is that the legend function don't support the type returned by a 3D scatter .
So you have to create a " dummy plot " with the same characteristics and put those in the legend .
numpoints = 1 to get only one dot in the legend
linestyle= " none " So there is no line drawn in the legend
Are you re-using figures / axes ?
Annotating Points in Scatterplot with Logarithmic Axis
Tick labels on x-axis aren't symmetric ( Matplotlib )
Set the locator for the specific ` axes ` object , and then supply those ` axes ` as argument to ` DataFrame.plot() ` : #CODE
We can give x and y axes labels for the main axes .
Alternately , is there any way to append a unit to one or more colorbar ticks ?
You use annotate to place text just about anywhere and add an arrow to what it refers to see some examples here .
And there is still some problem with graphics - one hist is shifted to another .
A good example of multiple axes is here : #URL Is this close enough ?
what's locked to what ?
You can use ` text ` , ` annotate ` or ` axis ` and ` spines ` ( even if you don't show the actual axis associated with these two ) .
It doesn't draw the curve at all .
Broken / combined colormaps
If the original colormaps have a different number of colors , the ' edge ' of both will not be centered .
There is a brand new Python module ' TrollImage ' which has a really nice implementation of working with colormaps .
If you would provide the right values you will run into : ` ValueError : cannot draw map scale for projection= ' cyl '` .
I figure that's not entirely clear , so I have called upon my sorely lacking ability to draw basic shapes and made this picture showing what I'm trying to do :
I'm not aware of any direct way to specify grouped exploded pies , but it is quite simple to use patches to redraw a pie with groups like #CODE
Matplotlib scatter plot animation keeps crashing Python
I've found some flaky resources online about what to do when a matplotlib animation crashes Python .
The code is for a physics class and it is not an optimization problem - the goal of the project is not to optimize matplotlib's animation facilities but to model a system in phase space .
and try using a single ` Line2D ` object with and using ` set_data ` instead of creating a new ` PatchCollection ` ( which is what a call to ` scatter ` does ) .
matplotlib's scatter plot changes the axis of another plot
I want to combine a ` contourf() ` plot and a ` scatter() ` plot from ` matplotlib.pyplot ` , however , adding the scatter plot changes the axis of the plot .
When uncommenting ` plt.scatter ( 3 , 7 , s=200 , color= ' k ')` the axis limits are changed , resulting in a white frame around the contour plot .
Axes instance argument was not found in a figure
Just somehow , maybe becaus of updating to python ( x , y ) 2.7.5.1 ( mpl is 1.3.1 ) , I get this error ` Axes instance argument was not found in a figure .
` It's just in this case , when I want this external function ( scipy dendrogram func ) to draw on the predefined axis .
An alternate way of making ` dendrogram ` plot on the fig / axes I want it to , would be helpful , too .
Please also give a hint on what should be used to update a plot as to ` MatplotlibWidget ` , ` figure ` and ` axes ` have a ` draw ` method .
The problem appears to be that instantiating the Figure object directly , skips over a whole load of figure manager construction , which is why that error was being raised .
Am I right concerning the point that ` MatplotlibWidget.draw() ` is the appropriate way to update the mplwidget including the figure and all axes ?
It's just a convenience class that creates a ` Figure ` , some ` Axes ` and sets some attributes that most people will want .
The first thing you need to do is change your plotting function so that it plots a single contour instead all the points .
By the way , you can replace your first scatter plot example with : #CODE
Redirect signals from matplotlib Figure to a PyQt4 QMainWindow
My question is : How to I get signals like Ctrl+S to fire when I am focused on a Matploblib Figure instead of the QMainWindow ?
However , I want to programmatically add tic marks and text labels to some of the points to annotate the date associated with the data .
I'm going to assume that you know which tick marks you want to annotate .
I've been trying to plot serial data from an arduino in real-time using matplotlib's animation function .
How to make a boxplot where each row in my dataframe object is a box in the plot ?
My data is from yahoo finance and includes Open , High , Low , Close , Adjusted Close and Volume data for each trading day .
But when I plot this data frame as a boxplot , I only get one box with the Open , High , Low , and Close values of the entire Volume column .
I just want a basic boxplot plot where each row from the DataFrame is a OHLC box in the plot .
I simply want to graph a boxplot where each box is a row of my DataFrame .
My first piece of code is graphing a boxplot where each box is a column of my DataFrame .
A couple of points : 1 ) boxplots and candlestick graphs , despite their similar appearance , are conceptually quite different ; 2 ) you actually are trying to make a candlestick graph ; 3 ) even if you transposed your data with ` SP.T ` , the ` boxplot ` method will not produce what you want it to and ; 4 ) the real change you face is figuring out how to take your dataframe and turn it into a format that ` matplotlib.finance.candlestick ` can use .
So the daily data from yahoo finance DataReader already has OHLC values for each day .
My Python Path is correct C :\ Python27_32bit\ and I also have \lib\ site-packages \ and \DLL included correctly .
then matplotlib will automatically put a notifier at the upper-left corner of the axes saying the scale of the y axis is 1e8 : #CODE
Here is an example , you can add the line to the axes of the image : #CODE
How to plot / scatter columns of matrices
That creates the appropriate matrix . now I want to scatter this matrix elemnts : #CODE
` scatter ( g1 [: , 1 ] , g1 [: , 0 ])` works just fine for me - Python 3.3 , matplotlib 1.3.0 , numpy 1.8.0 ...
another workaround seems to be ` scatter ( g1 [: , 1 ] .flat , g1 [: , 0 ] .flat )`
You're opening the file in append mode ...
It's like my analog to digital converter has a small memory of it's own .
I would simply draw these polygons .
Well , asking others to do your work is always a bit problematic :) AFAIK there is no such " break " option in matplotlib yet , hence you will draw this yourself .
Breaking axes is common to some plotting routines ( e.g. PyX ) , however , this feature is typically different to what you want here !
Have a look at the annotate object ( e.g. #URL ) and loop over your points
Overlay columns of histograms with scatter plots
It might be better to draw each bin as a ` Rectangle ` .
Pyplot : show only first 3 lines in legend
The problem is that my legend shows 3x200 items instead of 3 items .
How do I get it to show the legend for each line once ?
for any plotting that you do not want to show up in the legend .
To avoid extra logic in your plotting , use ' proxy ' artists for your legend entries : #CODE
I am plotting time series data in an animation using matplotlib.animation.FuncAnimation
legend !
I understand that I need to use subplot and layout the plots , but how do I associate the correct datasets with each plot ?
I need to draw a circlar arc with an arrowhead at the end point .
you need to change the limits of the axes , or you want see the arc .
But I cannot figure out how to transform the stuff from there to a 2D geometry where I will have ( x , y ) datapoints to process ?
The only thing you have to do is to transform your coordinates as follow :
x '' = 0.5 * ( 2y ' +z ') and y '' = sqrt ( 3 ) / 2 * z ' , your data will be seen in its natural projection .
Possible to make labels appear when hovering over a point in matplotlib in stem plot ?
I am new to matplotlib and I am looking to label stems in a stem plot with x , y co-od when mouse hovers over that point .
When I searched everything was meant for scatter plot ( Possible to make labels appear when hovering over a point in matplotlib ?
Will the scatter plot link for stem plot too ?
Since you supply ` x ` and ` y ` , it does not matter if you are making a line plot or a stem plot or whatever .
So this plots 3 different hysteresis curves on the same axes with the same axes labels and scale and everything .
When I isolate the points , and don't draw the lines , I get this result :
Matplotlib will draw lines between each pair in the order you have provided .
I tried to modify some code I found on the stackoverflow forum ( How can I plot the same figure standalone and in a subplot in Matplotlib ? the first answer ) .
What it basically does is zooming in on a subplot if that subplot is clicked ( only show the clicked subplot on the canvas ) , and zoom out when it is clicked again ( show all subplots on canvas ) .
The figure canvas with subplots is created correctly and the Zooming subplot class is entered , however it doesn't seem to connect with my click event ( it doesn't enter ' on_click ') .
Yes , but then you are using pandas ` hist ` function , and not matplotlibs .
These NaN's are not handled well by the ` hist ` function of matplotlib .
Another option is to use pandas ` hist ` method on your series and providing the ` axes [ 0 ]` to the ` ax ` keyword : #CODE
I want the ylabel ( " Number of occurrence ") to be shared between first and second plot , that is , it should occur in the center left of first and second plot .
just replace you're ylabel with the one I have above
Using Multiple Axis
Given quartiles , how do I draw a box-whisker using MATLAB , matplotlib , gnuplot , or some other package ?
I don't have access to the original data , but I do have all the information I should need to draw the boxes .
What's the best way to draw the boxes / whiskers without the data ?
So : simply call ` boxplot ` using this extended vector as data : #CODE
A nice thing of this approach is that you can use all the fancy options of ` boxplot ` to customize the plot .
Then , as they behave as ` Text ` objects , you can change their characteristics , notably the text displayed .
I have two 2D arrays and I want to display the data in a scatter graph so it will look like the points are moving .
The ` matplotlib ` docs contain some animation examples that may be useful .
generator function for matplotlib animation
I'm trying to generate data for a matplotlib animation .
Look into the ` Formatter ` classes .
Also ( more importantly ) I'm curious about the idiom for * generally * relabeling ticks on ` matplotlib ` plots with values computed from the original tick values , not just the case where there's a ` Formatter ` .
Meanwhile : what's the best * general * approach ( where , for example , a ` Formatter ` does not exit for the task ) .
matplotlib animation FuncAnimation frames argument
I'm using matplotlib animation by calling : #CODE
and your animation should work .
find and draw regression plane to a set of points
I want to fit a plane to some data points and draw it .
I'm using matplotlib basemap to draw a map of the continental US .
I'm confused by the relationship among ` matplotlib ` figures , axes , and subplots .
It all makes more sense if you look at just the figure and axes objects .
An axis and a subplot are in some sense the same thing .
For example , the ` figure ` method ` subplot ` returns an axis object .
Each axis object represents a specific set of axes that you want to plot something on .
Each axis can have several individual data sets plotted on it , but they will all use the same x and y axes .
` plt.gcf() ` is getting the current figure and when you add ` gca() ` or ` axes() ` or ` loglog() ` to it , I believe they create the underlying axes .
It's identical to ( but every-so-slightly more efficient than ) iterating over ` itertools.chain ( axes )` .
So a high zorder will bring up the artist .
And the background of the cells is already white so it is not necessary to draw a white background in them using my second piece of code once the zorder is adjust .
but when I introduce additional axes , I get an error : ` ValueError : math domain error - dL_width = math.log10 ( dL.x1 ) - math.log10 ( dL.x0 )` so that I can only proceed by commenting out the ` set_aspect ` line with #CODE
This makes no sense for log scales as they are non linear and the ratio depends on where along the axes you look at it .
which will be ` True ` if the toolbar is not trying to grab clicks ( either through pan or zoom ) .
This seems to work for me , what did you try for annotate ?
Figures that I create with ` matplotlib ` do not properly clip points to the figure axes when rendered , but instead draw additional points , even though such figures look fine in some viewers .
but when I view it in other editors , such as iDraw I get a mess ( where , weirdly , there is a combination of correct clipping of edge points , failed clipping of points outside the axes , and clipping of the canvass at a point that does not correspond to either the axes or the range of data ):
This is probably related to a know issue and also comes up in pdfs ( matplotlib data accessible outside of xlim range )
; but is there some way to force points to crop at the axes from within ` matplotlib ` ( or is it supposed to be doing that already ) ?
How do I force ` matplotlib ` using LaTeX , to use a specified sans-serif font by default for all text ( axes , labels , annotations , etc . ) ?
I am trying to create an animation using matplotlib , and I could do this perfectly well until a few days ago , until I upgraded to OS X Mavericks , upon which all hell broke loose .
How to change background color for scatter plot in matplotlib
Python / Matplotlib - Change the relative size of a subplot
Here I've plotted shapeFile in a separate axes and aligned it to top-right of other axes plot using ' subplot2grid ' .
How do to tighten the bounds of my ' matplotlib ' figures to be closer to my axes ?
When ` matplotlib ` makes figures , I find that it " pads " the space around axes too much for my taste ( and in an asymmetrical way ) .
I'd like the bounds of the figure to be closer to the axes on all sides , especially on the left and right .
matplotlib - extracting values from contour lines
Basically , ` contour ` returns an empty collection if you contour a value outside the range of your data .
Also , you're currently assuming that there will be only a single contour at the given value .
Because you're contouring a single values , you do want to use ` collections [ 0 ]` , but that contour is likely to have more than one path .
If you don't want to plot the results , why not just extract the contour values directly ?
This is definitely a lot cleaner , but it's worth noting that ` skimage.measure.find_contours ` has no option to use the grid defined earlier by ` linspace ` , so you have to transform co-ordinates yourself .
the coordinates of the annotation will be ` xval+f ( 5 )` and ` yval+f ( -5 )` , and I'm trying to figure out what ` f ( . )` looks like and what parameters of the figure or axes it depends on .
` figure points ` would refer to an offset in points from the boundary of the figure itself while the ` offset points ` you show in the annotate example refers to an offset relative to the x / y coordinate provided .
How to draw a high resolution etopo background in matplotlib Basemap ?
Here's a sample with colorbar on different axes .
I have a 3D plot which looks quite similar to this one , but I want to add two lines drawn on the bottom contour plot .
I can draw a line there but it is always beneath the contour plot , despite my numerous attempts .
Can anyone help me drawing the line on the contour plot ?
The line is visible only in the part where it sticks out from the contour .
But how can I make this trick working with a scatter plot ?
I * also * need several points marked on the contourf part .
I thought I will plot a scatterplot on top of the contourf but it is hidden beneath the contourf
Since tnorgd wants to know how to do it for a scatter plot ( and I cannot comment yet ) I give the answer here .
A list of all the colormaps that you may use can be found here .
So now I thought I would read in the csv and draw a plot : #CODE
Adding legend to complex plot made with mpmath
How do I add a legend ?
How about the case where I want to do all axes , and I have four : #CODE
If you are using this a lot , you can monkey patch it on to ` Axes ` #CODE
I've added to the question a bit : what about the case where I want to do this to all axes , and I have four .
Just loop over a list of your axes calling colerize on each one .
don't delete the axes !
to re-use the axes and ` Line2D ` objects .
in ggplot for python specify global xlim in facet_wrap
However I wish to plot create a facet-wrapped histogram , and have each facet share the same xlim .
The command I use seems to apply the xlim only to the last of the facets .
Is there a way to specificy a global xlim ?
Placing the legend outside the plot
I want to position the legend outside the drawing box .
If I replace ` label= " test "` by ` label= " this is a very very long test "` , the legend will once again get out of the border of the file .
I have not been able to retrieve the size of the legend .
Placing the legend outside the plot .
Having a file with the correct size in order that everything fits in , including the legend ; without having to resort to trial and errors .
Moreover I still wonder how to retrieve the size of the legend ( in case we want to make fine placement based on computations ) .
matplotlib scatter works in ipython notebook , but not console
I'm trying to learn to use matplotlib and am following a tutorial to draw a scatterplot where I specify the size of the points .
I understand what it does but I was unable to find in the API the spines and xaxis attributes of ax0 and ax1 that was used to retrieve the xaxis and the spines ( although there is a documented ` get_xaxis() ` method but nothing for the spines ) .
Every object ( e.g Line , Axis , Axes ) is an Artist for matplotlib .
Each artist has attributes .
Moreover no spines property is documented .
possible duplicate of [ Non-linear axes for imshow in matplotlib ] ( #URL )
You can also use ` annotate ` which makes a lot of this easier .
Pandas Dataframe Bar Plot - Qualitative Variable ?
pd.scatter_matrix ( frame , alpha= 0.5 , figsize=None , ax=None , grid=False , diagonal= ' hist ' , marker= ' . ' , density_kwds={} , hist_kwds={} , ** kwds )
In short , it targets a subplot within a grid .
When you create the subplots , you receive an ` axes ` variable .
You can later plot ( or subplot ) with an element of that ` axes ` variable as above .
Hence , internally , a new figure , axes combination is created using the internal ` _subplots ` method .
Hence , if you supply an axes object ( e.g. created using matplotlibs ` subplots ` command ) , pandas ` scatter_matrix ` grabs the corresponding ( matplolib ) figure object and deletes its content .
All in all , the ` ax ` keyword allows to plot the scatter matrix into a given figure ( even though IMHO in a slightly strange way ) .
[ Tributary ] ( #URL ) has a built-in function to grab animation as an animated GIF .
I'll try to use it on my animation and will get back to tell the results .
But ( as I understand ) I can create gifs by clicking on D3.js animation , and each click produces individual gif , and after that all gifs are chained to create a larger animated gif .
Go to the window with your D3.js animation and prepare everything so that you could start animation at some point .
Pandas ( python ) plot() without a legend
on a dataframe , how do I display the plot without a legend ?
Google " pandas dataframe plot legend " .
There is a parameter in the function corresponding to legend ; by default it is True #CODE
Change resolution of Matplotlib Figure window when saving plot ?
I am using Python / Matplotlib to produce some Bland-Altman plots ( statistical scatter plots ) for publication .
After processing the data , the plt.show() command opens a new " Figure " window containing the plot , which looks fine .
I want to be able to use the dynamic pan and zoom commands in this window to interactively optimise the appearance of my plot , then save it as it appears in the window as a high resolution press-quality png image ( 400-600 dpi , 7 x 5 inches ) .
The default setting for saving images from the " Figure " window appears to be set to screen resolution ( 800 x 600 pixels ) , and I cannot find any options in this window which allow me to change these settings .
However , this is not the solution that I'm looking for ; as I want to be able to modify the plot using the dynamic pan and zoom features of the " Figure " window before saving in a higher resolution than the default screen resolution .
I use Spyder and can manipulate the window , pan , zoom , and save without a problem .
I can also pan , zoom and save ; but can only save in default resolution ( 800 x 600 pixels ) , and can't find a way to change this to higher resolution .
Determine how to set ` width ` and ` height ` using a pixels-to-inches converter , like in the following matplotlib documentation .
2D scalar field : draw iso surface ( iso line ) with opacity
I would like to draw a iso-line for the first scalar field an set its opacity according to the second scalar field .
Here's how I draw a iso line in mayavi ( python ) .
` that you use are ` axes ` methods .
You can set the cell color with ` c.set_color() ` and inspect the text in the cell with ` c.get_text() .get_text() ` ( the first ` get_text ` returns a ` Text ` instance , the second the string in it )
Thus , toward the end of the animation , you would see all the previous dots forming the sine curve .
matplotlib : how to constrain mouse event handling to top-most artist ?
How can I make sure that only the top-most artist under the mouse pointer will respond to mouse events ?
I need the X axes to be a 24 hours and this array #CODE
@USER - There's a difference between ` subplot ` and ` subplots ` .
` subplots ` creates a new figure and an axes ( or multiple axes ) .
` subplot ` creates a single axes using the current figure ( and doesn't return the figure object ) .
When I run the code I get a blank Figure &
The output should look something like this ( ignore the axes ):
I am using ` matplotlib ` to make a scatter plot with upper and lower limits .
I have one figure with 3 axes .
When I pick a point on one of the axes ( ` ax1 ` or ` ax2 `) , it seems that a random function ( ` self._onpick_plot_1 ` or ` self._onpick_plot_2 `) is called .
how do you create the axes ?
it's an ` Axes ` or a ` Subplot ` instance ?
You're seeing the interaction between the figure and the axes .
A ` Figure ` contains one or more ` Axes ` ( plots / subplots / etc ) .
When you make an axes , it does not fill up all of the figure .
The default for a single axes is for the lower left corner of the axes to be a 12.5 % of the width of the figure and 10% of the height and for the axes to take up 90% of the width and height of the figure .
It doesn't include the tick labels , title , axes labels , etc ( which is why the axes doesn't fill up the entire figure ) .
Side note : To keep the code short , I'm going to use the ` pyplot ` interface to automatically generate a ` Figure ` , ` Axes ` , and ` Canvas ` , while you're probably explicitly creating each one to work with your gui framework .
The percentage of the figure that each axes instance takes up is set at the time that it's created .
( Remember that ` subplots_adjust ` and the axes position specification control the extent of the " white box " -- the actual axes itself -- and doesn't include the tick labels , etc . )
We'll get something that has less of a " border " , as the axes will take up a larger percentage of the figure :
side note : matplotlib can infer colormaps from strings alone .
It is what most people will draw if we ask them to join the points with a smooth curve by hand .
The code below generates a animated basemap , but not exactly the one I want : I want the scatterplot from the previous frame to disappear , but it persists through the remainder of the animation .
It looks like you're simply adding a new scatter plot at each update .
I am simply trying to draw an image using imshow and then re-draw it periodically as new data arrives .
You can simply call figure.canvas.draw() each time you append something new to the figure .
This will refresh the plot .
The plotting function gives me separate figures , for the basemap and for the contours , with the correct contour values .
I draw a mesh in a canvas with the function triplot , and I want to clear this mesh after an action .
Specification : in background I use Basemap to draw continent ( and BlueMarble ) inter alia , and i don't want to clear the others figures .
I've tried a few different ways , and the fastest that I can get matplotlib to make the axes is ~2 seconds .
I saw this post about just using one axes object to display many small images , but I would like to be able to have ticks and titles on the axes .
Is there any way to speed this process up , or does making axes in matplotlib just take a reasonably long time ?
Taking Joe Kington's suggestion , I tried to pickle the figure and axes so that I would at least not need to create them every time that I run the script .
Creating new axes is a fairly expensive operation , and you're creating 32 of them each time .
Is creating a new figure and axes really your bottleneck ?
If you're trying to create an animation , just update the artists ( e.g. ` image.set_data ` , etc ) and redraw rather than making a new figure and axes each time .
( Also , ` axes = plt.subplots ( 4 , 8) ` is incorrect . ` axes ` will be a tuple instead of a sequence of axes objects as you've currently written it . ` subplots ` returns a figure instance and an array of axes . It should be ` fig , axes = plt.subplots ( ... )` .
I'm not making an animation , just a figure with lots of little plots .
Annotation does not appear in matplotlib plot
On my machine , simply calling figure() sets xlim and ylim to ` [ 0 , 1 ]` in the first example with the text within the domain , while in the second example the annotated test is outside the xlim and ylim , that are set to ` [ - .06 ,. 06 ]` .
What are your ` xlim ` and ` ylim ` ?
In the first example , calling ` figure() ` sets ` xlim ` and ` ylim ` to ` [ 0 , 1 ]` with the text within the domain , at ` [ .2 ,. 2 ]` .
In the second example the annotated test is outside the xlim and ylim .
I've calculated the curve of best fit for a scatter graph and I'd like to plot the results as a smooth curve , similar to SAS's splines .
Adding offset to x y axes in matplotlib
For ylim you could do percentage adjustments by multiplying by 0.9 \ 1.1
first one do not have any effect on the graph.second gives me this error `' AxesSubplot ' object has no attribute ' ylim '`
Is there any way to move extreme y-labels of each subplot a little bit downwards or upwards ( as I did manually in mspaint , on the right ) ?
I want to be able to plot a new series per line ( legend not necessary ) .
Not an expert in ` matplotlib ` , but if Python is okay , it should be easy to transform the data to a format that results in the desired output .
This is very useful if you have many lines to draw .
` set autoscale cbfix ` prevents the color range to be extended to the next major tics .
python-ggplot in IPython cutting off legend in figures
I have attempted to move my yticks on the heat map below to the centre of the row it corresponds to .
You can use ` ylim ` to set the yaxis range : #CODE
This is useful if you want the inset to be a " zoomed in " version , ( say , at exactly twice the scale of the original ) that will automatically update as you pan / zoom interactively .
For simple insets , though , just create a new axes as I showed in the example above .
How can I get and set the position of a draggable legend in matplotlib
I'm trying to get and set the position of a draggable legend in matplotlib .
save the position of the current legend .
clear the current axes and perform various plotting operations , which may or may add labels to their plots .
build a new draggable legend ( ` ax.legend() .draggable() `) and restore the old position of the legend .
In between these steps the user is free to drag the legend around , and the goal is to persist the legend position when the plots are redrawn .
However this causes to move the legend completely off the visible area .
According to answers to the question How to position and align a matplotlib figure legend ?
there seems to be a difference between these two possibilities regarding axes or figure coordinates .
Is there another / proper way to save and restore the position of a draggable legend ?
By looking at the implementation of ` Legend ` I found out that there is an undocumented property ` _loc ` , which exactly does what I want .
It looks like ` _loc ` automatically stores figure coordinates , since I do not have to convert the coordinates in any way ( eg . when the plotting operations completely change the axes ranges / coordinates ) .
In other words , the extra " point " to append would be : ` [ float ( ' inf ') , 10 ]`
You can plot your infinity data point in its own subplot by substituting a sufficiently large number ( to make the curve look right ) .
I would like to annotate a heatmap with the values that I pass from a dataframe into the function below .
how to annotate heatmap with text in matplotlib ?
This is because you're using ` plt.text ` after you've added another axes .
The state machine will plot on the current axes , and after you've added a new one with ` divider.append_axes ` , the colorbar's axes is the current one .
( Just calling ` plt.colorbar ` will not cause this , as it sets the current axes back to the original one afterwards if it creates the axes itself . If a specific axes object is passed in using the ` cax ` kwarg , it doesn't reset the " current " axes , as that's not what you'd normally want . )
That way you know which axes object that you're plotting on .
Normalize before coloring .
Do you know how to use xlim to set the range for x axis ?
How is this position calculated , as a function of the font size of the tick and axes labels , and the font size of the annotation ?
For various reasons , I must use ` annotate ` for this , and ` va= ' top '` is a constraint ; and I need to use the font size information above that is , I'm looking for the function of the form #CODE
with all values in figure points ( i.e. , usable with ` textcoords= ' offset points '` in ` annotate `) .
Get the object returned when setting xlabel .
Assume I've just got ` ax ` , with axes and labels already set up .
How do I get ` xlabel ` ?
Perhaps a scatter plot of the non-zero values or a stem plot might make more sense ?
Python : Parallel coordinates subplots in subplot
This creates a nice Parallel Coordinates figure , but I would like to add this plot to an already existing figure in a subplot ( there should be another plot next to it in the same plot ) .
For the already existing figure , the figure and axes are defined as : #CODE
You are saying you already has a figure ` fig ` and there are already some plots in that figure and now you want the parallel coordinates plot to be overlaid in subplot #1 , right ?
One option is to create all the axes using ` subplots ` then just shift the location of the one that you don't want to have ` wspace=0 ` as is done for the Parallel Coordinate plots : #CODE
Take the left most axes and get the position which is a Bbox .
Beside using colormaps , also consider using ` .set_color_cycle() ` method .
I think the key is you should let your ax2 xlim same range as ax1 .
matplotlib legend order horizontally first
Is there a way to make a plot legend run horizontally ( left to right ) instead of vertically , without specifying the number of columns ( ` ncol= ... `) ?
Related : Matplotlib legend , add items across columns instead of down
So here you would take the length of the number of lines you're plotting ( via ` nlines = len ( xs )`) and then transform that into a number of columns , via ` ncol = int ( math.ceil ( nlines / 2 . ))` and send that to ` plt.legend ( ncol=ncol )`
Sorry I don't think there's a way to have a horizontal legend without dynamically calculating =\
BTW , there are much cleaner ways of reading in the values than your ` for ` loop with ` append ` statements , i.e. list comprehension or using ` numpy ` .
I think my basic problem is to convert the contour x , y values into map coordinates .
an attempt to transform form lat / lon to map coordinates
contourf is tried with ( x , y , zi ) , then all the above definitions are rewritten with xi , # yi , including many different attempts to redefine x , y and lon , lat.J
Since I was using contourf , I still have to find out why contourf does not give me the filled contours .
Matplotlib Button
This is fine , except for the fact that I would like my axes to go from 1-10 , rather than 0-9 ( derived from python's 0 indexing )
If you know in advance that you want the axes a certain way , better to make them right to start with .
I am trying to use the animation package of python to do so .
To make an animation with a LineCollection , see this example .
This is the scatter
Drawing scatter graph using matlibplot.pyplot when points are duplicate
I want to generate a scatter graph using matlibplot.pyplot and a lot of points are duplicate .
So when I simply draw a graph use pyplot.scatter method , many points are overdrawn on one dot .
To do this , you need to find the number of overlapping points and then set the size ( using the ` s ` scatter plot parameter ) or the color ( using ` c `) or both .
This has instructions for plotting lot of chart types including bar , histogram , scatter plot etc .
So far , I've managed to draw the curve : #CODE
Might this have any problem with the subplot ?
I already tried to set ' ylim ' but it doesn't work
How did you get it to be different colors ? and I can put a legend for the colors ?
I am trying to draw a nice matrix with some columns highlighted .
Problem is , when I transform the svg to eps , the image becomes strange .
I have found many examples on the web but so far they are all using connections to yahoo finance or other kind of data , while not explaining well how to get the same result when you have a list of tuples containing the date , the open , the close , the high and the low prices .
So now it works , mine was just a generic question cause I've seen that in the web it's hard to find a very basic example and many times the user prefer to use their own data rather than yahoo finance ones .
This value should be expressed by the color of the scatter plot .
Right now I don't know how to set the xlim range with TimeStamp format ... which you know TimeStamp comes from MySQL , not a part of matplotlib or python .
Where each of the colored squares represents a different subplot .
If you want more control over the figure , for example to control the margin , you might as well create Figure and Axes objects , which makes it easier to set all kinds of things for the figure ( and its axes ) .
Like fig , axes = plt.subplots()
` pyplot.subplots() ` gives me a ` Figure ` and Numpy array of ` Axes ` , but in trying to iterate over the axes , I am stumped on how to actually get at them .
However , the type of ` ax ` in each iteration is not an ` Axes ` , but rather an ` ndarray ` , so attempting to plot fails with : #CODE
How can I loop over my axes ?
The plot isn't launched additionally the main thread doesn't exit it just waits on join .
I want to draw a horiZontal line through all the subplots .
Again , I want the line I drew on the last subplot to appear on the first two subplots too .
In general , the less un-needed details ( like your axes labels , your actual data ) your question contains the better .
What matplotlib rc parameter controls legend title size ?
Is there an rc parameter to control the size of a legend title in matplotlib ?
It is a bit surprising to me - probably it's because legend titles are not used very often .
Hence my question is : to make the chart more user-friendly and zoom-in directly on the last observations ( that in finance are the most relevant ) , but still giving the user the possibility of slide the chart and going back or forward as he wishes , how could I customize the .show() method to get this result ?
As I understand , a simple change in axis limits with ` xlim ` and ` ylim ` is not sufficient ?
I'm new to Matplotlib : I've understood that xlim and ylim won't lead to this result but will just bound the chart to a certain interval , not allowing the user to slide the same chart back .
What about ` xlim (( from , to ))` and ` ylim (( from , to ))` ?
I usually do something like : ` x_tmp = xlim() ` ( this returns the current axis-limits ) , then ` xlim (( x_tmp [ 1 ] * 0.95 , x_tmp [ 1 ]))` .
If you only do ` xlim ` and ` ylim ` your user with have to unzoom at hand in order to see the whole plot .
Matplotlib annotate doesn't work on log scale ?
I am aware of the annotate() function of matplotlib , and I know that I can use textcoords= ' axes fraction ' to enable relative coordinates .
I'd like the user to be able to zoom and pan around the plot but the default backend of matplotlib is really slow .
The pan / zoom controls for plot that is produced are smooth and responsive .
I've got Sublime Text 2 with sublimeREPL plugin installed .
I am having some issues adding labels to the legend .
The problem is that Chart 1 is returning the legend as " number " and I want it to say " one " .
Get the legend #CODE
Get the text of the legend #CODE
Printing the current text of the legend #CODE
The following figure shows the changed legend for first axis .
thanks , I also got it to work using axes [ 0 ] .legend ([ " label chart 1 "] , loc= ' best ') , but I'm still not sure why my original code does not work .
I'm attempting to write an algorithm to compute the STFT ( Short-time Fourier transform ) in C++ and plot the results in ` matplotlib ` in Python .
` 10 * log10 ( sqrt ( re*re + im*im ); `
matplotlib contour plot geojson output ?
I'm using python matplotlib to generate contour plots from an 2D array of temperature data ( stored in a NetCDF file ) , and I am interested in exporting the contour polygons and / or lines into geojson format so that I can use them outside of matplotlib .
I have figured out that the " pyplot.contourf " function returns a " QuadContourSet " object which has a " collections " attribute that contains the coordinates of the contours : #CODE
Does anyone know if matplotlib has a way to export the coordinates in " collections " to various formats , in particular geojson ?
A good start to be sure to export all contours is to use the ` get_paths ` method when you iterate over the ` Collection ` objects and then the ` to_polygons ` method of ` Path ` to get numpy arrays :
Hence , I would like the second subplot to be 1 / 2 smaller than the first one ;
If somecondition is False , then just the first subplot should appear and I would like it to be sized as the all figure ( without leaving the empty space behind in the case the second subplot will not appear ) .
Ok , as for the second point ( i.e. if somecondition is False size the subplot fully ) I've made the following workaround :
However , a more elegant solution would be highly appreciated and the main problem ( that is the proportion 1 / 2 of the second subplot ) is not solved yet :/
Rather than getting the second subplot half in width , how could I get it of the same width but with half height ?
I take chance for an additional small question , how can I solve the error ` TypeError : int() argument must be a string or a number , not ' tuple '` occurring when trying to plot a tuple within the subplot ?
I'd like to create a contour plot like in the figure below .
I'm currently working on plotting pivoted tables using matplotlib pcolor but my axes are not functioning like i would like them to .
Alternatively , you can use prettyplotlib which will set your ` xlim ` , ` ylim ` for you automatically , remove your spines and ticks , and give you a reasonable colorbar .
i wasn't able to figure out how to get ` df.plot() ` to print to the web , so i'm pulling out all the data then drawing a new graph with ` Figure ` and ` FigureCanvas `
Here is an example , I added a button that will start animation : #CODE
You could probably construct a custom transform for axhspan , that converts data units into figure units .
NOTE the 2nd , 3rd parameters of ` Rectangle ` constructor are ` width ` , ` height ` ( not ` x ` , ` y ` position ) .
You can set a Formatter on the axis , for example the FormatStrFormatter .
When plotting a time-series , I observe an unusual behavior , which eventually results in not being able to format the xticks of the plot .
It's it's pretty simple to do if you capture the coordinates of the axes label and use those to set the coords of the title plus a little bit of offset .
Matplotlib : Vertical lines in scatter plot
The obvious answer is to use a bar chart with bar thinknesses of 1 , I've tried this but the plotting speed is a lot slower than that of a scatter plot .
What I have been trying to figure out is whether it is possible to just use the scatter plot method used here with vertical lines draw to y=0 .
vlines is much faster ( 74ms ) than stem ( 1100ms )
In addition to @USER ' s suggestion of ` vlines ` ( which does what you want but requires that you specify the bottom location ) , you should also have a look at ` stem ` .
Embedding a matplotlib animation into a tkinter frame
At the moment it only shows a static graph where my objective is to display the graph as an animation over time .
This code will display the animation that I want in the tkinter frame work when the plt.show() is uncommented .
I would like to be able to place that animation within the framework of tkinter .
I have also been on the matplotlib website and viewed all of the animation examples and none of them have helped .
So just to clarify , I would like to be able to place the animation produced when " #plt .show() " is uncommented in a tkinter frame , ie ( root = tk() )
Firstly , I wanted to draw sin and cos plot , which wasn't so hard .
But then , I decided to challenge myself and draw tangent plot .
This will be the result if you don't set ylim .
Result with setting ylim .
Matplotlib Basemap animation
I'm using basemap to plot some points on a map , and I want to add any kind of animation to it .
It could literally serve no purpose at all , as long as it is an animation it would be nice .
Specifically , I would like to have the functionality that if the mouse is in the region on the canvas below a plot ( or above , depending on where I have put my axes ) , or to the left or right of the plot , to choose to zoom with _zoom_mode = ' x ' or ' y ' .
By converting the x and y coordinate into Axes coordinates .
You can tell if they're just outside the axes , if they're less than 0 or larger than 1 .
I was not aware of how to get the axes coordinates in that manner .
how do you make the axes force to show 1 per tick ?
I'm doing a map plot use basemap and I want some artist ( ex : Polygon ) on a graph get transform ( when zooming ) with apply the transform= ax.transAxes but I doesn't work and I can't see why .
I'm having a similar issue with Gtk and patches .
I can draw if I'm using TK but not if I'm using Gtk
I think you can use self.map to convert data into axes units by yourself .
After I have plotted something using pyplot it shows the graph , but when I then try and add e.g. ylabel it will not update the current graph .
It results in a new graph with only the ylabel , not previously entered information .
You have to understand that almost everything you plot inside the axes object is a Patch , and as such it has this method , here is another example , I arbitrary choose the first 3 bars to have another color , you can choose based on what ever you decide : #CODE
It is also not _minimial_ , do we really need to see the legend to answer the question ?
You can acces ALL the properties of a ` Tick ` object using this approach : #CODE
On the left I restrict the data using ` ax1.set_xlim3d ( 0.0 , 10.0 )` which limits the axes but not the actual data .
But when I changed into scatter , it doesn't work .
No legend is showing .
I tried simply plt.legend() but still no legend .
However , there is a delay between the rightclick and the refresh of every canvas so I believe that ` canvas.draw() ` is too slow .
As far as I understand , ` blit() ` refreshes changed pixels inside some area ( I used the axes bbox ) .
Finding the right marker size for a scatter plot
is there any way to perform an exact calculation of the marker size for a scatter plot ?
Add margin in a 2D scatter plot
In 3D scatter , like this one , the origin of ` x = 6 ` and ` y = -10 ` are not on the same point .
How to do the same thing but in a 2D scatter ( something similar to the graphic of p . 122 ( 132 of pdf ) in this matplotlib doc , where the origin ` x = 0 ` and ` y = 0 ` are not located at the same place ) .
I would suggest looking at the Animation API for matplotlib ( see examples ) .
" I am curious if the job becomes any easier if I had twin axes .
The ` Formatter ` machinery is what is used to generate the text for the y-position .
I'm trying to set the tick labels on a plot ( scatter 3D ) and to make sure that they always have the same increment , no matter the values in my scatter data .
I want to set the ` xlim ` to 10 even if there is only data for ` x = 3 ` for example .
Edit with ` Locator `
I tried using ` Locator ` , but I stil have the same problem : #CODE
Is it ok to set ` xlim ` and ` xticks ` after the ` ax.scatter ` line ?
` set_xticks ` replaces the ` Locator ` and ` Formatter ` instances with fixed versions so if you change the limits after using ` set_xticks ` to something outside of the range you marked , you will see no xticklabels ( ` set_xtick_labels ` is much worse ) .
If you put in an image as an annotation , zooming in on the axes will not scale the image .
In the former case matplotlib wouldn t know anything about units ; when the user changed the units I d just recalculate all of my data points , change the axes bounds and labels , and tell matplotlib to redraw .
Setting arbitrary axis value for a contour plot of form ( x , y , f ( x , y )) ?
I get my contours properly except my x and y axes go from say 1 , 2 , 3 ...
This is fine because it is representing pixels so isn't incorrect , but I would like to change the axes values from pixels to the actual units .
I can't seem to find a way to instruct contour to allow me to add this .
eg , the axes aren't representing x and y correctly , but you don't specify what they are or what they should be ; is there any significance to the data being in triplets ; typical contour plots don't have integer axes ( #URL ) , etc .
` plt.contour ` can be given arrays ` X , Y , Z ` then it takes the ` Z ` as the contour values and the ` X ` and ` Y ` are used on their respective axes .
Firstly as you have done simply contour plot the values , this automatically adds the axes values
I think mplwidget is the QWidget object which contain the Figure object .
Create an Axes object first , which is the code ` figure.add_subplot ( 111 )`
And call methods of Axes object to do the plot .
If you want to plot several lines , you need to use a variable to save the ` Axes ` object and just call ` Axes.plot() ` later : #CODE
If you want to clear the Axes , call ` Axes.clear() ` .
If you want to clear the figure , call ` figure.clear() ` , and the add new ` Axes ` object .
How to plot a pandas multiindex dataFrame with all xticks
I have tries setting xticks but it doesn't seem to work .
How to set the xticks to the first day of each month ?
Unfortunately , in this approach ` axes [ 0 , 1 ]` refers to the subplot that has a ` plot ` method but does not know ` kind= " kde "` .
Please take into consideration that the in the first version ` plot ` is executed on the pandas object , whereas in the second version ` plot ` is executed on the subplot , which does not work with the ` kind= " kde "` parameter .
use ` ax= ` argument to set which subplot object to plot : #CODE
So , in highcharts you would do it with the ` animation ` properties on each series .
I made 3 series , each with one bar and changed the animation speed on each : #CODE
Remove line through marker in matplotlib legend
I don't like the lines through the markers in the legend .
I just assumed he didn't know about the scatter plot function .
I did know about ` scatter ` plot .
My current real application actually uses ` errorbar ` ; ` scatter ` doesn't allow me to draw errorbars .
All the legend .
legend setting ( numpoints and scatterpoints ) in matplotlib does not work
Since you're only plotting single points , you can't see the line attribute except for in the legend .
Interestingly this still " draws " ( or allots space for ) the line in the legend , look at the spacing in the legend between our answers .
Which is great except I can't get a decent legend in order to tell what run was what and work out how much variation there is .
I've thought of doing a hierarchical dataframe and instead of indexing it by run time , assigning a set of identifiers to the runs ( The actual time is contained within the dataframes themself so I have no problem loosing the assumed starttime ) and plotting it then with a legend .
I'm trying to plot two sets of data in a bar graph with matplotlib , so I'm using two axes with the ` twinx() ` method .
Plotting a scatter graph is simple : #CODE
Slowing down animation speed in matplotlib python
I have small question , I am making animation in matplotlib and I am using rotate_deg_around() function .
My problem is , that speed of the animation is going down , it is slower and slower .And on the end it freeze .
I would like to plot the results of two inner loops in a single subplot after each iteration without closing it and this would be place in an outer loop and after each iteration of outer loop , I'd to save the plots .
We don't need to see your axis label , we don't need your loops that generate the data , we don't need any of the legend code , ect .
I have tried with both the ( pandas ) pd.ols and the ( statsmodels ) sm.ols to get a regression scatter plot with the regression line , I can get the scatter plot but I can't seem to get the parameters to get the regression line to plot .
^^^^^ this gets the scatter plot done
How to transform transformed object in matplotlib without recursion ?
I am using translations in matplotlib animation and I am calling method drawObject() every 20 ms .
So I want transform transformed object without recursion .
But then I run into the problem of 500 xticks being drawn ( or even more , if the y values contain a lot of data ) .
okay , ` xlim ` is not working , but why not just leave 1 and 1000 on the xticks ?
Using xlim with y values as y = range ( 1 , 1000 , 2 ) will still give 0 as the start in the plot .
I thought the subplot command would combine them into one figure .
Also , I would want figure 2 axes to have the same scale ( i.e. so 400 m on the x axis is the same length as 400 m on the y-axis ) .
To achieve the same scale for the x and y axes , use ` plt.axis ( ' equal ')` .
* Even strings can't be constructed from their ` str ` representation ; it's really only numbers and the basic collections that can .
Pyproj can help with this , just make sure you reverse your coordinate axes before ( i.e. : X , Y or longitude , latitude ) .
Is there any way I can do the transform with ` matplotlib ` instead ?
I am quite interesting in how this plot can be plotted in Matplotlib instead of adding axes in Inkscape .
A quick and dirty Python code can generate main part of the figure , but I cannot add the two axes onto the figure .
#URL provides an example of adding axes , but I fails to make it working .
Anyone has similar experience on adding axes to Matplotlib figure ?
However , I am still looking for methods to draw this figure in Matplotlib .
are you looking to generate that specific figure , or are you looking to plot data and get this kind of output ( style of tick labels , gridlines , range of the axes , text labels on the diagonal axis ticks , etc ... ) , or are you looking for something that automagically makes a nice looking plot for whatever the data you happen to plot ?
I am looking for ways that how to manipulate axes , ticks and labels freely .
I am not so happy with axes produced by Matplotlib by default , especially Axes3D .
Actually , I asked a question about 3D axes in Matplotlib , it seems no one is interested in that topic .
This question is just an example of manipulate axes in Matplotlib .
In the context of this question , were you hoping to use the extra axes for plotting ?
Yes , from last year's pycon , I see they are playing with the axes .
There are ways to center the spines ( axis lines ) , and ways to rotate them , but those do not work together .
Here is a [ poor ] example of how to draw -- as in , like you would with Inkscape something to look like an additional pair of axis spines with the example data .
Maybe simply using Inkscape to add the two axes is the best the choice for this graph .
Depending on how often you create plots like this , that could be a better idea than getting a more generalized function to nicely draw the axes in matplotlib .
I.e. for every day , I need to count the number of occurrences of actionX and plot this data with date on X axis and number of occurrences of actionX on Y axes , for each date .
If you want to use counts as a DataFrame , I'd then transform it back #CODE
For example , you can only get ten days worth of data at the 1 minute interval from google finance .
How can I predict where matplotlib will draw ticks given some data ?
Matplotlib does a good job of setting the limits and ticks on an axes to capture the range of the data while putting the ticks at nicely-spaced round numbers .
I've poked around the ` Axes ` and various ` Ticker ` objects , but I can't seem to find where this is happening .
How can I put ax like a plot and no subplot with matplotlib ?
Do you want an ax to work like a pyplot instead of a subplot ?
I don't understand very well , but the only way to put the axes in the center of the plot is using ax , but your solution and my code not draw the plot in whole window , it draws it in a subplot .
In order to have the axes go through the center of the plot and have the tick marks on them , using ` fig , ax = plt.subplots() ` is the best way .
Since Matplotlib can already handle LaTeX commands in labels such as ` xlabel ( ' \alpha ')` and can accept fonts to use by user input to the rcparams file , what does using LaTeX on the text do differently ?
Python : How to create a legend using an example
My main concern is how to create this legend .
To create the legend you have to :
Nice one-liner to place the legend .
It would also be worth looking at the scatter plot documentation at #URL #CODE
Remember to run ` plt.clf() ` or ` plt.cla() ` after saving to file to clear the axes so you don't end up replotting the same data on top of itself over and over again .
I would like to make a spike graph : at each x value I draw a line of length y .
I am trying to visualise some 3d data I have using matplotlibs contour plots , surface plots and wireframe plots .
function ` plot ` allows to draw multiple lines in one call , if your data is just in a list , just unpack it when passing it to ` plot ` : #CODE
Yet I don't know if there's a way to draw one line with multiple colors ... sorry for that
Why do pyplot methods apply instantly and subplot axes methods do not ?
If I address axes of a subplot , it does not happen anymore .
But all pyplot functions are wrappers around corresponding ( usually ) ` Axes ` methods .
If you want to use the OO interface , and still draw stuff as you type , you can do something like this #CODE
You don't have to use the pyplot you don't want , just remember to ` draw `
In particular , why are you using ` imshow ` as well as ` contourf ` ?
Im sure that the data is there to be able to join the contours up .
matplotlib has a bunch of different colormaps to choose from .
Here's a nice link to all the different colormaps that you might include in your answer .
[ Matplotlib colormaps ] ( #URL )
I tried rewriting the function to use add_subplot , but then I am not sure if there is a feasible way to make the subplots share axes .
How can I put the centered axes around all the image plot with Matplotlib ?
But when I draw a function like x-ceil ( x ) the y-axis only shows [ -1 , 1 ] and I want to show [ -6 , 6 ] although there isn't graph function .
Also try to create the axes by : #CODE
+1 not only for the solution but also for the better alignment of the axes .
I'm trying to plot a contour with unevenly spaced data in python using numpy , matplotlib plyplot and scipy .
Did you try to contour directly your data with tricontour ?
Thanks GBy I get that as well after following your code example , if I then modify my data to have unique x , y coordinates then I get this #URL which looks better I think ( although I don't actually know what it should look like ! ) if I then try to create a contour using plt.tricontour ( x , y , z ) I get this #URL how do I now actually get a contour ?
I am not sure what you mean exactly by " a contour " as for me your 2nd image ** is ** a contour ?
Oh maybe my terminology is incorrect , this is what I thought a contour was and is what I am trying to achieve : #URL With regards to the data I just manually chose a set of random unique points from my data to see if the uniqueness was the issue and it looks like it was the thing that was stopping the system from graphing , but I'm not sure what I would use to create a graph similar to the link I have provided ?
Thanks GBy how do you fill the whole screen rather than have a triangle i.e. using contourf ?
3D animation with matplotlib , connect points to create moving stick figure
Now I would like the animation to also include the lines between pairs of tags ( i.e. pairs of points - for example , how to add an animation line between the yellow and green tags ) , but I am not entirely sure how to do this .
If someone could show me how to do that I should be able to extrapolate the methods to the rest of the animation .
You wouldn't happen to have a simple animation example ?
You wouldn't happen to have a simple animation example from pyqtgraph ?
Here is one frame of the animation :
Tick label modification ; How to add an arbitrary tick on the label :
Equidistant scaling for X , Y and Z axes in Matplotlib ?
How can I apply this to all three axes ?
However if I hit the " save " button on the Figure and save it the extra line segment isn't there .
( Note , these are 2 different test runs with different random data , but on my screen the two extra segments are always present when the animation is running )
It also doesn't plot immediately in the animation .
is there a reason you're making two axes when ` len ( area_tabs ) = 1 ` ?
The main thing here is that you avoid ` plt ` state machine functions where possible and operate on the axes objects directly .
I want write in the legend section of matplotlib a piecewise expression like this : #CODE
I am using the following code to stitch a .png into a scatter plot from MATPLOTLIB .
When saving the Figure , you can set the ` dpi ` .
If you know of a better python library to draw this kind of thing , please let me know .
a ) ` barh ` returns a container of handles to all the patches that it drew .
You can use the coordinates of the patches to aid the text positions .
i plotted the hist using a1.hist() . how do i interchange the axes for the same ??
It seems like either the rvs method is non-random , or the hist binning procedure is hooped .
I have a contour map of some feature I am studying .
So I wanted to know if there was an interactive tool I could enable in APLpy or matplotlib or anything in Python such that I could draw out the line on top of the contour .
A bit like in powerpoint where you could draw a line and then stretch it till it matches the length you want but here I would also like to know the length it represents .
My current workaround involves creating the text , calling ` draw() ` , getting the text's ` bbox_patch ` extents , transforming those extents to data coordinates , and manually changing the ` ybound ` of the axes object to something bigger than the transformed upper extent .
python matplotlib set xticks with hour format
In my bar chart , I need to set my ` xticks ` with an hour format like this : #CODE
Right now the ` xticks ` are like this : #CODE
Instead of setting the ` xticks ` , I tried to reformat ` TimeStamp ` to make it like : #CODE
You need to use the method ` xticks ` , see for this example in matplotlib docs .
what's the problem with switching it on / off on individual axes basis ?
I am even specifying that xlim should be the first and last date .
The short , help-yourself-answer is to call ` print ( ax.get_xlim() )` after adding data to the axes and see what values are returned .
And the axes limits match the dates that I specified .
Matplotlib animation : first frame remains in canvas when using blit
I'm trying to plot two rotating ellipses using the Matplotlib animation library , and I managed to get it working ( more or less ) .
I am attempting to modify the " Draggable Rectangle Exercise " found in the matplotlib docs so that it works inside a wxPython window .
Can you add the tool bar and see if the zoom and pan work correctly ?
How can I set maximum and minimum value in the color scale of contourf ?
How can I set maximum and minimum value in the color scale of contourf of matplotlib ?
I'm trying to plot all my graphs on the same axes .
I you need more than two see matplotlib : adding second axes() with transparent background ? or look into parasitic axes .
I am unable to work out how to switch the axes .
all font sizes ( ticks , labels , legend )
I guess it is an example of " applying modifications to ` axes ` after a plot " .
My question was more whether it is possible to persist an " axes state " either be serializing or by conveniently storing all " axes modified instructions " .
How to label axes in Matplotlib using LaTeX brackets ?
How to label axes in Matplotlib using LaTeX expression ` $\langle B_{\mathrm{e }} \rangle$ ` ?
Try ` ax.set_ylabel ( r ' $\langle B_{\mathrm{e }} \rangle$ ')` for labeling Y-Axis or ` ax.set_title ( r ' $\langle B_{\mathrm{e }} \rangle$ ')` for the title of the axes .
The problem lies with my lack of understanding of the relationship between " figure.size " which I gather is in inches , " figure.dpi " , and the width parameters that get passed in for Line2D and Rectangles for patches in matplotlib .
For strokes ( i.e. the ` linewidth ` or ` lw ` kwarg ) , it's always in points , regardless of what type of artist it is .
Where the documentation doesn't specify a unit of measure , it's because it uses whatever ` transform ` it's given ( data coordinates , unless you specify otherwise ) .
( ` scatter `' s marker sizes are a bit different . ) Most other things will be in data coordinates , unless you're supplying a custom ` transform ` .
How do I easily set x and y-labels while preserving my ability to use specific colormaps ?
Obviously you have to replace the strings ' xlabel ' and ' ylabel ' with what you want them to be .
I just tried it ( pandas version 0.16.0 , matplotlib 1.4.3 ) and the plot generates correctly , but with no labels on the axes .
you know what , today at least the xlabel is working . maybe there was something strange about the dataframe I was using yesterday ( ? ) .
While this technically works , it also disables the zoom functions , as well as pan , and well , everything !
Also , just so you know , ` imshow ` ( with ` interp= ' none '` to match ` pcolormesh `) would be a better choice for the animation .
Also , if you change the animation to update an existing object instead of adding a new one on top of the old , you'll have much better performance ( your current approach may become slower with each frame ) .
So I started looking into the matplotlib animation API , hoping to find a solution .
The animation did turn out to be exactly what I was looking for , although its use with a QuadMesh object in slices was not exactly documented .
While the data is being plotted , I can zoom and pan with the animation .
Good luck with your own animation / plotting ambitions !
Also you may want to get the axes back from your plot ` ax = cum_edits.plot() ` and use ` ax.vline ( dates , 0 , 60000 )` since ` ax.vline ` can take a vector of ` x ` s , but I think ` axvline ` can only take a scaler .
Except the final touch is making , ` ymax ` autoscale to whatever the top of the plot is .
How can I infer a good ` ymax ` from the axes ` ax ` I got back ?
The solution is to get your axes back , and then use ` ax.vlines ` .
One last niggle is that if the vlines are ` ymax ` long , then matplotlib adds extra space to the top of my plot , so I just slightly reduce the length to be less than the original axes , that is why you see the ` ymax= ymax-1 ` .
I would like to set the x and y axes to ( 0,400 ) but I am having troubles .
Pylab animation multiple figures
I want to update multiple figures using pylab animation .
The other ones do not refresh .
Here's an example of an animation I made that updates the plot each time it is called .
I would like to change it to use an animation , but I've been having trouble figuring out how to do this .
The animation method I tried to create isn't correct , and while I can use : #CODE
How would I modify this example to use animation ?
I believe the main issue you were having is that the ` animation.FuncAnimation ( func )` requires a function that has an iterator to generate new frames of the animation .
By having this you can effectively get rid of the ` Class3.dataCount ` instance variable and have the animation handle the business of rolling your data .
We need to either tell the animation explicitly how long to run so it does not iterate off your data array causing an ` IndexError : list out of range ` , or wrap the ` update_plot() ` function in a ` try ... except ` clause .
I imagine if you have real-time data , you may not know the length of the data array for the animation so you may need the later solution , though I personally feel the former is more elegant .
How to create a 3D animation of a surface defined by 2 spatial coordinates using matplotlib / Mayavi ?
Now I want to create a scatter plot with the data above ..
What I want to do is plot the x and y data , and title becomes a legend ( key on the map ) .
since as per my sampling frequency of AD converter i am taking 200 samples per second , so i want to display those seconds on the X-axis .
Also for the Y-axis i need to alter ( transform ) [ -100 100 ] into [ -10 10 ] .
If you want to be able to write code that clearly applies commands to distinct axes , you want to use the object oriented interface .
The differences is that ` plt.subplots() ` will create both a figure object and a grid of axes , while ` plt.figure() ` just creates the figure .
The figure object has methods to create axes within it .
Generally , the latter approach is only going to be more useful when you want multiple axes within the figure that don't follow a regular grid .
which will add a tall axes object on the left side of the figure .
Next , how do you get multiple axes to plot on ?
So if you want two axes side by side , you would do #CODE
Now ` axes ` is going to be a ` ( 1 , 2 )` object array that is filled with Axes objects .
Most functions in the ` pyplot ` namespace also exist as methods on either Figure or Axes objects .
Matplotlib ( and MATLAB ) has a concept of the " current " figure and axes .
However , when you start making more complex plots , e.g. a grid of axes where each grid has multiple layers ( maybe a scatterplot and a regression line ) , being able to structure the code around what you are doing rather than where you are doing has substantial advantages .
Indeed , the fact that there is not a one-to-one correspondence between function names in the ` pyplot ` namespace and methods on ` Axes ` objects adds a layer of confusion .
So now I plot ` fullyrs.Units ` and I want to add ` merged2.fcast.plot ( style= ' r ')` I seem to be missing a reference to get the figure for the subplot ?
Choose a fitting colormap from the default colormaps of matplotlib .
Now I don't know how I can make a contour plot which I would like to project the probability of z , stored in each cell at z= 0.8 for a slice perpendicular to the z direction with the upper and lower limits of [ 0.75 , 0.85 ] .
I have a 3d plot and would like to draw several lines over the surface of the plot .
If you want to do some fancier annotation rather than just using a figure legend , you should take a look at HYRY's answer here .
The same goes for each of those cases , you should keep the references returned by ` plot ` and ` scatter ` as well , and they will also have ` set_data ` method which you can use when iterating .
matplotlib : Understanding and changing axis labels for a scatter plot updated incrementally
I have a script that generates scatter plots for data being generated by a hardware device .
The plot data generation step cycles through different sources of data on the hardware to plot them on the scatter .
As I understand it , it's dumping the data into an anonymous scatter plot object - which presumably is the same one - because what it does ( and what I want it to do ) is collect the data from all the sources onto the same scatter plot .
However I don't know how to make sure that all the data from each successive source is placed into the same instance , so that when the final plot is displayed I get the scatter for all sources in one plot .
If you want many ` axes ` to play with , just make more axes objects .
or if you want many axes per figure : #CODE
` ax_lst ` is a 2x2 ndarray of the axes objects .
From this you can do what ever permutation of data source -> axes you want .
matplotlib add rectangle to Figure not to Axes
But I guess rectangles are handled by Axes only .
You can use a phantom axes on top of your figure and change the patch to look as you like , try this example : #CODE
Even something as simple as being able to print the various properties of the figure and axes would be useful .
So let's say , for the sake of argument , you want 1 " margins .
My axes labels overlap figures when a I use your values ( 11.7 , 8.3 , 1.0 )
One element that is important for this task is knowing that the callback ` event ` has an ` inaxes ` attribute referring to its axes .
Specifically , I need to know which edges correspond to which nodes , and then retrieve that information depending on which axes the selected component belongs to .
When there is only one axes in the figure , I store this information in the closure : #CODE
The simplest way to do it , as far as I see , is to store a mapping of axes to subplots as a global variable , like so : #CODE
matplotlib set xticks & work with SQL
In my bar chart , I need to set my ` xticks ` with an hour format like this : #CODE
Right now the ` xticks ` are like this : #CODE
Instead of setting the ` xticks ` , I tried to reformat ` TimeStamp ` to make it like : #CODE
Basically , is there any way I can personalize ` xticks ` while it's able to work with ` TimeStamp ` ?
Efficiently cache and restore matplotlib axes parameters after moving spines
I'm having trouble maintaining formatting and modifications applied to a matplotlib ` Axes ` object after offsetting the spines .
As you can see , after offsetting the spines , I lost my x / y labels , tick placements , and tick labels , and ( some ) tick label formatting .
Unfortunately , I cannot offset the spines prior to the rest of the axes formatting since my goal is to create a general function that will handle axes created by other functions that all format their axes very differently .
Is there a more efficient way to achieve this without manually picking up and restoring 2 properties x 2 axes x major+minor ticks + 2 labels ?
A list of matplotlib axes generated with something like ` fig , axs = plt.subplots ( ncols=2 )` .
Can matplotlib draw relations like ` x^2+y^2 =2 ` in blue and then ` x^2+y^2 =1+ 0.5 *sin (( x^3+y^3 ) *2pi )` in red ?
How can I draw inline line labels in matplotlib ?
My ideal output would use labels like the following matplotlib contour plot , but with text labels for lines instead of numbers :
Since in your case legend overlaps the charts you might just want to move the legend outside of the plot .
Method do move legend outside of plot is described here :
Moving matplotlib legend outside of the axis makes it cutoff by the figure box
matplotlib Text size [ left , bottom , width , height ]
I am using yahoo finance to load the data .
` pcolor ` , ` pcolormesh ` and ` contourf ` above all give a map without any filled contours but with a colorbar
the above plots without the map object give filled contours including scatter plot ( without map background )
contour gives the map with contour lines superposed :
The examples plot on an ` Axes ` object ( i.e. ` fig , ax = plt.subplots() ` or ` ax = fig.add_subplot ( 111 )`) .
You might want to grid your data , for example , with an histogram , then contour the results .
thank you very much for your effort.Just a bit more clarification , I am doing a 2-D contour plot with a basemap overlay .
Examples , e.g. here " #URL ( contour lines over filled continent background " behave the same .
Roth pointed out to me that " SciPy's griddata returns nan's for the range outside of the valid points --> contourf cannot handle this , we need to use numpy's masked arrays " and he gave the following line which resolves the problem " zi= np.ma.masked_invalid ( zi )" .
Placing Multiple Histograms in Figure with PyLab
Based on a reading of the Matplotlib Artists tutorial , it seems like ` pyplot ` takes care of a few behind-the-scenes setup tasks , most notably establishing the connection between the Figure object and the desired renderer / backend .
In the example below , we create a Figure instance using matplotlib.pyplot.figure() , which is a convenience method for
instantiating Figure instances and connecting them with your user
Custom legend in matplotlib
I'd like to make a legend that looks like this :
Note that this legend has a frame with an edgecolor : a valid answer will include this .
The legend should also be embedded in the axes .
The legend I want might not be achievable using ` ax.legend() ` .
A great answer would be one which shows how to build my desired legend ( exactly as shown ) manually with patches and texts , or whatever matplotlib methods that make sense .
Make an ordinary legend .
What I'm trying to say is that you have some custom structure , which is not really qualified as " legend " any more .
How can one put a box of x , y , width , height onto axes ?
I edited my code last night -- the current version should show a frame around all the legend items in a single box .
It differs from your example in that the D and A headings are above the c / s legend items , not to their left .
( The default alignment in the standard legend box was easier to use this way . )
And now with an image of grouped plots with a standard legend call .
I've never used ` plt.pie ` , but you should be able to do what you want manually . the function returns ` tuple ( patches , texts , autotexts )` .
` autotexts ` is the sequence of ` Text ` containing the percentages .
But this saves only the figures ( with its axes I mean ) .
Using geometry , cos ( theta ) is x / sqrt ( r ) where r is the resultant displacement ( i.e. the hypotenuse of the triangle connecting Mars and the satellite ) .
Matplotlib cursor value with two axes
I wish I knew how to make the tracker report the location of the cursor with respect to both axes .
I'm dynamically updating the plot , so switching axes will display the wrong scale when updating , and I specifically want a particular axes on the right .
Given help from tcaswell's answers ( here , and here ) , you could modify the tracker to display coordinates with respect to both axes like this : #CODE
Alternatively , if you have scipy , you could use ` FollowDotCursor ` , which will annotate the data point closest to the cursor .
Moreover , it can be applied to more than two artists ( just add a FollowDotCursor for each line , scatter plot , bar graph , etc . ) .
Using contourf to plot the mapping color ( z axis color coding ) in Log scale ?
I have written this piece of code but first of all , it doesn't show contour plots properly and secondly the colorbar shrinks to the top while the numbers of each color are in their expected places .
The problem of using LogNorm for contourf also exists since some of the zp numbers are zero .
matplotlib cancel legend on axes object
I am using an external module which automatically adds a legend to the plot .
I would like to know if there is a way of turning off the legend , something like ax.set_legend ( False ) .
It looks like the legend artist is not removable , but it should be .
it only _seems_ to do what you need ( that is , you can't see the legend so your are happy ) .
But from the dev side this is very hacky solution , the _correct_ solution is to be able to remove the legend which seems to be not technically possible .
You need to change the visibility of your legend , try this : ` ax.legend() .set_visible ( False )`
this regenerates the legend and then makes it invisible .
I have two lists , " x " and " y " , that represent the axes of my original , uninterpolated grid .
Then , I make the arrays that represent the axes of the intended final , filled-in grid .
But when I try to make an simple animation : #CODE
I've already tried to change it but still no graphic window to admire my animation ....
Using python 2.7.3 , matplotlib 1.1.1 ( a bit old but that's what the ubuntu repos got on this machine ) , and TKAgg backend , I see an animation of noisy images as expected .
Matplotlib : adding a third subplot in the plot
What matters is that the first subplot ( list1 ) has to be twice as bigger than the other two ; for doing this I have used gridspace , but as I am really new I'm not being able to understand how I should set the parameter for this sample code to get the third one .
You're capturing the ` patches ` object returned , can't you just iterate through that based on ` bins ` and set the colors as you see fit ?
Overlayed plots without shared axes : left-bottom vs . top-right pairs ( python / matplotlib )
i.e. , a first plot uses the left and bottom axes , and the second plot uses the top and right axes .
Each pair of axes is independent , and would be used to draw several curves independently but on the same graph .
How to not " cut " / " flatten " lines when moving the spines in matplotlib ?
I want to move the spines of an axes outward a bit , as shown in the bottom example on #URL .
However , when I do this , the lines which are close to the axes borders are " cut " : It seems like the lines drawn still accommodate for the spine ( which isn't there any more ) .
The problem is that the lines are still clipping at the edge of the axes area , even though you have moved the spines away .
but you will need to be careful that your axes range and your data range line up ( as it will run off to the left and right as well ) .
Updating a pyplot 3d scatter plot in a loop , grid lines overlap points
I am updating a 3d scatter plot with every iteration of a loop .
If you update a matplotlib3d axes in a loop , e.g. when using the Funcanimation , the grid which is normally in the background , overlays the plotted surface .
Then there is a problem , since the clear axes method doesn't work in 3D plots and for 3D scatters there is no clean way to change the coordinates of the data points ( a la ` sc.set_data ( new_values )`) , as discussed in this mail list ( I didn't find anything more recent ) .
You need to set the new coordinates of the datapoints in the internal ` _ofsets3d ` variable of the ` Line3DCollection ` object returned by the ` scatter ` function .
Well , the problem is that you need to render the whole figure again , generate the axes and then plot the data .
It takes about three times longer to update the figure than modifying directly the data of the current scatter plot ...
matplotlib legend : Including markers and lines from two different graphs in one line
I've been doing some linear regression and want to plot the markers ( original data ) and the lines ( regression ) on the same line in the legend .
So I want the legend to consist of 2 lines , each showing a line and a dot , instead of 4 lines .
You just need to use ` legend ` a bit more directly .
I want to draw the evolution of a point cloud using matplotlib .
Basically I managed to draw the points .
How could I convert a contour plot ( matplotlib ) to FITS format with header ?
I need to make a contour plot and overlie the contours on the image .
About making contour plots with matplotlib you have plenty of examples around StackOverflow .
@USER rdenes How could I transfer the information from right ascension and declination coordinates , when I convert matplotlib contour plot to an array ?
You can use the ` matplotlib._cntr ` tool as described here : Python : find contour lines from matplotlib.pyplot.contour() to get the endpoints in figure coordinates , then use the WCS to convert between pixel and world coordinates .
or for a more realistic contour case , now copying the code from the linked article : #CODE
could you please elaborate more how I could use WCS ( is it from astropy ) in order to convert the gridded data at contour plot to WCS ?
if I use c = cntr.Cntr ( Xgrid , Ygrid , Hsmooth ) then c.get_cdata() gives me a ( nx , ny ) array but it is the amount of each grid point and on the other hand c.trace ( z ) a list of points in the contour which are in ra and dec coordinate .
Could you take a look and clarify for me where I have done mistakes in order to make contour plots ?
I am trying to add the same instance of a patch to multiple axes in matplotlib .
In this example , the ellipse does not appear in either subplot .
If I comment out the line ` axes_2.add_patch ( ellipse )` , the ellipse appears in the first subplot at its moved location ( 2 , 2 ) .
Is it possible to have the ellipse appear in multiple axes and have changes to it reflected in both ?
My end goal is being able to add artists to different subplots and have changes to the artists reflected in all axes .
Do to the way the backend of matplotlib works you can not put the _same_ patch instance in more than one axes .
are you looking for ` annotate ` are ` axvline ` ?
This is a fragile solution because I've manually set a single date to annotate but it should be pretty easy to wrap that code in a function and call it for every date you're interested in .
Now I would like to calculate the coherence or the normalized cross spectral density to estimate if there is any causality between the input and output to find out on which frequencies this coherence appear .
Firstly calculate the power spectral densities of both the signals , #CODE
Secondly calculate the cross-spectral density , which is Fourier transform of the cross-correlation function : #CODE
The power spectral density of the two signals to be correlated :
And here the real and imaginary ( ! ) part of the cross spectral density :
@USER : The cross spectral density has complex values .
Writing axes titles with units raised to negative powers in matplotlib with TeX and matching formatting
I'm writing a lab report for uni and have decided to use pyplot to draw a graph for it .
The units for one of my axes is V^ ( -1 ) , but I can't seem to get matplotlib to write that with the power in superscript ( it only superscripts the minus sign ) when using the code : #CODE
I'd also like to match the fonts used for the axes titles with that used for the values on the axes if at all possible .
File " C :\ Users\Sam\AppData\Local\Enthought\Canopy\User\lib\ site-packages \matplotlib\backends\ backend_agg.py " , line 451 , in draw
draw ( artist , renderer , * args , ** kwargs )
File " C :\ Users\Sam\AppData\Local\Enthought\Canopy\User\lib\ site-packages \matplotlib\ figure.py " , line 1034 , in draw
draw ( artist , renderer , * args , ** kwargs )
File " C :\ Users\Sam\AppData\Local\Enthought\Canopy\User\lib\ site-packages \matplotlib\ axes.py " , line 2086 , in draw
draw ( artist , renderer , * args , ** kwargs )
File " C :\ Users\Sam\AppData\Local\Enthought\Canopy\User\lib\ site-packages \matplotlib\ axis.py " , line 1089 , in draw
If not is there a way I can create connect the dots of my scatter plot in order to simulate the correct line plot ?
Use ` OrderedDict ` from ` collections ` .
do you want multiple subplots or all the plots in the same axes ?
How to rotate a simple matplotlib Axes
a simple set_rotation on a text instance will rotate the text by the angle value about its coordinates axes .
Is there any way to do to same for the axes instance ?
Are you asking how to rotate the entire axes ( and not just the text ) ?
This does create a rotated axis , but its missing a lot of properties that " regular " axes have ( e.g. , I cannot figure out how to remove the x / y ticks and the background )
@USER - Yes , but for axes made with the ` axisartist ` toolkit , the individual spines , xaxis , yaxis , ticks , etc are handled a bit differently .
( This is the main difference between a usual Axes and an ` axisartist ` Axes . Thus the different API . ) Here's an example : #URL However , there may be an easier way ( e.g. rotating your data ) .
I would synchronize which artist is currently active through a single class that works with multiple artists .
I just came across an alternative method to solve the above problem using animation blit techniques .
I am trying to make a simple scatter plot in pyplot using a Pandas DataFrame object , but want an efficient way of plotting two variables but have the symbols dictated by a third column ( key ) .
This colours the markers according to ' key1 ' , but Id like to see a legend with ' key1 ' categories .
With ` plt.scatter ` , I can only think of one : to use a proxy artist : #CODE
You can use ` scatter ` for this , but that requires having numerical values for your ` key1 ` , and you won't have a legend , as you noticed .
( I'm also tweaking the legend slightly ): #CODE
Why in the RGB example above is the symbol shown twice in the legend ?
I am not sure whether I should use the annotate command instead of text .
subplot layout is 311 , 312 , 313
For example , this is my ideal subplot layout : #CODE
Use a python list and append every new value to it instead .
As you can see , the intercept / refract methods always use ray.p() so the newest point , but for some reason it doesn't actually append the new point / direction upon intersecting and refracting with the second spherical element ?
Discard the 2nd subplot from your acquaintance .
see Locator ??
I build a scatter plot using matplotlib and python2.7
Build a scatter plot for baz based on the x-axis ( foo ) and y-axis ( bar )
It is a normal scatter plot .
python scatter ndarray dimension size error and rgb color issue
I am having trouble making a scatter plot with a log scale for the values .
You are not plotting two separate arrays when you make a scatter plot .
Maybe a scatter plot is not what you are after in this case ?
Yeah I got the scatter plot to work , but maybe a pcolor type plot would look better here ..
I am making animation with matplotlib , and there at first I need to define it , and in every step of animation I set data ( points ) of my lines , but now I need use only a point , not line
If in the animation you wish to change the location of the dot , use #CODE
as changing the offset is quicker than generating a new scatter plot .
Matplotlib remove patches from figure
Can someone tell me how to remove only part of the patches ?
You want to use the " margins " function .
Could someone help me and explain how to draw an .svg of two lists and have it show at the end with details about why each line is included and when I put ` plt .
You would use ` ax ` for example if you had some additional axes , subplots or color bars on which you needed to perform some action .
Callbacks for graphical mouse input - how to refresh graphics , how to tell Matplotlib I am done ?
I recommend you to use a ` Cursor ` widget for your vertical line , and just collect the x values of the clicks ( not the entire ` Line2D `) , here is an example : #CODE
I've considered creating a new list , line [ ] , that each pass through findxy() will append x , y to line [ n+1 ] , but I'm not certain if that's a good way to go .
I think this answer could be improved by using ` plt.subplots ` to create ` figure ` and ` axes ` objects , and then plotting against the ` axes ` object directly .
I added a legend with the parameters for the lines .
colouring data points in a scatter plot using python
I am trying to plot a scatter plot using certain colours for certain data points .
Python Matplotlib scatter plot : Colouring data points to a specific colour
Figure 1 .
Figure 2 .
is the same eps file as Figure 1 ., but the ` bb ` parameters were specified in ` includegraphics ` command in the LaTeX document .
Then , Figure 2 . looks good .
I use this code for add units to axes , but x-axis looks horrible , numbers and units are overwritten .
use annotate which lets you be very flexible with how you specify the coordinates of the text .
Legend is outside the frame
Legend is outside the frame .
I see part of the legend , but I want to see all .
Users can specify any arbitrary location for the legend using the
will place the legend so that the upper right corner of the legend at
the center of the axes .
Or just leave it out altogether , and the legend will be in the upper left corner .
Edit : If you want the legend to be out of the subplot , you can try the following : #CODE
I need to legend was out of schedule , but I want to see legend .
@USER You mean out of the the " subplot " ?
Yes , when i use tight_layout() , there is no room for legend !
@USER I edited the answer to show how legend can be added outside of the plot .
controlling the format of the xticks in matplotlib
However , the labels for the xticks should read 1 - 16 ?!
How to define a single legend for a set of subplos on matplotlib ?
So I want a legend with the name of these tree samples .
The legend appears , but is empty .
It does not mark the artists to be accessed via that name , but provides the text used by ` legend ` if you call ` legend ` with out any arguments .
The second problem is that ` bar ` does not have an auto-generated legend handler .
+1 didn't know proxy artist .
@USER the legend code in incredibly powerful and cool but incredibly opaque .
Small square instead of line in legend ?
To make a custom legend , I currently use the following : #CODE
It will draw a blue line in the legend box .
Make a proxy rectangle instead of a Line2D , and if you want it to be a square , fuss with the handlelength ( but ` handlelength ` and ` handleheight ` apply to the whole legend ): #CODE
( Example almost straight out of the matplotlib documentation : legend guide . )
Positions of spines in matplotlib
but I would like the ticks to be at the zero axes ( as in a normal graph ... ) .
With ` refreshMillis ` you control the refresh rate of the plot
So a kind of scatter matrix , but with list_of_df_columns-vs-one_df_column rather than all-vs-all .
I need to produce a panel of scatterplots sort-of-like in that scatter matrix example I linked to , but all_variables-vs-one .
How can I produce a scatter plot ?
passing ` kind=scatter ` to the plot function gives ` ValueError : scatter requires and x and y column `
I am trying to specify the frequency a marker is placed for the series in my scatter plot .
Can someone give me some insight on how to use markevery with a scatter plot ?
Probably not supported for scatter plots .
The former changes the limits on the axes to get the required aspect ration ( in your case 1:1 ) .
The quantities are correlated and I need to plot various contour plots .
This interpolated 2D Zout should be usable for a contour plot with Xout_2d and Yout_2d .
@USER I expanded my original answer to give a simple example on how meshgrid and griddata work to give you a new Z that you can use for contour plotting
I want to plot a line or contour plot at 5th , 10th and 20th scan steps .
I don't fully understand how your data is organized , but Matplotlib is the easiest way to pop up a contour plot : see this for example :
Python matplotlib : How to assign a different opacity to each point in a scatter plot ?
I have a series of points I want to put on a scatter plot .
I want the dot on the scatter plot to have an opacity set according to how much I care about it .
Value Error with color array when slicing values for scatter plot
I want to specify the frequency of markers that are printed in my scatter plot .
Regression line and fitted curve for scatter plots in matplotlib
I have successfully figured out the scatter plots , but I'm having issues figuring out how to generate a regression line and fitted curve .
see : #URL tldr : artists are rendered one at a time , a single artist is always either above or below another artist .
How can I plot multiple lines using the same array and set disconnect points in python ?
I am working on a python 2.7 +matplotlib+tkinter project where I need to plot up to 60 plots on 1 figure ( I can show / hide them then by pressing corresponding legend title and do some other interactive stuff ) .
If it is crucial for an answer - I am working with ` step ` and ` scatter ` figures .
If you'd like the annotation to pop up on mouse-over instead of when the artist ( line , etc ) is clicked on , then just use ` datacursor ( hover=True )` .
plot contour of two variables in a text file
I opened these files with loadtxt in numpy and I would like to plot contour of these two columns using pylab .
A contour plot requires three variables ; for each ` ( x , y )` point there is a height ` ( z )` that must be associated with it .
If the data is unstructured , you can use ` scipy.griddata ` to interpolate it first then apply the contour .
The reason I'm asking is that I'm making some plots that are sort of like scatter plots , wherein two points at the same coordinate ( or very very nearby ) has significant meaning , and it's important that I know when the ( identical ) symbols used for the points obscure each other .
To do what you want you will have to dig into the transform stack .
@USER the ` plot ` method of dataframes return matplotlib ` Axes ` objects .
` plt.subplots ` returns a figure , ` fig ` and an axes , ` ax ` .
So in some instances this would be a great solution but in my case when I say I want a scatter plot for each city I do actually mean a separate chart / figure for each City .
Not sure why but the above 2 examples throw out the error : ValueError : Invalid chart type given scatter when I run them .
` kind= ' scatter '` was [ added in Pandas v.0.13.0 ] ( #URL ) .
Instead it produces 4 separate figures with line charts instead of scatter charts .
The result shows correct correspondence between the left and right y axes , but the bounds are not correct .
Thanks for the xlim idea , it's not quite what I wanted , but it'll do .
It seems that the histogram bars don't correctly align with the grids ( see first subplot ) .
Look for the ` align ` option in matplotlib hist .
This is spelled out in the matplotlib hist docs : #URL
draw point is slow with matplotlib
Plot over subplot
I have a subplot inside an existing axes frame , and in the subplot there are some lines or filled contourf plot .
What I want to do is to plot some lines in the existing bigger frame , and these lines must be on top of the lines / contourf in the subfigure .
The trick is to set the big axes frame to a high zorder , and set its background color to transparent , so that the small axes frame in the background can be seen , and in this way the lines in the main frame will naturally be on top of the lines in the small frame .
If I use something like ` subplot ( 1 , 2 , 1 )` and ` subplot ( 1 , 2 , 2 )` then I get two rectangle subplots in a square plot .
Plot a scatter plot in python with matplotlib with dictionary
I want to create a scatter graph where x : y are ( x , y ) coordinates and title'x ' would be the legend of the graph ..
for example : plot title1 ' : {x : y , x : y } in red ( or any other color ) make a legend ( key ) saying red ( or whatever color ) is for title1 ,
You can try to plot on the loop , and after that show the legend , something like this : #CODE
Matplotlib animation faster first time it runs
I have a Matplotlib animation embedded in Tkinter , and to control some aspects of the plot ( e.g. plot limits ) I have methods that stop the animation , make the requested changes and start it again .
I noticed that every time I stop and re-run the animation it is slower than the first time ( but not increasingly slower ) .
This is the animation code used : #CODE
Notice that I set the animation interval to 1 millisecond .
Is it possible to make the border of the plot cut off the text at the corresponding position and only when I pan inside the plot the the rest of the text gets visible ( but only when inside plot area ) .
This is because we often want to call plot multiple times to draw various things before displaying the figure ( which is a blocking call ) .
Multiple Broken Axis On A Histogram in Matplotlib
p.draw() open a new window , I was hoping to plot in to a subplot .
You could use this figure to add a subplot and then pass this axis to pandas plot function or use matplotlibs plotting directly .
You could use this figure to add a subplot and then pass this axis to pandas plot function or use matplotlibs plotting directly .
first make your artist ( the array in the example below ) pickable .
on click action , check that the click is on the artist
Then you can first plot a line exactly at your grid points , then draw your pcolormesh object above , and hide the line .
how to make matplotlib draw sequence of images in same window
I'm trying to draw a sequence of images from earlier saved plots in the same window #CODE
I am using cartopy to draw my maps .
I want to make a contour plot of order on the x-axis , angle on the y-axis , and intensity as the color .
It's often more convenient to use the ` set ` method of a matplotlib artist .
` ax.set ( xlabel= ' This ' , ylabel= ' That ' , xlim =[ 1 , 10 ])` .
Matplotlib has an [ ` animation ` package ] ( #URL ) and [ some examples ] ( #URL ) on how to use it .
Get current axes value and step in matplotlib
After plotting financial data , I would like to get the current X and Y axes values , in order to plot , for instance , an additional arrow .
` pyplot ` keeps track of which figures , axes , etc are " current " ( i.e. have not yet been displayed with ` show `) behind-the-scenes .
` gcf ` and ` gca ` get the current figure and current axes instances , respectively .
After ` show ` is called , the list of " current " figures and axes is empty .
In general , you're better off directly using the figure and axes instances to plot / save / show / etc , rather than using ` plt.plot ` , etc , to implicitly get the current figure / axes and plot on it .
Use ` pyplot ` for ` plt.show() ` and to generate a figure and an axes object ( s ) , but then use the figure or axes methods directly .
It leaves the other axes untouched .
` plt.clf() ` clears the entire current figure with all its axes , but leaves the window opened , such that it may be reused for other plots .
Figure and axes methods in matplotlib
I would like to add a title to the plot ( or to the subplot ) .
is 2.7 and I have installed it from homebrew using #URL ( in the beginning I had the macports dist and made no difference again . )
Your out of range error likely comes from the call to ` plt.subplot ( 221+i )` , since you don't seem to limit i to be 4 ; thus matplotlib will not know what subplot you intend to refer to ?
But you can also do it as shown below , setting the ` ax= ` keyword argument to an already existing set of axes .
However , each subplot comes out really squished .
Sublime Text 3 and custom build profiles - unable to close windows
To change the path , I set up a custom build profile under " Sublime Text 3 / Packages / User / Python.sublime-build " with the following text : #CODE
I'm trying to scatter or plot 2 sets of arrays using numpy and matplotlib .
And you could still use the data in a scatter plot if required .
` .set_xticks() ` on the axes will set the locations and ` set_xticklabels() ` will set the displayed text .
I need the index position to put x , y in the annotate , but only like create element that is masked
Following Settting Different Bar color in matplotlib Python
There's not way to change the colors of the caps individually ( it's easy to set them all to the same color ) without removing that artist and creating a ` LineCollection ` in its place .
This would be necessary , for instance , if there were preexisting objects in the same axes from an earlier plot , and I wanted to differentiate , ie to treat just the new ones .
You're looking for the ` patches ` attribute of axes .
You'll want to add or subtract some value to each of the patches .
Yes , I'm actually using a loop over patches , and set_x as you say .
But this question is about getting the list of patches that are newly created by a plotting call through pandas .
in the line ` df2.plot() ` you set ` ax=ax ` which modifies the previous axes object You ` ax2 ` object ** is ** ` ax ` .
So ax.patches will have patches from both ` df.plots() ` .
This wouldn't be a problem if you were explicitly attaching the Figure to a Canvas .
You could also use pyplot's own savefig method , but I think that the Figure knowing about the Canvas is probably a good thing on the whole .
Issue with numpy's histogram2d and colormaps
So on the right I've got eigenvalue spectra of 1000 matrices scatter plotted over each other .
I've seen the ` bottom ` parameter to the ` bar ` function , but it just seems to add 1 to every value I have instead of considering 1 to be the base to draw the bars from .
How can I draw single points on a plot already containing data ?
Rotating axes label text in 3D matplotlib
Matplotlib xticks are your friend .
Due to the nature of this project , each secondary form has several matplotlib figures in a ` Notebook ` , around 7 or 8 figures each with 2-5 axes each .
You could set the tick labels manually , but then the tick locations and labels would be fixed when you zoom / pan / etc .
The performance is also really terrible since you make * so many * patches , 1 for each point .
How to change legend fontname in matplotlib
I would like to display a font in Times New Roman in the legend of a matplotlib plot .
I have changed all other tick labels / axis labels / titles to Times New Roman , and have searched the documentation but I can only find how to change the font size in a legend using the ` prop `
How can I fix polar RGB imshow's xticks ?
Generates a nice HSV legend plot .
other solutions like : Python : 3D scatter losing colormap , assume continous Z ( X , Y ) functions , but what I have is a discontinious function .
you can try using ` scatter ` , or you can grid you data with a 2D histogram then plot it with ` imshow ` .
Biopython Phylo.draw() : Why not returning axes instance ?
If it's on purpose , why and how one can draw something on the same axis ?
How can i plot a figure above a contourf ?
I would like to see a figure ABOVE a filled contour map .
why not just do the contourf after the imshow ?
Also the contourf should probably be ax.contourf ?
The artist with the _higher_ ` zorder ` is drawn on top .
I did some voodoo programming , trying to understand how to mimic the comma following line and here is what I got ( needless to say that it does not work : ` AttributeError : ' tuple ' object has no attribute ' axes '`) .
` plt.plot ` returns a list of ` matplotlib.artist.Artist ` s , so when you plot only one line it returns a list of only one item : a ` matplotlib.lines.Line2D ` artist .
You'll need to draw the figure before dumping the buffer with ` tostring* ` .
Time lapse animation
I'm new to python , matplotlib , and animation .
I am finding that TeX messes with my fonts , the alignment of my subplot yaxis labels , etc and I feel like there must be an easier way to get subcripts and superscripts in plot labels .
Save an animation at the final step as a figure
Besides the animation I got , I wanted to save the figure at the final step of the animation ; just before the animation is repeated .
If you run the script , you will probably see that , at the end of the first loop , the the animation becomes erroneous .
Is there a better way to save a figure at the end of an animation ?
The two y axes do not have the same limits : in one case you fluke the same lower value in the automatic range calculation while in the other you don't .
( and if you don't explicitly set the ax2 yticks then ticks will still get rendered if you move beyond the original range in interactive mode ) .
But , I want to draw the line at 0 for missing points .
I need a scatter plot with values of ` 1:35 ` , with my y-value for missing values in range ` 1:35 ` , to be represented as zero .
I tried doing this on my own by exploring modules using the dir() function , but in the case of trying to find the function hist in the directories of plt , I was unable to .
interactive scatter plot with python
Hi I need to create an interactive scatter plot in python .
With interactive I mean that the user can draw rectangular area of interests over the scatter plot .
The commented contourf command will create a color bar that has the same bounds as the data , and not the color limits .
` scatter ` will also take a list of colors .
However , when I changed that to ` training.plot ( kind= ' scatter ' , x= ' date ' , y= ' rate ')` I get an error : KeyError : u'no item named date '
Stuffing a pandas DataFrame.plot into a matplotlib subplot
The axes handles that ` subplots ` returns vary according to the number of subplots requested :
I have found numpy's ` unravel_index ` useful for iterating over the axes , e.g. : #CODE
As noted in the linked solution , axs needs a bit of massaging if you might have 1x1 subplots ( and then receive a single axes handle ; ` axs = np.array ( axs )` is enough ) .
I don't know how to make ` plot ` or ` bar ` produce the same behavior as the above call to ` hist ` .
Using a PolyCollection makes it much harder to include a legend does it not ?
I want to display the keys and values of a dictionary directly above the chart , just as yahoo finance does for the date price and after hours quotes exc .
[ This would be helpful ] ( #URL ) , maybe use ` annotate ` or ` figtext ` .
@USER Now that I see his pointer to yahoo finance , it appears that he wants to use suptitle from the reference that you gave and just put in the latest entry rather than the entry for each element .
That is , plot to the axes you created for the plot ( ` ax `) .
Otherwise , you're plotting to the last axes you created , which in this case , is the button .
matplotlib subplot grids create two different canvas instead of one
I'm trying to follow this example to make a grid of subplot :
EDIT : Setting xlim ( as suggested below ) works only on initial plot , but not when one zooms in on different regions .
You should use the ` Locator ` functionality #CODE
( doc ) which will put ` N ` evenly spaced ticks on the axes .
The ` Formatter ` s will then take care of formatting the labels .
I found one on this website ' generating heatmap with scatter point in matplotlib but that is having only 2D data .
I have tried 3D scatter plot with color .
I would say 3D scatter plot with color , but we cant tell unless what structure your data has .
Index out of bounds error : animation / simulation
I have generated a scatter plot using python .
Legend only shows one label when plotting with pandas
I would like the legend to show the label for both of the DataFrames , but so far I've been able to get only the latter one to show .
I think it boils down to how Matplotlib handles the secondary axes .
Pandas probably calls ` ax.twinx() ` somewhere which superimposes a secondary axes on the first one , but this is actually a separate axes .
Therefore also with separate lines labels and a separate legend .
Calling ` plt.legend() ` only applies to one of the axes ( the active one ) which in your example is the second axes .
Pandas fortunately does store both axes , so you can grab all line objects from both of them and pass them to the ` .legend() ` command yourself .
Both axes objects are available with ` ax.left_ax ` and ` ax.right_ax ` , so you can grab the line objects from them .
When multiple series are plotted then the legend is not displayed by default .
How to put power of 10 formats not like 1e-5 at axes ?
If we use scientific notation for plotting data as you know usually ` 1e{+b} ` would be noted on top of axes .
I want to put 10^{} at the top of the axes not as tick mark labels .
Try some of the following to adjust the bottom margins :
You can manually adjust the margins with #CODE
Changing what the ends of whiskers represent in matplotlib's boxplot function
Set the boxplot option whisk=0 to hide the inbuilt whiskers .
No , don't use the ` animation ` module at all ( except as reference ) .
It takes ` repeat ` as an argument , which is inherited from ` TimedAnimation ` , by setting ` reapeat ` to ` False ` you could stop the animation to repeat itself .
It freezes the animation by clicking somewhere on the figure .
When you click again , it continues to plot the animation .
You have to define a flag before the begin of your animation .
Inside your animation function ( the function which will be called during you animation is plotted ) , you have to define a a control block like : ` if not pause : ` and then write your codes for plotting the function below .
Check out here for a listing of many of the colormaps .
One legend for all subplots in pyplot
Is there any way to make the legend show both the scatter dots and the bars ?
This worked for me , you essentially capture the patch handles for each graph plotted and manually create a legend at the end .
@USER : You can cheat a bit by making the legend have two columns , make two of the labels blank and decrease the column spacing : ` lgd = plt.legend (( s1 , s2 , h1 , h2 ) , ( r '' , r '' , r ' $\lambda$D ' , r'TI ') , ncol = 2 , loc= ' upper center ' , columnspacing=0 )`
However , those above are not individual modules in matplotlib ( to my knowledge ) - they are classes of their parent module ( patches , lines , pyplot ) , so I can't just ` import matplotlib.patches.Arc ' or anything .
How to add more items to the matplotlib legend ?
When I try to create a legend , it only displays one color along with one label .
Only shows ' Group 1 ' on the legend along with one of the many bar colors .
How can I add more items to the legend ?
One issue still remains which is that since I have groups of bars of the same color , the legend incorrectly displays the colors of the first x bars , where x is the number of color groups .
Yes , but the issue there is that if there was a 3rd group with item4 , then the legend would display Group 3 as the color of item3 .
Plotting two scatter plots will plot them on the same figure .
So where you have ` ax.scatter ( x , y )` , put the second scatter plot ` ax.scatter ( x1 , y1 , c= ' red ')` directly afterwards and it will be on the same figure .
Later you can annotate the second set of points with
Plotting two scatter lots will plot them on the same figure .
So where you have ` ax.scatter ( x , y )` , put the second scatter plot ` ax.scatter ( x1 , y1 , c= ' red ')` directly afterwards and it will be on the same figure .
Later you can annotate the second set of points with ` for i , txt in enumerate ( n1 ):
Matplotlib xy line graph legend
How to do add a legend to a xy line graph in Matplotlib , inside of IPython notebook ?
/ Users / mc / .virtualenvs / kaggle / lib / python2.7 / site-packages / matplotlib / legend .
UserWarning : Legend does not support [ ] Use proxy artist instead .
/ Users / mc / .virtualenvs / kaggle / lib / python2.7 / site-packages / matplotlib / legend .
UserWarning : Legend does not support [ ] Use proxy artist instead .
matplotlib animation duration
the code here below shows and saves an animation of random matrices in succession .
My question is how can I adjust the duration of the animation that I save .
If I have ten frames I was expecting that the showed animation repeated itself every ten frames -or stop at least .
just to let the animation loop back .
Not every mouseclick will trigger a picker event , so you can't disconnect it if it did not fire .
It is far better to change the ` Locator ` and ` Formatter ` than to use ` set_yticks ` directly .
How could I remove 3D axes and print in eps ?
So far I got this code , and I would like the 3D plot but without the axes and printed in eps vectorial format .
but I don't have any problem with the printing , I get the image , I just would like to save it on eps without the axes .
Your question about turning off the axes is answered here .
Removing frame while keeping axes in pyplot subplots
I am creating a figure with 3 subplots , and was wondering if there is any way of removing the frame around them , while keeping the axes in place ?
If you want to remove the axis spines , but not the other information ( ticks , labels , etc . ) , you can do that like so : #CODE
If you happen to have polar plots , spines are defined differently , so per #URL you need to do : a.spines [ ' polar '] .set_visible ( False )
It looks like ` matplotlib ` ignored the ` zorder ` of scatter plots .
The problem is that you are setting the z-order of the marks on different axes ` ax ` and ` ax2 ` but since ` ax2 ` has a greater z-order all the plots in it will be on top of ` ax ` .
See #URL for how pan / zoom are implemented .
I would think it would error on ` groupFig.plot ( x , y , color=color , ... )` , as matplotlib Figure objects don't have a ` plot ` attribute ( at least on matplotlib 1.3 ) .
My figure has a very large legend , and to make it easier to find each corresponding line , I want to sort the legend by the y value of the line at the last datapoint .
Matplotlib boxplot without outliers
Is there any way of hiding the outliers when plotting a boxplot in matplotlib ( python ) ?
( I cannot post the image because I have not enough reputation , but basically it is a boxplot with Q1 at y=1 , Q3 at y=5 , and the outlier at y=10 )
The docs for ` boxplot ` do mention this , btw as , " Enter an empty string ( ) if you don t want to show fliers .
@USER Just want to chime in here and say that in v1.4 , you'll be able to pass a ` showfliers=False ` option when you call boxplot .
You can get the current figure as a Figure object ( a wrapper around
The Figure type supports
Exactly how you approach this will depend on what artist you're using ( In other words , did you use ` ax.plot ` vs . ` ax.scatter ` vs . ` ax.imshow ` ? ) .
Pick events will have different attributes depending on the artist selected .
If you'd like to draw a polygon and select points inside , see : #URL
Also does anyone know how to make each subplot bigger ?
What you're seeing is a limitation of the way matplotlib defines subplot positions Because ` imshow ` will force the aspect of each figure to be 1 ( and therefore square ) , the definition of subplot locations will result in with gaps even when ` hspace=0 , wspace=0 ` .
Create a legend with pandas and matplotlib.pyplot
This is my first attempt at plotting with python and I'm having problems creating a legend .
Now I want to create a legend as described here like this : #CODE
` plt.legend() ` on its own works , but I only want some of my lines to feature in the legend .
I haven't worked out what a proxy artist is yet but I think it is a tool for when you are using a non-default graphical object , which I thought probably was not the case here because I am trying to produce a normal matlibplot plot .
` plt.legend() ` on it's own doesn't output anything to the console but the resulting plot now has a legend auto-generated from the plotted data .
Maybe an example of what plt.legend() outputs and what you want the legend to output ?
I get a legend but it contains entries for all the lines not just the one which returned my original axdata object .
I think what you want to do is be able to display a legend for a subset of the lines on your plot .
Add new bins at each iteration of a an animation in matplotlib
Of course I can use Varchar but one more problem came up when I used python to retrieve some values and wanted to draw a graph with them using matplotlib.pyplot , it failed again because these ' N / A ' strings couldn't be converted into float .
three subplots in a grid , one equal aspect subplot with shared x and y axes
the central axes should have an ' equal ' aspect ratio but with ` xlim !
= ylim `
the top axes will house a color bar for the data in the central axes
the right axes will house a ` twiny() ` setup
The cited example seems to hard code in the positions of the axes , when I'd like this to be done dynamically as the x and y limits in the central axes may change .
The central axes can be made with something like ( anticipating using an ` AxisDivider ` to add the top axes , thus the 121 ): #CODE
But when I add the add the second subplot , like : #CODE
Results using a ` GridSpec ` seem to be identical , and there's another implementation of the given example with ` AxesDivider ` , but I've determined that I cannot use an ` AxesDivider ` with the help of ` append_axes() ` as I would also like to generate a ` twiny() ` axes on the right , and given the way that ` twiny() ` and ` AxesGrid ` are implemented , the ` twiny() ` axes ends up spanning the entire figure .
I presume the colorbar , the desired top axes spanning the width of the the central axes , can be implemented with the ` make_axes_locatable() ` method .
I've also tried an ` AxesGrid ` , which handles the color bar nicely , but this construction is not amenable to different axis scales and didn't seem to work for the central and right axes combination .
I think you just want ` adjustable= ' box-forced '` to make shared axes adjust their bounding box instead of the data limits .
Furthermore , trying this with ` adjustable= ' box '` gives an error ` adjustable must be " datalim " for shared axes ` .
If you want the two axes to have the same aspect ratio , you'll need to either a ) set the same aspect ratio for both ( e.g. ` aspect= ' equal '`) or b ) share both the x and y axes ( i.e. same data limits ) or c ) set the extents axes how you'd like manually ( i.e. don't use subplots , just specify the bounding box ) .
The center axes should have an equal aspect ratio , the right axes should share an yaxis with the left .
It doesn't really matter how wide the right axes is .
The question is to draw a 8 point star with it's inside coloured , using pylab , numpy matplot .
` plt.figure ` is a factory function that creates a linked ` Figure ` and ` FigureCanvas ` instance and adds them to the pyplot figure manager .
I think you need to set ` extend ` to `" both "` and feed in a ` Normalize ` object : #CODE
But still , the WebAgg browser window only showed the " Figure 1 " link , without any figures .
This applies an imshow to each of the patches , I've copied the code in case the link changes , #CODE
Matplotlib Axis Control
I'm having difficulty turning the axes on and off in plots , and sizing my axes appropriately .
But my figures still end up with axes on the top and right , and a strange gap due to the sizing of the axes .
Removing spines is as easy as ` sns.despine() ` .
Matplotlib embedded in wxPython does not refresh when using pan tool
I have a NavigationToolbar2WxAgg so I can pan and zoom the plot .
When I use the pan tool the figure does not refresh ... until I manually resize the entire window , ostensibly because that triggers a setSize call on the Canvas , which then refreshes it .
The code you have posted seems to be from one of the answers there , and does not open new windows at each draw for me .
You can get closer to real-time plotting by using matplotlib's animation API .
Also in that thread is an example of the animation API at work , with very high FPS .
I figured out from the matplotlib's animation API
scatter plots with string arrays in matplotlib
I have a pandas data frame and would like to do a 3D scatter plot with 3 of the columns .
create as many bins in the X and Y axes as different strings you find in the X and Y arrays .
No it's not that hard , but it's a problem hard enough that scatter won't to it automatically for you .
I used matplotlib and the included Polygon patch , but I'm not sure if that is the most optimal method .
The " full " line is still present beneath the second one , and the second line with the NaN's is a different color because you've plotted on the same axes .
That way you're aware of exactly which axes and figure you're plotting on .
If you're not going to do that , at very least always explicitly create a new figure and / or axes when you want a new figure .
Basically what I am doing is this : fig = Figure ( figsize =( 8.5 , 2.5 )); canvas = FigureCanvas ( fig ); ax = fig.add_subplot ( 111 ); y_array = np.array ( y , dtype = float ); x_array = np.array ( x , dtype=float ); ax.plot ( x_array , y_array , ); buffer = StringIO.StringIO() ; canvas = FigureCanvas ( fig ); canvas.draw() ; pilImage = PIL.Image.fromstring ( " RGB " , canvas.get_width_height() , canvas.tostring_rgb() ); pilImage.save ( buffer , " PNG ")
Also you don't need to explicitly initialize a ` Figure ` and ` FigureCanvas ` object , unless you want to take a more complex route .
Matplotlib Axes have the functions ` axhline ` and ` axvline ` for drawing horizontal or vertical lines at a given y or x coordinate ( respectively ) independently of the data scale on an Axes .
( Actually in some cases just adding the constant line itself stretches the axes ) .
All you would need to do would be modify the ` axhline ` code to plot from ` [ 0 , 1 ]` in axes coordinates for both ` x ` and ` y ` , I think .
I meant * just * using ` get_xlim() ` and ` get_ylim() ` at the initial draw time .
Using ` transform= ax.transAxes ` , the supplied ` x ` and ` y ` coordinates are interpreted as axes coordinates instead of data coordinates .
To draw the line ` y=x ` such that it always extends to the limits of your plot , an approach similar to the one given by @USER ' s would work , and can be written as the following function .
This does not draw the y=x line , which is what the OP asked .
How to draw dynamic programming table in python
What is a good way to draw a dynamic programming such as this one ( with the path ) in python ?
How can I draw the line on the table ?
I just want to draw a picture .
Draw some sort of tabular plot with ` imshow() ` , create custom labels for the axes and then draw that line above all .
My preferred solution is to just draw the table by hand : #CODE
You are calling both ` subplots ` , which , by default , gives you a single axes , and also adding axes via ` add_axes ` .
You can also use ` colorbar.make_axes ` to get an appropriately sized colorbar axes .
Annotating a plot of multiple files then creating a legend in a separate window the labels the filenames next to the annotations
Each plotted file is labeled by its file name , but these names are too long to put into a subplot next to the data figure ( file names are 35 characters ) .
I can plot just fine , but now I want to create an integer annotation for each plotted file , then correspond that annotation to the label , with a legend that is displayed in a separate window entirely from the plot .
So far I've tried to just make the separate legend from a lot of different examples on this site , but I have not had any success , so I apologize if this seems like a duplicate , but I've searched and attempted already .
If I could just make another window for the legend that I can interact with separately from the original plot , that would be great .
To achieve this you just need to add a list of the lines as well as the legends to a legend call in a separate axis , i.e. #CODE
I'm running a script remotely on a cluster to generate a scatter plot .
set capstyle of spines for pdf backend
Thus the ` Spine ` objects are in question , and a ` Spine ` is a ` Patch ` is an ` Artist ` , none of which seem to have anything like the ` set_solid_capstyle() ` of ` Line2D ` , so I'm not sure how or where to force a particular capstyle , or if it's even possible .
After some ipython debugging , I've found that a new ` GraphicsContextPdf ` or ' gc ' is generated each time a patch is drawn ( c.f. ` patches . #URL called by way of a necessary ` fig.draw() ` in the main script ) , and the settings for the new gc ( again initialized as ` butt `) are incorporated into the original ` RendererPdf `' s gc .
` Line2D ` objects are not patches , so they can maintain a particular capstyle .
How to scale a subplot dimensions of a 3d subplot to match 2d subplot with Matplotlib
I am trying to get the y-scale of both subplots to be at the same scale eg . subplot 1 ( 3d ) not appearing smaller than subplot 2 ( 2d ) .
I believe it is to do with subplot 1 not filling the given extent .
More of a work around than a solution , but I have been using ` gridspec ` to rescale the second subplot to be approximate dimensions to the first .
I have an assignment which requires me to draw a binary tree connecting all nodes in a graph .
The same thing happens with figtext , if I ' manually ' import matplotlib.pyplot as plt and call plt.text , and if I explicitly make figure and subplot objects and / or call scatter ( x , y ) first .
Possibly related is the fact that changes to figures don't update automatically , but only after I plot in another subplot or manually resize the figure .
Now ` errorbar_colors ` will be a ` (8 , 4 )` array of RGBA values from the ` winter ` colormap : #CODE
To plot this , you can just iterate over the colors and the datapoints and draw errorbars : #CODE
However , none of the built-in matplotlib colormaps are all that well-suited to this task .
I have a polynomial equation expressed as a poly1d object and want to take it and use it to label the scatter plot I'm making .
Note the different x axes .
My Program plots three subplot using the same colorbar .
I'm getting the histogram , but I've noticed that if I " print " hist ( data ) #CODE
Two different color colormaps in the same imshow matplotlib
If you really want to use two different colormaps , this is a solution with masked arrays : #CODE
Yes , I do need two different colormaps .
I wonder if by following this approach it is possible to plot only one palette for the both colormaps .
The only problem is , that both ` contour ` and ` contourf ` routines needs gridded data .
format xaxis values with time and show them only under the scatter plot value using matplotlib in Python
I am plotting a scatter plot and need help with formatting the xaxis values .
Also I want the date to show directly below the scatter plot ( dot ) with same color as the dot .
I tried using it to plot the contour , however , I get two plots on the same grid . exactly half instead of a full plot .
If so , skip the interpolation and contour it directly .
In the ` main ` , instead of using ` plt ` , use Figure object ` f ` : #CODE
Specifically add to the histogram , because I can only get it to draw a histogram on top of the current one .
Plotting points on a contourf plot
ArtistAnimation vs FuncAnimation matplotlib animation matplotlib.animation
Makes an animation by repeatedly calling a function func , passing in ( optional ) arguments in fargs .
So it appears to me that ArtistAnimation is useful when you have already the whole array , list or set of whatever object you want to make an animation from .
The Figure class within matplotlib has the following in the init function : #CODE
However with all the other things your plotting , if you remove the weekends from just the candlesticks it will error as it no longer shares the same axes as the other objects .
sunflower scatter plot using matplotlib
I am interested in constructing a sunflower scatter plot ( as depicted in , for example , #URL [ PDF link ]) .
Specifically , the sunflower plot isn't really a scatter plot since the data is positioned along a hex grid .
Being able to use a tuple to specify the marker characteristics in matplotlib makes it really easy to draw all the different petal numbers .
Making it so the user is unable to draw the rectangle .
In Matplotlib , I would like to draw a thick plus sign ( or a cross ) , but the one provided in the marker set is too thin .
I've based this mostly on this thread - Interactive plot based on Tkinter and matplotlib and this thread - How do I refresh a matplotlib plot in a Tkinter window ?
matplotlib not printing dates on x axes
I'm trying out some animating with python and found something weird while working through the " Animation " part of this tutorial .
Adding Axes in Cartview using Healpy
I have add 1 line of matplotlib.use ( ' GTKAgg ') to tell matplotlib to use gtk2 to draw a canvas .
This example makes it possible to click a legend and thereby change a plot .
I want to do something similar , but then not by clicking the legend , just by clicking the line in the plot .
You can even do ` ax = event.artist.axes ; ax.lines.index ( event.artist )` if you need to work with multiple axes or don't want to deal with passing the axes object around .
You will more than likely need one of them to allow python to draw on the mac .
The 3d scatter plot requires x , y , z arguments : if you are trying to plot z data [: , 2 ] ( 3 points ) function of x data [: , 0 ] and y data [: , 1 ] , you will see 3 points when the xlim3d , ylim3d , zlim3d are set correctly .
nowhere in this answer do you use logarithmic axes . this is not a true answer to the question .
You are trying to make a plot first and then put that plot as a subplot in another plot ( defined by ` subplot2grid `) .
Also see this post : How do I include a matplotlib Figure object as subplot ?
You would have to make the subplot first and pass the axis of the subplot to your ` drawfig_1() ` function to plot it .
Do you know how to plot legend in this graph ?
format x-axis values and show them only under the scatter plot value - matplotlib in Python
Also I want the date to show directly below the scatter plot ( dot ) with same color as the dot .
However , the scales of the x and y axes were not equal ( nor did I want them to be ) , so the polygon ended up looking all warped and stretched when rotated .
But then I needed to figure out how to basically connect the two axes so that I could plot the polygon on the new axis at a point referenced from the original axis .
use a matplotlib Figure in PyQt
Is there an easy way to attach a manager to a Figure ?
The ` Figure ` object is just a collection of ` Axes ` objects ( and a few ` Text ` objects ) , the ` canvas ` object is what knows how to turn ` Artist ` objects ( ie matplotlib's internal representation of lines , text , points , etc ) in to pretty colors .
How do I ' join the dots ' ?
Now run this script and click on Edit Curves and axes parameters button of toolbar and click OK without any changes .
Ok , here's one way to attack it , using features from the ` matplotlib ` ` hist ` function itself : #CODE
just use both , the third ` axes ` will be what you want .
Something like a legend for summary stats would be nice .
What's happening is that there's actually a third axes created .
There's also another way ( add a second axes in the same position ) that avoids creating the third axes , but it's slightly more verbose .
Basically , what's happening is that there's a third axes object created that you're not currently retaining a reference to .
` ax2 `' s visible y-axis actually belongs to this third axes object .
Retain a reference to the " hidden " axes object and set its y-label .
Don't use ` twinx ` and ` twiny ` and instead create an axes in the same position as the first .
The second option is a touch more verbose , but has the advantage that the y-axis limits on the second plot will autoscale as you'd expect .
Plot with multiple axes ( via add_axes ) within pyplot's subplot
What I would like to do , ideally , is to modify my first code to insert within each subplot ( axis [ x , y ]) a plot created via the second piece of code ( with all three axis ) .
This is sort of using a template for each subplot .
Is there a way to plot within each subplot a plot with the three axis as created by the second piece of code ?
Could I " call " the second piece of code and have it return a figure that I can insert in the subplot ?
Or could I call the code passing the data , figure and subplot-axis and make it plot within the subplot the three axis ?
Finding intersection between straight line and contour
I used .get_paths in the second plot to isolate said contour line form the others ( second plot ) .
I have looked at a contour intersection problem , How to find all the intersection points between two contour-set in an efficient way , and have tried to use it as a base but have not been able to reproduce anything useful .
See your contour lines as polylines and plug the vertex coordinates into the implicit line equation ( F ( P ) = a.X + b.Y + c = 0 ) .
If you need to detect the contour lines simultaneously , it is not much more complicated : consider the section of the terrain by a vertical plane through the line .
from detected contours , assuming I have data points associated with the contour in question .
I'm attempting to draw a mask onto an image using matplotlib and opencv2 , but overlaying the images in a matplotlib plot and then tracking mouse events .
I currently can draw onto the image , but it does not update in the view .
How can I update the image on the pyplot as I draw on top of it ?
You call draw not show for updates .
Disappearing Axes , LogLog Plot Python
They plot how they should with a loglog plot but the axes / axes labels are disappearing only when I try to log plot them .
Any help would be great , I don't have much experience with plotting , but making axes appear should be pretty simple I would think .
My plot without the axes
I just did a clean reinstall of matplotlib and still having the same problems ( it plots but no axes ) #CODE
I've got a correct result with your code , axes are shown .
And now the axes are plotting correctly .
Re-combine different axes to make new figure in matplotlib
I am curious about whether there is a way that I can just move axes around and re-combine them to make new figures .
I edited and added another question regarding the transform .
` p ` stores each of those individual bins objects ( actually , they are ` patches ` .
Tick label displayed when clicking on graph ?
where ` label ` maps ordinates to tick labels ( ` pyplot.gca() ` can be replaced by the axes of interest , if needed ) .
In fact , the ` fmt_ydata() ` function of the axes is called by Matplotlib when clicking in them .
how can I put an arrow near my x / ylabel ?
I already read Text rendering With LaTeX and Writing mathematical expressions from the docs of matplotlib , but it didnt help me .
I am trying to set up an animation to display some data taken over a GPIB interface in real time .
For the collection that ` scatter ` returns , you'd use ` set_offsets ` to control the x y locations .
( Which method you use depends on the type of artist in question . )
To explain the first point , here's a simple , brute-force animation : #CODE
That leaves me with the problem of changing the axes .
As the axes doesn't auto update when the graph is re-drawn in the animation .
Even with blit=False in the animation function it still doesn't redraw .
Align ylabel with yticks
However , I'd like the ylabel to be horizontal and left-aligned with the yticks .
Currently , the ylabel is placed left relative to the yticks which looks ugly ( the image below shows the upper left corner of the plot ) .
How is order of items in matplotlib legend determined ?
I am having to reorder items in a legend , when I don't think I should have to .
If you want to explicitly control the order of the elements in your legend then assemble a list of handlers and labels like you did in the your edit .
Here's a quick snippet to sort the entries in a legend .
Appreciate the suggestion , didn't make a difference however , I just the figure window popping up and axes but no values plotted .
Underlining text in matplotlib legend
I need to have a bit of text underlined in my legend .
I need to underline " Content determined from gamma spectroscopy " in the legend ( line 53 of the code ) .
but that exact text just shows up in the legend .
If you don't want to dive into that , you can probably just set the text style for the legend using the matplotlib parameter , but it will apply it to everything in the legend .
I try to change pie chart position inside subplot in Matplotlib using ` set_position ` .
how to refresh pyplots in wx.auinotebook
As for your ` contourf ` error , I would check the shape of the 3 main arguments : ` x ` , ` y ` , ` t2mtr ` .
Also it returns an array but I am not exactly sure what the values in the array signify , and how that relate to what I am going to plot ( because the scatter method in the plotting module takes in at least 2 corresponding values in order to be plotted ) ?
I don't have time for a full answer right know , but it sounds like you want the 0 contour of ` decision_boundary ` .
It's easiest to just evaluate the function on a regular grid and contour the result .
Your question is more complicated than a simple plot : you need to draw the contour which will maximize the inter-class distance .
The easiest method is to download the ` scikit-learn ` module , which provides a lot of cool methods to draw boundaries : #URL
Unfortunately , for non-linear boundaries like the one you draw , it's a difficult problem relying on a kernel trick but there isn't a clear cut solution .
Based on the way you've written ` decision_boundary ` you'll want to use the ` contour ` function , as Joe noted above .
If you just want the boundary line , you can draw a single contour at the 0 level : #CODE
Series ( and DataFrames ) have a hist method for drawing histograms : #CODE
On a side note , for the exact plot you're making it might make more sense to use 4 ` Wedge ` s on a rectangular plot with centered spines .
To use the example of Berkeley admission in the paper one first need to standardized the values ( to equate margins ) using iterative proportional fitting #CODE
Matplotlib automatically creates figure and axes for you , and you use keep using the same figure .
You ask matplotlib to create figure and axes object , and then you do all the rest by calling methods of those objects : #CODE
I stopped too soon ; ' clear() ' is a synonym for ' clf() ' for the Figure object but not for the matplotlib.pyplot object .
Matplotlib Bar Chart Choose Color if Value is Postive vs Value is Negative
When I draw this graph , I get this image :
How can i draw this edge , too ?
strange box in legend of output of bargraph with Python and Matplotlib
I am almost there , I have a tiny little white box ( almost like a check box ) in my legend
I tried Moving matplotlib legend outside of the axis makes it cutoff by the figure box , but it did not work for me .
I am currently creating an animation of an oscillating graph in matplotlib ( mpl ) in a TKinter framework .
Say for instance that the animation oscillates from +10 to -4 , how could I set the axes range to +10 and -10 ?
so that the absolute value for both the negative and positive parts of the axes are the same .
I want the scale to be the same in all plots and the size of the subplot bounding box to adjust instead .
It sounds like maybe you want to draw a [ qqplot ] ( #URL ) ?
My main goal is to overlay on this scatter plot a line graph in red showing how the average movie rating ( the average of rtAllCriticsRating across all movies in a year ) has changed over time ....
When you put it into a scatter plot , that doesn't really matter .
Matplotlib legend for an arrow
I would like to know how it is possible to label an ` arrow ` and show it in the legend of a plot .
I do not see anything in the legend .
I would like to see in the legend box an arrow next to its label .
You can add arbitrary artists to the legend command , as explained here #CODE
The arrow artist does not allow a marker parameter , so you'll need to do some additional manual tinkering to replace the marker in the legend .
For a plot , created using matplotlib.pyplot I want to incorporate the SI-unit micro meter into my xlabel .
After some fiddling around I achieved the desired xlabel .
Besides trying to revert the fonts back to their original values I also tried different methods of incorporating micro meter into my xlabel .
I am also struggling with such a problem , i.e. getting the tick labels and axes labels to be consistent when text.usetex = True .
possible duplicate of [ Figure GUI freezing ] ( #URL )
I am looking for something that will easily and intuitively ( don't have time to study a whole new library for 5 hours now ) draw a function like this sketch :
How to pick a point in a subplot and highlight it in adjacent subplots in matplotlib ( extension to region of points )
I want to create a scatter plot matrix which will be composed by some subplots .
Consequently , in each row of the array the parameters p1 , p2 , p3 have the same coordinates ( x , y , z ) .In the scatter plot , I want to visualize the p1 parameter against the p2 , p3 parameters in a first stage .
For every point I pick , I would like its ( x , y , z ) parameters from the first three columns of my array to be annotated and the point with the same coordinates in the adjacent subplot to be highlighted or its color to be modified .
In my code , two subplots are created and in the terminal are printed the ( p1 , p2 or p3 ) values that are acquired by picking a point , the respective values of the same point in the adjacent subplot and the ( x , y , z ) parameters of this point .
Moreover , when I pick a point in the first subplot , the color of the corresponding point in the second subplot changes but not vice versa .
What kind of modifications should I make in order this interactivity to be feasible in a reduced scatter plot matrix like in this question " Is there a function to make scatterplot matrices in matplotlib ?
In conclusion , information are printed in the terminal , independently of the subplot , when I pick a point .
But , the color is modified only in the points of the right subplot , when I pick a point in the left subplot and not vice versa .
I want to create a reduced scatter plot matrix with the highlighting functionality .
One more thing that I would like to ask is whether I should use the ` scatter ` command instead of ` plot ` for the reduced scatter plot matrix that I want to create ?
You can use ` scatter ` , but the code I have below assumes you're using ` plot ` .
If you want to use ` scatter ` instead , it actually requires changing a suprising amount of details .
@USER -I just realized how surprising is the amount of details that I need to modify in order to implement the same functionality with the ` scatter ` command .
I am interested in extending this functionality to drawing a region in a subplot and highlighting the points included in every subplot .
The current ` HighlightingDataCursor ` in ` mpldatacursor ` is set up around the idea of highlighting an entire ` Line2D ` artist , not just a particular index of it .
( It's deliberately a bit limited , as there's no good way to draw an arbitrary highlight for any artist in matplotlib , so I kept the highlighting parts small . )
However , you could subclass things similar to this ( assumes you're using ` plot ` and want the first thing you plot in each axes to be used ) .
Again , this assumes you're using ` plot ` and not , say , ` scatter ` .
It is possible to do this with ` scatter ` , but you need to change an annoyingly large amount of details .
( There's no general way to highlight an arbitrary matplotlib artist , so you have to have a lot of very verbose code to deal with each type of artist individually . )
I want in each subplot to plot different kind of data from the data that I extract from the file .
Could you explain a bit the ` for ` loop in the ` main ` function , because I am trying to gain control of each subplot .
For example in ` subplot ( 1 , 2 , 1 )` I want to plot parameter ` p1 vs p2 ` and in ` subplot ( 1 , 2 , 2 )` ` p1 vs p2 ` .
I used the ` axes.flat [ ] .plot ` for each subplot .
If the above code is implemented with scatter command instead of ` plot ` , what kind of changes should be done ?
I tried to implement it with ` scatter ` and the errors I get , have to do with ` IndexedHighlight ( axes.flat )` and ` artists = [ ax.lines [ 0 ] for ax in axes ] -> IndexError : list index out of range ` .
Probably it has to do with the way ` plot ` and ` scatter ` visualize the data .
The kwargs properties fro ` scatter ` are ` Collection ` properties and the kwargs properties for ` plot ` are Line2D .
Here you can find a version of the code with the scatter command I am trying to implement : #URL .
I combined the functionality you posted in this answer for picking a point and highlight it in an adjacent subplot and the matplotlib's ` lasso ` example .
The ` lasso ` can be drawn in each and every subplot , but the included points are highlighted only when a lasso is drawn in the bottom-right axes .
What probably could be a problem in the fact that the included points in Lasso are highlighted , when a Lasso is drawn in the bottom-right axes ?
Adjust separation between axes and data on graph , Matplotlib , Python
The automatic axis scaling in matplotlib makes these axes sit at all the extremes of the data that I'm plotting .
So , for example , if I were to plot a circle the axes would form a square box touching the circle in the middle of each side .
Is there a way of setting the axes to leave a certain gap between the axes and the data ?
I'd like to do it without manually setting the axes ranges since I'm writing one program to plot a lot of graphs and I don't want to have to set the ranges for each graph .
Overlapping polar countourf and scatter plot
However , when I moved to the next step and tried to add a scatter point to the same plot , I ran in some problems .
If I add also a scatter plot : #CODE
Why do I get the thick white border between the filled contours and the axes ?
I just realized that adding a scatter plot somehow changes the axes limits .
Forcing the axes to the desired interval fixes the problem .
+1 What happens is that ` ax.scatter ` uses " loose " autoscaling ( i.e. it chooses even-ish numbers as axes limits ) while ` ax.contourf ` uses " tight " autoscaling ( i.e. it strictly uses the data limits ) .
Instead of manually setting the limits , you could just call ` ax.autoscale ( False )` after calling ` contourf ` and before calling ` scatter ` .
Python Pylab scatter plot error bars ( the error on each point is unique )
I am attempting a scatter plot of 2 arrays for which I have a third array containing the absolute error ( error in y direction ) on each point .
and I want to resize the entire window so I can see the xlabel ( right now it's hidden under the white line at the bottom )
Start by creating your figure and axes object explicitly , pass some additional options to ` df.plot ( ... )` and call ` fig.tight_layout() ` before showing the figure .
Using subplot for some reason draws background of first plot in last subplot with first ` mymap ` color ( blue in my case ) .
Background of the first picture on the second subplot is blue .
Third subplot added with no data , now it is blue colored and first square of second subplot is not .
You are plotting the contour of a 2x2 all 0 array , which it ( correctly ) draws as a blue box at [ 0 , 0 , 1 , 1 ] , which is the blue edge you see .
It works ' correctly ' in the case of 3 axes as ` pyplot ` thinks the last axes is the current axes .
Due to performance issues for dynamical updates , I need to draw directly a lot of rectangle on the canvas as very low level , that is to say without using ` matplotlib.patches ` and as we have to do with classical GUI .
More precisely , I would like to only draw one rectangle and not only all the figure .
No , it works for patches as well .
You're not adding the rectangle artist to the axes .
At this point , though , it would make a lot more sense not to add a new artist each time .
Figure generated by the following code using matplotlib will be identical to figure generated by pandas plotting or statsmodels graphics #CODE
In the tutorial , the function contour passes the arguments to axes.contour .
contour ( X , Y , Z , N )
contour N automatically-chosen levels .
contour ( X , Y , Z , V )
draw contour lines at the values specified in sequence V
Now I'd like to avoid to reserach and adjust all plot properties like text sizes ( axes , ticks , legend ) , line widths , tick sizes and so on individually .
my image shows up correctly in the axes .
Is this because the map image is really just a factory that generates the map image only at the draw command and thus clobbers my image ?
I think you need to set the zorder parameter in your call to imshow , try using a large number to get the image to draw on top of the background : #CODE
two output graphs in matplotlib scatterplot animation
One contains the desired animation , while the other is blank .
Changing this so that __init__ creates the figure , axes ect instead of them being created in intialize_graph removes the two output graphs problem .
Changing this so that init creates the figure , axes ect instead of them being created in intialize_graph removes the two output graphs problem ; solving my problem !
I want to draw a line through two pixels on the image and save it with the new line added ( not plot ) .
After this I want to draw a line perpendicular to the previous line with different colour .
is it possible to " draw " the text in the eps file ?
Thanks to HYRY for the suggestion of using scatter .
You should have a look at [ this libfreenect example ] ( #URL ) , which uses OpenGL to draw it , which will be much faster .
the ` c ` argument of ` scatter ` can receive a array of shape ( N , 3 ) with values between 0 to 1 which represent color in RGB : #CODE
The downside of this is that the final image looks that much worse , with adjacent plots ' axes overlapping .
If I understand you correctly , you want the colorbar to be in a fixed position relative to the axes where it is embedded .
` fig.tight_layout() ` moves the ' regular ' axes around .
By ' regular ' I mean that the colorbar is an axes you created manually and it will not be affected by this function .
AFAIK , there is not any way to anchor one axes to another so that if you move the first , the second is also moved to keep its relative position .
Then , however , you'll still have problems since you're setting the position of the colorbar in absolute value , while you want a fixed position relative to the axes .
Then , at the end of you're script you can create de colorbar specifying its position and size within the axes #CODE
Is it possible to logarithmically scale each of the scatter plots produced by ` pandas.scatter_matrix ` ?
Adding a colorbar to a polar contourf multiplot
As a follow-up to my previous question , I was wondering what is the proper way of creating multiple polar ` contourf ` subplots and add a single color bar to them .
Instead of using colormap , which adds a new axes to plot the colormap scale , you would be better defining a plotting area to show the color map .
You probably will want to clean up the axes labels , add a legend , plot the intensity at multiple temperatures on the same plot , among other things .
So the problem is if I don't define MathText later , the ' sci ' has a format like 1e3 instead of x10^3 like you usually get it from matlab and I prefer to publish the figure that way instead of showing 1e3 .
Yeah I think ' sci ' has a style like 1e3 instead of x10^3 .
matplotlib has a module called Path , which has an intersects_path() function ( #URL ) which returns true or false for the existence of an intersection , but not the specific location , which I require .
It's easiest to just hide the x-axis ( ` ax.spines [ ' bottom '] .set_visible ( False )`) and then draw your line .
If I explicitly set ` linewidth=10 ` for either or both axes , Chrome respects the setting and shows very wide gridlines , while Safari continues to show no gridlines at all .
I have a 3D ndarry object , which contains spectral data ( i.e. spatial xy dimensions , and an energy dimension ) .
( Basically , using a ` LineCollection ` tells matplotlib to not bother checking what the properties of each line are , and just pass them all to the low-level renderer to be drawn in the same way . You bypass a bunch of individual ` draw ` calls in favor of a single ` draw ` of a large object . )
You could try other colormaps or make you own according to this recipe .
I want to draw a graph with networkx and matplotlib .
I clearly wasn't very thorough with my first reading of your post ... but it is a bit surprising that there's no simple way to draw a " regular " arrow of the kind you find in most basic 2d settings ... matplotlib / MSword etc .
Matplotlib animation error assert self._cachedRenderer is not None
My guess is you just need to re-initialize the animation .
The error is because the plot hasn't been drawn yet ( and therefore the renderer doesn't exist ) , and the animation is trying to blit ontop of something that doesn't exist .
The code I use to draw the graph for each different graph is identical apart from the data being drawn , is that the issue ?
Matplotlib boxplot + imageshow ( subplots )
I have adjusted the code to give the plots on two rows and used gridspec ` height_ratios ` to shrink the boxplot .
move the call to plt.title to below the subplot calls .
What I would like to do is to hide or erase the line in the 9 th interval , so it would not look draw the line gong back to the zero line .
For example , when the blue line gets very high or low just before the gray vertical marker , it should stop , not draw back down to 0 .
You can capture the axes which the Pandas ` plot() ` command returns and use it again to plot ` C ` specifically on the right axis .
To get all lines in a single legend see :
Legend only shows one label when plotting with pandas
Wrong type of markers in legend
As you can see the markers in the legend are wrong , I tried setting the legend with the legend handler : #CODE
This plots the graph , with no legend , telling me to use the proxy artist instead as my label objects are not supported .
Note that is also why the legend in code sample only produces blue makers : your first four plotting calls are probaly in the first for-loop .
Your second approach doesnt work , because the plot command returns a list of artists and legend requires only the artist
I can obtain the two axes ( the left one being ` ax1 ` and the right one ` ax2 `) by just doing : #CODE
I am plotting a scatter plot with the following part : #CODE
How to draw histogram with same bins width for unequally spaced bins in matplotlib
I am trying to draw a histogram with multiple data series in matplotlib .
I have a function ( basic_axis ( ax )) that will set spines linewidth ( ax.spines.set_linewidth() ) , tick length ( ax.tick_paras ( ... ) , ... but I don't find how to also set all plots linewidth with one value .
Copying axis limits from one subplot ( ' equal ' aspect ) to another
In addition , I need the subplot that is determining the x-axis limits to have ' equal ' aspect ratio .
This is not working : the limits of the x-axis returned by ` axis() ` are near the data limits and are not the real limits shown in the graphed subplot .
I strongly suspect that you just need to call ` draw ` after calling ` set_aspect ` .
How to reduce margins in a matplotlib figure placed on a wxpython panel ?
I have successfully placed a matplotlib line chart on a wxpython panel , but the margins look too big to me .
I want to reduce the margins , so that the chart will expand to the panel ( or almost expand ) .
I tried self.fig.tight_layout() but it didn't reduce the margins #CODE
You can manually create the subplots with matplotlib , and then plot the dataframes on a specific subplot using the ` ax ` keyword .
Here ` axes ` is an array which holds the different subplot axes , and you can access one just by indexing ` axes ` .
So if you return subplots where , say , ` nrows=2 , ncols=1 ` , you'll need to index the axes as ` axes [ 0 ]` and ` axes [ 1 ]` .
You could also use ` fig.add_subplot() ` which takes subplot grid parameters such as 221 , 222 , 223 , 224 , etc . as described in the post here .
You can use the familiar Matplotlib style calling a ` figure ` and ` subplot ` , but you simply need to specify the current axis using ` plt.gca() ` .
Alternatively you can ( and generally should ) use ` os.path.join ` to join together directories and files .
You mentioned the use of ` Locator ` and ` Formatter ` objects in your comment .
` ax.set_xticks() ` is a method of the ` Axes ` object , whilst ` matplotlib.ticker.FixedLocator ` is an object which is used with the ` Axis ` object ( ` Axes ` is basically the whole graph , whilst ` Axis ` is just one of the ( two ) axis ( x or y ) .
I can draw a histogram when I use : #CODE
consider using the series method hist rather than ... whichever one ( ? ) you are using .
It was more of a guess rather than an answer . marillion : IMO it's weird / unpythonic that hist cares about this and doesn't just iterate over it .
I assume the reason this does not work is because the matplotlib ` hist ` method tries to access the first ` 0 ` -index element of the input .
And indeed , as @USER says , you can also use the pandas ` hist ` method : #CODE
I think I will be using the pandas ` hist ` method .
How can I also have a ` ylabel ` for all my subplots that is centered vertically ?
I updated the OP with this additional question : How can I render a centered ` ylabel ` that applies to all plots ?
Should work just to put it on the middle one : ` plt.setp ( axes [ 1 ] , ylabel= ' hello this is a very long ylabel that spans several axes ')`
also , there is a bug in the code you posted , you create an axes for beam intensity , but are plotting onto the axes for phase .
The default behaver is to ' steal ' space in the figure from ( iirc ) the axes in which the colormappable is living .
Once you have handles on the ` Axes ` objects there is no difference between embedding or not embedding so I will demonstrate with non-embedded ( which is really just pre-embedded , but I digress ) .
Now , as I change from 2D to 3D , I need a different amount of axes , so I clear my entire figure and plot everything again , but then my ` RadioButton ` doesn't work anymore ( though I plot it again after ` clf() `) : #CODE
This example shows how the axes change perfectly the first time you click the button , but from then on the button doesn't respond anymore .
Using this data I plot surface ` F ( x , y )` by ` plot_surface ` function and find line curves ` F ( x , y ) = const ` of the resulting surface by ` contour ` function .
As a side note , each axes actually has three titles ( left , right , center ) , but I don't remember if that was in 1.3 or still just on master .
GridSpec with shared axes in Python
However , when I share axes between subplots , I usually use a syntax like the following #CODE
If you want to replicate the hiding of shared axes like ` subplots ` does , you'll need to do that manually , by using the ` sharey ` argument to ` Figure.add_subplot ` and hiding the duplicated ticks with ` plt.setp ( ax.get_yticklabels() , visible=False )` .
Are there any colormaps or is there a simple way to transform a matplotlib colormap to provide a much bigger color range near 0.5 and a smaller one at the extremes ?
I have found one solution here #URL but cant get it to work for my scatter plots .
I can just use the resulting Figure objects .
I was hoping for a more feature rich way , like the subplot grids available in matplotlib .
That is a related question : matplotlib : can I create AxesSubplot objects , then add them to a Figure instance ?
Axes deliberately aren't supposed to be shared between different
I have a ` matplotlib ` scatter plot like following .
Then include that data into ` scatter `' s third argument , the size of the points .
I would also annotate each points according the the number of datasets in that point .
@USER has a great explanation of how linear colormaps work in matplotlib in general .
When you need colormaps with uneven transitions or " hard " cutoffs , you need to specify the full ` dict ` of threshold values .
However , there's a convenience " factory function " for simple colormaps with even transitions between colors : ` LinearSegmentedColormap.from_list ` ( Actually , you can even make uneven transitions with it , just as long as they're not " hard " transitions . )
did you remember to call draw ?
Matplotlib animation with contour
i have list of 2d array ( matrix ) which i want to plot using contour plot and produce animation by updating contour plot continuously with consecutive matrix .
I had written the code for this but the code displays only first matrix as contour and does not produce animation
import matplotlib.animation as animation #CODE
Python legend marker location changes when using alternative font
The following produces a legend as expected , with the markers ( lines ) centered vertically with the labels .
While the following produces a legend where the markers are shifted downward ( aligned with the bottom of the T ) .
It might not be the slickest or most pythonic of solutions , I'll admit , but one relatively simple idea would be to make the legend slightly transparent and then put the legend labels in by hand .
This means that you have to go into more detail when setting up the legend ( i.e. specifying the lines , colors , location , etc . ) but it allows for more flexibility .
I'd like to rotate the top left quadrant subplot through 90deg counterclockwise , so that the x-axis of that plot lies along the y-axis of the 2-d plot .
For the subplot , I realize I could flip the x and y data , rotate the axis labels , create a plot title on the left hand side , etc .
ix = input.shape [ axes [ 1 ]]
I then want to use matplotlib to draw some annotations on top of the paused image ( The user can then hit space to unpause and repeat the process ) .
In a scatter plot matrix , I would like to draw a region in every subplot and print the points that are included in the region .
when the line ` selector = SelectFromCollection ( axes , ax.flat )` is in the for loop , and I am getting the error : ` self.canvas = ax.figure.canvas ` , ` AttributeError : ' numpy.ndarray ' object has no attribute ' figure '` when the line ` selector = SelectFromCollection ( ax , ax.flat )` is outside of the loop .
Then , you are also creating only one instance of ` SelectFromCollection ` ( so only one subplot would react ) .
Instead you are passing it a numpy array ( in fact a numpy.Flatiter ) that contains two Axes instances .
If you look at the example , there it gets a ` Collection ` instance returned by the ` scatter ` command ( they use ` scatter ` instead of ` plot `) .
I want to visualize a reduced scatter plot matrix with four columns and rows .
In each subplot , I would like to plot the parameters p1 , p2 , p3 , p4 vs p1 , p2 , p3 , p4 ( e.g. p1 vs p2 or p2 vs p4 and so on ) .
So , another pts variable will be needed , as the x , y will be different in every subplot .
It is printed ` < __main__.SelectFromCollection object at 0x059AF4B0 > , < __main__.SelectFromCollection object at 0x059AFDB0 > ` .I would like also to keep the plot instead of the scatter command .
Finally , every time I draw a ` lasso ` in a subplot , I would like the effect of the previously drawn ` lasso ` ( in another subplot ) not to be still visible .
Consequently , when I draw a new ` lasso ` the only points that will be faded out will be those of the subplot that the ` lasso ` were drawn .
Regarding the ` plot ` vs ` scatter ` , the former returns a Line2D object and the latter a ` PathCollection ` which is what ` SelectFromCollection ` is expecting .
I'm not saying there is no way , but I don't know it and in any case I think it may deserve a question by itself ( specifying why you would need ` plot ` and not ` scatter ` , since maybe there is another way around it )
I can also print the points by printing ` print ( select1.xys [ select1.ind ])` in function ` onselect ` .Finally , let's assume that a ` lasso ` is drawn in axes [ 0 ] [ 0 ] .
If a new ` lasso ` is drawn in axes [ 1 ] [ 0 ] the points out of it are also faded out , but the points in axes [ 0 ] [ 0 ] , which are out of the previously drawn ` lasso ` are still faded out .
Python ggplot issues plotting > 8 stocks and legend is cutoff
If I plot 8 stocks or less the image looks good except that the legend runs off the figure area ( Problem 1 ) .
Additionally the legend does not resize and instead leaves off the additional stock tickers ( Problem 2 ) .
For the Problem 1 , it seems that we need to place the legend after create the figure : #CODE
Updating the fontsize only of title , xlabel or ylabel
I know that we have the following methods to add / change xlabel , ylabel and the title : #CODE
If you're acting on the ` Axes ` object directly , you can do ` ax.set_xlabel ( " The text you want " , fontsize=20 )`
` plt.xlabel ` , IIRC , is going to set the ` xlabel ` of the current axes object .
it would be better to grab the reference to the axes instead of using pyplot
The colormaps of Matplotlib have a ` set_bad ` and ` set_under ` property which can be used for this .
Although I would probably just scatter your model ( y_predicted ) against y to visually validate my model .
matplotlib boxplot with extra whiskers at 5% from median
The second command will only draw whiskers at the 45th and 55th percentiles .
Drawing a region of interest in a scatter plot and printing the points contained in matplotlib
In a scatterplot matrix , I want to draw a region of interest ( ROI ) and print the points that are contained in that region .
For the time being , I can draw regions in the subplots but I do not know how to get and print the points that are contained in the region .
While plotting a list in pylab or mplot3d ( 2d or 3d scatter plot ) , is it possible to use the index in the list as marker ?
I've included a 3d scatter plot here just for reference .
I think this is because the ` mathtext.default ` setting is used when the Axes object is drawn , not when it's created .
To walk around the problem we need the change the setting just before the Axes object is drawn , here is a demo : #CODE
In your ` MWE ` case it would be enough to change the second scatter line to #CODE
to get a larger subscript font in the legend only in that case .
Python code to draw horizontal output is as follows : #CODE
Change all the ` [ idx ]` to ` [ idx*5 ]` , ` , idx )` to ` , 5*idx )` , ` ylim ` to ` plt.ylim (( 0 , 5*num_keys+5 ))` will do it .
I've been learning matplotlib's animation package , and all of the examples seem to save the file as ` .mp4 ` .
Are there other file formats that matplotlib can use to save the animation ?
Matplotlib uses an external process ( that you need to have installed ) to join the frames .
matplotlib navigation toolbar pan & zoom
In my matplotlib figure , I have multiple axes .
I can use navigation toolbar pan zoom on every axes .
But I want to know which axes is panned or zoomed .
Also if that axes is first zoomed and then reverted using Back button , so it is back to its initial state so in that case I do not want that axes info .
In short , I want the info of axes which is modified from initial state only ?
Instead , when you construct your figure grab the ` xlim ` and ` ylim ` of the axes .
Just return the axes object if you want to access it outside of the function or pass it in if you want to define it outside .
Have you tried using ` xlim ` or ` ax.set_xlim() ` ?
See e.g. Angle or Bar .
Matplotlib does not draw more than one scatter
The result is one figure with multiple scatter in it .
Now I am using a particular library which would generate a figure and I want to overlay with boxplot .
I can only plot beeswarm or boxplot but not both in a figure .
My main goal is trying to save column scatter plot and boxplot together as a figure in pdf .
With your code , boxplot still overwrites beeswarm .
So I can only see boxplot .
I cannot use zorder in boxplot like I can do in plot.Thanks ,
My animation is static , but if I use #CODE
Each frame of the animation is displaying the same world state .
Each frame of the animation is referencing the same array .
Matplotlib doesn't draw the animation to the screen until plt.show() is called , so only the final version of the arrays passed into imshow() can be seen , which is the final version of World.state .
It can draw lines and curves , and one datapoint every couple of seconds is very easy for it to handle .
how to fit 2D contour plot to 2D gaussian
I have a 2D contour plot and I want to fit it with 2D Gaussian .
This is the script I used to plot the 2D contour #CODE
I want to fit gaussian to the contour plot .
Please can you explain what you mean by " [ fitting ] a Gaussian to the contour plot " .
I would like to save an animation using the function save in Python .
#URL - appears to be the relevant documentation ; if " anim " really is an Animation .
In file2.py theres my other function , which plots a filled contour : #CODE
What does " create a plot / subplot " mean ?
If so , just pass the figure ( or better , axes ) object into the function .
Re-factor your function to take an ` Axes ` object to draw to as an argument : #CODE
Pyplot : Shared axes and no space between subplots
This is related to ( or rather a follow-up ) to new pythonic style for shared axes square subplots in matplotlib ?
How can I make the figure look like my first result , but with axes touching like in the second result ?
You can set width and height in the call to ` Figure ( figsize =( width , height ))` , or as a parameter to ` plt.subplots() ` , in inches .
As @USER Bannier points out , as a drawback you have zero margins .
Your ` subplots_adjust ` hides the axes which might not be what is needed .
However , your solution using an appropriate figure size and carefully adjusting the subplot margins symmetrically ** does ** work and is sufficient for my purposes !
Area under the curve of a contour plot created with matplotlib
I have used matplotlib to create a contour plot .
At this point , I would like to measure the area under the curve of each line created by the contour plot .
My issue is that I am unable to extract the numerical values of the contour plot and I am not sure what their spacing is .
Python - axes and plt.figure()
I must do 3 sample of sinus axes .
I only see " Figure 1 " and that's all .
I would like to draw a triangle , but one of the sides needs to be a circle segment .
Can this be done directly , without calculating the entire contour myself ?
Add colorbar to scatter plot or change the plot type
I finally had success getting a scatter plot to do basically what I want , but it's less pretty than I want .
If I could figure out a way to make the points in the scatter plot bigger , I would be a lot happier with my plot .
Furthermore , I am stuck on trying to add a legend - I only need the colorbar portion , since the end user doesn't really care about the X and Y dimensions .
I am struggling with creating a legend .
@USER Try using ` marker= ' s '` in your scatter to make squares .
However I am wondering if it is possible to modify the center point of the pan and zoom ?
I would like to zoom into the top-right , and then pan around with the top right as my center of rotation .
I'm hoping there is a way of specifying a transform that would allow me to use similar units when specifying the arrows and the label .
I've also tried specifying `' axes points '` for ` xycoords ` and ` textcoords ` , thinking that ` armA ` and ` armB ` are in points .
Mmm ... looks like everything apart from the connection lines is being defined in axes coordinates , and the connection lines are stuck in figure coordinates .
You need to specify the axes more explicitly .
Instead , just plot on two completely separate axes .
Since by default items outside the axes are clipped , you have to set ` clip_on ` to False when plotting .
Bar graph for male and female born on particular date / time
I need to draw a bar graph for the values : #CODE
What modifications do I need to make in order to draw the bar graph as shown in the image attached for my values ?
Why did i get twice legend from matplotlib ?
Since you're plotting two lines at a time , you have two legend entries .
How to resize box axes in matplotlib
I want to resize plot axes in a plot .
What I want to do is instead to give the same aspect ( square in my case ) to the subplot , regardless of unit on x and y axis .
In this case the plot must have ` xlim = [ 0 , 16 8] ; ylim = [ 0 , 1.01 ]` .
I think you do not want the same units . use ` plt.gca() .set_xlim ` to set the axes box that you want .
The ` aspect ` applies to the data , you are talking about 1:1 in figure / plot units , eg having a square axes .
You can grab the ` xlim ` and ` ylim ` and calculate the aspect yourself : #CODE
I'm trying to draw a simple pie chart in Python .
I just need a way in which I can identify the wedges of the pie chart - whether it's labels , a legend or anything else .
A thing I immediately liked about ` seaborn ` was that it set the Matplotlib default color palette for images ( ` imshow ` , ` pcolormesh ` , ` contourf ` , ... ) to a very good one I had not seen before ( black-blue-green-brown-pink-purple-white ): #CODE
Axis limits causing error when attempting to save figure
I've got a scatter graph created from data I'm using , with plt.plot() , and wondered if there is an easy way to colour the points depending on where they are on the x axis ?
With ` scatter ` you can pass an array of colors for each point .
For your case , you can probably do ` ax.set_xscale ( " log ")` before plotting with ` scatter ` .
However I am wondering if there is a way to just say : autoscale but starts from 0 .
From the docs : ` ylim ( ymin=1 ) # adjust the min leaving max unchanged `
Behavior inconsistency between Rectangle and FancyBboxPatch
I've noticed an inconsistency between how the Rectangle and FancyBBoxPatch objects are drawn .
Matplotlib Animation Polygons
The code pasted below only draws the first polygon but the animation doesn't work .
Change color of cbar legend text python
Is it possible to change the text color of the cbar legend values ?
Is there a way to get the result shown in the third axes with just a single ` ax.text() ` command ?
If it is to draw a box , I think annotate will do that for you .
Matplotlib Set Default Bar for Comparison
Say that for each column of ` my_values ` I have a string holding the legend that I want associated with the corresponding line .
I have the handles for the figure ( ` fig `) , axes ( ` ax `) and the lines ( ` lines `) , how can I add these legends to the plot ?
You can use ` contour ` for implicit function plotting .
you can use ` contourf ` : #CODE
I've done some research on colormaps and found that the default maps are not indexed , i.e. I can't call colormap [ 1 ] as if it were a list or array .
Are there any indexed colormaps out there , or is there any way around this ?
How can I calculate the area within a contour in Python using the Matplotlib ?
I am trying to figure out a way to get the area inside a specific contour line ?
can you give an example , I think you can calculate the area as a polygon area if you can get the points on contour line .
From the ` collections ` attribute of the contour collection , which is returned by the ` contour ` function , you can get the paths describing each contour .
The paths ' ` vertices ` attributes then contain the ordered vertices of the contour .
Using the vertices you can approximate the contour integral 0.5 * ( x* dy-y *dx ) , which by application of Green's theorem gives you the area of the enclosed region .
In matplotlib you can use text annotations to annotate your graph suitably .
I cannot seem to find an equivalent function for a barchart , that is retrieving all Rectangle instances in the ` AxesSubplot ` .
If you do want all Rectangle object in the axes , but these can be more then just bars , use : #CODE
Sizing the subplot differently
What is the easiest / more flexible way to make the second subplot ( and any subsequent one , if required ) of the same width of the first ( since they share the axis x ) but of half height ?
You need to loop through groups of Z values properly ( it's unclear how you're doing that in the code you showed ) and you need to make sure all the plots end up on the same axes .
ax1 = hist ([ x0 , x1 , x2 ] , 10 , histtype= ' bar ')
I have tried matplotlib animation but I haven't figured out how to use it its complicated to me .
Just use ` text ` or ` annotate ` , and specify the ` ( x , y )` position of each integer .
File " C :\ Python27\lib\ site-packages \matplotlib\ pyplot.py " , line 1557 , in xticks
@USER .carstensen - By default , matplotlib will choose " even " numbers for the axes limits .
( Note : this will change to ` margins ` style padding in 2.0 . ) ` ax.axis ( ' tight ')` specifies that the axes limits should exactly match the data limits .
Finally , maybe you don't actually want categorical axes ?
` draw ` calls ` draw_networkx ` see #URL you can set the ` edge_color ` param to whatever you like
` networkx.draw() ` calls ` networkx.draw_networkx_nodes() ` , which then calls ` pyplot.scatter() ` to draw the nodes .
If you're going to be using this a lot , it probably makes more sense ( IMO ) to just redefine ` draw_networkx_nodes ` to actually pass the kwargs to ` scatter ` .
Does anyone see a reason why the kwargs ** shouldn't ** be passed to scatter ?
I had been tackling this with a very manual approach using PIL , where I would do a lot of manual calculation , scaling , and even hand-drawing axes and such to " paste " the composite image together .
Placing Custom Images in a Plot Window -- as custom data markers or to annotate those markers
If that's all you need , you could use ` imshow ` within a subplot grid .
I have the following minimal example , which produces the correct 3-part plot , but it does not span the upper subplot twice as high as the lower one .
I can't find a satisfactory answer , so I handle this problem by writing a custom ` Figure ` class extending ` matplotlib.figure.Figure ` and providing a new ` show() ` method , which create a ` gtk.Window ` object each time called .
How to save an animation without showing the previous frames in the video ?
I would like to save an animation using Python but I get the frames superposed !
Even though you clear the patches list , they are still stored in the axis .
The first argument gives the grid dimensions , the second gives the top left grid position for the subplot , and the ` rowspan ` and ` colspan ` arguments say how many points in the grid each subplot should extend over .
In summer 2015 , I'm facing a similar task : embed interactive widgets that change their underlying data when the slider is moved .
ax.ticklabel_format ( axis= ' z ' , style= ' sci ' , scilimits =( -2 , 2 ))
For illustration purposes I'm including colormaps .
However , I'm not very fond of the available colormaps .
Actually , I think what you want is a custom ` Normalize ` , rather than a custom colormap .
I've been looking into ` Normalize ` and it is indeed what I need .
The physical length of an axis is directly dependent on the figure size and the margins between figures and borders you have set .
So for example ` plt.tight_layout() ` changes the length , or a legend " beside " the plot also changes the length ...
I'm not sure of a specific way to set an axis length of axes generated by e.g. ` plt.subplots ` .
You can use ` ax.set_aspect ( num )` , but this adjusts the aspect ratio , and therefore will change both axes in a dependent way .
This should allow you to achieve what you want , but will be tedious because you need to place each subplot manually .
Most of the artist are specified in units that are not on-screen units ( data , axes , or figure space : see transfrom tutorial ) .
If you want you axis to be a fixed length ( in display units ) between figures , then you need to control the size of you axes ( in figure units ) by hand ( via ` fig.add_axes ` ) and then use ` fig.set_size_inches ` to set the size of your over-all figure .
` ax.transAxes ` means the coordinate system of the Axes ; ( 0 , 0 ) is bottom left of the axes , and ( 1 , 1 ) is top right of the axes .
Note that the radius is also transformed into Axes coordinate .
If you specify a radius larger than sqrt ( 2 ) / 2 ( about 0.7 ) you will see nothing in the plot .
The lines of code written between the " NOT WORKING " tags are supposed to annotate the word ' BUY ' on the second price bar following the coordinates stored into the variables ` d ` ( x-axis ) and ` h ` ( y-axis ) .
I'm making a scatter plot that uses two different symbols based on a condition in the data .
I'd like to have one label in the legend for the circles , and one for the squares , but if I declare ` label = ' circle '` in the ` plt.scatter ( ... )` command I get as many rows in the legend as there rows in my data file .
I have been trying to transfer some scripts behind a GUI ( using Tkinter ) and so far have made it thus far that any data that is opened is shown in a Tkinter canvas ( using matplotlib to draw it ) .
Multiplot Animation
Is there a better way to label these files or even a better way to do the animation as a whole ?
( Also , if you have more than 100 steps , you'll wan to use `" { : 03} "` instead of `" { : 02} "` . ) Alternatively , you can use matplotlib's animation module and output a gif or video directly .
+1 what @USER said about using the animation module .
Using Matplotlib-Patch inside an animation
This helped to some extend but , as I have to enter data to be able to use this command , all of the shapes become visible at the final step of the animation for a very short time and , as I save my figure in that moment , it yields unfavorable results .
If you need a completely arbitrary shape , you might be better off plotting lines and using fill_between to draw it .
Try using ` scatter ` rather than ` plot ` : #CODE
You can see some other colormaps here : #URL
This operation should not change your scatter plot at all .
I've tried to plot both on the same axes : #CODE
So we want to swap axes , then reorder .
I'm plotting a 3D scatter plot in Matplotlib using #CODE
Some time ago I asked how to set line style through a function taking the plot axes instance as parameter
what about setting legend items font size ?
What do you want to draw ?
You could add an inner loop and repeat the ` fill_between ` block for different intervals ` tsplot ` is just drawing multiple patches on top of each other , not anything fancy with the alpha itself .
However , the animation no longer seems to work , and I haven't been able to figure out why .
The following changes to the code fixed the animation error :
@USER When I change ` iterate ` to make a copy of ` Z ` , the animation now proceeds with one more step .
I have fixed the animation bug though , with your help , so that's good !
Now that the animation bug is fixed , the question is straight code review .
If you are running from an ipython console you can also call ` subplots_adjust ` after the generation of the figure , and tune the margins by trial and error .
This is the only option whenever you have to stack vertically or horizontally two figures ( with a package like ` subfigure ` for example ) , as ` tight_layout ` will not guarantee the same margins in the two figures , and the axis will result misaligned in the paper .
Tick label rotations
If I don't specify the ` xticks ` , matplotlib automatically displays only a few dates , and keeps the plot clean .
Really I'd like to be able to plot from multiple processes into different axes in the same figure .
The main process would receive plotting commands and issue them to the relevant axes ( it ought to know the source process so it can choose the correct axes ) .
Possible solution C I looked briefly at the possibility of pickling an axes produced on a subprocess and sending it back to the main process for use in the main figure .
Plotting boxplot in matplotlib with without data array ?
I am trying to create a plot boxplot like plot which will convey most of above properties .
Using the method in this answer works , though it's a bit inconvenient - one day this will be automatic , but for now you have to organise the minor tick values by hand ( ` np.arange ( 2 , 10 ) / 10 . ` in this case , but you'd have to append ` np.arange ( 2 , 10 )` if your values went up to 10 ) #CODE
I believe the problem with your original approach was that you were setting the ` Formatter ` for each axis to the ` tick ` variable and then overwriting it on the next iteration , as such all your graphs were using the ` tick ` variable from the last iteration .
When you create ` Formatter ` objects you have to have one for each subplot , in my code below it's not a problem because I don't assign the ` FormatStrFormatter ` to a variable .
The ` for ` loop iterates over both ` ax ` and ` tick ` to assign each subplot .
Or can I maybe set it manually by modifying the ` Axes ` object returned by ` plot ` ?
The following code is to draw arcs .
From the documentation : " The arc must be used in an Axes instance it can not be added directly to a Figure because it is optimized to only render the segments that are inside the axes bounding box with high resolution .
You can check for the patches of the axis by calling #CODE
matplotlib set legend items properties such as location and handlelength through function
here is an example plot and a function used to set legend properties : #CODE
Using this method I can set for the legend font size for labels and title ( with .get_texts() , .get_title() ... ) , set on or off the frame , ..., but how to set the location through this function ?
edit : I also would like to set legend handlelength value through that function .
You can use the undocumented , private property ` _loc ` to change the legend using the friendly codes in ` legend.codes ` : #CODE
So I'm trying to draw two subplots in the same figure that share the x axis .
However , I cannot get it to draw the last minor xtick .
Or you can force the ` xlim ` to be slightly larger than the default and the last tick will come out .
How to draw a graph that can indicate the values when the mouse moves to some part of the graph in python and put it on the web page ?
I'm writing a web interface for a database of genes values of some experiments with CGI in Python and I want to draw a graph for the data queried .
I'm using matplotlib.pyplot , draw a graph , save it , and perform it on the web page .
So I wonder if there is a way to draw a graph that can interact with users , i.e. if I point my mouse to some part on the graph , there would be one small window appears and tells me the exact value and what is the experiment name here .
matplotlib set legend and plot lines properties through one function
I noticed that by calling plt.legend() before setting plot line properties , lines withing the legend box were not adjusted accordingly to the settings .
here is an example plot and a function used to set legend and plot line properties : #CODE
Consequently I tried to manually set the line properties within the legend as following ( add to plotprop_adj ( ... )): #CODE
as a result the lines withing the legend box have the right thickness , but the length is nearly half , and the marker size does not change .
I have a polar axes in matplotlib that has text which extends outside of the range of the axes .
Simply increasing the size of the axes is not an acceptable solution ( because the figure is embeddable in a GUI and it becomes too small if this is done ) .
A considerable amount of code that does various parts of plotting things is omitted , but here is the generation of the figure and axes itself : #CODE
I have moderately-sized collections of still photographs ( dozens at a time ) which I can successfully import using #CODE
Make sure to refresh your directory view in case the images that were saved remotely are not visible ( otherwise it can take some time for this to happen ) .
I would like to position a colorbar inside a scatter plot by specifying the position in data coordinates .
I have experimented with a few things , like determining the axes position within the figure and transforming it to data coordinates but didn't succeed .
You can sort out what the correct figure coordinates would be to be at a given place in data-space , but it will not update if you pan / zoom .
Two step to specify the position in data coordinates of an Axes :
set the clip box of all children in the Axes by ` set_clip_box() ` method :
My data is made of 3D points , actually way to much to make a simple scatter plot .
` ax.plot ` only adds the artists to the axes , it does not trigger a re-rendering of the graph .
Looping and adding 500 lines to an axes takes ~400ms , rendering that takes ~ 1.7s .
I wish to generate a heatmap with a legend that uses the ` ( x , y )` coordinates and the ` swe_vals ` as the intensity .
I have added a scatter plot showing the ( x , y ) grid range below :
It looks like if reshape ` x ` , ` y ` , ` z ` to square matrix , you can do a ` contourf ` plot : #CODE
If you make a scatter plot of ` x ` and ` y ` , does it appears to be an evenly distributed square grid ?
matplotlib make legend without frame and draggable
I just noticed that if I set a plot legend to be without frame and draggable , as a result I get indeed no frame but it is not draggable .
I'm not totally sure how I should use the legend command to get it being draggable but with the above input , if I do not specify ' frameon = False ' or if I set ' frameon = True ' the legend is indeed draggable in the resulting plot .
The legend does not have a frame and I can drag it .
Changing matplotlib subplot size / position after axes creation
Is it possible to set the size / position of a matplotlib subplot after the axes are created ?
to put the axes on the top row of three .
But I want the axes to span the first two rows .
but the axes still fill the whole window .
I want to change the position of an existing axes instance rather than set it when it is created .
This is because the extent of the axes will be modified each time I add data ( plotting data on a map using cartopy ) .
You can create a figure with one subplot that spans two rows and one subplot that spans one row using the ` rowspan ` argument to subplot2grid : #CODE
If you want to change the subplot size and position after it's been created you can use the set_position method .
Despite this SO answer , different ways of invoking this animation process does not work .
TypeError : unsupported operand type ( s ) for % : ' Text ' and ' tuple '
so you're calling ` plot.title ` , which is returning a ` Text ` object , and then you're trying to call ` % ` on that , which gives rise to the error message : #CODE
matplotlib : manually ( interactively ) picked contour label adds extra lines
I am finding that manually picking contour labels in matplotlib adds extra lines to the plot .
In addition , the contour label is rotated from the local tangent to the contour line .
with some mouse clicks on the contour lines , results in this plot :
Perhaps this is an axes transformation bug
For background use the axisbg keyword ( can also be a HTML color code e.g. #FFF999 ) to subplot before making your actual plot : #CODE
How to set xlim for a plot in python ?
why doesn't " xlim " work in the following script : #CODE
I think the missing step is to gain access to the axes of each subplot ( not of the sub-subplots ) , but I have no idea how to do that .
In the plot I use commands like ` annotate ( with alpha= 0.3 ) , fill ( with alpha= 0.3 ) , plot and savefig ( " s.eps ")`
PyLab contourf with experimental data
Python pylab : Making a plot with adjusted spines , but doesn't plot
I was thinking this should bring up a graph from -2 to 2 on the x-axis , with the axis spines running through the center of the figure , of the function f ( x ) = x^ 2-x .
Instead , it produces a figure that's blank except that the spines run through the center and go from - 0.6 to 0.6 .
here is the code i generate , was wondering that if i want keep the upper plot x and y ratio be 1:1 so that the ball will always look round no matter how many subplot inside this figure .
When you create your subplot , you can tell it : #CODE
If you've already created the subplot , you have to grab the current axes , which you can do using ` plt.gca ` , then call the ` set_aspect ` method : #CODE
Or , you can keep track of the axes from the beginning : #CODE
Do I need to do some sort of transform on the lat / lon pairs to make this work properly ?
If I need to do a transform , how ?
So if you tranform your path , you should also transform the point before testing .
My main concern is whether I have to do any sort of spherical transform on path and point or just let matplotlib do the magic .
NOTE : what I need is not annotating something on a specific point such as this or other threads explain , but a proper label to be added to the chart legend since the final purpose is to plot several normalized price series to be visually compared each other .
The best you may be able to do is create a ` Text ` object for each of the candlestick plots .
@USER it's true , it seems they have not thought about a legend for candlestick charts yet ... but see the solution below , it's not 100% a proper candlestick legend but it seems a very good solution though !
The problem is that we have ` colorup ` and ` colordown ` here , you can't easily put them both in the legend ( well , you may be able to , that will be quite complex ) .
The question is definitely answered , I take chance to ask you a detail that I will need : this charting system , apart for plotting the candlestick series , will also plot other curves ( such as indicators ) and the legend of it is created at later stage , so is overriding the original one .
How would you suggest to proceed to join all the legends ?
Since I'm labelling the Rectangle objects , I was expecting the legends to be joint ?
In Python with Matplotlib how to check if a subplot is empty in the figure
Specifically , since I don't know in advance how many graphs I need to show , I create a ` subplot ` on the figure on fly .
So to do this I would keep a list of axes and when I delete the contents of one I would swap it out with a full one .
The extremely ugly for loop construct is really just a placeholder to give an example of how the axes can be swapped .
I'm definitely not asking anyone to write code for me :) In fact , if there is no easy solution I intend to spend some time to try and extend quiver and submit patches upstream .
Matplotlib animation with lag in moving x axis
It is obvious that the lines in the second axes are drawn over the spine of the first .
Is there a way to redraw the spines of an axes instance ?
When I run your code and look at the .png ( I've boosted the dpi up to 1200 so it's really fine pixels ) I find that all spines are above the data points .
Using LaTex in Matplotlib legend
I try to annotate my graph with Matplotlib ` legend ` using this simple code #CODE
Specify the label of your plot and then create the legend : #CODE
This question has been asked before , Multiple data in scatter matrix , but didn't receive an answer .
I'd like to make a scatter matrix , something like in the pandas docs , but with differently colored markers for different classes .
I want to be able to make use of this figure object in a subplot : #CODE
I haven't used Phylo , but from the documentation it looks like you just need to set your axes as a keyword : #CODE
It says : TypeError : draw() got an unexpected keyword argument ' axes '
draw expects a " matplotlib.axes.Axes " object and since I am using gridspec phyl_ax is a " matplotlib.axes.AxesSubplot " object .
Don't display labels in subplot
In the following subplot , I want to have labels displayed in the legend ; therefore , I need to have labels set , but I don't want them to be displayed .
That is , I want the legend only , I don't want label names next to my pie-charts .
If you don't want them in at the individual pie chart , the labels should not be called at the plotting but only when defining the legend : #CODE
How to change the colors of pylab legend ?
Change the color of the legend line ?
I'm trying to avoid drawing the edges by weight as I may need to draw a very large graph in the future with a huge range of weights on the edges .
You can use the edge weights and a colormap to draw them .
Try ` ax.axison =False ` , as you noticed axes are " replaced " by the bounding box , but it looks like it has nothing to do with the figure .
How to use a Matplotlib proxy artist with stackplot ?
The problem : instead of a proper legend , I get an empty rectangle .
This is a known issue and one work-around is using another plot element that supports legend , also called a proxy artist .
Now I have a legend with 7 elements , but they are all blue .
I have the below pandas dataframe containing some events and a count that i'm looking to plot and annotate with event details in the chart : #CODE
I am trying to plot a scatter plot using matplotlib , i am getting " IndexError : pop from empty list " error and I am not sure how to fix it .
How to draw bar in python
I want to draw bar chart for below data : #CODE
how to draw just dot in polar coordinates , cannot find any example like that ?
How to plot 3D hist in python
There was a problem with the way the axes were built and the values were unordered .
Is there a way for me to modify pandas ' output without having to rewrite my own scatter plot function ?
` pd.tools.plotting.scatter_matrix ` returns an array of the axes it draws ; The lower left boundary axes corresponds to indices ` [: , 0 ]` and ` [ -1 , :] ` .
changing limits on shared axes in matplotlib [ SOLVED version 1.1.1 bug ]
Hi I am using ` subplots ` to create an 2x2 array of plots with shared axes .
Normalize an Array to Standard Normal Distribution
Figure 1 showed up , but it was blank , and would not close until I closed the terminal .
Use Func animation python
` Axes ( 0.125 , 0.1 ; 0.775x0.8 )`
You can also get the position of the axes with : #CODE
To get the x and y limits of the axes use : #CODE
What I am kind of looking for , is to build a file that not only holds data but also how to plot the data , ( i.e. the script / application loads it up and builds a plot from it , the file specifies title / xlabel / ylabel , maybe that it needs a legend , etc . ) Writing data via CSV or JSON isn't hard ; it's finding a way to send plotting instructions to a host in a standardized way that might be .
You could add more parameters to the ` plot ` function to handle the title , legend , etc .
How to customize axes in 3D hist python / matplotlib
Can any one help by showing how do we customize axes ?
Can you please clarify how do you adjust axes .
Using Mayavi to make 3D graphs , with Matplotlib-style axes
I've been messing around with Mayavi for 3D graphing , and I can graph the scatter plot I want but can't seem to get the Axes to look proper .
I want a 3D scatter plot like #1 but with nice-looking axes like #2 ( I'd embed but I don't have enough reputation ) .
The regular Mayavi Axes aren't going to cut it .
The ' trick ' is to generate the mayavi plot first , then transfer it into the matplotlib window where you can use all the familiar matplotlib tools to make axes with numbers , dates , arrows , or the other pieces that matplotlib provides .
In this code example I'll just drop the mayavi ' copper spheres ' example into a matplotlib set of axes :
The result is just the mayavi plot in a matplotlib set of axes :
As long as your perspective is flat to one of the axes you can use the extent and aspect keywords of imshow to put the ' picture ' from mayavi into the back surface to create the appearance of a 3D plot ( e.g. add after fig= line " ax = fig.gca ( projection= ' 3d ')" and " ax.imshow ( arr , extent =[ 0 , 100 , 0 , 1 ] , aspect=100 )" with your preferred location and aspect ratio to fit your axes .
The way I did this was by running thousands of random sample inputs of varying lengths through the function , then plotting them on a scatter plot with times on the y-axis and input length on the x-axis .
I have the scatter plotted using numpy , but now how do I draw polynomial and exponential best fit lines ?
The polynomial results will still expose logarithmical growth ( since ` log x^n = n * log x `) , but the exponential curve will transform into a proper straight line ( ` log exp ( x ) = x `) .
how do I draw polynomial and exponential best fit lines ?
Once you have the parameters , the gradient m and intercept c of the straight line fit in log-log or semi-log space , you can transform m and c back to your original coordinate space to get the best fit curve in terms of your original data ( the details are shown in the example program below ) .
So you do get quite a bit of overhead , if for each point you draw , you generate a new line object wit `` plot() `` .
I would also look into the ` animation ` module examples .
I did look into the ` animation ` module .
You could define a Path and use its contains_points method : #CODE
The method ` .get_window_extent ( renderer )` works fine with text , lines , and patches , so I was a bit surprised to see it does not work with images .
It took me a while to figure out that I had to do ` fig.canvas.draw() ` before I transformed the image bounding box from axes coordinates to display ( pixel ) coordinates .
I guess matplotlib needs to draw everything first so it knows how to convert to display coordinates .
The reason that you get all zeros is that until you have rendered the artist ( done by calling ` draw() `) at least once , it has no way of knowing how big it is .
Overlaying actual data on a boxplot from a pandas dataframe
` Seaborn ` boxplots seem to essentially read the dataframes the same way as the ` pandas ` ` boxplot ` functionality ( so I hope the solution is the same for both -- but I can just use the ` dataframe.boxplot ` function as well ) .
My dataframe has 12 columns and the following code generates a single plot with one boxplot for each column ( just like the ` dataframe.boxplot() ` function would ) .
Can anyone suggest a simple way of overlaying all the values ( by columns ) while making a boxplot from dataframes ?
A general solution for the boxplot for the entire dataframe , which should work for both ` seaborn ` and ` pandas ` as their are all ` matplotlib ` based under the hood , I will use ` pandas ` plot as the example , assuming ` import matplotlib.pyplot as plt ` already in place .
Making scatter plots is also similar : #CODE
To overlay stuff on ` boxplot ` , we need to first guess where each boxes are plotted at among ` xaxis ` .
By that I meant a sort of scatter plot overlayed on the boxplot - i.e. with dots in place of the numeric values .
do you have any suggestions to this . essentually my box plot is xaxis df [ column1 ] , yaxis df [ column2 ] and I would like to plot the scatter plot on top of it . but with the xticks set to texts i am confused .
I was able to find the xticks and xtick_labels which the boxplot set .
Matplotlib : change ( main ) plot legend label text ( closed )
In your case , you are changing the first item in the legend , I am quite sure the ` 0 ` index in ` L.get_texts() [ 0 ]` applies to your problem too .
doing some problems on Project Euler , I came across Langdon's Ant and thought it would be a nice idea to try to code an animation of it in Python .
As a basis , I went and used the matplotlib function animation , a very nice example can be seen on this post here
The animation runs continuously ( until the ant is out of bounds ) and
Even if the interval is set to 0 , the animation runs quite slowly , updateing about twice a second
It would be great if someone could give me some pointers on how to improve this animation , thanks in advance !
Use ` repeat=False ` to stop the animation after 200 frames .
At first , I thought I'd just use the ` canvas ` widget from ` tkinter ` , but it's hardly usable since the input wav files can be quite large and it would be unfeasible to draw such amounts of data , not to mention that I'd need to handle zooming , scrolling etc .
The problem is that your are trying to draw a of line segments which is more than the Agg library can deal with ( I am not sure what limit is , and there should be some path simplification done before the path is passed off to Agg so it probably is not a point count limit anyway ) .
If I use one of the default colormaps , for instance , #CODE
Since none of the other default colormaps in SciPy can do this , I figured I should make my own .
I found how to animate one line using append in the animate functions .
The Matplotlib documentation for the line2d artist explains how set_data works .
Making a contour plot with solutions from systems of differential equations with pylab
i want to graph these in a contour like the usual x y z coordinates , it says i need z to be a 2d array , i know how to make a mesh from x and y , but how do i do this to z ?
It is not enough to just mesh in x and y , you need to grid your data on a regular grid to be able to do a contour plot .
It looks like you are looking for line or scatter plots instead of contour .
As a dummy case , I try to draw a sine with an amplitude multiplied by 1.1 each second : #CODE
How ever , each print rescaling to plot , so the " animation effect " is missing .
There are better ways to do this using the matplotlib animation API ,
I included the code to autoscale the viewport , but that's not strictly necessary .
when removing the autoscale - it's just what I was looking for , thanks , and have my virtual +1 :)
The ` hist ` command returns a list of patches , so you can iterate over them and set their color like so : #CODE
It's straightforward enough to disable minor grid lines on both axes , like so : #CODE
Overwrite axes with new values in Matlab
This renders the image with x and y axes ranging from 1-100 .
However , instead of displaying the axes in pixel terms , I want the axes to refer to something real , in my case distance .
I tried xlim , ylim .
How can I make an animation with contourf() ?
All of the animation tutorials and examples I've been able to find ( for example this one and this one ) are strictly for line plots .
possible duplicate of [ Using matplotlib.animate to animate a contour plot in python ] ( #URL )
What I have done is to create a new contour plot each time , and to hide the old one I do ` cont.set_alpha ( 0 )` .
Here is what I use to animate 2d contour plots , it was adapted from #URL #CODE
Cannot save matplotlib animation with ffmpeg
I am trying to save a simple matplotlib animation from Jake Vanderplas , but I keep getting ` OSError : [ Errno 13 ] Permission denied ` .
You must tell the animation module exactly where ffmpeg is with ` plt.rcParams [ ' animation.ffmpeg_path '] = ' / opt / local / bin / ffmpeg '` .
Combining an imshow colormap with Python Pandas subplot line charts
My attempt to create my intended plot is based on : Shade the background of matplotlib based on array and colormap and Colormap entire subplot #CODE
I'm having trouble with ` imshow ` for the first subplot .
You should first plot your x and y values , this ' shapes ' the axes .
And then get the extent of the axes ( with ` ax.get_xbound() ` and pass that as the extent of the array .
I want to create a scatter plot between x and y , colored by country in matplotlib .
Save a movie or animation with python in an fast way
I want to creat a movie or an animation using lots of 2D plots .
In the first case the creation of the animation is quite fast , it takes a lot of time to save the animation ( in one case for example , i need 4 seconds to creat a animation , that i could see , but 108 seconds for creation and saving the animation )
How to update axes limits when embedding matplotlib figure ?
where ` axes ` is a ` matplotlib.axes.Axes ` instance and ` canvas ` is inherited from ` FigureCanvasQTAgg `
It seems that the axes limits are updated , but the ticks are not .
I current have a few scatter plots each in their own sub plot .
And I have a different scatter plot for each ` Area ` .
So far googling has led me to look into creating a custom colormap , and then plotting a colorbar in its own subplot using that colormap .
So far I have this , but I'm pretty sure it is just random whatnots ( all it gives me is a grayscale colormap in the ax3 subplot ): #CODE
It seems that the examples suggest I add an axes , but I don't quite get what the numbers in the arguments are .
To set the xlabel , use ` ax.set_xlabel ( ' Uniformity : ' + unif )` See more information here in the documentation for axes .
The documentation for figures explains what the numbers in add_axes are : " Add an axes at position rect [ left , bottom , width , height ] where all quantities are in fractions of figure width and height .
Plot multiple data on 3d scatter plot
I'm having trouble plotting multiple sets of data onto a single 3D scatter plot .
I'd like to plot all of the data sets on one 3D scatter plot so it'd be easy to compare how they differ but I keep getting one graph plotted for each data set .
You are creating a new axes instance each time ` system() ` is called .
Then create the axes instance before looping #CODE
You may then want to think about setting the axes labels etc outside of the ` system() ` function .
Add legend to scatter plot
Given X is 100x2 data , and labels is the label vector ( from 1 to 9 ) I plot the scatter plot as following : #CODE
How to add legend to explain the colors in just one line of code ?
Do you get a new Path for each level that's not continuous with another ?
I would like to draw a rectangle to indicate a range within the x axis .
I can use locators for setting ticks and labels , but I don't seem to succeed using them to draw the rectangle .
Trying to plot multivariate Gaussian dist . in a 3D plot matplotlib returns an empty figure
I would like to position a text box with keyword arguments like those used with legend ' loc ' option , i.e. ' upper left ' , ' upper right ' , ' lower right ' , ' lower left ' .
The basic purpose is to align the text box with legend .
How about setting the location of the text relative to the legend ?
The trick is , to find the location of the legend you have to draw it first then get the bbox .
I tried with a legend ' upper left ' , the four numbers are negative !
Each loc number corresponds to a position within the axes , for example loc=2 is " upper left " .
With maptplotlib , I plot some points with the ` scatter ` method ( see code below ) .
use ` annotate ` .
Do you want to label each point ( that is put a text label in the axes pointing on the point or ) do you want a legend entry for each point ?
@USER The point behind all this is to connect the ` pick_event ` to a callback that will print the label of the artist :
So I guess I just want a legend entry ?
I hoped there would be one artist for every point but apparently this is not possible unless I use one ` scatter ` per point ( answer below )
Assuming that you aren't plotting many scatter points , you could just do a ` scatter ` for every point : #CODE
To answer the second part of your question , ` ax.get_children() ` returns a list of objects that compose those axes , for instance : #CODE
If you are just looking to get the sets of scatter points in your axes , the easiest way is through ` ax.collections ` .
This is a ` list ` that contains all the ` collections ` instances plotted in the axes ( scatter points belong to ` PathCollection `) .
If you have plotted a separate ` scatter ` for each point , iterating over the points is as easy as : #CODE
I suppose then there is no way to iterate through the points if I don't use a separate ` scatter ` for each point ?
However , I think a better way to do this might be to use ` plot ` rather than ` scatter ` , with ` lw=0 ` .
I use ` scatter ` rather than ` plot ` because I need to use some fancy coloring .
The logical building blocks of an mpl plot are ' artists ' ( which may know about data ) , not ' points ' ( data ) . iirc ` scatter ` returns a patch collection object which gives you functions to change the color mapping , marker size , and value ( ` set_data `) .
And for establish x limits i could do " xlim ( dt.datetime ( 2014 , 01 , 27 , 18 , 00 ) , dt.datetime ( 2014 , 01 , 27 , 18 , 30 ))" ?
i am using pyplot.imshow() to plot the color map of a galaxy , the data is a 50x50 array ( 2500 spectral pixels ) for a data cube , but the galaxy itself only spans a small portion of the frame at an angle , i would like to apply an elliptical aperture onto the frame ( at ( 25 , 25 ) ) and select only the data within the ellipse as the data outside the galaxy is quite noisy , so far i have only been able to apply a square aperture , below is what i have done .
The right way is just to access the plot axes object and change its bgcolor : change the lastlines to : #CODE
It was very helpful , but I need also to know if i can draw vectors between atoms .
Rather than using ` scatter ` just use ` ax.plot ( atoms [: , 0 ] , atoms [: , 1 ] , atoms [: , 2 ])` .
Creating composite figure from matplotlib animation frames
I have a data time-series that I am animating with matplotlib , and I would like to add frames by a specific time interval ( e.g. monthly ) to subplots in a matplotlib figure , so that I can have better control over the axes , etc .
The end goal is having a one-page series of images depicting the animation .
Matplotlib : get and set axes position
In matlab , it's straightforward to get and set the position of an existing axes on the figure : #CODE
The colorbar steals space from the axes .
This also happens in matlab , and there I'd use the above trick to make all the axes equally wide by copying the width from an axes with a colorbar to those without .
add space between individual subplots by shrinkin an axes .
Setting axes position is similar in Matplotlib .
You can use the get_position and set_position methods of the axes .
if you want to do ` contour ` plot in matplotib , I think you need a grid , you may need use some VTK class to convert the dataset to a grid , such as ` vtkProbeFilter ` .
The example here is contour plotting a temperature field extracted from a vtk file : #CODE
Note you could also color patches on a sphere using ` plot_surface ` : #CODE
Just to clarify , are the subplots something that I should always do to be able to work with the plot and the axes ?
At the moment I've written a function to iterate over the lists , and plot each one as its own subplot on a shared figure in matplotlib : #CODE
It's called a Diverging Stacked Bar Chart .
However , when I want to include a colorbar , the colorbar is positioned right of the last subplot .
I found the answer to my question , resulting in the correct colorbar vs subplot spacing .
Notice that if the spacing between subplot and colorbar does not matter , the answer of Molly is correct .
colorbar takes an argument ` ax ` the " parent axes object ( s ) from which space for a new colorbar axes will be stolen .
" In your code you could do something like this to add a color bar next to an an axes : #CODE
However , the spacing between the subplot and the colorbar is rather big .
How to plot a boxplot using matplotlib with discontinuous y intervals on the y-axis ?
I have the following data set for which I need to generate the boxplot using matplotlib :
I wrote the following script to draw the box plot , but I am not able to achieve the above mentioned functionality using different matplotlib constructs like xticks , yticks and xlim and ylim .
I am getting ` importerror ` for animation which is there only in updated version .
The y-distande between each subplot is constant , and the size of each figure is correct .
When I plot the matrices in one figure using subplots , then this is not the case : The x-ticks do not fit together , and every subplot has the same size on the canvas ( which means , that for thin subplots there is more white space reservated on the canvas ... ) .
Example if I have called the first one 10 times , the second 4 times and so on I would like to see the hist of this .
Define the limits of my axes , but with an equal scale in both directions with matplotlib
I just want to define the limits of my axes , but with an equal scale in both directions .
As an alternative to unutbu's answer you could take advantage of the fact that a color bar is another axes instance in the figure and set the label font like you would set any y-label .
I didnt know the colorbar is just an axes and the label just an ylabel .
This two-liner can be used with any Text property ( #URL ) #CODE
I'd also like to change / translate or just remove the descriptions ( ` pan / zoom ` , ` zoom rect `) that appear next to the toolbar panel when clicking on the zoom or pan button .
The text for " pan / zoom " and " zoom rect " is hardcoded into the ` pan ` and ` zoom ` methods of the toolbar .
The easiest way to overwrite what this produces is to make subclass wrappers for the baseclass ` pan ` and ` zoom ` methods .
However it is not making the animation , instead I get two separate blank plots and then my surface plot .pngs when I print ` imgplot ` to the screen .
Additionally , when I try to save the animation , I get the following error message : #CODE
You need to store your animation object in a variable : #CODE
This requirement is specific for ` animation ` and is not consistent with other plotting function in ` matplotlib ` , where you can usually use ` my_plot =p lt.plot() ` or ` plt.plot() ` indifferently .
Without any ` animation ` instance , it will not be possible to save a figure either .
What you did was calling ` save ` from the ` animation ` module , this is what raised the error .
When python later interprets the ` fig = plt.figure() ` statement , it creates a new figure ( another window ) and labels it " Figure 2 " .
matploblib , alpha colormap different with contourf and imshow
Then I use the colormap with imshow and contourf and the transparency looks different .
The colors are not the same for imshow and contourf .
80% your issues is that ` contourf ` is not filling the patches at the value you think it is .
The color is the _middle_ between the contour above and below .
Matplotlib animation patch initialization and rotation .
What are the right ways to initialize and rotate patches in animations ?
The attached program initializes and rotates patches in an animation , but my solutions are kind of a kludge .
To keep the initialized patches from showing up as static patches , I set alpha=0 , but this means that I have to set alpha=1 every time I call the animate function , when I should only have to set this once .
To rotate the patches , I use " mag1._angle = i " ( see lines 37 39 ) which uses Rectangle's internal attribute _angle .
I don't know of a specific package for this but you could do something like this in Matplotlib using hlines , vlines and plot .
I have a plot consisting of a blue surface ( plotted via ` plot_surface `) and a red sphere ( plotted via ` scatter `) .
For what ever reason it has decided to draw the sphere first and then the blue curve .
I am not familiar with the huristics that the library uses to sort out the draw order , but they are delicate ( is _any_ part of your surface in front of the sphere ? )
Display non ascii ( Japanese ) characters in pandas plot legend
In matplotlib , how to write different font type and font size in xlabel
you can simply plot the contour line of f ( x , y ) : = pdf1 ( x , y ) >
This way the only contour will be placed along the curve where
f ( x , y ) = sgn ( pdf1 ( x , y ) - pdf2 ( x , y ) ) , and plotting its contour plot
Thank you a lot for the suggestion with the contour , however , I have problems implementing it : #CODE
calculate the ` g1 ( x , y ) - g2 ( x , y )` on a ` mgrid [ ]` and then draw the line by ` contour ( ..., levels =[ 0 ])` , here is an example .
To be able to draw a graph by using matplotlib , should it has to be a np array or it can be work with the regular list ?
I have an animation job that takes a long time and a lot of memory .
Which backend should I use if I'm using ` matplotlib.animate() ` and want to save the animation as an mp4 or theora ?
The saving of movies is handled by the ` writer ` objects in the ` animation ` module and have nothing to do with the backend you set using ` use ` .
Below is a scatter plot I constructed from two numpy arrays .
sort scatter plot points by ` x ` value
To be very pendantic , matplotlib makes a distinction between ` Axis ` ( 1D thing , has limits , a transfrom ( ex log vs linear ) tick locators and label foramatters ) and ` Axes ` ( 2D things , have 2 ` Axis ` as children that you can add ` Artists ` to .
You want to be talking about ` axes ` here , not axis .
Usually ` divider.append_axes ` appends an axes with the same height to your plot , but as it seems you can change that setting ` aspect = True ` , and then modifying the aspect via ` cax.set_aspect ` and the size of your new axes .
matplotlib animation : plot update issues
I am testing matplotlib animation of a plot with random data , I am experiencing the following issues :
The axes ranges xlim , ylim are updated almost randomly , and
The annotations are shown only on the frame when xlim and ylim are
You are running into assumptions made in the underlying code using blitting that the only thing changing will be be the stuff in the axes area ( ie , not the ticks ) and that you will be re-drawing on a fixed background .
The region that gets updated this way is the region ' inside ' your axes .
They go away again on the next frame because they are not a ) on the saved ' base ' canvas and b ) not included in the list of things to draw returned by your call back function .
If you really must use blitting and add artists each time through you will have to do a bit more work and understand exactly how the animation infrastructure works .
How can I plor the surface of this octohedron within the sphere on a 3d axes ?
A ` Poly3DCollection ` is a list of Polygons , and a Polygon is a list of points , a point is a list that contains three values .
I would like to draw a boxplot for the following pandas dataframe : #CODE
This results in an incomprehensible boxplot .
Is there any way I can stratify the MAT values , so that I get a different boxplot of N0_YLDF for the first quartile of MAT values and so on ....
I am trying to change the color of the boxes in the boxplot using pyplot.setp ( ax [ ' boxes '] , color= ' blue ') . however I get the error '' AxesSubplot ' object is unsubscriptable ' .
Ah , I found this reply of yours ( @ CT Zhu ) for the boxplot styling . that works : #URL
Setting numpoints in matplotlib legend does not work
I am trying to have a single data point on a plot legend by following the suggestions here and it does not seem to work : #CODE
Notice that the font for the numbers on the axes change , and the LaTeX-code in the legend is compiled :
The problem is , as you can see , that the alignment and size of the box around the legend is wrong .
You can move a legend after automatically placing it by drawing it , and then getting the bbox position .
You may use the ` bbox_to_anchor ` and ` bbox_transform ` parameters to help you setting the anchor for your legend : #CODE
Note that ` ( 1.1 , 1.1 )` are in the axes coordinates in this example .
An alternative that I've looked into is to just draw all the splines onto a PyPlot plot , and then dump the final image to a numpy array that I can use for other calculations , which seems to run a bit faster , ~ 0.15 seconds to draw 100 splines .
Then create the Line2D artist , and call the ` draw() ` method on the RendererAgg object .
A look at the source code reveals that buried in the ` Axis ` class , there are the private variables : ` self._gridOnMinor ` and ` self._gridOnMajor `
I was also working on something like this , only didnt get the ` xticks ` working .
With ` axvspan ` , the y-extents of the rectangle default to 0 and 1 and are in axes coordinates ( in other words , percentages of the height of the plot ) .
Try zooming or panning , and notice that the y-extents say fixed in display space , while the x-extents move with the zoom / pan : #CODE
Updating contours for matplotlib animation
I'm looking for a way to update my contour lines in an animation that doesn't require me to replot the figure each time .
The only response I've found that looks close to answering the question answers it with a dead link : Animating a contour plot in matplotlib using FuncAnimation
Currently , I don't think it possible as the ` Arrow ` class only supports `' solid ' | ' dashed ' | ' dashdot ' | ' dotted '` four different linestyles .
In order to be able to use a customized dash style , the object must have ` ._dashSeq ` property , which ` Arrow ` lacks .
That being said , currently even though the ` .set_linestyle ` method is provided for ` Arrow ` , you can't , say , set to anything other than the 4 styles listed above .
You'll want to use matplotlib's ` set_xlim ` method for the axes .
I am using a ` pyplot ` to draw loglog graph .
Matplotlib mlab entropy calculation incorrect ?
This is correct according to the usual definition of entropy .
From my experience : entropy in statistics and econometrics is almost always defined with the natural logarithm , entropy in signal processing is usually defined with base 2 .
Thanks , yes , I realise that you can evaluate the entropy with a different base .
As such the bar will appear purple even though the legend shows it as a light red .
It gave me the following error : AttributeError : ' Figure ' object has no attribute ' autoftm_xdate '
Bar heights and widths in histogram plot of several data
I know that this may be stupid , but I didn't get why my yticks varies from 0 to 4.5 .
Also , once I set my bins to be equal five and the histogram has exactly 5 xticks ( excluding borders ) , I didn't understand why I have some bars in the middle of some thicks , like the yellow one over the 0.6 thick .
Since my number of bins and of xticks matches , I though that each set of four bars should be concentrated inside each interval , like it happens with the four first bars , completely concentrated inside the [ 0.0 , 0.2 ] interval .
Finally , notice that nowhere do the xticks align with the binedges .
only the last plot displays ( and not where it should be according to its axes assignment ) .
It's quite likely a bug , if you add a line of ` print plt.gca() ` in the loop you can see once you have the ` by= ` , it ignores the ` subplot ` ` axes `
Text object in matplotlib doesn't respond to zooming properly
Moreover , is there any demonstration about how to transform text to path ?
matplotlib : log transform counts in hist2d
@USER When I print out ` data_frame [ ' Close '] .plot() ` , I get ` Axes ( 0.125 , 0.1 ; 0.775x0.8 )` .
You can use ` ax.annotate ` to annotate a point in your graph with an arrow .
But after some googling I cannot somehow figure out how to force pyplot to use a base e scale on the axes .
For some reason when I run this code , pyplot keeps giving me a plot with powers of 2 on the axes .
Is there any way to get the axes to be labelled correctly though ?
When I run this code I still get powers of 2 on the axes .
When I run the code I get the axes labelled in exponential base .
` plt.tight_layout() ` will adjust subplot parameters to ensure that all objects fit inside the correct area .
Set background color for subplot
python matplotlib legend shows first entry of a list only
I use the below code to add the legend : #CODE
As such your legend will only have one item .
Your problem is that you're only plotting once with a single ` ax.bar ` and as such your legend can only have one item ( for that one plot ) .
One way to get around this , for your plotting script , is to change the xticks and xticklabels as shown below .
When you create a legend you create an entry for each ` matplotlib.artist ` object that you have created through plotting .
This means you will end up only having one entry in your legend .
I need to show as legend at top right .
+1 Even though you do not directly solve the problem of the legend , this solution is superior in the graphical presentation of information .
Why not label them right there , instead of repeating the colors top-down in a legend .
Setting small font size makes them unreadable , that's y opting for legend at top right
But can you tell why I could not get more than one label in the legend ?
Simply create separate bar charts for the legend , and you'll get the desired result : #CODE
You just need to get a reference to the figure or axes objects .
Where my data are stored with an append in that way : #CODE
I add one overarching subplot , so I can easily add a xlabel and ylabel .
Afterward , I set the spines and ticks of this axis off .
I tried all backends available , all presented the same problem : EPS just doesn't display the axes correctly .
I am plotting a line with matplotlib , and I use an animation .
My Animation is done with a FuncAnimation .
So let's say , draw a line from 357 , 358 .
359 , and then continue at the bottom of my plot at 0 , 1 , 2 , and not draw this vertical connection line between 359 and 0 ?
Now I would like to do a scatter plot : I would like to have one variable ( X ) on the x-axis , and the other one on the y-axis , and plot all data-combinations ( x , y ) .
So in the given example , since I have data on group 1 for two years that follow each other , it would show a ( y=1 , x=2 ) data point on the scatter .
If there is no data on that , the corresponding ( y , ) point should not be part of the scatter plot .
The whole concept of a scatter plot is given by the non-diagonal elements of Example .
I want to plot a narrow peak that contains several thousand data points , additionally I want to draw a vertical line marking the peak .
For example , here is a Gaussian centred on sqrt ( 2 ) with its peak marked in red : #CODE
Matplotlib - set pad between arrow and text in annotate function
How do I set the distance ( padding ) between the arrow and the text in matplotlib's annotate function ?
Date Index Formatter for Candlesticks
I want to create a scatter plot matrix which will be composed by some subplots .
Consequently , in each row of the array the parameters p1 , p2 , p3 , p4 have the same coordinates ( x , y , z ) .In the scatter plot , I want to visualize each p_i ( e.g. p1 ) parameter against the other p_i ( e.g. p2 , p3 , p4 ) parameters .
I want to draw a region of interest ( ROI ) in every subplot , highlight the points that are included in the ROI in every subplot .
In each subplot different parameters are visualized ( e.g. p1 vs p2 ) but for one point in each subplot there is another point with the same x , y , z coordinates in the rest subplots .
I can draw lassos in every subplot , but points are highlighted only , when a lasso is drawn in specific subplot which corresponds to the first call of the ` LassoManager ` function in my code ( in my code ` selector1 `) .
As it can be seen in the next figure , an initial value is given to lassos that can be drawn in the different subplots , but only the id that corresponds in selector 1 is used causing the malfunction of the code , independently in which subplot I drew a ROI .
Firstly , I draw a lasso in a subplot and then the points that are included in it are highlighted in all subplots .
Most likely you need to handle all axes with one ` button_press_event ` callback ( as they all interact via the same canvas object ) .
The approach I tried is to create just one ` LassoManager ` ( as it interacts with just one canvas per figure ) but let the axis , data , etc be lists for each subplot .
Probably , the almost correct you mentioned in your answer , has to do with the fact that in the right subplot are not highlighted the correct points when you draw a lasso .
@USER : It adds the axis , collections , etc information to the LassoManager , so that when that specific axis is clicked the Lasso uses the data for that axis .
I have to plot a boxplot of some data , which I could easily do with Matplotlib .
I know that I could calculate these " by hand " , but I also know , from the reference , that the ` boxplot ` method : #CODE
@USER : Particularly for large datasets this is duplication of effort as more costly functions , such as ` median ` have already been called when creating the boxplot .
As you've figured out , you need to access the members of the return value of boxplot .
As the boxplot is vertical , and the median line is therefore a horizontal line , you only need to focus on one of the y-values ; i.e. the median is 2.5 for my sample data .
If you have just one boxplot , the list will only have one element , hence my use of ` bp [ ' medians ']` [ 0 ] above .
If you have multiple boxes in your boxplot , you will need to iterate over them using e.g. #CODE
try to get matplotlib legend items in reversed position
I am trying to reverse items which appear in matplotlib legend i.e. I'd like to have the label of a point in the first position and the " mark-symbol " of a point in the second position of the legend .
Have you tried moving the text and the line properties of the legend ?
I will mention that controlling the size of the marker is much easier when using a scatter plot as demonstrated in this SO post .
The ` hexbin ` plot groups observations together to make a sort of aggregate scatter plot .
How to draw grid lines behind matplotlib bar graph
I want to draw grid lines ( of x y ) behind the bar graph .
And the worst thing : ax1 is now wider , than axes of another plot at the bottom , so that their coordinates do not match anymore !
As I see it , the axes of the image need to become wider ( as aspect does ) , the ylims should apply and the width of the second axes should be identical to the image's .
And it did help with the image itself , but it caused two axes to get separated by white space .
see #URL The problem is that you are over constraining the axes limits due to using both aspect=1 and linking it to another axes .
And yes , I do both set specific aspect and link it to another axes , but that's what I need to do ...
It does help , but setting adjustable= ' box-forced ' causes two axes to get separated from each other .
Although your function works perfectly , it still causes the same problems , when I plot two axes together : either lots of white space inside ax1 , or separation of ax1 and axPlotx by lots of white space ( if I set adjustable= ' bbox-forced ') - see two last picture in the question .
No , sharing is not similar , because if axes are shared , than in interactive mode moving around one plot causes identical changes in the second plot , and I would really like to have this feature .
Say I have a dataframe and I do a boxplot : #CODE
You can use the ` ax ` keyword argument as below in the ` boxplot ` method #CODE
I also noticed that Pandas ` boxplot ` uses its own title .
Say I have a dataframe and I do a boxplot : #CODE
And I made sure to call ` boxplot ` with the axes returned by ` add_subplot ` and everything
Also , it is not listening to other changes I want to make to the axes ( e.g. ` ax.set_title ( " Foo ")`)
All in all , this method calls quite a few methods on my ` axes ` instance : ` set_xlim ` , ` set_ylabel ` , ` plot ` , ` annotate ` , and a handful of others .
Or are there some ` axes ` methods which will themselves force the graph to redraw itself ?
No ` Axes ` methods should force a re-draw ( and if you find any that do please report it as a bug ) , but I don't know enough about threading to tell you they will be safe .
Take a look at how the animation code works .
No ` Axes ` methods should force a re-draw ( and if you find any that do please report it as a bug ) , but I don't know enough about threading to tell you they will be safe .
Take a look at how the animation code works .
I started with the the scatter demo but I cannot understand how to prepare my data .
( and then replace ` x ` and ` y ` in ` xticks ` and ` yticks ` with ` [ 1 , 2 ]` and ` [ 1 , 2 ]`)
Python Pylab , how to alter the size of the label specifying the magnitude of the axes
Generating a plot grid out of existing Figure objects in Matplotlib
There exists many ways to create grid of plots with Matplotlib ( e.g. , pyplot.subplots ( 2 , 3 )) but as far as I can tell , all of them relies in a procedure where you get the axes form a specific function and then draw in these axes .
I want to call this function N time , get N Figure objects out of it , and then display these Figure objects in a grid ... how this can be done ?
I would instead return ` axes ` objects .
I am going to have a handful of these graphs , and it would be great if I didn't have to set ` ha = ' center ' , labelpad = 28 ` and ` ylim ( 0 , )` everytime .
The ` **font_options ` argument will unpack each of the key-value pairs in the dictionary and apply them within the ` ylabel ` function .
Similarly for the ` ylim ` option you can store your limits in a variable such as : #CODE
Polygon containment test in matplotlib artist
I have the following code , gathered initially from here . , which uses matplotlib , shapely , cartopy to draw a world map .
I am able to add a ` pick_event ` callback to the canvas , however , it is called on every artist .
Given an artist and a mouse event with x , y coordinates , how can I determine containment ?
This means that , as you've already spotted , the containment test isn't defined on the artist , and in truth , it isn't particularly easy to work around in its current state .
That said , I probably wouldn't have approached this using the matplotlib containment functionality ; given that we have Shapely geometries , and that containment is the bread and butter of such a tool , I'd keep track of the shapely geometry that went into creating the artist , and interrogate that .
The picture is fairly large , so I don't want to generate it all over again and again , specifying xlim and ylim every time before plotting .
Is there any way to change axes limits after the figure is created ?
There is no problem with using ` xlim ` and ` ylim ` here .
The goal is to show that with a higher sample draw the function value approximates " pi " .
I have a subplot arrangement that I am trying to tame with ` matplotlib.gridspec ` .
@USER , I found your answer very useful , as this isn't directly described in the documentation . tcaswell , do you have a suggestion for ways that I might improve my question , as I feel it is valid given that the docs say that " Optionally , the subplot layout parameters ( e.g. , left , right , etc . ) can be tuned .
Creating contour plots without using numpy.meshgrid method ?
I am trying to use the example given here to produce contour plots of a function that I use .
I'm looking for a way to produce a ` scatter ` plot in ` python ` where smaller plots will be drawn above larger ones to improve the figure's " readability " ( is there a similar word for an image ? )
#URL See the commented line : ' #the above three lines to draw the line out of the box .
Can you hand draw a line to show where you want it to be ?
Because your y axes are of different scale .
Does that make sense , or should I draw one in ?
Basically the idea is to draw a line and allow the line to extend beyond the current view of axis , in this following example , I plot that line in red in order to see it better .
Also your 8 plots can be plotted in a nested loop , which will organize the code better and make this ' common line across subplot ' easier to implement : #CODE
If I were you , I will make the x ticks invisible for each subplot in the nested loop .
I want to write the ylabel on the left hand side in polar plot as that in the non-polar plot .
I just want to change ylabel to the left hand side , other detail about the difference of such two picture can be ignore .
Pandas - Plotting a stacked Bar Chart
Not working sadly , its basically the same graph now but without being stacked , no errors , no legend , no green basically .
Setup a graph using matplotlib which is working properly ( see image below ) , but when I try to add a legend I get the following error : ` UserWarning : No labeled objects found .
Here's the code I'm using to define the lines that I want in the legend and draw the legend : #CODE
The candle plot doesn't have any labeled object , when you call the ` plt.legend() ` , it tries to plot a label for every plot on the current axes .
Saving a matplotlib animation with imagemagick , and without ffmpeg or mencoder
I want to create an animation of a calculated function .
I'm not able to install ffmpeg or mencoder on the cluster I'm using to run the animation , but imagemagick is installed .
How can I use imagemagick to save an animation with matplotlib ?
Below is some code which uses a callback to print out the current azimuthal and elevation angles , as well as append them to a list for further use later .
I'm creating an animation using Matplotlib and I'm using a Fill object .
` triangle ` is a ` fill ` object , which is a ` Polygon ` , which I would think would have a way to change it's data .
This is not particularly well documented , but ` Polygon ` objects have a pair of methods ` get_xy ` and ` set_xy ` .
Putting the desired data into the expected format ( which is what is specified in the documentation to construct a ` Polygon ` object ): #CODE
Matplotlib : Remove line " dashes " and only display text in legend
Created a legend and formatted the text as needed , but can't figure out how to remove the line " dashes " so that only text appears .
As far as I know you can't remove the dashes ( this is referred to as the legend handle I think ) but you could replace it with something invisible .
For example a common problem is to define the legend handle as a coloured rectangle .
The basic idea is to create the handle directly then pass all the items to be including in the legend as two lists .
Matplotlib Animation - trouble with the speed of the saved file
The animation in the first example works fine when I just execute
Note that the red / blue lines animate and draw over several seconds
I feed the following animation from data collected from a remote device via Paramiko .
If I understood the concept of animation interval , with a value of 1000 sec , the animation should update the plot each 1000 ms and x axis is supposed to show real time units in seconds .
After measuring the animation function and different sections inside , it looks like the animation function takes more than 1s to execute and the section of the animation that pulling inf . from the remote devices takes most of the time .
The answer now converts all plotting objects ( tick labels , legend , etc ) so they are visible against a black background .
This means that figures and axes are implicitly
How to retrieve coordinates of matplotlib annotate arrow in display space ?
I need to place data at the tip of a matplotlib annotate arrow instead of it's tail .
NOTE : I need the first annotate to indicate that there is a connection between the two points .
How do I get the coordinates of the arrow drawn by the second annotate command ?
How do I annotate several points to the same text box with matplotlib ?
I'm not sure how to annotate several points to the same text box .
Obtaining values used in boxplot , using python and matplotlib
I can draw a boxplot from data : #CODE
Now I want to know the values used in the boxplot , i.e. the median , upper and lower quartile , the upper whisker end point and the lower whisker end point .
It seems that the values should be ready to pull-out from the boxplot , as it's already drawn .
Generating a contour plot based on a matrix of z values using MatPlotLib
How would I go about creating a contour plot from this data ?
I want to save all these plots in one figure using subplot , where the first row will have the combinations ( 0 , 1 ) ( 0 , 2 ) ( 0 , 3 ) ( 0 , 4 ) ( 0 , 5 ) the second row ( 1 , 2 ) ( 1 , 3 ) ( 1 , 4 ) ( 1 , 5 ) the third row ( 2 , 3 ) ( 2 , 4 ) ( 2 , 5 ) etc .
With add_subplot , you've hit an oddity inherited from MATLAB , which 1-indexes the subplot count .
At the bottom of the figure , between the last row of plots and the legend , an empty area appears .
The legend will then be close to the ' lowest ' subplots .
I am wondering if it is possible to have a subplot with a mixture of graphs drawn with plot() and figures drawn with pcolormesh() that would have the same x axis length .
I attached 2 images one when the pcolormesh() subplot does not have the colorbar drawn when the x axes are the same length
and one that has the colorbar when the pcolormesh() subplot is shrunk so that it accommodates the colorbar .
I would like to have the colorbar , but it should be extending the length of the whole plot and not shrink the subplot .
What's happening is that a new axes is being created for the colorbar , and the space is being taken from the axes that ` pcolormesh ` is plotted in .
If you don't want this to happen , you can specify an axes object for the colorbar to go in .
Alternately , you can manually add another axes for the colorbar .
( Side note : Don't use ` tight_layout ` after making the extra axes . We're no longer working with a nice grid of subplots once we add the additional one , so ` tight_layout ` will not work correctly . It's safe to use it before , though you may want to modify the call to ` subplots_adjust ` in that case . ) #CODE
If you want a bit of padding despite the " tight " bounds on the axes limits , use ` ax.margins ` .
3D waves animation using Matplotlib 3D
I tried with a plt.pause() just before each plt.draw() and it works , but the animation is very slow , is there a way to speed it up ?
I know you can make a video .mp4 with the module animation but that would mean rewrite the whole code , is there a way to redirect the plt output and make a video that would play smoother ?
Plot Pandas DataFrame as Bar and Line on the same one chart
( See the docs for plot , or boxplot , for instance . )
You can then pass that same Axes to the next plotting method ( using ` ax=ax `) to draw on the same axes : #CODE
I also noticed I am not seeing the line title in the legend as you are so maybe that shows for some reasons they are not treated as part of the same axes
How do I make a scatter plot with these data ?
I am trying to make a scatter plot where one axis is the range of letters , another axis is the range of numbers , and the scattered points represent the magnitude of the parameter associated with each letter-number pair .
Having this in mind , you can easily create a 2D scatter plot with different colors , where exact color is determined by the value associated with each pair ( letter , number ) .
Here is the complete code : ( based on this discussion : Matplotlib - Broken axis example : uneven subplot size ) #CODE
Please have a look at the location of the legend ...
Stop matplotlib scatter plot to slow down while adding new data
but this doesn't work because ' set_xdata ' is no attribute for ' scatter ' .
Moving the ' savefig ' -statement outside the for-loop makes it faster and it seems that scatter is very slow : [ #URL ( #URL )
In ` plot ` every marker is assumed to be identical , in ` scatter ` each marker can have a different size and color so there is significantly more overhead in drawing it .
And if you dig down into ` PathCollection ` ( which is the arstist type that ` scatter ` returns ) there is a way to move the markers , but I don't recall it off the top of my head .
Like tcaswell mentioned , using ' plot ' instead of ' scatter ' is much faster since i do not want to change the marker in my plots .
This problem appeared after I started to plot two triangles of the picture separately : I read my two huge data files with ` np.loadtxt() ` , get ` np.triu ( data1 )` and ` np.tril ( data2 )` , mask zeroes , NAs , -inf and +inf and then plot them on the same axes with ` plt.imshow ( data , interpolation= ' none ' , origin= ' lower ' , extent=extent )` .
Also tried to increase the legend text size but the text is not displayed .
How can i add the xytext from the csv and also change the format for legend and X axis ?
You need annotate , e.g. : #CODE
To change the legend text use the label parameter in your plot function : #CODE
To increase the legend font size do this : #CODE
Bar plot cutting off axis title
I'm trying to draw a bar plot with vertical axis labels and an axis title .
You can probably set the ` ylim ` .
I am as well looking for ways to extrapolate this to the 3rd ( sphere ) and Nth dimension displaying the data set with SPLOM ( scatter plot matrix ) or paralell coordinates .
Generally I am looking for ways to draw automatically ( thus , not by hand , but maybe close to ) shapes ( like circles or other functions ) and clusters in N-dimensions .
Going to 3D is a case of extending the function to include the azimuthal angle allowing you to return ` x , y , z ` and hence scatter plot in 3D .
Python plotting 2d data on to 3d axes
xlabel and ylabel not visible in panda plot
How is it possible to make xlabel and ylabel visible in the following plot ?
xlabel and ylabel are on my plot when I run your example , just a bit outside the display depending on how it is sized .
Dataframes in Pandas have a boxplot method , but is there any way to create dot-boxplots in Pandas , or otherwise with seaborn ?
By a dot-boxplot , I mean a boxplot that shows the actual data points ( or a relevant sample of them ) inside the plot , e.g. like the example below ( obtained in R ) .
Automatic ( whisker-sensitive ) ylim in boxplots
I wonder if this is because the dataframe has points that exceed the boxplot whiskers ( but for some reason the outliers aren't displayed ) .
If that is the case , what would be a good way to automatically adjust ` ylim ` so that there isn't so much empty space in the plot ?
The ` pandas ` boxplot calls to ` matplotlib `' s boxplot .
And then use the ` boxplot ` method on the dataframe , I see something similar #CODE
Alternatively , you can use the seaborn ` boxplot ` function , which does the same thing but with some nice aesthetics : #CODE
Share axes in matplotlib for only part of the subplots
PS : This tutorial does not help too much , because it is only about sharing x / y within each row / column ; they cannot do axis sharing between different rows / columns ( unless share them across all axes ) .
However , you can specify per subplot which axis it should share with which subplot when adding a subplot to your figure .
I looked and it does not seem that there is a method of the axes object that can set the sharex / sharey property .
if you want you histogram of ` d ` and the title / label / xlim etc . to be in the same chart .
It is not entirely uncontrolled , because it is just cutting the white margins to fit the text , which is great on the vertical direction .
x y axes values , e.g. the typical discretization meshes used in CFD .
How can I easily redefine the printed values in the axes ?
However if I comment set_xticks and set_yticks nothing is printed because I'm using the xticks to show the discrectized mesh .
` hlines ` and ` vlines ` are horizontal and vertical lines , you can specify those lines with boundary data in both x and y directions .
I have created a class , ParRec , that reads data from Par / Rec-files ( binary images -> numpy-arrays ) , and now I want to add additional methods to the class to increase functionality , such as a method createFigure ( self , ind ) that would draw an image of the 2D-image at ind in the 3D-stack of images .
using histogram counts in scatter
this my code to and i want to use histogram data to plot scatter where y axis is counts center from the histogram , is there any direct command or way to do this ?
I am having trouble understanding exactly what you mean by using the " center of counts in scatter as y axis " .
Me E thank you for taking time to look at my question , i want the scatter between ( t2.compressed() *10**10 ) as x , and number of occurrences as y .. which i should get it from the histogram ..
you have imported ` matplotlib `' s hist function .
This was you only calculate the histogram and don't plot it ( ` A ` is exactly the same return as ` hist ` also calls ` numpy.histogram ` .
` xticks ` is for setting the tick markers on the axis , don't do that .
What I need is to plot wavelength and intensity on the x and y axes respectively with each different wafer number as it's own series .
To plot wavelength and intensity on the x and y axes respectively
This allows me to use pcolormesh and contour to generate plots , extract levels , etc .
Using plot.contour , I then extract a certain level using get_paths from the contour CS.collections() .
Now , what I'd like to do is then , with my original irregularly spaced data , interpolate some quantities onto this specific contour line ( i.e. , NOT onto a regular grid ) .
Does replacing the xticks matter ?
python cluster animation using matplotlib and different colors
I'm trying to create an animation of my clustering where each cluster is a different color on a scatter plot and there are several clusters per plot .
I've also tried to use the animation feature of matplotlib , but can't seem to get it working with what I am trying to do .
Have you tried setting ` blit=False ` in the animation call ?
How to put legend outside the plot with pandas
How is it possible to put legend outside the plot ?
I think you need to call ` plot ` before you add the calling ` legend ` .
However , half of the legend is now not in picture ?
legend outside and adjusting subplot size shrink picture
Legend outside the plot and adjusting sublot size shrink picture .
Matplotlib 3d Bar chart : Error : cannot concatenate ' str ' and ' float ' objects
I used the scatter function and plotted the points , but the surface function is not working ( the window is empty ) .
For completness , here is the enhanced version ( also changed font size and added a legend ): #CODE
I think its easier if you create two subplots and add the table to the left subplot , instead of deriving a new subplot from the single subplot you have now .
If you add the table to an existing subplot , you can use the ` bbox ` to stretch it from 0 to 1 ( so fully ) in the y-direction .
Since the table has a header , setting the ` ylim ` of the right plot to ( 0 , n_items ) , will make both align properly , and adding a slight offset because the bars are also given an offset of 0.4 ( offset of the outer bar + half a barwidth ) .
Matplotlib Animation : Animating Circles position from scipy array
It seems that ` animation ` function does not work with ` patches ` on Mac if you don't use ` Qt4Agg ` backend .
My need is to draw lines over the heatmap , to separate features over the ytickslabels as I show in the following image ( in which i draw by hand ):
It's unclear to me how you derive the y values of your horizontal lines ; are those related to the yticks ?
I have a matplotlib code for creating a set of three subplots which share the same axes .
When you call ` plt.plot() ` on what axes do you expect it to be plotted on ?
It will plot on the current active axes , which in your case is probably the first .
You need to either change the current active axes with ` plt.sca ( axarr [ n ])` before calling ` plt.plot() ` , or even better , stop mixing both the OO- and state machine interface and use ` axarr [ n ] .plot() ` .
Matplotlib - animated contour plot with data generator
I want to produce an animation using matplotlib.animation .
But now I am getting KeyErrors when updating the animation which I am clueless about : #CODE
This code is a bit of a mess , I am unclear why you are monkey patching the object returned by ` contour ` , you should not have to set ` im.axes ` , and you should use ` ax.contour ` .
However the answer to your question is remove ` blit=True ` from the call to animation .
So I have this program that is looping through about 2000+ data files , performing a fourier transform , plotting the transform , then saving the figure .
Previously , I had the fourier transform defined as a function , but I read somewhere here that python has high function calling overhead , so i did away with the function and am running straight through now .
@USER Yeah , the files are all of varying size , from a couple Mb , to tens of Mb , so the fourier transform can be quite intensive .
Assuming that you're actually CPU-bound here ( meaning it's the fourier transform that's eating up most of the running time , not reading / writing the files ) , that should speed up execution time without actually needing to speed up the loop itself .
: if you have a lot of data , don't call ` scatter ` for each point separately ; append x , y , cluster to three separate lists and ` scatter ` the lists .
EDIT : if you want to keep the legend in the original order , as you mentioned in the comments , you can set ` sort_legend=False ` in the code above , giving :
Hi @USER Castro , This is want I want butone more problemI want the legend in the order of array it is ..
@USER please , see the edit above , it shows how to avoid the legend sorting ...
I want to draw a Minkowski diagram .
What I had before was mathematically correct , but probably not matching the physics you wanted , since I had x and y switched in the transformed axes .
If I switch this drop-down to Qt , or uncheck " Activate support " , it only plots the first subplot , or part of it , and then stops :
You call ` show() ` after each subplot .
I have data that I make a scatter plot for i.e. ( x , y ) .
You can use plt.colorbar() straight up , without arguments , because pyplot knows about your scatter plot .
Labels in legend out of order
I have a strange issue with the order of labels in a legend .
I'm making a scatter plot where I pre-order the lists of data so that smaller points will be plotted on top ( the way to accomplish that was proposed to me in this question : Plot larger points on bottom and smaller on top )
The issue I'm having is that the order of the labels in the legend is apparently scattered .
as can be seen the legend displays the labels like ` 8 , 9 , 7 ` when it should be ` 7 , 8 , 9 ` .
the resulting legend is ordered as ` 1 , 2 , 3 ` .
So , what is happening here and how could I force the legend to be ordered no matter what numbers I use in ` x1 ` to define the markers and labels ?
matplotlib 3d scatter from 2d numpy array vertices error
I am pulling a bunch of floating point data in to a numpy array from a csv file , and I just want to create a 3d scatter plot based from 3 of the columns in the array .
Axes not showing in Python plt.show()
My axes are not plotting with plt.show() for some reason , and this is the error message : #CODE
The data plots perfectly , just without the axes and title .
Drawing circles of variable size and position on a 2d animation
I have an animated 2d and 3d window , on which I draw points .
So I want to draw a circle around these points to display the uncertainty .
This uncertainty is variating , so bottomline : I want to draw multiple ( might be 0 , might be 100 ) circkles in a 2D animation with a variable center and a variable radius .
I tried scatter .
Scatter looks very promising , until I resize the screen : the size of the scatter is in pixels and not related to the size of the axes .
I have tried the following scatter code : #CODE
But the size is the size in pixels and not related to the axes .
This is a ' feature ' of scatter .
Look at how scatter works underneath , it is just a collection of path objects .
I would do the same with ` Circle ` patch objects which you can size in data units .
Can I use circels the same way I can use things like scatter and line ?
On the next animation cycle I call remove() on every object in this list , empty the list and refill it with every circle I want .
Here is a frame of the animation :
When i draw my testpoints into my plot , they are mostly arranged at the border or cross the axes .
possible duplicate of [ How to autoscale y axis in matplotlib ? ] ( #URL )
I'm able to get the plot working by setting xlim and ylim on the underlying ` Axes ` object , but using the same values in the basemap constructor seem to push my data off the plot .
If I simply zoom into the plot or change the xlim / ylim values then my colorbar stays the same , and I'm not able to distinguish the small changes occuring in my region of interest ( I want the colorbar to change to reflect the range of this smaller region ) .
So you want the colorbar to change scale ( refresh ) each time you reset the axes limits in an interactive sort of way ?
You can either just flip the axes , or use a parametric spline ( tck , u = [ splprep ] ( #URL ) ([ x , y ])) .
Seeing as how much scatter there is in the data , you should probably go for a curve fit that doesn't exactly replicate every measurement :
` scipy.interpolate.Rbf ` should work alright , and again , for this you should switch the axes , i.e. compute electron density as function of altitude .
what this returns is a left subplot slightly larger horizontally than the right one since this last includes the colorbar , see below :
Python / Matplotlib : How to plot in a subplot with ticks but no tick labels ?
In Matplotlib I use to hover on a point with the mouse , and read the ' live ' coordinates provided by the Formatter .
Large dataset 2d contour plot
I want to make a map of these points similar to the answer provided here : Python : 2d contour plot from 3 lists : x , y and rho ?
It is possible that you have some interfering commands before the ` ht_ax.set_xticklabels ` call ; and in particular , manipulating an axis before the call to ` imshow ` rather than after might not have the desired response , since ` imshow ` , like many / most plotting commands , includes a basic configuration of the axes .
ValueError : Invalid chart type given scatter
Customizing Matplotlib Legend
Below I have a stacked bar chart with a legend .
My legend currently has an entry for each stack , `' a '` , `' b '` , and `' c '` .
I want to add an additional legend entry that has shows blue + green = ' combination of a + b ' , in the same legend ( or nearby ) .
So my new legend should have 4 entries .
building an array from scatter plot
I would like to implement a programe / function , where I could select the data from a scatter plot points and then store them into an array .
Matplotlib boxplot using precalculated ( summary ) statistics
I need to do a boxplot ( in Python and matplotlib ) but I do not have the original " raw " data .
What I have are precalculated values for max , min , mean , median and IQR ( normal distribution ) but still I'd like to do a boxplot .
See Is it possible to plot a boxplot from previously-calculated statistics easily ( in R ? )
Can anyone show me how to do the boxplot ?
In the old versions , you have to manually do it by chancing boxplot elements individually : #CODE
So each element defines a line to be draw in the
I used your code , and it rendered just fine , but then I switched to plotting using the axes to be a little bit more canon and a little less surprising .
When you plot using axes , you generate an Artist object , but when you plot using plt , you generate a list of Artist objects .
You just need to use ` twinx ` / ` twiny ` twice to get two independent axes ( there are probably ways to do this with out making a un-used middle axes , but this takes care a bunch of the behind-the-scenes details for you ): #CODE
Here's the code I'm using to draw the lines : #CODE
I'm trying to plot three time series on the same axes using matplotlib .
Matplotlib 3D Bar chart : axis issue
So , you need to change these and then set tick labels of relevant axes to given ` xpos ` and ` ypos ` .
I have used matplotlib's hist function to produce a graph with time binned by day on the x axis , and count per day on the y axis : #CODE
Both Matplotlib's ` hist ` function and NumPy's ` histogram ` function have a ` weights ` optional keyword argument .
1 ) FigureCanvas , the container class for the Figure instance
2 ) Figure , the container for Axes instances
3 ) Axes , the areas that hold the basic elements ( lines , points , text ... )
In particular , are the Artists in an intermediate level between the FigureCanvas and the Figure , or is that hierarchy not suitable in this case ?
` pyplot ` : state-machine based layer ( it knows what your ' current axes ' and ' current figure ' are and applies the functions to that axes / figure .
You should use this only when you are playing around in an interactive terminal ( other than ` plt.subplots ` or ` plt.figure ` for setting up the figure / axes objects ) .
` Figure ` s are the top level container objects .
They can contain ` Axes ` objects and ` Artist ` objects ( technically ` Axes ` are ` Artists ` , but it is useful for pedagogical reasons to distinguish between the ` Axes ` objects in a figure and the other artists ( such as ` text ` objects ) that are in the ` Figure ` , but not associated with an ` Axes `) and know about the ` Canvas ` object .
Each ` Axes ` can contain more ` Artists ` objects .
` Artists ` know how to draw themselves on a ` Canvas ` .
When you call ` fig.savefig ` ( or render the figure to the screen ) the ` Figure ` object loops over all of it's children and tell them to draw them selves on to it's ` Canvas ` .
Some of the containers are Figure and Axes .
The only point of your first post that I think is not correct is : " They can contain Axes objects and Artist objects and know about the Canvas object " .
Actually , if I now understand correctly , Axes are Artist objects , in particular of the type container .
Yes , ` Axes ` are ` Artists ` ( because everything that can draw it self to the canvas is an ` Artist `) , but it is better to think about ` Figure ` objects as containing ` Axes ` ( which then contain the rest of your useful artists ) and then some other ` Artist ` objects ( ex a text object for the figure title ) .
Bar plot with known x , y
How to modify matplotlib legend after it has been created ?
I know that in this figure there is a legend and I can access it via ` myLegend = fig.gca() .legend_ ` .
Now I want to change the properties of the legend .
When the legend is created it accepts a number of keyword arguments :
How can I modify all the keyword arguments in the legend after the legend is created ?
One of the problematic ones is ` numpoints ` ( number of markers in a legend , default is 2 ) .
What you see in the legend actually is a ` Line2D ` .
The above snippet should suffice to give you the general idea , but in a real-world application , a preferable way to obtain the handle would be to follow the legend guide's hint on legend handlers and use a customized ` HandlerLine2D ` that stores the line in some fashion .
This will modify the existent legend instead of creating a new one .
I've written a function ` modify_legend ` which modifies a legend after it has been created .
It basically reads all the parameters from the already created legend , updates it with the key-value parameters you provided and calls ` legend ( ... )` with all possible parameters again .
Some parameters could easily be read from the ` Legend ` object , others ( like ` title ` , ` fancybox `) required some ' artistics ' .
The extra condition on the ` fontsize ` parameter is used for overriding the font size when the legend was originally created with a ` prop ` , as ` prop ` usually overwrites ` fontsize ` .
I had to comment the ` #handler_map = l._custom_handler_map , ` line as it did not exists in my legend ( python 2.7.8 , mpl 1.3.1 ) .
Maybe use ` Rectangle ` to only draw the non-zero squares ?
I have to use greek letter with subscript as axes label , so i thought to use Latex symbols .
It seems that if the bin distribution is much large than the dataset , however , hist ignores the range and makes a smaller one .
the function returns the bins and the patches .
OK , so it looks like setting the autoscale to false did not fix it , but setting the x range seemed to work .
Display image patches in python
I'm using a sliding window over my image and want to display the patches of the image that each window " looks at " .
Or is there an alternate way of displaying the image patches ?
But I get a plain black rectangle with x and y axes , that's it .
Not the image patches I'm looking for .
Adjusting Text background transparency
Manually set color of points in legend
I'm making a scatter plot which looks like this :
As can be seen in the image above the colors of the points in the legend are set to blue automatically by ` matplotlib ` .
You can obtain the legend handles and change their colors doing : #CODE
When I try the following code , I get a picture of lena displayed on x and y axes , just fine : #CODE
then I do get the axes and everything , but in place of the image , just blackness taking up the space on the axes .
For this reason I am scanning the whole file , reading the y value and depending on the y value I append it and its corresponding x argument on new lists and then I plot them .
Removing the ` text ` artist and starting anew instead of ` set_text ` also doesn't fix it .
Missing label in twin axes ( matplotlib )
I am studying an ebook about matplotlib , and I have a problem with one example concerning twin axes .
Maybe in the old versions of matplotlib it was possible to put the label in both the axes , and later this changed , perhaps to avoid possible conflicts , as you say ?
Extra Markers in Graph Legend
I can't figure out why my legend shows three of each marker ( where I only want one ) .
There's a special keyword argument for scatter plots - you want to pass ` scatterpoints=1 ` to ` ax.legend() `
I would argue that a scatter matrix method is less needed than a profile plot method .
Background : I'd like to visualize normal modes by plotting both the power spectral density and the relative phase information of the oscillations across the system .
However , I'm not dead set on ' coolwarm ' and am happy to consider other options if there is another nice pair of colormaps to visualize amplitude and phase information .
For some reason I'm still not entirely satisfied with the colormaps I have tried ( although I can't quite pinpoint why ) , but this gets me 90% of the way .
plot.subplot ---> ' Figure ' object has no attribute ' plot '
where the ` f ` is the ` Figure ` you are subsequently treating as if it had a ` plot ` attribute .
Recently , I answered a question that draw circle with radius in data space : #URL
After , I compute the pixel distance between two adjacent points ( by plotting it using a hidden scatter plot ) .
matplotlib subplot and open different netcdf files
Annotation / Text at cross between y-label and title in matplotlib
I am struggling for almost a complete day now with positioning a simple text field in a matplotlib subplot .
My goal is to position a one-letter text field ( e.g. , " A ") at the top left of a subplot .
I know that I can position it relative to the axes by e.g. , manually specifiying values .
My idea was to use the x-coordinate of the ylabel and the y-coordinate of the title -- yet , with not much success .
I would like to add " A " exactly where " ylabel " and " Title " would imaginary cross .
How should I pass a matplotlib object through a function ; as Axis , Axes or Figure ?
I am pretty sure my problem comes down to what object I need to return from Profile() so that I can handle Axes manipulation in Profile_Matrix() .
I think you should return the whole figure ` fig ` , you can always access the axes with ` fig.axes ` , and you'd need it anyway in case you wanted to resize the whole thing or something .
You should pass around ` Axes ` objects and break your functions up to operate on a single axes at a time .
I think this is because I can't associate Profile() with axes [ i , j ] through ax .
The Arrow shall be drawn in Figure space , not in data space .
` arrowstyle= " |- "` is working ( reversing the arrow ) , but it is inferior ( rounded corners instead of miter , much slower in interactive mode for > 50 arrows ) , maybe because it has to draw face and edge .
Can you use ax.get_position() to get the location and size of the axes ?
I plotted a conditional frequency distribution , and I would like to start by removing the top and left spines .
The spines aren't an element of the conditional frequency distribution , they are an element of the axes on which the conditional frequency distribution is plotted .
You can can access them by assigning a variable to the axes .
Did you add that line before calling draw ?
I installed the Anaconda distribution on Windows and got it working with Sublime Text 2 .
I edited %appdata%\Roaming\Sublime Text 2\Packages\Python\ Python.sublime-build to look like this : #CODE
In %AppData%\Roaming\Sublime Text 2\Packages\User , I also tried commenting out the line : #CODE
Just save the code of creating new colormaps to a python script , and import that script anytime you want to use them , see this post : #URL
Oh , I meant saving the custom colormaps directly into matplotlib ( my question was definitely ambiguous ) .
Since you are using ` ipython ` , the best way might be to store those custom colormaps in a startup script .
Choosing color in matplotlib contour maps
The contour map that I obtained so far looks like this :
Any other recommendations on how to produce readable contour maps will be very much appreciated !
What are n bins and patches in matplotlib ?
` n , bins , patches = plt.hist ( x , 50 , normed=1 , facecolor= ' g ' , alpha= 0.75 )`
I am wondering what are n , bins , and patches
` patches ` is the individual patches used to create the histogram , e.g a collection of rectangles
The patches can be used to change the properties of individual bars as in these examples .
Could you put in a quick PR at add that to the ` hist ` docstring ?
Here is the code that draw 3d bars : #CODE
how can i draw line on an image which is in browser page ?
Same way you draw a line on an image which is not in a browser page , I imagine
if i get mouse point value from browser page using jquery means that it is possible way to draw line . but i can't run any JavaScript script file inside the pt page
How to visualize a nonlinear relationship in a scatter plot
The functional form of the relationship is not visible in dense scatter plots like this :
How can I add a lowess smooth to the scatter plot in Python ?
With paths , we should be able to just create a PathCollection in matplotlib , and add it to the axes , but sadly , Axes3D doesn't seem to cope with PathCollection instances , so we need to workaround this by constructing a LineCollection ( as basemap does ) .
Saving Animation with matplotlib ?
However the problem I am facing now is that no animation is saved when running the script .
Would that apply to my Path or my PythonPath ?
My Path is set correctly .
I was able to get output the animation correctly by Using an ipython notebook with the Anaconda environment .
There was a bit of a work around needed to get the animation to be displayed in the ipython notebook .
Once the above code was in place , the following animation was output correctly into the ipython notebook : #CODE
Matplotlib plot with 2 y axes , how do I specify which y axis event data is read from ?
I have the following plots embedded in a wxpython panel with a single x axis and 2 y axes .
See #URL for a patch to be able to swap the axes order .
Does * matplotlib window * imply interactive window ( with zoom , and pan ) ?
If you don't want the zoom and pan features why not embedding a static image ?
Legend combined with Text , how to find the legend width and height
I would like to set legend and text boxes locations and styles exactly same , the latter especially to make text aligned .
This should place the text at the right of the legend box but that's not what it does .
The second solution does not actually anchoring the legend to the figure , but to the axes instead .
In the example below I had to apply a ` 1.1 ` factor for the width ( this value I haven't found how to get , and if you don't apply the factor the text clashes with the legend ) .
I'm trying to draw a 3D line plot with the toolkits mplot3D of matplotlib
I've draw my plot with this : #CODE
For example , ` f , axes = plt.subplots ( 4 , 1 , subplot_kw={ ' aspect ' : 0.1 } )` .
By the way , a simpler way to set up the plot would be ` fig , axes = plt.subplots ( 1 , 3 )`
In the former case , the plot will be drawn on the " currently active " axes , while the latter case the plot will always go onto the Axes bound to the ` ax ` variable .
Analogously , with seaborn plotting functions if you just write , e.g. ` sns.kdeplot ( ... )` , it will plot onto the " currently active " axes .
To control where the plot will end up using the matplotlib object-oriented interface , most [ 1 ] seaborn functions take an ` ax ` parameter , to which you pass the Axes object : ` sns.kdeplot ( ..., ax=ax )` .
I say most as there is a distinction between functions like ` kdeplot ` , ` violinplot ` , and many others that plot onto a specific Axes , and more complex functions like ` lmplot ` , ` factorplot ` , etc . that are whole-figure functions and can't be assigned to a specific Axes or Figure .
I want to draw a 2d histogram with python .
Use the " animation " feature of matplotlib , like in #CODE
Also your xlim and ylim are wrong .
I'm creating a subplot figure with 2 columns and a number of rows .
When using ` yticks [ 0 ] .label .set_visible ( False )` , the ` label ` refers only to the left side labels , so the right side labels stay unchanged .
( and the same for ` yticks [ -1 ]`) .
for legend boxes in matplotlib it is possible to set the anchor point on the canvas and the anchor point of the legend box itself with the following : #CODE
So like Log ( data ) Vs Log ( counts ) and the axes themselves shouldn't be logged .
I'm using matplotlib to plot some data that I wish to annotate with arrows ( distance markers ) .
If you're just looking to move the arrow you're drawing vertically , the API for ` annotate ` is #CODE
so you can draw something like #CODE
You can also specify coordinates as a fraction of the total figure size in ` annotate ` ( see doc ) .
The axes directions look opposite though , but this could probably be solved playing with the signs / order in this transformation matrix .
It seems , that putting a small negative number ( e.g. - 0.0001 ) instead of zero in the third column of the last row helps avoiding matrix singularity problems , and solves a strange inversion of axes direction .
matplotlib get all axes that a given figure contains to apply some settings
I'm writing a function that modifies the axes size and position on a figure , but when comes twin axes it makes a problem : #CODE
Can't save matplotlib animation
I am trying to get a simple animation saved using ffmpeg .
My first attempt would be to put the install path ( directory ) to ` ffmpeg ` into the windows ` Path ` environmental variable .
for some animation " anim " i use on windows : #CODE
And I make a filled contour with : #CODE
You can set the min and max xlim using nanmin and nanmax : #CODE
how do I draw selfloops using Networkx and matplotlib in Python
Is it possible to draw them somehow ?
I think scatter plot is faster #CODE
For example , I wish to create an Axes object by directly calling the constructor .
Searching through the superclasses of ` Axes ` doesn't yield anything useful .
Second , you should not be creating ` Axes ` objects directly , you should be creating them using the methods in ` pyplot ` , ` mpl_toolkits ` , or hanging off of figure objects .
There is a lot of internal plumbing that needs to be set up when you create an ` Axes ` that 99.99 % of users shouldn't worry about .
I also tried to add the exact path from the matplotlib to the Path variable but that resulted in another Error .
matplotlib colorbar in each subplot
I would like to add a separate colorbar to each subplot in a 2x2 plot .
There it is shown how to get the following plot with four individual colorbars for each subplot :
Matplotlib ylabel with subscript rotation does not work
I want a subscript in my ylabel , so I used : #CODE
The ylabel is horizontal .
I also had something similar happen when I was doing the same thing with legend labels , so I'm guessing that any solution to this problem will solve that as well .
Picking from matplotlibs colormaps is probably a good start .
The link shows all of the preset colormaps .
Below are the sequential colormaps from matplotlib ( taken from the reference above ) .
Adding clf works but I lose axes dimenions : #CODE
Ok , it works but I lose axes dimensions .
But as you can see axes scale are not the same before and after ` imshow ` .
If you want to plot the histogram on a range larger than ` [ x.min() , x.max() ]` you can change ` xlim ` propertie of the plot .
Setting color of Circle Patch in matplotlib ?
Setting the color or a Circle patch directly is not supported through class methods as we might assume ; #CODE
` setp ( artist , key=val )` does , more-or-less ` getattr ( artist , " set_%s " % key ) ( val )` .
Are you looking for ` scatter ` or ` groupby ` ?
@USER : Upon looking at his question further , I think he wants each pair of xn and yn to have a uniform color , scatter changes all the colors slightly .
So I don't think he wants scatter .
I was thinking scatter .. unless groupby is a better option though I'm unsure what that does !
However , when I iterate , I get tons of extra lines that don't correspond to anything in my legend , and it's really confusing me .
Python / Matplotlib Inverse Fill of Polar Plot Polygon
@USER I found that legend for the " net " ( orange line ) is not printed out .
If I do this : plt.legend ( loc = ' lower left ') The new legend still consists of price and cost only ..
You have to add a ` label= " net "` to the plotting call for the line , and afterwards do ` plt.legend() ` to redraw the legend .
How to efficiently alter the color in an animation of patches circles in matplotlib ?
I am creating a visualization for a networking routing simulation , where the network is represented by 2D circle patches in matplotlib .
I am using Matplotlib's animation to show the simulated routing .
Currently , my animation is as follows : #CODE
You can change the color of objects in a patch collection by setting the collection's color map and then changing the image array with set_array at each step of the animation .
Maybe xlabel ( ' A ') , ylabel ( ' 1 ') etc ?
As mentioned in the comments , you can do this with xlabel and ylabel by only labeling axes on the left and bottom of the figure .
You can scale your z values to fit this range with Normalize .
I have the following gridded plot , and would like to draw an arrow ( shown in blue using MS paint ) .
I want to keep this as a line , instead of a scatter plot or histogram .
If I just try to plot the collection in ax1 it works fine , but as soon as I add the line of code to add the collection to ax2 as well I get a figure generated with the subplots and the data correctly displayed but no patches .
You may need to create two collections : #CODE
They are indeed linked to an axes .
If you ` import copy ` , you can use 1 collection and add it with : ` ax1.add_collection ( copy.copy ( collection1 ))` , you can add the same collection to other axes in a similar way .
Collections have a ` _transOffset ` property for their placement which prevents them from being in multiple axes at once .
` collection1._transOffset = ax2.transData ` , that would * move * it from the first to the second axes .
The workaround I found was to just repost that line within the code block for each subplot .
Python - Axis limit in matplotlib
To make the legend look smaller so that it does not block your image , you can do #CODE
But I also admit that I don't quite get how axes and subplotting works .
I am quite sure that the issue is : you are calling ` ppl.scatter ( ... )` , which will try to draw on the current axis , which is the 1st axes of 2 axes you generated ( and it is the left one )
I ended up with a scatter plot in each of the two subplots , but now all the prettiness from prettyplotlib is gone .
I think you can actually pass an ` Axes ` object to the prettyplotlib functions , so you don't need to mess around with making them " active " .
Change axes ticks of quiver - Python
So , I'm wondering how can I perform what I explained here to change the axes ticks .
Instead of ylim and xlim being [ 0 , 5 ] I have [ 0,128 ] .
I don't know the specific reason why that happens , but I've posted a workaround using ` FuncFormatter ` instead of ` xticks ` .
I am reading a file in chunks and scatter plotting data from it , and I would like to " animate " it by updating the scatter plot for each chunk in a ` for ` loop ( and also adapt it to a live stream of data ) .
Can you write an example of how to use a custom colormap and update the scatter colors ?
Sorry , been busy recently , ` scatter ( x , y , c=alpha , cmap=cdict4 , linewidth=0 )` just get rid of the edge .
I am updating the colours in a loop ( animation with fig.canvas.draw ) and found that doing this on each iteration works :
where scat is the scatter plot and speedsList is the data from which to draw the colour info .
The solution I found for this involves using Normalize to make a normalised colour list based on the relevant data , mapping it to a ScalarMappable , and using that to set the face colour and c limits on each frame of the animation .
With scat the handle of the scatter plot and speedsList provides the colour data : #CODE
I am trying to plot a field ( contourf ) with a range from -40 to 36 with the colorbar gist_rainbow_r with 52 discrete steps .
So , to be clear : Set " spacing " to " uniform " ( and not equal - by looking at colorbar.py I noticed that this setting did not exist at all ) and pass " levels " to the contourf function .
How to tell ` seaborn ` plotting functions like ` lmplot ` which ` Figure ` or ` Axes ` it plots to ?
" Axes-level " functions , including ` regplot ` , ` boxplot ` , ` kdeplot ` , and many others
The first group is identified by taking an explicit ` ax ` argument and returning an ` Axes ` object .
As this suggests , you can use them in an " object oriented " style by passing your ` Axes ` to them : #CODE
Axes-level functions will only draw onto an ` Axes ` and won't otherwise mess with the figure , so they can coexist perfectly happily in an object-oriented matplotlib script .
The second group of functions ( Figure-level ) are distinguished by the fact that the resulting plot can potentially include several Axes which are always organized in a " meaningful " way .
It also exposes the underlying figure and array of axes at the ` FacetGrid.fig ` and ` FacetGrid.axes ` arguments .
The answer to this question suggests that I play around with the ` set_ylim ` / ` get_ylim ` in order to align two twin axes .
The twin axes should be the same , but they are not .
you're clearly manipulating the axes in more than the 5 lines shown .
The problem is the ` plt.ylim ` line which applies to only the current axes , hence they are not lined up because you instructed the library to have them not lined up .
@USER So I should set up the axes to have the limits set to them manually ?
As tcaswell points out in a comment , ` plt.ylim() ` only affects one of the axes .
I mean just three axes : ` x , y , z ` , z being shown in color-code .
Arrow sizes were too big , this : #CODE
I tried specifically closing the axes ( ` ax1 ` and ` cbaxes1 `) and explicitly using ` del ` on all of the variables ( which had the effect of removing the +3 list after closing but increasing the +2 list after saving to a +5 list ) .
How can I put colorbars beside each colormap that is in a subplot ?
The colorbar method has an optional keyword argument that allows you to specify the axes it is associated with .
I am struggling to set xlim for each histogram and create 1 column of graphs so the x-axis ticks are aligned .
I have tried the following , but the xlim edit on the subplot does not seem to translate the bin widths across the new x-axis values .
The subplot structure is very helpful , but the graphs are still in two columns .
However , the bin setting seems to only apply to the range of data not the entire interval that we display using xlim .
Yeah , you can use both , sort of like the ` breaks ` argument in ` R ` ` hist ` .
For example , if the code was Python , I would import it and some helper functions into an IPython command line and draw things using Matplotlib .
Matplotlib scatter plot aligns to right
I have a issue plotting with scatter plot hourly and daily data .
This fixed the issue : scatter = ax.scatter ( testi55.index.date , ...
Adding a legend outside of multiple subplots with matplotlib
I am trying to add a legend in the bottom right corner but am having some trouble .
I tried adding a new subplot in the bottom right and adding a legend only to it but then had an empty subplot behind the legend .
This is where I'm standing now but want the legend in the bottom right corner regardless of where the last subplot is .
I tried using the answer given here but the legend I get that I try to place on the bottom of the figure is placed under the last subplot I call .
So that if I have 10 subplots in a 3x4 grid the legend will be under the last subplot which will be the in the 2nd place of the bottom row , but if I have 19 subplots in a 4x5 grid the legend will be under the subplot which will be in the 4th place of the bottom row .
Reading this more carefully , your original approach is correct , just hide the frame / axis on the last subplot .
After trying that I got stuck with a white empty subplot on a grey background .
I guess I'll start another question about how to make a clear / invisible subplot
I ended up adding an extra subplot which I removed the frame and axis of , then plotted nothing to it and added a legend #CODE
This left me with only the legend in the bottom right corner regardless of how many subplots I actually had .
This adds the legend to the figure instead of the subplot .
Matplotlib Radio Button Scaling
I adapted the code as follows with an adjustment of axes height to accommodate more buttons : #CODE
However the buttons start to overlap , and increasing the axes height just makes them larger , but not correcting the overlap .
I have tried to use matplotlib's animation feature but it is advanced beyond my current knowledge .
Unfortunately you will just waste time trying to get a clean solution without either using matplotlib's animation feature or using the matplotlib OO interface .
It would be better to explicitly get a reference to and ` Axes ` object and us the OO interface , rather than rely on the pyplot state machine .
Matplotlib animation + IPython : temporary disabling interactive mode ?
I have a python a script that generates an animation using matplotlib's ` animation.FuncAnimation ` and ` animation.FFMpegWriter ` .
It works well , but there's an issue when running the code in IPython : each frame of the animation is displayed on screen while being generated , which slows down the movie generation process .
I've tried issuing ` plt.ioff() ` before running the animation code , but the figure is still displayed on screen .
How to draw a matrix sparsity pattern with color code in python ?
I am using spy from matplotlib.pyplot to draw the sparsity pattern of a csc_matrix from scipy.sparse like this #CODE
To have a better overview of my code I would like to define the options once and call them for each subplot .
but you need to carefully choose your weight ` factor ` , as the angular difference is on a different scale as your ` X ` and ` Y ` axes , I guess .
( and delete ` x=0 ` and ` x+=1 ` if you're using them to position your legend )
My ultimate aim is to make it look legend like where the symbol ( angled box ) appears beside the text that represents it .
Why don't you just annotate with the angled box and with the text separately ?
when I annotate with angled box and make the text empty like below , I lose the box as well.legend_ax.annotate ( "" , xy =( 0.5 , 0.5 ) , xycoords= ' data ' , xytext =( 0.5 , 0.5 ) , textcoords= ( ' data ') , ha= " center " , rotation = 180 , bbox =d ict ( boxstyle= " angled , pad= 0.5 " , fc= ' white ' , lw=4 , ec= ' Black '))
In general , once you have adjusted the axes so that the data fills up all possible space , you can't do too much about the squishing except color different curves differently , and put a legend .
You can also try setting the y-limits of the plot using ` ylim ` #CODE
How to get the x and y values out of the Groupby object and plot a contour ?
which leads to this beautiful contourf :
I've run an example code of an animation from website of matplotlib.org .
However , I want to change the scale between the x and y axes , ie I want to zoom in more on the xaxis .
After this , use the xlim() and ylim() to set the extents of the axes without changing the size or shape of the inset box .
It seems to me like the subplot API is limited compared to the PyPlot API : for example , I can't seem to make custom axes labels in my subplot although it is possible using PyPlot .
My question is : Is there a richer subplot API besides the tiny one on the PyPlot page ( #URL ) , and / or is there a way to get the full functionality of a PyPlot on a subplot ?
Basically , what is a ` subplot ` ?
Even more generally , when should I use a ` figure ` vs an ` axis ` vs a ` subplot ` ?
A ` figure ` can contain many ` axes ` and the ` subplot ` methods are just a convenient way of creating the ` axes ` .
You have it backwards , ` pyplot ` is the limited api , talking directly to the ` Axes ` objects is the full api .
While i suggest that use the axes methods , there is the plt.sca function ( set current axes ) .
Therefore , I'm guessing you're referring to the ` ticks ` and ` xlabel ` sharpness .
For example , if ` x=array ([ 1 , 2 , 4 , 8 , 16 ])` and ` y=array ([ 1 , 2 , 1 , 2 , 1 ])` , I would like to assign labels to the xticks which will be the result of the following string formatting : #CODE
Matplotlib : Adjust legend location / position
One of these subplots is giving me some trouble , as none of the axes corners or centers are free ( or can be freed up ) for placing the legend .
What I'd like to do is to have the legend placed somewhere in between the ' upper left ' and ' center left ' locations , while keeping the padding between it and the y-axis equal to the legends in the other subplots ( that are placed using one of the predefined legend location keywords ) .
I know I can specify a custom position by using ` loc =( x , y )` , but then I can't figure out how to get the padding between the legend and the y-axis to be equal to that used by the other legends .
Would it be possible to somehow use the ` borderaxespad ` property of the first legend ?
What I'd like is that the legend in the right plot is moved down somewhat so it no longer overlaps with the line .
So what I am now doing is basically getting the coordinates from the subplot .
I then create the legend based on the dimensions of the entire figure .
Hence , the figure size does not change anything to the legend positioning anymore .
With the values for ` x_value ` and ` y_value ` the legend can be positioned in the subplot .
` x_value ` has been eyeballed for a good correspondence with the " normal " legend .
` y_value ` determines the height of the legend .
I thought it would get the bounding box for the first legend , but if you plot ` ax [ 1 ] .legend ( loc =( bbox.x0 , bbox.y0 ))` the second legend appears at a seemingly random location .
What I meant is that I do not want to have to eyeball any values , but use values intrinsic to the plot ( axes / figure ) .
Figure size will not matter nor do you have to figure the value out .
From the matplotlib legend wiki , I did not realize I could set the legend coordinates using relative plot coordinates similar to the text command .
And then set the legend with : #CODE
Everything behaves exactly the same and the texts in the legend are just normal ` Text ` objects .
You can set alpha when using ` annotate ` to add the text to your figure .
I am actually trying to change the transparency of a text that belongs to a legend ...
If you want to set alpha on the legend text , you should have said so : #CODE
Side note : Because I can never remember where exactly to find things in the mpl docs , I inspected the legend object .
@USER -1000 Read the documentation on ` Text ` #URL Do not ask _new_ questions in the comments .
However , based on the length of the legend entry ( I assume ) , certain linestyles do not show up correctly .
The only way I've found to change how the linestyles render is by changing the fontsize of the legend items ( hence my assumption that this is due to the legend entry length ) .
I'd like the legend text to be a size or two smaller , but this makes the linestyles even worse .
if you want legend to be smaller , you can try plt.legend ( loc = ' best ' , prop={ ' size ' : 11 } )
I actually found a way reproduce some of the undesired behavior when I decreased the font size of the legend .
So the problem is your xlim definition , as you set xlim ( 0 , 1 ) you will not see the plot as your x values go from 1 to 11 .
Comment out xlim and you'll see it .
Discretized continuous Fourier transform with numpy
is there a way to have the groups populate the legend ?
I populated the legend using ` plt.legend ([ v [ 0 ] for v in pr.groupby ( ' template ') [ ' template ']])` , which is messy but it works ( groupby returns an iterator of data frames , within each data frame all values of `' template '` are the same so we just take the first ) .
You can add the legend according to the groups with : #CODE
For some reason , when I draw lines , there is overlap if they are close enough together ( but not overlapping ) .
Or if you want , a quick dirty solution is just to draw a small white circle marker of size=1 at ` ( 10000000.5 , 3 )` .
I'm trying to continuously read from a file and plot using ` matplotlib ` as a way to create a bit of an animation .
Pandas / Matplotlib - Multiple graphs on 1 PDF , and inserting a pre-existing figure / plot into a subplot
Is it even possible to display pre-built figures in a subplot ?
Is there some built-in function to just plug a figure into a gridspec subplot and resize it to fit that subplot ?
Using matplotlib animation with arrays as input
I'm making an interactive Partial Differential Equation Solver in python ( I could draw or modify the field in any moment ) .
But , the function animation need a generator with the data , I can't use an external function generating the data independly of the animation ( I need to turn off the animation with the simulation still running ) .
For example if you can calculate 100 frames every second , and an animation only need 20 frames per second .
Then you can make a multi process application , one process do the simulation and send data to an other process to show the animation .
That is the idea , but animation.FuncAnimation use a generator to do the animation , but , I want only use an array as input , and make the animation updating the screen .
then the particle scatter plot will be on the same axis .
How to get a list of axes for a figure in pyplot ?
I am trying to understand the documentation for the Matplotlib API related to the Figure Figure API .
The AxesStack is a callable , where ax_stack() returns the current axes
It seems that ` get_axes() ` returns two object , AxesSubplot , and Axes .
( So if I add more axes to my figure , then I can get a list of them )
Becareful about capitalization , ` AxesStack ` is a class in the module ` figure ` , the ref ` fig ` points to a ` Figure ` object .
The property ` axes ` returns a list of the ` Axes ` objects in the ` Figure ` object : #CODE
So both ` AxesStack ` and ` Figure ` are classes in module ` figure ` .
But the returned ` fig ` object from ` pyplot ` does not use any ` AxesStack ` object to represents its axes ?
` fig ` is a ` Figure ` object .
Normalize the input data and scale it
matplotlib two different colors in the same annotate
I don't think you can have multiple colours in a single annotation , since as far as I know ` annotate ` only takes one text object as parameter , and text objects only support single colours .
I manually changed the positions until they were roughly overlapping with the black text generated by ` annotate ` ( which ended up being the values you see in the two calls to ` text `) ;
You can add an additional subplot and plot the points with the error bars .
These are typically called " contour plots " or " heat maps " in matplotlib .
Strange error with matplotlib axes labels
I'm trying to plot a graph and label the axes , but every time I try to label the y axis an exception is raised .
However , ylabel comes up on the drop down list for ylabel so the function does exist and the documentation says a string is the only necessary argument , exactly as for xlabel ( matplotlib.pyplot.ylabel ( s , * args , ** kwargs ) and matplotlib.pyplot.xlabel ( s , * args , ** kwargs )) .
Your code runs fine for me , with those strings in either the ` xlabel ` or ` ylabel ` interchangeably .
If that doesn't work for you , perhaps you can try using figure and axes objects , like this #CODE
So , what would be alternative to tight_layout to get plots fixed to figure with no large empty margins ?
I am trying to make a scatter plot with some data points ( x , y , z , radius ) and this is my result up to now : #CODE
Matplotlib legend
I work with this example to enable picking on the legend : #CODE
What i want to know is this : how to modify this program to have only a window with the legend at the start of the program ( by allowing to pick on the legend to show the plots )
add label to subplot in matplotlib
You can use ` annotate ` , but you'll need to set the correct limits so they are in the " upper right corner " .
If you call the annotate commands after you've made all the plots , this should work since it pulls the limits from the axis itself .
matplotlib scatter plot np.choose Value error
My problem is that the scatter points and the boxes don't always overlap ( upper left corner ) .
Also , I changed the fourth argument of ` scatter ` to ` c=z ` so that you can see the actual values of the scatter points .
@USER , ` $ ` tells ` matplotlib ` to draw a ` mathtext ` .
You could have the line's equation : in a box on the side ; floating in the middle of the plot ; with an arrow pointing to the line ( see below ); written along the line ; as a title ; as a caption ( ie , in the text that usually occurs below the plot -- this would be the most common approach ); or as a boxed legend in the plot ( eg , with different colored lines titled with different colors ) .
To do this , use ` annotate ` : #CODE
I do have an idea how to do it more generally using the Hough transform , I will try to get something back here but it may take a while .
How can I " get " all the legends to change ( for example ) the color and linestyle in the legend ?
` handles , labels = ax.get_legend_handles_labels() ` only gives me the " first " legend , which I added to the plot with ` plt.legend() ` .
You can get all children from an axes and filter on the legend type with : #CODE
If i add more legends like you mention , i see multiple ` Legend ` children , but all are pointing to the same object .
The axes itself keeps the last legend added , so if you add the previous with ` .add_artist() ` , you see multiple different legends :
You can also store the lines ( or other types ) yourself separately from the axes .
Axis and tick labels are bold when they shouldn't be - Matplotlib
That plot has the line ` plt.ticklabel_format ( style= ' sci ' , axis= ' y ')` to give that , but adding that line to other plots doesn't make a difference to boldness .
This is a known bug which has been fixed ( can't find issue quickly .... problem was 0 height patches were not taken in to account what computing the data lims ) .
The matplotlib window looses interactivity and turns into " Figure 1 ( Not Responding )" .
Try this first , instead of the above join code : #CODE
My question is how can I transform the output of OneHotEncoder to use in my regression ?
Unfortunately , as noted by eickenberg , you cannot plot all of the X features against the Y value using matplotlibs scatter call as you have , hence you get the error message of incompatible sizes , it wants to plot n x n not ( n x m ) x n .
Assuming you have standardised your data ( subtracted the mean and divided by the average ) a quick and dirty way to see the trends would be plot all of them on a single axes : #CODE
I think the contour plot with ` nearest ` is in the right direction , isn't it ?
creating a matplotlib scatter legend size related
I am looking for a way to include a ( matplotlib ) legend that describe the size of points in a scatter plot , as this could be related to another variable , like in this basic example : #CODE
so in the legend there would be ideally few spots corresponding to sizes 0-400 ( the ` a2 ` variable ) , according to ` s ` descriptor in ` scatter ` .
thanks ; this still has the limitations to has a label for each bin , i.e. more bins means more legend lines , unless most of the label will be then not included in the legend
If you wish to plot some points without assigning them a place in the legend then you can assign a label of `" _ "` which will mean they're not added to the legend .
For example I could replace " Small " and " Large " with " _ " and then the legend would just be [ " Tiny " , " Medium " , " Huge "] .
I have several images as 2d arrays and I want to create an animation of these images and add a text that changes with the image .
So far I managed to get the animation but I need your help to add a text to each of the images .
I have a ` for ` loop to open each of the images and add them to the animation , and let say that I want to add the image number ( ` imgNum `) to each of the images .
You can add text with annotate and add the ` Annotation ` artist to the list artists that you pass to ArtistAnimation .
Now , I fix that problem by setting xlim to open up some space on either end of the x axis so that the error bars are plainly visible , but then I have an offset from where the x labels are to where the actual x data is .
right after the xlim statement in code from original question .
Because there is no boundaries info in the data itself , I would like to draw the coastlines over this figure .
To create the two axis I have manually created two matplotlib axes objects ( ` ax ` and ` ax2 `) which will serve for both bar plots .
When plotting a Dataframe you can choose the axes object using ` ax= ...
create all the bars in left axes
move some bars to the right axes by change it's ` transform ` attribute
The height and width of the displayed image on the screen is controlled by the figure size and the axes size .
Axes #CODE
The size of the axes within a figure can be controlled in several ways .
I used subplot above .
You can also directly add an axes with axes or with gridspec .
I have written a small GUI program with Tkinter because I like the ability to queue updates to the mainloop for successive item updates in order to create an interative animation of changing circle colors that are induced by data changes .
( this is something I have found matplotib to not play nicely with , i.e. if I use patches and I want to update the color of the patch I have found that I have to add a new patch on top of the existing patch , which leaves color residue )
I want to plot , on the same axes , the time series of each of the 6 variants ( 3 strategies * 2 trading costs ) .
Note that the only thing that actually needs to be under the ` with ` block is whatever you are doing to create the ` Axes ` object ( i.e. ` plt.subplots ` , ` fig.add_subplot() ` , etc . ) .
And a method on the Axes which uses it : #CODE
For example " Zoom Rectangle " tooltip appears on all windows ... and doesn't go away until I have closed python and matplotlib .
So far I have a two-dimensional figure of a sphere projection , which I generated using contourf , and pretty much boils down to an ordinary heat map .
I want to draw the surface , then specify the colours with the data I have .
` axes [ i , j ] .set_ylim ([ min , max ] , auto=False )` will set the y-limits of the plot in the ` i , j ` th plot .
You can perhaps loop into your ` AxesSubplot ` objects and call ` autoscale ` passing the ` axis ` parameter : #CODE
In many situations , I find it convenient to place square axes on a figure so that I can easily work in ` transAxes ` units without having to worry about the aspect ratio of the figure .
However , one problem I'm having is that when you draw a line , the linewidth extends ` lw / 2 ` points in either direction from the path .
This is the normal , expected behavior , of course , but it causes the problem that if I'm trying to inscribe something into some axes ( and use all the space in the bounding box ) , the lines will clip on the edge of the axis .
I can set ` clip_on=False ` , but that just makes it so that the figure I was trying to inscribe in the axis exceeds the boundaries of the axes .
My question is this - how do I transform between the " linewidth " spec ( in points ) and the ` transAxes ` units , so that I can compensate for the additional length / width of the shapes ?
Clearly there's no problem inscribing filled circles in the axes .
While I would also be interested in knowing if there's a flag or something I could set to draw the line on a certain side of the path ( e.g. draw the line on the inside of the path rather than centered on the path ) , I'm primarily interested in how to convert from ` lw ` to ` transAxes ` units , because I have essentially the same problem when trying to calculate the amount of space I need to accommodate a font of a given size .
My thought were to use ` set_clip_on ` somehow or a custom artist , but I haven't made much progress .
Here is my approach , basically first calculate where the label `' 0 '` is , then draw a new axis there using absolute coordinates , and finally put the image there : #CODE
You can use ` twiny() ` to create a second axes that share yaxis with the bar axes , and draw line curve in this second axes .
Just wanted to add that making x = [ 0 , 8 , 24 , 72 ] still spaced the points at different distances and just removed all numbers on the x axis except for the four in xticks .
How to reduce horizontal subplot spacing when tight_layout fails ?
The interaction with pandas might mess up xticks , so I'd probably just use straight up matplotlib .
I don't understand what matplotlib does with the axes returned by the function to update them .
I'm working with live data coming from outside sources and I want the refresh rate to be synced with that data .
It looks like you're not properly initializing the 3D Axis .
Then , try adding a subplot to your figure , instead of accessing the current axis : #CODE
I try to use the registry patches provided [ here ] ( #URL ) , in an attempt to fix the registry ...
Matplotlib - scatter on top of regular plot
I also want to scatter another time series , on the same figure , with the same axes and scale , something like #CODE
Edit : This works , but I am getting 2 different pairs of axes : #CODE
I am getting different axes .
You can also plot directly to the axes of your choice , so the following will give the same plot as above : #CODE
For ax = plt.figure() .add_subplot ( 111 ) , you can add as many scatter / plots without plt.hold ( True ) ?
In other words , ` pyplot ` commands will always try to make a new ` figure ` / ` axes ` unless you tell it not to .
[ soapbox ] This is exactly why ` pyplot ` should be avoided when methods of the ` axes ` objects are so easily accessible .
@USER : whether the original solution would work depends on the " hold state " since the OP never directly plots to the axes ( eg , by using an axes object ) , and since the original approach didn't work , apparently , hold was False .
I'm scatter plotting values from pandas dataframe .
I would like to annotate points only if the value is greater than 100 .
I can get the code to annotate with the respective y-value but not the but not with the respective name ( a third df column ) .
The plot is created like this : ` plot = mean.plot ( legend = False , figsize =( 20 , 10 ) , kind = ' bar ' , yerr = std.Ozone , error_kw =d ict ( ecolor= ' black ' , lw=2 , capsize=5 , capthick=2 ))
I want to plot a wirerframe and a scatter plot in the same plot .
This script just gives the scatter plot .
When you ` add_subplot ( 111 )` again , you override the previous subplot .
Just don't do that , and plot on the same axes twice : #CODE
Matplotlib : ensuring full dash pattern appears in legend
Note that the dash style for the dot-dash line ( the third in the legend ) is very difficult to interpret .
I have been able to fix this by changing the legend fontsize to ten , resulting in , but this is too large for my actual figure .
You can change the length of the lines in the legend ( without changing the font ) by setting the ` handlelength ` keyword .
How to share x axes into a loop ?
I create plots using a loop and I would like these plots share their x axes .
I would like all subplots share the x axes .
What do you mean by " share the x axes " ?
All x axes will span the same extent ( because of the data ) but if plots share x axes , if I zoom in one plot it will zoom also in other and that is the behavior I would like to get .
` subplot2grid() ` returns an ` Axes ` object , use it's ` figure ` attribute to get the figure object : #CODE
Bar Graph with Legend without Colors
I was hoping to include the labels in the legend , but cannot figure out to remove the color from the legend ( including the color makes the legend cluttered ) .
You can create a legend that doesn't show the color or any marker by making a plot with no markers or lines and associating the labels with that plot .
You could also use text instead of legend since you don't need the text associated with markers .
Also adjust the ` handletextpad ` so the text is well centered in the legend box .
For example , replace your legend line with the following : #CODE
I quess I have to use the backend / rendere to draw the object but how do I do that ?
Most of matplotlib's drawable objects ( markers , axes , etc ) are in vector format .
These objects are subclasses of Path .
Example : I draw a circular marker ' bo ' .
I cannot just draw a circle and color it blue .
This case is similar how the legend draws its symbols .
Basically create an empty figure and draw the Path in the center to that canvas .
custom axes layout using axis_grid toolkit
If I use the above code to create 3 axes like in ( 4 , 5 , 6 ) , the main axis ( ax4 ) is hidden behind the other two on the right ( see figure below and this gist ) .
I'm not sure you can do this with only ` AxesDivider.append_axes ` since according to the documentation that method " create [ s ] an axes at the given position with the same height ( or width ) of the main axes .
" You want axes on the right that have different heights than the one on the left .
You can use ` gridspec ` and ` Subplot ` to get an axes on the left with an aspect ratio of one and a pair of axes on the right that line up with the top and bottom of the left axes .
When this figure is resized the top and bottom of the right axes will still line up with the top and bottom of the left axes .
I'm guessing that you mean the resize behavior is " better " in that the top and bottom of the left and right axes are always aligned .
But when I use twinx for a second axes the colororder is reset : #CODE
Note , that you need to only append the first entry of the ` matplotlib.lines.Line2D object ` , hence the ` [ 0 ]` at the end of ` ax.plot ([ 1 , 2 , 3 ] , [ 4 , 5 , 6 ])`
Adding information to a legend with Matplotlib
I have a plot , of an group of applications uplink / downlink , the distribution is shown with CDF , and I want to improve the plot by adding more information in its legend , for example , I want it to show me the number of point of each variable ,
Basically what you want is to display additional info with the legend - that's a valid question , and you will increase your chances of getting an answer quickly if your answer and code are concise and to the point , not just the entirety of your code .
Just append it to your ` labels ` list components , which determine what will be eventually displayed .
I've taken the code to draw a rectangle over image form here , and modified it a little bit to suite my purposes .
When I draw a matplotlib graph , I always like the border box there but sometimes some data maybe hide by the border .
So I wish I can draw the border just a bit away from the valid data .
are you just trying to adjust the limits of the axes ?
do you want more space in the margins between the axes and the edge of the figure or more space between the artists and the axes ?
Matplotlib should happily draw with them on the x axis .
Is there a way to make matplotlib scatter plot marker or color according to a discrete variable in a different column ?
df.plot ( kind = scatter ( x , y , color = df.Group , marker = df.Head )
I am running an animated scatter in a process .
You can use the ` set_position() ` method of the ` Spine ` class : #CODE
I m plotting with contourf before im using meshgrid and griddata , the the other edges are not smooth how can i smooth them ?
You can smooth the contour values doing : #CODE
offset one of matplotlib's legend items
The legend labels will be something like ' iteration 1 ' , ' iteration 2 ' , ' iteration 3 ' , ' iteration 14 ' .
` loc ` allows you to choose the position of the legend .
Lets say ` leg ` is the legend object , you can move some part of the legend .
For instance if you want to move the second line ( ` [ 1 ]`) of the legend : #CODE
Step by step , you can set your legend .
I had a brief look inside the legend object but cannot guess how to fix this .
Yes , you need to access the other object of the legend ( text , and so on ) .
By default , matplotlib tries to choose " even " numbers for the axes limits .
Also the parameter label of a plot doesn't actually show anything unless you add a legend to your plot , so after that you will have to either call : #CODE
Or create an xlabel or ylabel instead of labeling the plot : #CODE
You can add an axes to a basemap with inset_axes .
How to plot proper 3D axes in MayaVi , like those found in Matplotlib
I would like to know how to have proper axes on a 3D surface plot in MayaVi .
The best axes I could create looked something like this ...
I would like the axes to look something like this ...
These axes look much more professional and are easier to read than the default MayaVi axes .
Your question is basically " I do not like the default mayavi axes , how do I get better ones ?
The answer to your question is that this is how the axes look in VTK .
I hacked a bad workaround by not displaying the mayavi axes , but plotting the axes I needed myself using plot3d() #CODE
@USER - Either interactively zoom or use ` xlim ` .
The xlim works to a degree .
Unfortunately , my implementation so far , has led xlim to cause the window to remain at 1-10 regardless if there are data-points beyond it .
However , when I use the ` scatter ( t2 , yy )` command instead of ` plot ( t2 , yy )` , it gives an error :
Why is this happening and how can I show a scatter along with plot ?
what do you wish to accomplish with ` scatter ` that ` plot ` can't handle ?
I ask b / c conceptually , I don't think that scatter is appropriate for a time series -- but that's a pretty arbitrary distinction even in my own mind .
Like what you did above with the words scatter and plot .
Legend format lost after using : ax.legend ( handles , labels )
I have the same problem as in this post : Where the user wants to delete repeated entries in the legend :
Stop matplotlib repeating labels in legend
The answer works for me as well , however , when I use it , the legend format is completely lost .
I wanna draw something like this :
Of course the axes can be fiddled with more precisely , like creating your own scales , ranges , and ticks-marks ; all you have to do is spend some time doing examples from online and reading the API documentation .
I am plotting patches according to values set in the variable values .
For collections , the facecolors are either manually set ( i.e. ` set_facecolors `) or they're colormapped to a range of values ( ` set_array `) controlled by a colorbar .
How to make matplotlib draw discontinuous line segments ?
Axis bug on Pandas groupby boxplots
I'd like to make boxplots of ` count1 ` , ` count2 ` , and ` totalcount ` , grouped by ` season ` ( there are 4 seasons ) and have each set of box plots show up on their own subplot in a single figure .
This is called a boxplot , or often a " box and whisker plot " .
This looks a lot like a boxplot to me .
( The first one should draw the same but with dots . )
Your problem seems to be with the axes .
Another way to specify the transparency is when you create the subplot : #CODE
` table._cells ` is a dictionary of cells ( which are built on the ` Rectangle ` class ) .
The first is that although you have ` ax.axes ( ' off `) , this just turns off the drawing of the lines and labels in the axes , but doesn't remove the axes , and this is causing all the white space below the table .
To solve this , I don't know how completely turn off the drawing of the axes , but a kludge is the make the aspect ration smaller than the table , and then expand the table but the same ratio ( see example below ) .
For the colors , it needs to be kept in mind : 1 ) that the axes color and figure color are different ( eg , in the usual gui display , the figure color is gray and axes are white ); 2 ) the figure color in saved figures is different than the displayed figures , and this needs to be set directly in ` savefig ` .
Instead , I use matplotlib axes , as follows : #CODE
The matplotlib ` hist ` is actually just making calls to some other functions .
However , I would like to display the RA / Dec ( phi / theta ) tick labels to the axes .
I realise that I could have plotted the mask simply using healpy.visufunc.mollview function , but I would like to add other datasets to this plot as scatter points and I think using projaxes provides a scatter function to do this .
You can use matplotlib's colormaps to map values to colors for the nodes .
Matplotlib wrong colorbar assigned to subplot
When I use it on subplots in non-sequential order ( e.g. subplot 2 followed by subplot 1 ) the wrong color bar gets plotted on at least one of the subplot axes .
The only difference between these two function is the order in which they plot to subplot axes .
Why does the order in which I plot to subplot axes matter ?
I think that way it specifies not only the axes but the mappable input .
When I am using pylab in ipython notebook I try to close a figure and nothing happens except the toolbar with the pan and zoom options disappears .
And further use those drawings in an animation : #CODE
Actually this is what i want to do : a dynamic animation , when I try to use ` im = plt.imshow ( f ( x , y ))` with one of the drawings I have , it gives this error : #CODE
I hope I was clear enough , this is my first time with animation and plotting tools .
Here is a dynamic animation ( that works in iPython notebook if you want to see it that way ) .
I tried it myself with ' plt.ion() ' and ' plt.show() ' with ' clf() ' , python display crashes for some reason , and that does not help me saving the animation , any ideas why ?
That example in matplotlib website uses a function to create every image , which outputs an array . matplotlib.animation.ArtistAnimation needs an numpy array or png image to create an animation .
In my case networkx outputs collections , which I cannot use , so I have to save them as png .
My original question was how can I convert the collections to arrays or sth equivalent to png without saving every new image ; so that I can use it to create a video .
Using Matplotlib axes in more than one class method
I've written a class for each object and then within that methods to create a ) the axes , b ) plot the raw data c ) plot the model fits .
possible duplicate of [ matplotlib wont draw python3 ] ( #URL )
How to plot text documents in a scatter map ?
X-axis ticks will not update when zoom or pan
My issue is that if I were to zoom or pan , the ticks and their respective values do not update .
How to add a second legend for subgroups in matplotlib scatterplot
It is giving me the colors as I mapped them so that part is working fine , but I have not been able to figure out how to add a second legend to the plot to show what the meaning of each color is .
Basically , you end up making two calls to ` legend ` .
On the first call , you save the legend that is created to a variable .
The second call removes the first legend you created , so afterwards you can manually add it back with the ` Axes.add_artist ` function .
I just have one follow-up : Is it possible to place the second legend ( the one using " add_artist " somewhere beyond the interior of the chart where the data is ?
For exmaple in the chart you show , if I could put the second legend such that its leftmost edge is just a little to the left of the vertical line at x= 2.5 , that would be perfect .
Setting active subplot using axes object in matplotlib ?
These functions work with ` plt.subplot() ` easily , but is it possible to set the active subplot with a given axes object ?
You can use ` plt.axes ` to set the current active axes .
From the documentation : " axes ( h ) where h is an axes instance makes h the current axis .
` plt.sca ` is better as is it just sets the current axes .
If you use ` plt.axes ` does some logic to check if it needs to create an axes .
I basically want the right subplot to have the same height ( and be aligned ) with the left subplot , and have no gap between the two subplots .
While ` subplot ` usually does a very nice job positioning things automatically , you can use ` axes ` to position them manually when you need to .
You can specify the aspect ratio of the plot ( using the ` aspect ` keyword of the ` axes ` method ) in terms of the aspect ratio of the image you are showing .
The snippet below illustrates both the use of ` axes ` and the use of ` aspect ` .
Mark a specific level in contour map on matplotlib
Can anyone give me an example of how to mark a specific level in a contour map ?
And the data for this specific plot can be obtained here dpaste data for contour plot
Take a look at this example from the matplotlib gallery for contour plot functionality .
I suspect there is a better way to do half-infinite patches , but I can't think of it off the top of my head .
If you really want to do this with two idependent axes , something like this would probably work : #CODE
Which is conveniently ideal for contourf .
Can I use Animation with Matplotlib widget for pyqt4 ?
I found this cool animation for Matlibplot and want to add it to my plot widget in a Pyqt program .
I thought I could just add the single def from the animation code to my Form and call the animation the same as above , but alas no .
Here is the animation code : #CODE
Note , that you don't have to use ` ax.hold ( False )` and it is likely that animation will work more slowly when using subplots ( try increasing resolution [ N ] to see difference ) .
I want to use broken_bar to draw rectangles to highlight some portions of the timeseries .
By the way , it should be 9 ticks , not 10 , in ` yticks = np.linspace ( - 0.1 , - 0.9 , 9 )` .
Is there a way to refresh it with the new data every x seconds ?
I think what you're looking for is the " animation " feature .
More details can be found in this nice blog post , the ` animation ` API , or the ` animation ` examples .
I'm pretty sure that once you close a ` Figure ` instance through a GUI or otherwise , it's gone .
Have you searched around for " matplotlib animation " ?
axes , lines = figs [ name ]
I am creating a scatter plot with color map based on some values and I am trying to make part of the x_axis label italic ( inspired mostly by this post -> #URL ) but I am getting a LaTeX error that I can not explain myself , I would appreciate if anyone is able to explain what is going wrong with this chunk ?
Each plot needs to be quite small in order to fit into the figure , but when I scale down the dimensions of the axes , the tick labels for the radial axis look crowded and illegible , and obscure the data I'm trying to plot .
It's a bit of an ugly hack , but it does have the important advantage over @USER ' s answer that the labels will stay in the correct positions relative to the radial axes of the polar plots when the figure is rescaled .
If we check the list of axes inside ` fig ` , the superimposing axis is right there ( check site-packages \matplotlib\ figure.py if you have doubt ): #CODE
Perhaps I'm missing something here , but rescaling the height of the figure after plotting still results in a mismatch between the height of the floating axis and the radial axes of the polar plots .
Likewise , if I change the figure height from 2 to 3 inches before plotting , then again the floating axis no longer matches the radial axes of the polar plots .
Again , this has the advantage that the y-positions of the ticks will stay correct relative to the radial axes of the polar plots when the figure size changes .
I'm trying to build a simple state-tracking function for an Axes instance in Matplotlib .
Every time I create a new axes object ( either directly or through other functions like ` subplots() `) , I want the instance to have a bound method , ` a.next_color() ` , that I can use to cycle through colors as I create new lines to add to the axes .
The problem is that the state variable ` i ` seems to be shared by all ` Axes ` instances , instead of each new instance having its own state .
instance of ` Axes ` rather than the class itself .
Prevent matplotlib from " adding " to axes
3D bar graph increase square area of Bar
Of course the axes as the previous figure and unlike below .
If you want to have something similar to the ` imshow ` example you linked to but with different coordinate axes , you may want to use the ` extent ` keyword of ` imshow ` : #CODE
Set xlim for pandas / matplotlib where index is string
How can I set xlim for the x axis when my dataframe index is of type object ?
if it is a string or not is not relevant because I can't use set_xlim in this case . but margins looks great :) I tried this but seems like I did something wrong .
This is probably another case where ` margins ` would be useful .
I will play with margins first
The ' this ' I meant was the arguments on ` margins ` .
Crazy , I am having most of the problems with axes labeling
This means that if you pan around the tick labels will stay the same , but will be at random positions .
This is the same problem as changing the xlim , the way ` pandas ` sets up the plot initially the tick labels are completely decoupled from the data .
Legend with matplot
How can i write the legend in R for each columns of rOU ?
But probably you don't want the legend to overlay the plot , so what you can do is to modify the margins of the plot to make space for the legend aside of it : #CODE
Use subplots to zoom into timeseries or how I can draw lines outside of axis borders
I found out that I can create the dashed rectangles with ` Rectangle ` .
I haven't found anything yet to draw the lines connecting the plots .
Is there a function that can draw across axis borders ?
We can exploit plt.annotate() to draw lines outside axis borders in figure coordinates .
So how do I plot the 2-D arrays in a scatter plot in ` matplotlib ` I said scatter plot because it'd be easier for me to infer the relationship and move onto appropriate regression model ( linear , non-linear , logarithmic etc ) .
Do you actually have have 3D data with axes location , parameter , year ?
But for the scatter plot : #URL .
For example , to draw red markers instead of blue ones : ` scatter ( x , y , c= ' r ')` If you only want single color per data series , you may also use ` plt.plot ( x , y , ' r . ')` ( ` r ` defines the color , ` . ` that we want separate data points . )
Square shaped plot combined with subplot , shared x axis
I would like to have two subplots , where the first subplot is squared and the x- and y-axis share the same limits .
The following part generates a squared plot and a smaller subplot with the fixed ` height_ratio ` of 3:1 .
You can convert from figure coordinates to data coordinates or axes coordinates using transforms .
If you actually need the location of the axes you can get it with ` ax.get_position() `
I also know that it is possible to draw a map of the world with matplotlib :
` plt.gcf() .axes ` give ` AttributeError : ' list ' object has no attribute ' axes '`
Try calling ` g.set ( yticks =[ ])` after you plot .
This just loops through the axes and calls ` ax.set_yticks ([ ])` on each of them .
I have written the following code and it works fine , except for the legend which prints the entire list of tickers , and I understand why it is doing that , but I don't understand how to get it to print only the ticker related to that graph .
I'm getting odd behaviour in Matplotlib when I try to reuse a Line2D artist from one figure in another : in the second figure the artist is offset .
I see in the version notes that 1.3.1 includes a fix : " Drawing lines from one subplot to another now works " so perhaps this addresses this .
When you add an artist to an axes it picks up a good deal of detail from the axes ( such as the transform stack used to get from data-space -> scree-space ) .
As such you can not re-use artists in multiple figures / axes ( you can in principle move them , but it would involve touching the guts ) .
How can I label the axes to fit my data ?
A more appropriate choice might be to represent these data as a scatter plot on 2D axes , with different colours corresponding to the different categories .
if you call ` draw ` multiple times does it keep consuming more memory ?
If you don't have a requirement to use PDF figures , you can save the matplotlib figures as ` .png ` ; this format just contains the data on the screen , e.g. I tried saving a large scatter plot as PDF , its size was ` 198M ` ; as png it came out as ` 270K ` ; plus I've never had any problems using png inside latex .
which will rasterize the artist when saving to vector formats .
If I want to change the xlim on a single figure I'd do : ` plt.xlim() `
If I want to change the xlim on a subplot figure I'd do : ` ax.set_xlim() `
1 ) To apply a collection to a subplot : ` ax.collection ( collection_name )` .
2 ) To apply tick labels to a subplot : ` ax.xaxis.ticklabels ( tick_labels )` .
` Figure `
Keeps track of all the child axes , a smattering of ' special ' artists ( titles , figure legends , etc ) , and the canvas .
` Axes `
` Axis `
They have a ` Locator ` and a ` Formatter ` for sorting out where the ticks go and how to generate the labels
Basically everything you can see on the figure is an artist ( even ` Figure ` , ` Axes ` , and ` Axis ` objects ) .
This includes ` Text ` objects , ` Line2D ` objects , ` collection ` objects , ` Patch ` objects ...
A given artist can only be in one ` Axes ` .
This is a state machine layer that keeps track of all your open figures and has a notion of ' current figure ' ( ` plt.gcf() `) and ' current axes ' ( ` plt.gca() `) .
You can't really use ` hist ` that way .
` hist ` computes value frequencies given the raw data .
You have already computed the frequencies , and you're trying to pass them to ` hist ` , but that's not the input ` hist ` needs .
When you pass in a two-dimensional array , as you're doing , ` hist ` displays multiple histograms , one for each column .
If you generated your frequencies from raw data , you can pass that raw data to ` hist ` to get your histogram .
The bottom line is that you can either let ` hist ` do everything , or nothing : you can have it compute the frequencies and the bins and do the plot , or you can compute the frequencies and the bins and do the plot , but you can't just compute the frequencies yourself and have ` hist ` just do the binning and the plot .
I do have cairo working on my system , and can successfully draw an example composed of SVG paths that I can indeed edit in Illustrator , but I don't have a way to take my equation above into an SVG path .
I am using matplotlib to draw a graph using some data and I have saved it in Pdf format.Now I want to add a logo to this file.How can I do this .
xlabel ( ' time ( s )')
ylabel ( ' voltage ( mV )')
I would please like suggestions for how to override the default matplotlib behaviour when plotting images as subplots , whereby the subplot sizes don't seem to match the figure size .
I will make many similar plots with different numbers of values along each axis , and the space between the plots appears to depend on the ratio of x values to y values , so I would please like to know if there is a good general way to set the subplot widths to fill the space .
if this happens ( or ` aspect= ' equal '` is set ) , the axes act as if ` plt.axis ( ' scaled ')` had been called , i.e. keeps X and Y coordinates equal length ( pixels per unit ) and change the axis size to match the extents
First , you're using calls to ` plt ` when you have ` Axes ` objects as your disposal .
Second , ` imshow ` sets the aspect ratio of the axes scales to 1 .
That's why the axes are so narrow .
I would like to draw a plot with a logarithmic y axis and a linear x axis on a square plot area in matplotlib .
I can draw linear-linear as well as log-log plots on squares , but the method I use , ` Axes.set_aspect ( ... )` , is not implemented for log-linear plots .
In order to make sure what you mean , you would like to draw a line with some color around all contiguous areas where the pixel value is 3 .
imshow in subplot with interactive mode
I cannot get matshow() or imshow() to actually display the plot when both of the following conditions are true : ( 1 ) interactive mode is on : ` import matplotlib.pyplot as plot ; plot.ion() ` , and ( 2 ) I am trying to use matshow on a specific subplot : ` fig = plot.figure() ; ax = fig.add_subplot ( 111 ); ax.matshow ([[ 1 , 2 ] , [ 3 , 0 ]])` .
Using ` plot.matshow ([[ 1 , 2 ] , [ 3 , 0 ]])` ( note : no explicit axes ) works find in interactive mode , but will always create a new figure window with a single axes object .
The above code with the subplot also works fine without interactive mode using plot.show() , and will put the image on the correct axes .
More oddly , the above code with the subplot will show the image if I interact with the figure , such as by using the zoom tool and clicking randomly in the figure window ( there is no visible axes object , but I just click somewhere in the middle of the figure window ) .
Any ideas what might be causing this , how I could fix it , or how I could get around it to use matshow or imshow on a specified subplot ( the end use case is to have more than 1 subplot in the figure ) ?
( Could the problem be a missing ` draw ` ? )
But no gridlines or axes show up on the graph .
If you say no axes show up either , grid() is likely not the culprit .
I say this because I know nothing about that networkx draw call , and I think sometimes pyplot can get muddled .
I only let myself use ` plt.subplots ` to set up my figures and axes .
Using ` transparent=True ` with ` savefig() ` does not have the desired effect of making the facecolor transparent , instead it seems to make everything except axes legend transparent on top of that color ( including graph backgrounds ) .
This seems to match what the API of subplot is saying :
subplot ( 211 ) produces a subaxes in a figure which represents the top
actually exists , but conceptually this is how the returned subplot has
When you do a 3 by 2 subplot grid , the plots in the left column are numbered 1 , 3 and 5 .
Axis lines are thinker and again nicely stands out .
I have added horizontal lines with ` plt.plot ( *zip ( *l1 ))` for all ` l ` but I have no idea how to draw the ' vertical ' zigzag lines ...
To draw the vertical lines , you want to take all the x and y values from each i-th array , and hence you loop over all the arrays , taking out the i-th element .
Better way to display and differentiate scatter points ?
Bellow is the code I used to plot 4 different scatter data points .
I will not show you my horrible tries ( it included some working with patches ) as long as you do not ask for them , I hope you come up with better ideas .
( You may need to call ` draw ` to see the changes . )
As per ` tcaswell `' s suggestions the the lines are replaced by the grid , and the circular markers with circle patches .
I would also use circle patches instead of plotting so you can control the size in a saner way
If you turn the clipping off on the artists you just use the axes frame as the outer edge
Numpy returns ` -inf ` ( which has some logic behind it ) , but if you try to draw a point with ` inf ` or ` nan ` value , it is not going to be drawn .
Now you tried to draw a line between an existing point and a non-existing point .
Use ` pause ( 0.2 ) , drawnow ` after ` hist ( particles , x )` .
Feel free to change ` 0.2 ` according to animation length you wish to see .
I'm indebted to this answer and comments for the way to format axes for table display .
I am optimistic it is possible since you can select the title , ylabel , xticklabels ... ect .
Perhaps doing it in a multilayered way where the picture is a jpg of the empty table and the values are added through the annotate function .
Any Text instance can report its extent in window coordinates ( a negative x coordinate is outside the window ) , but there is a rub .
Is there anyway to specify the range of the values showed in the axes ?
possible duplicate of [ Python , Matplotlib , subplot : How to set the axis range ? ] ( #URL )
Disagree about the duplicate , that question knew they should use ` xlim ` , but were getting messed up by order .
I'd like to fill markers inside boxes as the following boxplot image .
Adapting to the covariance contour plotting example from matplotlib throws singular matrix error
For data evaluation I want to adapt the contour plot of this example .
And I assume the 2 columns each represent a set of data : In a way like a scatter plot , I thought it could mean something like : First columns is for example the MotorRpm , second may be the MotorCurrent of an engine , and came up with this : ( ` getSeries ` is a function that extracts a column out off a dataFrame ) #CODE
Does matplotlib axes know which figure it is in ?
yes , ` Axes ` need to know what figure they are is for the transform stack to work properly .
To get at this information , ` Axes ` object have an attribute : #CODE
which is the figure the axes is in .
As a side note , you can not easily move axes between figures or artists between axes for exactly this reason .
If I have an ` Axes ` object , and I take care of changing the ` figure ` attribute , is it then possible to me the ` Axes ` object into another ` figure ` ?
@USER There are many more connection between the figure and the axes than just this attribute ( I can not enumerate them off the top of my head ) .
Is your problem setting the custom colormaps , or translating the characters to numbers ?
Setting the custom colormaps .
Of course , you'll need to do something with the axes ( labeling , scale , ticks , etc . ) but depends on your needs .
@USER .in4matics : You do not need to remove the ` ax ` if you create the image as shown as an object ( ` ax ` refers to the ` Axes ` instance containing the graph area ) .
The point is to draw the image after the axis extents have been set .
If you draw it first , it may be scaled into some place far away from what your axis area is .
So it'll not work because xlim / ylim works with data , plotted in the figure .
Matplotlib - setting tick positions on a specific subplot
#URL FormatterWarning : Exception in image / png formatter : Locator attempting to generate 20001 ticks from 0.0 to 100.0 : exceeds Locator.MAXTICKS
You haven't plotted anything , and thats is why the tick labels are not showing ( the ` ylim ` defaults to ` ( 0 , 1 )` , you can set ` vol_grid = MultipleLocator ( 0.1 )` to see that ) #CODE
We can change the ` ylim ` or just plot some data : #CODE
Matplotlib toggle artist using blit
A third time will draw a second line or rectangle over the previous one .
For example here is my attempt with a poor-maps heatmap scatter plot : #CODE
Circle Graphing Program Null Value Errors ( Python 3.4 )
Pandas does some really weird stuff to the ` Axes ` objects , making it hard to avoid matplotlib calls .
How to draw it using matplotlib ?
Or you are trying to set them as the ` xlim ` ?
You are resetting betweentime to i each time ; you need to append it instead .
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
Update marker sizes of a scatter plot
A scatter plot object has a method called ` .set_array ` to update the colours of the markers and ` .set_offsets ` to update their position but how can I update the marker sizes ?
I'm not sure what you're referring to as a scatter plot object , but when you call ` plt.scatter ` , the function accepts a keyword argument ` s ` , which you can use to dictate the marker's size .
@USER : I want to be able to change the marker size after plotting without having to clear the axes and re-plot .
Perhaps you can find a similar method with ` scatter ` .
I don't know matplotlib specifically , but this looks like an intentional feature of many plotting libraries , where they pad the axes a bit so the data doesn't collide with the edge of the plot .
Matplotlib : Tick labels position
But the tick label 0.0 appears at both axes , I removed one tick label by directly setting the labels : #CODE
Sad but true : matplotlib was not meant for a crossed axes 2D plots .
Python scatter plot of 4D data
I have 4D array of data that I would like to scatter plot .
I would like to " flatten " the plot to a 2D scatter plot where the two extra parameters are represented by different colors instead , e.g. a color for each pair of the two parameters .
Can you show us what you have tried with scatter ?
You could transform them into a velocity - like vector and use a quiver type of scatter plot .
I tried my suggested approach of " stacking " translucent scatter plots on top of each other : #CODE
As an alternative to the " stacked " scatter plot I tried accumulating the occurences of ` data1 data2 ` in a 2D " occurrence map " first .
Insert a pandas DataFrame plot into a matplotlib subplot
I have created a plot with 4 subplots and each subplot will show a different type of analyses on some infrasound data .
I have already written the pandas program and was just going to insert it into the larger script so it was shown in the subplot .
When plotting using ` pandas.Dataframe.plot ` you can choose the ` Axes ` object you would like to plot to with the keyword argument ` ax ` as shown below : #CODE
Note that this will plot all of your columns into that one subplot , if you want one particular column then you could do ` df [ ' my_col_name '] .plot ( ax=ax3 )` .
I understand that some data is missing , as pandas is forced to introduce NaNs when aligning the different ` t ` axes .
And why are the blue and red patches aligned ?
Fix #1 : draw points instead of lines ( ` plot ( t , f1 , ' o ')`) , then you'll at least see all your data .
Assume there is a scatter plot with axis between 0 to 2 in both x and y .
Is there a built in module in matplotlib that can be used to show arrows ( or any similar symbol ) at the edges of the axes showing that there are points outside the plot range ?
There's an annotate method that you can use .
I plan to draw a sequence of figures with Matplotlib , each consisting of the field of a certain time frame .
I used quiver to generate vector graph , but I want to keep the vector scale to be constant across these figures ( in order to make it coherent so that an animation could be constructed later ) .
Could you clarify a bit : ` quiver ` should draw the vectors with the lengths you determine ( ` uvel ` and ` vvel `) , there is no scaling .
This specifies the bottom ot the ` Axes ` at the top of the figure .
But I want the second Figure at top , that's why I specified the second value as ` 1.0 ` .
If I use ` 0.2 ` , the second Figure stays on the middle of the first one .
Radar chart with multiple scales on multiple axes
I want to plot a radar chart with multiple scales on multiple axes using ` matplotlib ` .
I want different scales on all axes .
( There are 9 axes in the given example . )
There are 5 axes on this example and 5 scales on all axes just like I want .
I think you can plot this with multiple axes , the lines are in the first axe , and other axes only shows ticklabels .
A possible solution that I see would be to draw the upper and lower line ( i.e. I take y_value [ index ] +- bandwidth [ index ] / 2 and plot those two lines .
Python Matplotlib animation frames are overlapping
The animation works , but each frame stays on the figure when the next one comes on :
The answer is simple : ` matplotlib ` animation does not wipe the image between frames .
and then click on the title bar of " Figure 1 " .
Matplotlib has duplicate legend entries
I'm using pylab.plot() in a for loop , and for some reason the legend has 6 entries , even though the for loop is only executed 3 times #CODE
The plot looks like this , with each legend entry having exactly 2 copies .
Duplicate items in legend in matplotlib ?
So , when I weight the histogram for the radial distribution of my scatter , going out from the center , each bin will have to be weighted so that the count of first bin is left alone , the count of the second bin is divided by 3 , the count of the third bin is divided by 5 , etc , etc .
The scatter plot looks great :
The erratic look of the Radial Distribution suggests to me that the weighting function in the " hist " operator weights each member of R_vec individually instead of weighting the bins .
Is there are a reason you need to use ` hist ` instead of just directly computing the particles per unit area in each annulus and plotting a bar graph ?
How do I separate a data set on a scatter plot
I'm very new to python but am interested in learning a new technique whereby I can identify different data points in a scatter plot with different markers according to where they fall in the scatter plot .
However , the above does not work for a ` boxplot ` ( the tick labels for the x axis are rendered empty )
How can I use ` boxplot ` in a way that allows me to use ` matplotlib ` date locators and formatters ?
No , actually even the line plot is not working correctly , if you have the year show up , you will notice the problem : instead of being 2000 in the following example , the xticks are in 1989 .
So I tried to write a custom plotting function , which will behave like ` plot ` , in that you can call ` subplot ` and then calls to ` new_plot ` will be directed to that subplot , subsequent calls will plot over top of the original plot in different colors , etc .
Running this script works fine , producing 2 plots of different colors on top of each other in each subplot .
ok , is there a way to add patches without an ` ax ` object then ?
I've tried using xticks but this doesn't work either .
And also a grpah when using xticks :
Increase inner padding / margins in matplotlib
Even though this is not exactly the answer to my question ( increase the margins ) it is a good workaround for some use cases .
I tried to get rid of it with delaxes , but this legend is really stubborn .
A better option is to specify to colorbar which axes you would like to see it render into , see the example here .
Clear the whole figure and add the subplot ( +colorbar if wanted ) again .
If there's always a colorbar , you can simply update the axes with autoscale which also updates the colorbar .
You can make a boxplot and a plot of the age on the same axes .
Show only certain items in legend Python Matplotlib
I currently am plotting a stacked bar graph of a large amount of taxonomic data , and only wish to show significant species in the legend ( out of ~500 I wish to show ~25 ) .
Edit : tried adding this to show only one legend entry , however only returns an empty legend : #CODE
you mean you want to plot all of your 500 variables , but show only a selected 25 in your legend ?
` legend ` also takes a list of artists and a list of labels to precisely control what goes into your legend
This could work , but is there a way for selected to be a list of strings of the legend entries I want ?
For each of your entries ( identified by X , Y , and name ) check whether your current entry is in a list of selected labels that you want to show the legend for .
if you make your function return the figure and axes objects , you can modify all you want very easily .
it probably requires lots of low-level access of all the objects involved in the layout ( the axes , the axis objects , the line objects , patch objects , etc . ) I could be totally wrong about that , but that's my instinct .
For example , creating a graph with Matplotlib with axes in scientific notation : it is easy to set the font size of the tick labels , but how can I specify the font size of their exponents ?
How to set matplotlib font for title , axes ,
Reset Matplotlib animation with a PySide button
I want to create a button that everytime I click on it , It will reset and execute the same animation .
the animation will run at PySide window normally .
But I want to control this ( reset animation ) with a button .
If you want the animation to repeat , you may need to set up a QTimer to run ` canvas.draw() ` every few hundred milliseconds .
I want to place a line at one level ( e.g. , 0 ) in the ` colorbar ` of a ` contourf ` plot with ` matplotlib ` .
With the following code , I can do it but not all the properties of the ` contour ` lines are conserved ( i.e. , the color and width of the line are correct , but I can't have it dotted in the colorbar ) .
Then I draw one arrow for each pair of ` y ` , ` dy ` in ` data ` .
Plot points over contour - Matplotlib / Python
I'm trying to plot some points over a contour using Matplotlib .
I have scalar field from which I want to plot the contour .
I can plot this contour using this piece of code : #CODE
Are both the points and contour incorrect , or just the contour ?
You want to plot both the contour and the points in the real data space , yes ?
` plt.contour ` will take x and y values associated with the 2d array you have , and will plot on axes correctly .
I change my extent as a parameter when plotting the contour , but I don't know how to do this when plotting the points .
A 2D array to be displayed ( via contour ) has no inherent ( x , y ) positions associated with it , which is why you need to specify them ( either by extent or by the xvals and yvals above ) .
If you don't provide ` x ` and ` y ` data corresponding to the scalar field , ` contour ` uses integer values up to the size of the array .
That is why the axes are displaying the dimension of the array .
" So the call to ` contour ` would be : #CODE
Then the contour looks exactly as in your first plot .
Your ` plt.plot ` creates a figure and axes the first time it is run .
If you replace the call to ` plot ` with ` scatter ` as shown below then you will re-create a sphere composed entirely of points .
I want to use a single subplot that displays lines , curves , images , contours , etc , in a dynamical way depending on the actions of a user .
So it can happen that at some point this subplot contains 3 images , then later no images , and then even later 2 images again , and so on .
Each time a first image is added , a colorbar is created , whereas each time the last image is deleted , the colorbar is deleted and the subplot resized to its original size .
( for simplicity here , I don't play with the content of the 1st subplot ) : #CODE
The behavior is strange : each time a new colorbar is created , the first subplot is smaller and smaller ...
I guess it has to do with the behavior of the make_axes() function called by colorbar() , which does not simply modify the position of the first subplot ax but also other properties of ax and / or fig .
Actually , the first axes ( subplot ) is used for displaying different types of plots in a dynamical way , including images .
The colobar is deleted and the subplot reset to its initial size as soon as no image are left in the elements to be displayed .
However , it is not a very clean solution since it leaves in the figure and / or in the ax axes some properties indicating wrong sizes to be selected in the future , which we compensate for with several set_position() using our own memorized parameters ( rather than relying on the parameters devoted to this ) .
And us np.histogram not hist to get the bins
imshow top axes lables without twiny ?
As you can see , the top axis has exactly the same text as the lower axes .
Well , I found an alternative solution by using text instead of changing the axes values .
It seems that ` twiny ` and axes with aspect ratio set to ` equal ` do not want to live on the same axes .
So , let us get around this problem by plotting two axes on top of each other .
As you can see from this code , I've used the mappable data from the last imshow axes , and then used colormap to represent it .
In your sample figure you have 10 different axes ( you can check this by ` plt.gcf() .get_axes() `) .
So , you want to remove the second last axes : #CODE
Then you have the problem that the remaining axes do not fill the space .
what I want , is to have each different row a different top labels , and only the bottom row should have the bottom labels , along side the top labels ; in this case , many axes I've used .
I would like to change the x and y axes so that only the powers of 10 are displayed .
animation issues since updating from matplotlib-1.0.1
This question mostly pertains to Matplotlib and animation .
The issue is that when animation is updated i need to clear out the axis each time or I get overlapping images because of color changes .
You can plot circles ( or squares ) using ` scatter ` command .
We will always draw our points in a grid with N rows and either N or N+1 items in each row .
What's happening is that the ` plt ` interface always refers to the " current " figure / axes / etc .
After you've closed the figure , the " current " axes is a new , blank plot .
For this and several other reasons , it's best to stick to the axes methods ( except for a handful of functions like ` plt.figure ` , ` plt.subplots ` , ` plt.show ` , etc that make dealing with creating and displaying figures easier ) .
Using the methods of the axes or figure objects make the relationship to which axes / figure is being modified much more clear .
Otherwise , you need to be aware of what the " current " axes is .
Have a look at the ` adjustable ` parameter of the axes .
Normally , the options are `" box "` and `" datalim "` , but there's a special case for shared axes .
It gives you the liberty to adjust the ` wspace ` for subplot groups .
matplotlib won't write \approx LaTeX character in legend ?
For some reason I can't get ` matplotlib ` to write down the ` \approx ` LaTeX symbol in a legend .
if the image is a NxM array of any type , it is interpreted through the colormap ( autoscale , if not indicated otherwise ) .
I can easily use scatter plot of matplotlib but I need to show the connections .
I think with ` NetworkX ` you could create connected element and draw it .
I want a similar function like this Matplotlib : draw a selection area in the shape of a rectangle with the mouse in ` Tkinter ` which gives me the ` x0 , x1 , y0 , y1 ` after the selection .
But if I comment the line ` axes [ -1 ] .set_ylim ( 1 , 2 )` all the ticks are properly displayed .
You actually can share the same ` Formatter ` instance , but it's probably better not to , unless you're aware of the ramifications ( changes to one will affect all ) .
Instead of recycling the same ` Locator ` and ` Formatter ` instances , create new ones for each axis : #CODE
problem 2 ) I can't seem to figure out how to get the colorbar on the right hand side of the plot to show up or how to get it to let me label the axes .
How do you make the transitions be more continuous like the built in colormaps .
@USER - Unless I'm misunderstanding something , they appear abrupt because you're using ` contourf ` ( which has a set number of levels ) instead of something like ` imshow ` ( which is continuous ) .
Instead of ` .T ` use ` .transpose ( 1 , 0 , 2 )` .This will transpose the two first axes but leaves the third intact .
Unlike ` .T ` which swaps all the axes ( see answer from @USER ) , ` ndimage.rotate ` is designed to leave the color information alone .
Matplotlib's ` text() ` function applied to axes does not have ` linewidth ` property .
I have taken help from this question Matplotlib : draw a selection area in the shape of a rectangle with the mouse
As is they will continually draw a fixed size rectangle at the coordinates ( 2.5 , 5 ) with a width and height of 1 .
Can you please tell me why it was not working without ` Rectangle ` ?
Maybe it needs new object ` Rectangle ` to show it .
The color parameter for matplotlib's scatter is ` c ` , but ` color ` works too ; prod . diff .
I accidentally used ` color ` instead of ` c ` as color parameter in matplotlib's scatter plot ( ` c ` is listed in the documentation `) It worked , but the result is a different one : Edge colors are gone by default .
For example , here : Line plot with legend
For each pixel , I have an uncertainty and I should draw a line in this pixel with the uncertainty represented as the line blur .
I don't know how to do this latter ( draw the lines with blur ) with Matplotlib .
I get that the fabric pattern is being blended over the top of the ` contourf ` image , but from the looks of things , it is just a cross hatch pattern blended acording to the value of the underlying image .
Matplotlib : scatter unable to plot Decimal values
I'm using ` matplotlib ` to generate a scatter plot .
The same situation repeats with axes or lines .
Sorry for the limited information , yes that is the error python is throwing . however , when I manipulate their axis.py file , it still causes the graph animation to build incorrectly .
Individual alpha values in scatter plot / Matplotlib
I'm wondering if it is possible to have individual alpha values for each point to be plotted using the scatter function of Matplotlib .
( i.e. , a scatter plot with a z coordinate represented by color ? )
I want it to be a scatter plot with markers in some points .
the actual artist .
Is it possible to add a string as a legend item in matplotlib
Plot lines and / or markers to the Axes . args is a variable length argument , allowing for multiple x , y pairs with an optional format string .
It does not seem possible to add ` matplotlib ` axes to ` mayavi.figure ` or vice versa .
I am trying to reproduce the example of the Gabor transform that it is in his wikipedia entry , and I do not know if it is a bug or I am missing something .
The example is the calculate the Gabor transform of a sinusoidal signal :
Then I use mesh grid to create 2D axes and plot with pcolormesh .
If I try it using fftshift when I create the transform and the axis , #CODE
Set the limits of the X and Y axes and you will be good .
How to use Matplotlib , Terminal , and Sublime Text ( text editor ) together
On Sublime Text , I have the following : #CODE
None of the colormaps supplied would do ?
Multiple titles in legend in matplotlib
Is it possible to put multiple " titles " in a legend in matplotlib ?
Because if I use more than 1 legend , it is difficult to get them aligned properly setting the positions manually .
the closest i got to it , was creating an empty proxy artist .
It is bad practice to call ` pyplot ` with in a function , it is better to pass your function an ` Axes ` object and use the OO interface .
At first glance , it looks like you're explicitly plotting them both on the same axes .
( Note that you have ` ax=ax ` in both calls , while you've called the second axes ` ax2 ` . )
It looks like you're explicitly plotting them both on the same axes .
You've made a new figure and a second axes called ` ax2 ` , but you're plotting the second dataframe on the first axes by calling ` df2.plot ( ..., ax=ax )` instead of ` df2.plot ( ..., ax=ax2 )`
matplotlib xticks not being assigned for 0
Later i want to use ` xticks ` to give specific names for the x axis values from 0 to 29 .
If labels you want to use ` xticklabels ` , not ` xticks `
I didn't realise ` xticks ` could set the labels too
A logarithmic colorbar in matplotlib scatter plot
The idea is not to transform your data , but let the visualization do the trick for you .
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
For this you should not transform the data , but just normalize the plot .
then , using scatter is simpler than plot since you can provide a list / sequence of colors : #CODE
But thanks for the info on scatter plot !
Oh Actually your method works in both scatter plot and network plot !
matplotlib pyplot : subplot size
You can label the x and y axes by using the keyword argument ` extent ` in the calls to ` imshow ` .
You can either use / abuse the titles and ylabels or , if you're already using those , use ` annotate ` to place the text a fixed offset from the top / left of the axes .
And if we already have ylabels , etc , you can use annotate to place the row / column labels .
` annotate ` is an easy way to allow the text to be places a fixed offset in points from the edge / center / etc of an axes ( among many other things ) .
See this page ( as well as several others ) for more information on ` annotate ` #CODE
You can show the time stamps as x-labels using ` xticks ` : #CODE
Trouble saving matplotlib animation
I have data in a text file ( rs_h ) with 3 columns - x , y , z ; i'm using scatterplot to make a simple heatmap , and then using the animation package to update the heatmap over time #CODE
I'm having no trouble getting the animated heatmap ; however , i run into an issue when i try to save the animation #CODE
Parallel Labels on 3D axes plot with Python
How can I turn the label of the axes on a 3D plot from this :
( Labels " perpendicular " to the axes )
( Labels " parallel " to the axes )
But the module ` Axes3D ` have default labels to be " parallel " to the axes , as on your second plot .
As x and y axes , both get the same scaling .
I'm searching for a way to draw shaded error-regions instead of error-bars in Python .
Below I draw what I suppose to be the correct shape - I hope , I'm not wrong here ...
Legends , etc , or things placed with the ` annotate ` method ?
Yes , I want the fonts with the ` annotate ` ( #URL ) method to be smaller .
Unfortunately , there's no way to change just the default text size for ` annotate ` .
If you really wanted , you could monkey-patch ` annotate ` , but explicitly specifying ` size ` ( or ` fontsize ` , they're equivalent ) in your calls to annotate is probably a better option .
add the handling of the ` annotate .
I am trying to add some text to a figure that I would like to align with the ` xlabel ` of the axes .
I want to find the coordinates of the ` xlabel ` , but the function ` ax.get_xlabel() ` only returns the string displayed in the label .
How can I get access to the ` xlabel ` object ( which I assume is just an instance of ` text `) to find its coordinates , or is there some other means of obtaining them ?
Quick search helps sometimes too , the ( my ) first result of a google search for " matplolib get xlabel position " turned up #URL
Legend marker transparency - Matplotlit
I'm have a plot with rgba points and , when I show the legend for them , I got the markers ' legend with alpha values .
Simplifying , this is how I plot the points and show the legend : #CODE
As can be seen , the legend markers are a little bit transparent .
I am in the process of writing a python script that will ( 1 ) obtain a list of y-values for each subplot to plot against a common set of x-values , ( 2 ) make each of these subplots a scatter-plot and put it in the appropriate location in the subplot grid , and ( 3 ) complete these tasks for different sizes of subplot grids .
As the question says , I have a contour plot and I would like show a legend for if .
I'm using the contour plot style that uses :
I would like to have a legend for them ( dashed == negative and solid == positive ) .
I could solve this manually setting the legend ( which I don't know if it's the best approach ): #CODE
I'm trying to show a color bar of my scatter plot but I'm keep getting the error :
Instead of mapping the values to RGB colors , let ` scatter ` handle that for you .
( This is a bit confusing , but it's due to inheriting matlab's plotting api . ) ` c ` is a carryover from the original matlab's scatter .
` scatter ` is intended to be called as ` scatter ( x , y , c=z1 , s=z1 )` to simultaneously display 4 variables .
you can link the colorbar to the axes with the ax-keyword , plt.gca() gives you the current axes : #CODE
Probably the ' easiest ' way to do this is to lay the axes to be used for the color bars out by hand ( via ` cbax = fig.add_axes ([ .... ])`) .
You can then pass that axes to the color bar calls :
If what you say is true , that the gray is the axes patch color , then you are using some fancy color map with alpha in it .
Notice that here the inter-pixel distance is the same for both ` scatter ` ( if you have a look at ` xvec ` , all pixels are 0.5 units apart ) and ` imshow ` ( as the image is stretched from -5 to +5 and has 20 pixels , the pixels are .5 units apart ) .
However , I didn't get how to correlate the imshow with the scatter plot to have both plots centered equally .
Using the animation package instead of manually drawing might also speed up the process .
If you then end up with buffering , the time-based buffering goes approximately this way for each refresh cycle : #CODE
Placing a histogram over scatter plot
I am wondering if there is a way in matplotlib to place a histogram to cover up to the height of the points I have for my scatter plot in the plot bellow ?
In the example above it uses the same X and Y scale as your scatter data , but that does not need to be the case .
Using polyfit to plot scatter points with errors
I can use np.polyfit to fit a line in my scatter plot as shown bellow #CODE
Is the fitted line actually taking into account the errorbars for the scatter points ?
Matplotlib : Stacked Bar Graphs
Matplotlib Python Axes sharing through plot class
I'm trying to create a plot class where the goal is to be able to share axes with any subsequent plots that are created .
So , for example , if I create a plot with my class , leave that plot open , then create another plot with my class , I want my class to check and see if there is a current figure open ( which there should be in this case ) and if there is it should use the current figures axes to share with the new figure I'm trying to create .
With this the color of the error bars and lines differs and the line is not shown in the correct color on the legend .
Could you append a plot for clarity ?
plot python figure with ticks only and not axes lines
I want to plot a figure in python and have only ticks , I do not want to see the axes lines , only the ticks .
to get an intro to ticks , spines etc . check this entry in the gallery : #URL
Thank you , the spines stuff is really good .!.
How can I draw quivers in a matplotlib figure so that they are drawn over the original points .
Just so I'm clear on what your question is , you want the scatter points to physically overlay the quiver arrows , instead of the arrows over the points , correct ?
AFAIK : figsize controls the aspect ratio of my outputfile which contains the frame and the ylabel etc .
you can label the axes then to let it look like a normal log-plot .
matplotlib : put legend symbols on the right of the labels
It's a simple thing but I've searched for quite a while without success : I want to customise a figure legend by reversing the horizontal order of the symbols and labels .
Creating interactive Matplotlib histograms with Button widget
Plotting Circular contour lines in matplotlib
I am trying to circular contour lines around an array of random values of radius .
A quick-and-dirty way to do it would be to use ` np.linspace ` to effectively draw a polygon ( as I think you were attempting to do ): #CODE
huh , did not know you could throw strings at scatter like that ...
I have a scatter graph of the following format :
you just want a scatter plot of points with x and y coordinates and a colour representing a third variable ?
this is what scatter is for , just use : #CODE
Its plotted a separate subplot for each category in column ' A ' , colored by the category in column ' B ' .
Bar plot API documentation describing ` yerr ` :
I think the problem is that the map function from seaborn is passing the whole ` df [ ' E ']` list to matplotlib's errorbar function , not just the part that applies to that subplot .
As what comes to your method #2 , there is nothing to draw the ` igraph ` graph onto the ` matplotlib ` drawing areas .
It is , however , possible to draw an ` igraph ` graph onto a Cairo SVG canvas created by ` matplotlib ` ( the renderer context needs to be given as an argument to ` plot `) .
You can usually convert a PS file to an EPS file with an appropriate converter that " infers " the bounds and places the additional comment in the file .
How can I transform my " dates " array , which is strings , into an array that is plottable ?
Ok so now I can transform a string into a date ` time.strptime ( dates [ 1 ] , ' %m / %d / %Y ')` .
How can I transform the entire array ?
Remember you can use ` xticks ` and use whatever the hell you want in place of the values .
` xticks ` will just put the tick labels to the values you specify .
Then do an ` xticks ([ 1 , 1.57 ])` and see what happens .
Now do a ` xticks ([ 1 , 1.57 ] , [ ' 1 ' , ' $\pi / 2$ '])` and see what happens .
I am trying to plot the following dates on the x-axis of a scatter plot such that the dates are spaced apart appropriately .
This leads to the conclusion that you meant to append each image to the PDF file , then close the image you have open ( before creating a new one in the next step of the loop ) .
The label of the window is " Figure 1 ( Not Responding )"
Setting plt.pyplot.isinteractive() to ' False ' means that the plot will on be drawn on specific commands to draw ( i.e. plt.pyplot.show() ) .
Setting plt.pyplot.isinteractive() to ' True ' means that every pyplot ( plt ) command will trigger a draw command ( i.e. plt.pyplot.show() ) .
Aspect ratio between axes
It would also be possible to do some math based on the aspect ratio of the figure and use that in your call to ` fig.add_axes ` so that the aspect ratio of the axes themselves is what you expect , but for this figure that would just leave you a lot of useless whitespace .
2D heatmap with contour curves
I looked but could not find anything good in ` matplotlib ` ( saw ` mplot3d.Axes3D.scatter() ` but I can only get it to plot points , not interpolate and draw the surface ) .
That is , rather than starting the placement of the plots from the top left corner , filling that row , and starting the next row below the first subplot , I would rather the placement begin from the bottom left corner , fill the row , and start the next row above the first subplot .
You could always change the array of axes after it's created , e.g. #CODE
You could rotate the xticks by 90 degrees ( or any other value ): #CODE
You'll want to add the ` extent ` parameter to the call to ` contour ` as well .
The extent of the x and y axes on the plot are indices in the array ` Z ` by default .
As Warren pointed out , you can change how the axes are labelled using the ` extent ` keyword argument to ` imshow ` .
The Axes labeling comes from the number of " pixels " .
` extent =( -3 , 3 , -3 , 3 )` ( note the unfortunately tricky change in signs ! ) to the call to ` contour ` : #CODE
The contour lines are upside down .
" extent " for contour should be ( -3 , 3 , -3 , 3 ) , opposite of imshow .
I am trying to draw a scatter plot with a point that moves based on a parameter adjusted by a slider .
I have it so the scatter plot gets drawn and I can manually move the point by change the position , but when I try to implement the slider it is displayed , but can not be drug to update the plot .
I want to load data and will draw the basemap and fill the color with pcolormesh function .
I used matplotlib's 3D scatter plot to make this .
To visualise the amount of movement i wanted to use a boxplot and plot the difference to the mean of the points .
I sucessfully visualised the angle jitter using python and matplotlib in the following boxplot :
After computing the euclidean distance all the data is positive , so a naive boxplot will give wrong results .
For an Example see the boxplot at the bottom , points that are exactly on the mean have a distance of zero and are now outliers .
As you can see the boxplot does't cover the zero .
Zero is perfect ( since it represents a points that was exactly in the middle of the angles ) but it is not included in the boxplot .
A point with a value of zero won't be an outlier unless the median is very far from zero , in which case the boxplot would be correct in showing it as an outlier .
Did you try just doing a boxplot of the distances ?
The dimensions of the parts of the boxplot are totally algorithmic , and that algorithm defines what the " meaning " of the boxplot is .
If you want something else , maybe you don't want a boxplot but some custom box-like plot .
You are correct there are ( nearly ) no zero values , but since i took the absolute values i _know_ that zero should be part of the boxplot .
You can't , because that's not what a boxplot shows .
The whiskers of the boxplot extend to the furthest data point within 1.5 *IQR of the median ( where IQR is the interquartile range ) .
You could try setting the ` whis ` parameter of the boxplot to a larger value ( the default is 1.5 , as I mentioned ) to be more liberal about including outliers ( see [ the documentation ] ( #URL )) , but if there are in fact no zero values at all , the boxplot will never show them , because they aren't there .
I still don't really get what you mean by " I * know * that zero should be part of the boxplot " .
Zero should only be part of the boxplot if zero actually occurs in the data .
If you modify what the boxplot shows , it will be misleading , because people will expect a boxplot to show what a boxplot usually shows .
I don't think that what you are trying to show is really meaningful in a boxplot .
In a pandas hist ( ) plot with sub-histograms , how to insert titles for the x and y axes , and overall title ?
How do I add titles for respectively the x and y axes on each of the sub-histograms , or alternatively , overall ?
` hist ` should return ` axes ` objects which can be used to set things like titles and labels .
To change the format of ticks , use a Formatter : #CODE
Is there a way to pass different vertical lines to each subplot when using pandas histogram with " by=somevar " ?
I get that , but when I do it using pandas , I'm not sure how to access each subplot .
If I did it all in matplotlib , I'd just define each subplot on the way in ( i.e. , 111 , or whatever ) and then put the axvline on each chart as it's made .
` DataFrame.hist() ` with ` by= ` returns the array of matplotlib Axes , so you could grab that and then iterate over it .
B , with labelled axes , and a histogram of C , also with a title on the x axis .
Or you can assign the axes to variables so you dont have to do everything in order , #CODE
can you verify that an array you create on the fly works with ` hist ` ?
The issue is that you're drawing a subplot ; usually , when you call plt.scatter , it returns a handle to the points drawn .
Here , you're calling scatter , but since it's a subplot , you're scattering on an axis .
The ` PathCollection ` returned by ` scatter ` definitely has a ` remove ` method .
I would like to draw a large number ( about 1 million ) of overlapping semitransparent lines with very small alpha values .
Is there an easy way to draw lines with very small alpha values ?
1.4 adds support for skew axes .
Animation is .
I do not understand the basics of animation .
multithreaded plotting of one subplot in matplotlib
I have to draw ~40 lines with ~100000 points each on one subplot .
Is there a way of making matplotlib use more than one thread for a single subplot ?
If you just want to create many png images , I suggest you draw the two circles once and then every round just change their position by using their ` center ` property .
How to plot a scatter plot with its linear regression ?
You should not plot every single point with it's own scatter command .
It takes long and if you want to have a legend , you will have an entry for each point .
right , I see it now . was expecting multiple items in the legend of the OP plot if that was the case , but realize now that the OP code didn't make that image .
you are creating a new figure and a new axes in every iteration of your loop ->
with ` plt.axes() ` you are creating a new axes again . use ` ax.set_aspect ( ' equal ')`
I know that it's fairly easy with a scatter plot using e.g. this code ( I use a custom version of hammer that has been previously registered using register_projection ( ' custom_hammer ')) : #CODE
This is creating a nice scatter plot .
I know it is dependent on the parameters passed at ` fig.add_axes ` , but I didn't find a way to get the size of the plotted text in advance to add the axes with the according sizes .
` tight_layout ` knows about the axes which is what it is bounding to ( ` ax.axis ( ' off ')` doesn't _remove_ the axis , it just makes them invisible .
How to set subplots in one Figure in Python
You define a grid and add axes to it at the grid positions , in this case i used 3 cols and 3 rows .
You can define a row- and colspan for axes covering more than one grid position .
This question is related to the earlier question I asked " matplotlib : Change grid interval and specify tick labels " but now I want to change the scale for x and y axes .
When I set the range for x and y axes and then specify the intervals for major and minor ticks , it forces the x and y axes to be the same .
How could I get different ranges for x and y axes and still have major and minor ticks like this ?
Changing the size and color of points in a scatter plot using a slider in python
I am attempting to use a slider to change both the size and color of several points in a 3d scatter plot .
it will plot the x , y scatter , but no trendline will appear .
Matplotlib artists not pickable unless axes set ?
I put some code in my ` FigureCanvas ` subclass in order to allow ` Text ` objects to be dragged with the mouse .
( where ` ax ` is the axes instance ) .
I'm struggling to understand why objects with no set ` Axes ` cannot be picked ?
( I thought events occured at the canvas level ( i.e. independent of axes / figure ) ..
The way mouse call backs get handled is just the way the call-back stack works . iirc , the the canvas figures out what axes ( if any ) the mouse event is in and hands the event off to the ' top ' axes .
Matplotlib Basemap color plot with contourf and pcolormesh throwing errors
I've tried contourf and pcolormesh but keep getting errors , and I suspect that my problem lies in the dimensions of the arrays I'm using for graphing .
When I tweak my code using contourf , the two errors I've been getting are " IndexError : too many indices " and " MaskError : Mask and data not compatible .
Draw a curve from the scatter plot in matplotlib in Python ?
How can i draw a curve though this data , thus describing an equation for this plot ..
I generated this scatter plot by following code , but I am not able to figure out how to generate an equation for this data and draw the corresponding curve on this plot simultaneously .
Axis limits for scatter plot - Matplotlib
The problem happens when I call the scatter function .
turn off autoscaling or just re-set the limits to what you want after calling scatter .
Don't use ` plt ` in functions as it is easy for what _you_ think the current axes is and what ` pyplot ` thinks the current axes is to get out of sync .
Matplotlib Rectangle With Color Gradient Fill
I want to draw a rectangle , with a gradient color fill from left to right , at an arbitrary position with arbitrary dimensions in my axes instance ( ax1 ) coordinate system .
I created a second axes instance ax2 using ` fig.add_axes ([ left , bottom , width , height ])` and added a color bar to that .
I'm trying to make a scatter plot in matplotlib with arrows coming out of the points to indicate upper limits .
You could try combining a scatter plot with [ arrows ] ( #URL )
I plot ( it's a subplot ) this with matplotlib with the following piece of code : #CODE
And draw over the ' older ' plot .
That's why pandas objects have ` plot ` that use matplotlib to draw a plot but in a way that exploits the additional information in the index , column names ( for DataFrames ) , etc .
Updating animation with variable that's being changed
I am using an animation to save this process graphically .
This is because you have no xticks : #CODE
How to draw vertical lines on a given plot in matplotlib ?
Given a plot of signal in time representation , how to draw lines marking corresponding time index ?
Specifically , given a signal plot with time index ranging from 0 to 2.6 ( s ) , I want to draw vertical red lines indicating corresponding time index for the list ` [ 0.22058956 , 0.33088437 , 2.20589566 ]` , how can I do it ?
You can pass in keyword arguments ` ymin ` and ` ymax ` if you like in axes corrdinates ( e.g. ` ymin= 0.25 ` , ` ymax= 0.75 ` will cover the middle half of the plot ) .
Now , as you can see , the very bottom part of my axis legend is missing , because matplotlib is cutting it off .
Either all stations on a single plot sharing a timeline that's big enough for all stations , or as separate plots , maybe a subplot for each station .
The subplots do not need to have synchronised X axes .
P.S. you can set xticks this way : Changing the tick frequency on x or y axis in matplotlib ?
If you specify the tick labels as a list of strings , they are always ( also on X or Y axes ) allocated to the first ticks .
Similarly , hlines will add horizontal lines .
I've been attempting to generate a heatmap by following the top answer over here : Generate a heatmap in MatPlotLib using a scatter data set
matplolib : what are the units in the axes positioning [ l , b , w , h ] ( imshow involved ) ?
However , it is context dependent ( ! ) , in case you're doing ` plt.imshow ` downstream - this seems to overwrite ` width ` , ` height ` ratio and create square axes ( for my data , as I have ` n ` by ` n ` matrix ) with the size of ` min ( width , height )` .
Let us create a third axes with the same coordinate system as the figure and show the axes areas there : #CODE
The axes positions are : #CODE
At least visually it seems that the lower edge of the axes may really be 3 % above the bottom , and the left edges 10 % and 52 % from the left edge of the figure .
The legend problem is because in the case of the odd legend your x0 and y0 are arrays .
Animating the size of markers in matplotlib scatter plot
An equivalent animation for color rather than node size by : #CODE
Matplotlib Animation : updating radial view limit for polar plot
But I'd rather do it the right way with the animation module , as the old way had performance problems ( The above code block is only to demonstrate the problem , and isn't the actual program that I'm writing ) .
As I mentioned , I was doing it the manual redraw way , but moved to using the animation module because of slow performance .
If you use ` blit ` , the background is saved in cache for fast draw , you can clear the cache when the axis range is changed , add ` ani._blit_cache.clear() ` : #CODE
Any idea why this doesn't need to be done with rectangular axes ?
As you can see , I've edited the code so that it has an animated title on a separate axes .
As you can see the negative values are cut-off entirely and the information is lost because the colormaps range is much larger than the actual values ( so everything just looks blue ) .
I have scatter plot and code below .
You can prepare a list of colors and provide it with ` color= ` to ` scatter ` .
I have considered using plt.colorbar to annotate the plot , but I want to keep the option of placing it elsewhere .
To achieve this I'm using matplotlib's animation module .
I want to nicely draw the nodes in their spatial position , connected by the edges , and using a color scale to represent the ' intensity ' .
Here's an example function that uses only numpy and matplotlib to draw an undirected graph with edge weights represented by a colormap : #CODE
3d Polygon Plot in matplotlib baselines slanted
I am trying to create my own version of the 3D Polygon plot as shown on the Matplotlib web site :
If you need to have the curve at the edge of the polygon , you will need to draw it separately ( as the edge of the polygon is something you do not want to show ) .
The legend is there .
Determine button clicked subplot in matplotlib
you can get the bounding box of each subplot by ` bb= ax.get_position() `
iterate through all subplots ( axes ) of the image
using the contourf or the colorbar classes , but it just doesnt seem to work .
I have a number of data images like the one below , in which I appended a new set of axes to the right to force the colorbar to be the same size as the image .
I know that , in general , re-formatting axes in this way requires a call to a ` cbar.update_axis() ` to force the update , but that didn't seem to work here .
` cax ` is an Axes object , and calling ` cbar.update_axis() ` doesn't do anything either .
This is the spectral colormap .
Still , the rainbowish colormaps - however they are called - are not well suited for continuous data visualization .
Matplotlib hist ' stepfilled ' cause y axis limits wrong when sharey in subplots
I have come across matplotlib code which customizes legend loccation using keywords " loc " and " bbox_to_anchor " .
However , is there any benefit of using both in the same legend specification ?
When ` bbox_to_anchor ` and ` loc ` are used together , the ` loc ` argument will inform matplotlib which part of the bounding box of the legend should be placed at the arguments of ` bbox_to_anchor ` .
For example ( I've simplified the command a bit ) , the three options below will produce different locations for your legend , #CODE
The first command will put the center of the bounding box at axes coordinates 0.5 , 0.5 .
The second will put the center left edge of the bounding box at the same coordinates ( i.e. shift the legend to the right ) .
Finally , the third option will put the center right edge of the bounding box at the coordinates ( i.e. shift the legend to the left ) .
It still cuts off a portion of the legend .
increase the space between the x and y tick labels and the axes labels ( notice they overlap a little , especially for the y axis ) .
I think You just set the wrong xlim and ylim .
Is there a way to use the coordinate information to draw a polygon based on mouse click ( s ) and double click ?
How can I increase the frequency of xticks labels for dates on a bar plot ?
You can specify the xtick loactions in the ` xticks ` command .
Here , it helps illustrate the workings of ` xticks ` .
Last , you pass both the tick locations and the tick labels to the ` xticks ` command .
Is it possible to set the xticks to label every 6th bar ?
Change default colorbar for 3D scatter plot with matplotlib
I have 3d coordinates defining positions of points in my 3D scatter plot with a corresponding number of values who I want to create a colour scale for representing the range of values as such : #CODE
You have to give the ` cmap ` Keyword for scatter .
I want to draw a Trellis chart of Box plots .
I can draw a Trellis Chart of the means like so : #CODE
And I can draw a box plot of each `' temp '` like so ( for ' cold ') : #CODE
How to draw circle by data with matplotlib + python ?
I can draw a circle by ` scatter ` , which has been shown in the image .
But I want to draw them buy a line , because there are many circles in total , I need to link nodes together for a certain circle .
Why do you want to use ` scatter `
I have the strange effect , that the color of the outlier changes , if i change the symbol used to draw them .
Use ` boxplot ( data , sym= ' b . ')` ( b for blue ) .
The color changes for every group of outlier , if you plot two boxplots next to each other the outlier colors are ( blue , green ) for the first boxplot and ( red , turqouise ) for the second .
looking at the defaults for boxplot sym : #CODE
Using different colors for high and low outliers is not standard boxplot practice , let alone switching color on every outlier group .
Like BrenBarn and Joop correctly pointed out , it's easiest to just specify a color with a character : ` boxplot ( data , sym= ' b . ')` to reset the color to blue or ` sym= ' gx '` for green x's in the plot .
What is going on here is that the way the flier are drawn is using a cal to ` plot ` ( see the ` doplot ` helper function defined inside ` boxplot `) .
If you do not pass a color in via ` sym ` the plot functions do the default thing which is to color cycle following the ` axes ` cycle .
For 1.4.0 ( we have a release candidate out , you should all test it ! ) the code under ` boxplot ` has been completely re-written .
Example with explicit axes : #CODE
I had a very similar problem , which I finally managed to solve by defining a colorbar axes in a similar fashion to :
The advantage compared to mdurant's answer is that it saves defining the axes location manually .
If you can give up speed ( and have small images ) try ` PatchCollection ` or just drawing lots of patches .
My eventual goal is to have a plot of all upperLevel categories ( say A =( 0 , 1 ) , B =( 0 , 2 )) and use mpl3d to view the underlying subplots ( like this , but with each subcategory 1 , 2 , 3 stacked as a subplot ) .
I wish Pandas had a more advanced subplot function to make subplots by row groups as well as by columns .
All number type columns get put in each subplot .
The complexity I've added is to determine a good size for the figure , the locations of the subplots ( rows and cols ) and to add a legend and titles .
you have to store the line instance which ` plot ` returns and call ` set_color ( color )` before you draw again : #CODE
Be careful of changing limits in your animation function .
I want to plot a scatter plot with x axis as time series and y axis as coffee-shops .
@USER - Your first method should have worked if the axes ' " adjustable " style is set to " datalim " , but it won't otherwise .
I don't think matplotlib should even be able to plot something outside of the axes , you should fill in a bug report .
Matplotlib pyplot axes formatter
What is the difference between setting the yscale in log and setting the y variable in log ?
Here in the first case we are just setting the yscale to be a log scale .
In the second case we log the ` b ` , i.e the y axes variable in ` log10 ` and then plot .
One uses a log scale not to transform the data , but to have a more readable graph when some points are far away .
By applying the log yourself you transform your data .
@USER When we say a ` log-log ` plot it means that both axes x and y are in log scale .
So , none of your examples but more like the first when you also ` ax.set_xscale ( ' log ')` ; or the second with ` ax.plot ( np.log10 ( a ) , np.log10 ( b ) , ' -o ')` , but then again , up to you to interpret the numbers on your axes as powers of 10 .
To summary , ` ax.set_yscale ( ' log ')` in the background transforms your data to log just like you would do it yourself , except it adapts the ticks accordingly , which you need to do yourself if you transform the data yourself ( or just change the axis ' legend ) .
If you did not really want to transform your data and get negative numbers , then you can still obtain a log scale by transforming to log , but then you must adapt the ticks ( -2 -> 10^-2 etc . ) on the axis to show what the data originally is .
I am trying to draw a hist2d chart as one of a few subplots on a figure .
The api reference and example code online show that hist2d is an attribute of an axes .
I am able to plot surfaces and bars with my axes object , just not hist2d .
How to hide / remove legend line and retain the label
I don't want to show the line in the legend but label , if it is possible please help to fix .
Have tried to minimise the present-legend ' s line and label and overwrite only the new-label but legend brings both back .
Thanks @USER I had tried code by minimising line and label and overwrite only the label but legend brings both back -> legend = ax.legend ( loc=0 , shadow=False )
At that point , it's arguably easier to just use ` annotate ` .
However , if you did want to use ` legend ` , here's how you'd do it .
You'll need to explicitly hide the legend handles in addition to setting their size to 0 and removing their padding .
Since I was using dataframe , couldn't force the label name to desired one by default it takes the column name , so have changed the column name according to desired one and font size is too big when I tried to reduce the size -> legend = ax.legend ( loc=0 , shadow=False ) for label in legend.get_texts() :
label.set_fontsize ( 10 ) -> the it brings back the old legend , is there anyway to fix this , thanks for your time .
@USER .beginner - That's because you're creating a new legend when you call ` legend = ax.legend ( ... )` the second time .
If you want to access the first legend , use ` ax.get_legend() ` .
Matplotlib Subplots -- Get Rid of Tick Labels Altogether
possible duplicate of [ Remove xticks in a matplot lib plot ? ] ( #URL )
Maybe you are not applying the ` set_xticks ` to the correct axes .
Note that each axis instance is stored in a list ( ` axes `) and then they can be easily manipulated .
A one-liner would be ` plt.setp ( axes , xticks =[ ] , yticks =[ ])` .
Using matplotlib to draw networkx graph with nodes of differing size
So now I want to draw the graph in matplotlib so that the size of a node is proportional to the value mapped to size .
First , I used patch , but the circles appear below triangle vertices , for that reason I've thought to use collections to plot my triangle .
If you just want to draw a single triangle as a collection , you should use the ` collections.PolyCollection ` : #CODE
Ok , zorder is available with collections , too
Buttondownfcn gui axes
I have a Gui , that it has an axes ...
In the axes i can draw lines with plot .. but i want to select a line of the axes ..
Did I understand correctly - you want to be able to select a line from an axes when clicking on it , and having it deleted when you click on a " delete " button ?
plotting a scatter plot for list / array in matplotlib
I wanted to plot a scatter plot for the launch dates with x axis as dates and y axis as the products .
horizontal bar plot : adjusting y axes label size
instead of saving the image I also tried to make and write the plot in Excel file using pandas and XlsxWriter ( pandas and XlsxWriter ) , but it seems XlsxWriter doesn't have the function to draw the horizontal bar plot .
It is possible to draw a [ horizontal Bar Chart ] ( #URL ) in XlsxWriter .
matplotlib save animation in gif error
I want to save matplotlib animation in gif format .
I succeded to save animation to mp4 format , using code #CODE
Removing these elements gave a nice and small animation .
Python - How to to use subplot for with different member functions of a class
I would like to use the subplot function of matplotlib with different member functions of a class .
I am trying to create a visualization , showing time across the X Axis , with 4 ( one per app ) seperate line graphs indicating the count of errors from that app , at the specified time .
The information to do this must be stored in patches somewhere , but I can't seem to find it .
If the transform is applied in reverse , the result is a unit circle at origin , and it is very simple to check if a point is within that .
transform these vectors into the ellipse coordinates ( the ` get_transform ` , etc . )
transform the intersection points back to the plot coordinates
How do I see graphs in Ipython when using axes
But those people didn't use axes in their questions .
Matplotlib adding a contour plot colorbar
Please let me know how I could include a contour plot color bar in the following figure : #CODE
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
If you have write access to the source , then you can change the line in scatter_contour to return the contour set you need : #CODE
If you can't , then you'd have to try trace the references of the collections held in the axes - not immediately sure how to do this .
The ` alpha ` kwarg applies to the _whole_ artist during compositing .
actually , your example does not work when I draw plot inline ` ipython qtconsole -- pylab=inline ` .
If it's possible to add the third right-hand y axes ( vapour concentration and water content ) shown in these examples , which are unrelated to the left hand scales , this would be a bonus .
I've read related stackoverflow.com postings and examples on using multiple x and y axes using the twinx and twiny functions - e.g .
This first example is based on the explanations on parasite axes : #CODE
Matplotlib patches ellipse angle query
I am working with matplotlib patches and am trying to plot an ellipse at a specific angle .
The problem is that the xticks , set using set_xticklabels ( labels , rotation=60 , fontsize=10 ) , go out from the border of the figure ( so the text is truncated ) .
This fixed some clipping issues I was having with the xticks of a plot .
Make a matplotlib animation , by clf() ' ing each frame
i am trying to make the simplest matplotlib animation , using ` animation.FuncAnimation ` .
The issue with the original code is ` Figure ` written with a capital F ( should be ` figure `) .
thats embarrasing . however , your code executes without error but does not produce an animation . did you test this ?
Could you please clarify where do you want which subplot and especially if you want some plots spanning multiple rows or columns ?
I'm plotting maps using contourf and I'd usually go with the default ( rainbow ) colorscheme with levels = 50 .
So my question is , are the contourf levels limited by the amount of available colours in the colormap ?
I'm interested in being able to capture the variability of the data so more contour levels seems like a good idea but I'm keen on losing the rainbow scheme and just going with one based on a single colour .
How can I specify the duration when saving a matplotlib animation to a file ?
Usually it would be given by the ` frame ` argument of ` animation.FuncAnimation() ` , but not when using a generator to create the frames of the animation .
You can also add multiple axes and tailor both the ranges over which they display and the labels output .
Using a combination of these , you can solve your question ; but no , I don't know of a simple " subplot " mechanism .
I think if there is not a simple subplot mechanism then I'll just work with separate scene windows .
No inline_spacing in contour plot within matplotlib.pyplot.subplots
I'm using matplotlib.pyplot.subplots to create a 3x3 plot b / c it shares the axes easily .
I then plot in each subplot a contourf and contour plot .
When placing text in the contour plot , the inline_spacing is only correct in the last plot , otherwise there is no inline_spacing .
Perhaps sharing the axes applies some sort of transform to the clip_path which only makes it valid for the last axes .
With shared axes : #CODE
Without shared axes : #CODE
the point is that the x and y axes must range from 0 to 12 , and each ( x , y ) bin must represent the mean value for all the z values that meet each ( x , y ) criteria .
Elliptic orbit with polar method tracing phases , axes and Earth direction
Where I have a grid of the sizes along the axes , an in-scale star at the focus , and the orbit of the secondary star .
There is a so-called ` artist ` you can readily utilize .
You can use an ` artist ` to plot the ellipse , instead of using polar coordinates
The ` angle ` in the artist setup rotates the ellipse .
You can define a figure and axes , draw all the plots and then display the figure .
That would show all functions in the same axes .
I haven't used patches so far and I don't know if I'm using them in properly way .
Also , you will want ec= ' None ' in the Rectangle to remove the edges between the blocks .
I am editing this code further to work out problems with creating a plugin to control behavior in two axes .
Here I created two axes and created vline / hline in each with points at the intersection .
When I inspect the pts , line , patch objects , I find the following : pts = null for both , line = Line object and null , patch = both correct patches .
You will of course want to change the positions and scales , maybe do something with the axes , etc .
Tweaking the subplot positions should be easy enough by using the keyword arguments for ` GridSpec ` or by using the ` gridspec.update ` .
The JSON data included in the page appear to contain ylim and ydomain etc as expected , so I am very mystified how the graph got inverted .
It seems to be switching the x and y axes around ( try playing with the data to see this ) .
It doesn't look like the axes are being swapped , e.g. using x = [ 1 , 100 , 10000 , 1000000 ]; y = [ 4 , 8 , 16 , 32 ] .
But the y axis inverted , and the values on the two axes do not match what you would expect ( e.g. I would expect the points to line up with 0 , 2 , 4 , and 6 on the x axis but they don't ) .
This is this simplistic version , I'm sure there is an equivalent for axes .
matplotlib animation movie : quality of movie decreasing with time
I had been trying to set the bitrate in the ` anim.save ` declaration but was still getting the same blurriness later in the animation .
If I set the bitrate to anything less than 500 the animation would still get blurry .
Alternatively , you can put multiple pies on the same figure using subplots / multiple axes : #CODE
In Python , can Matplotlib's Contour function return the points of a particular contour line ?
I had to use contour plots to generate plots of a set of inconveniently defined hyperbolic functions .
If I can get the Matplotlib contour function to return the points of each contour line as it is drawn , I can handle the rest of the calculations .
Can the Matplotlib contour function return all of the ( x , y ) values for a particular contour line , say at f ( x , y )= 0 ?
You can draw a contour at a specific ` level ` like this : #CODE
Now you can extract the contour points from the returned object ` c ` ( see this answer ): #CODE
Matplotlib.patches.Wedge animation not working
I have just started animating my matplotlib patches .
( By the way , are you sure you want to say ` patch_one.r += i* 0.0001 ` ? The animation looks a bit odd with that . Maybe you mean ` patch_one.r = 1 + i* .0001 ` ? )
Your expression to transform ` k ` into ` k2 ` can be more simple written as ` k2 = [ i*pi for i in k ]` .
So far I've tried hist , but it errors out : #CODE #CODE
The issue is that some of these files are plots and they open a ` Figure ` window that halts until the window is closed .
Is it appending all of the figures to Qt4 or will the Figure be removed from memory when that script has finished ?
Wrong value in matplotlib yticks
I'm trying to plot from pandas dataframe and matplotlib show wrong value in yticks
I don't know have to put value like ' 2609.703 ' in yticks instead of what shown in graph
Or , if you're using the ` plot ` method of a Pandas ` DataFrame ` , its return value is the axes object , so just : #CODE
( Eventually looks like one subplot aligns with the x-axis of the main plot , while the other aligns with the y-axis . )
How about using ` subplot ` instead ?
Edit : added contour exmple adapted from here .
Does is work for contour plots also ?
Every thing that can work on an [ axes ] ( #URL ) object can work here .
To draw the angle arc :
You can get the angle value from the ` label ` of the ` Arc ` object using the ` get_label() ` method ( Since we had set the label to the angle value + the unicode degree symbol ) .
First , that is a really bad example of how to do animation .
Detecting Intersection of Arbitrarily Rotated Text in Matplotlib
I want to detect if arbitrarily rotated Text instances overlap .
Using the technique described HERE I can get the axis aligned bounding box ( AABB ) of a Text instance .
If so , use Separating Axis Theorem to determine if their OBBs intersect .
Do you know how to make it draw faster ?
I'm talking about this time before " updateing " grapht ( getting new point and draw it ) .
I'm going to draw some huge graphs with it and don't want to wait few hours for it :) Is there any way to boost it ?
@USER Do you need to draw the current figure in every step when you add new data ?
I can ` from distutils import dist ` in current virtualenvwrapper environment .
To minimise the disconnect between the screen i want the graph backgound to be black .
the background by setting the axes background .
So we need to set two things : the ` axes.facecolor ` , which is the color of the area where the data are drawn , and the ` figure.facecolor ` , which is the everything a part of the figure outside of the ` axes ` object .
@USER - the white edges around the plot are still part of the plot ( i.e. : they come from matplotlib - notice the numbers on the axes ) .
If you wish to edit this to change the default axes facecolor ( the technical term for the background ) then you'll need to uncomment and adjust this line :
` #axes .facecolor : white # axes background color `
` axes.facecolor : CCCCCC # axes background color `
I have a white background as standard on my IPython notebook so it looks like [ this ] ( #URL ) with simply a grey axes face and white all around .
You need to set both the axes and figure background colors : #CODE
The Figure needs a FigureCanvas to draw on .
I would like to draw a matrix with imshow with tkinter in a gui .
Normalize a multiple data histogram
How can I write the latex special character $\bar{T}$ in matplotlib axes ?
I would like to write the latex math mode symbol $\bar{T}$ in the axes label of a plot made with matplotlib .
Is there a way to write this symbol in the axes labels using matplotlib ?
I have been able to write other latex axes labels but I have never used any of these special characters .
Colorbar sticking to axes
I want this image to have a colorbar but I want it to be " stuck " to the figure , so that there is no space between the two axes ( the one from the figure and the one from the colorbar ) .
Even if the figure is resized , the colorbar should always stick to the image axes .
PS - I don't mind if ax3 ( the axes of my image ) is deformed .
The only output it gives me is a scatter plot , that exports as png .
This appears to be working fine until I try to place the contour under the 3d plot .
What you're looking for is ' Axis customization ' .
I already use ylim ( min , max ) to constrain height of the plots , but I still want to have the same " size per unit " on X axis .
The problem is , I have a rough idea of ( Xmax - Xmin ) but I don't know the actual Xmin ( or Xmax ) , so I can't use xlim , unless I am mistaken .
I'm having the exactly same problem with contour .
Then , without doing anything else , a pick event from the moved artist ( the peg ) is generated even though it wasn't there when the first event was generated .
My only explanation for it is that somehow the event manager is still moving through artist layers when the event is processed , and therefore hits the second artist after it is moved under the cursor .
Below is a working example that illustrates the problem , with ` PathCollections ` from ` scatter ` as pegs and holes : #CODE
The problem you encounter is due to the way the pick_event function is called , matplotlib test each artist and if it's picked immediatly call you handler functio .
In a first time when there is a picking event you just add the artist to a queue and then every x milliseconds you process this new data .
To retrieve the legend from each plot and show them on the figure ?
Should I return the legend from each function ?
What I have done for now is to return a ` legend ` from each function and do what was suggested in that thread .
Make your functions return the legend #CODE
Trimming trailing xticks zeros with matplotlib
I'm very new to using matplotlib , and I'm having difficulty with the xticks .
I used PyX previously ( and I must admit I'm getting a bit muddled as I've learned to use each purely through the use of stuff my collaborators have used and they've varied between ) , which sets the axes properly , but doesn't seem to support LaTeX as well as I'd like , so it's not an idea solution .
My ` matplotlib pyplot ` has too many ` xticks ` - it is currently showing each year and month for a 15-year period , e.g. " 2001-01 " , but I only want the x-axis to show the year ( e.g. 2001 ) .
As an example , here I have set the xticks frequency to display every three indices .
It isn't really any better than the answer you linked , but I think the way to achieve this in seaborn is using the ` FacetGrid ` feature , as the groupby parameter is only defined for Series passed to the boxplot function .
ok , I didn't understand you wanted the boxplot side by side .
As the other answers note , the ` boxplot ` function is limited to plotting a single " layer " of boxplots , and the ` groupby ` parameter only has an effect when the input is a Series and you have a second variable you want to use to bin the observations into each box ..
My initial idea was to display my positions as a 3D scatter plot and color their density via a KDE .
However , my real data contains many thousands of data points and calculating the kde and the scatter plot becomes extremely slow .
I recreated the density scatter plot in mayavi as follows : #CODE
However , my research into the functionality of imshow suggests it doesn't work with the 3D axes .
Or is there another plotting function which could replicate imshow functionality but can be combined with 3D axes ?
Just note that there is a slight problem with the fence poles and fences , i.e. the grid has one more vertex compared to the number of patches .
The solution I came up with was to keep a list in the scope where the function is called ( I used a static variable in a class ) , and append the instance to this list from within the function .
You can choose your favorite [ Matplotlib Ticker and Formatter ] ( #URL ) .
Adding Python Path on Windows 7
Append ` ; C :\ python27\Scripts ` to the end of ` Path ` variable
I wonder if the issue has to do with perhaps the ' ffmpeg ' matplotlib animation writers not being ( generally ) safe on GNU / Linux ?
I would also like to set xlim to wider than the dataset so all data points are within the axes ( not on the edges ) .
matplotlib.pyplot issue with subplot , np.ones and np.arange ?
The last subplot I have is the number of independent observations as a function of the time .
Now when I run this code , the subplot I get only shows the second ax [ 3 ] plot and not the first .
The first plot was plotting but I couldn't see it with the axes so I changed the y limits #CODE
Matplotlib animation not working in IPython Notebook ( blank plot )
I've tried multiple animation sample codes and cannot get any of them working .
I can save the animation to an mp4 file just fine and it looks good when played .
The bottom line is that you can't get an animation created with FuncAnimation to display inline in an ipython notebook .
According to this answer , you can get animation ( and full interactivity support ) working in an IPython notebook enabling the ` nbagg ` backend with ` %matplotlib nbagg ` .
Once you create the Basemap object , called ` m ` in the example , you can transform
I have created a ` FigureCanvas ` which allows drag and drop on all ` Text ` instances .
This works great for text within the axes , but for text outside the axes ( such s axis labels ) , when the text is being picked , it leaves behind a ' trail ' of text where ever you move it .
Once the mouse is released , the trail dissapears and the text is in it's desired positions , but I am trying to understand why this would occur ( and why it would occur outside the axes , but not inside ? )
Screenshot of the problem in action ( you can see the ' trail ' left behind when moving outside the axes in the top left ):
If this doesn't get sorted out in the near future , can you create an issue on gh for this ( smells like a bug with blitting outside axes ) .
Matplotlib polar bar-plot legend
By default , ` legend() ` seems to treat it as a single artist , hence why you are only getting one legend item for your bars .
You can force ` legend() ` to draw separate legend items for each artist by calling it with the alternate syntax : #CODE
You will need to create the legend after you have changed the colors of the bars , otherwise the colors on the legend won't match the colors of the bars .
When each bar has its own ` label ` , ` legend() ` automatically treats them as separate and draws legend items for each one .
Figure :
adds arrow patches ( type ` FancyArrowPatch `) to the axes
adds the same arrow patches to the ` PatchCollection ` ( ` c.arrows `)
For some reason ( I guess getting the correct scaling is behind this ) the collection does not seem to be used and is not added to the axes .
Figure Size & Position after Matplotlib Zoom
In the draw event you can get your axes limits , calculate a scaling and whatnot and can use it as-is later on to set the ax to the desired zoom level .
Setting xticks and yticks for scatter plot matrix with pandas
use [ this ] ( #URL ) solution and just modify it to ` ax.set_xticks ([ 0 , .5 , 1 ])` inside the loops and similarly for the ` yticks `
I am trying to produce a chart using patches .
If you told me that patches wouldn't cope with that correctly , I'd believe you .
You might need to compute the limits first and then add the patches .
The patches are now keeping their width independently of chart size .
Centering a legend title with line breaks in matplotlib
I use the following code to display a legend title with matplotlib : #CODE
On the x-axis , I want to have minor ticks ( including labels ) for the ` xticks ` range .
The colorbar's axes ( ` colorbar.ax `) actually always ranges between 0 and 1 .
I don't think ` basemap ` axes change the colorbar in any way , but I could be wrong about that .
Setting different color for each series in scatter plot on matplotlib ( python )
The module matplotlib.cm provides colormaps or you can c reate your own .
This demo shows the available colormaps and their names .
If you have more than 256 data points you'll need to repeat colors or use a larger colormap but you might get into the limits of spectral resolution anyway .
draw a population density map for the world in python matplotlib
It use shapefile of each countries to define the contour boundaries .
This can be solved by first finding the index of ` 0 ` in ` xticks ` using ` numpy.where ` and then removing this element using ` numpy.delete ` .
I have a chart , with 95% confidence intervals as patches .
Matplotlib Annotation not working
Brew might also scatter files around a bit , here's where they were on my machine :
This should draw 11 random 50x50 images with 1 second intervals .
If your data is really a list of points in the form ` ( x , y , intensity )` , you can transform them into a ` numpy.array ` : #CODE
How can I create a subplot ( kind= ' bar ') for each ' Code ' , where the x-axis is the ' Month ' and the bars are ColA and ColB ?
The window keeps called " Figure 1 " .
Same kind of functions seem to be for other backends , they use the ` matplotlib.is_interactive ` to determine if this is an interactive session and then use the backend specific drawing commands to draw the image .
I want to plot these in a subplot with matplotlib .
i don't think your date converter is actually working . the column appears to be still be a string not a ` datetime ` object . can you post some sample data ?
matplotlib legend that is ordered by the last Y values , and have lines from the last plot point to the legend
I'm probably not describing this well in the title , but can someone post an example of how to do a legend as in the these graphs :
Legend text is sorted by the last values of the plot y-datas .
There is a line from the last plot point to the legend label with the correct line style , color , etc .
I'd go with using ` annotate ` rather than try to futz with ` legend ` , it provides a great deal of control over placement and properties .
Here's a minimum example which together with the documentation for ` annotate ` should push you in the right direction , it results in this plot :
I was guessing that I would need to use ` text ` instead of legend .
But I did not know about ` annotate ` .
Python show legend for iterations in for loop
I want to create a legend where each value in ` np.arange ( 0 , 20 , 5 )` is shown in both ` y ` and ` z ` figures as ` c = XXX ` where XXX is the ` c ` used inside the for loop .
This means when you add a legend #CODE
Present different colors in contourf
I use ` contourf ` in ` matplotlib ` , to do the work , #CODE
In contourf , there is a ` level ` which controls the same thing
But now when it comes to ` contourf ` , there is a ` level ` inside , which just makes me confused .
there are two parts in the whole process . one is contourf , one is colormap .
for contourf , level deals with which part you want to plot .
Then , if you define a level in contourf , e.g. [ 0 , 1 , 2 ] first , the program will categorize your data into different parts according to your level .
unable to join markers
However in the uploaded plot nothing I have tried works to join the markers .
Actually , matplotlib's scatter plot does accept a list for the colorbar .
Read this tutorial for a through introduction to the transform stack .
Everything is position / defined in relative units ( data-units , axes fraction , and figure fraction ) which is only converted to screen-units during rendering , thus the only place any part of the library knows how ' big ' it is in screen units is the figure size ( controlled with ` fig.set_size_inches `) .
I also considered using the transform stack , but I didn't see a significant advantage to using it instead of just scaling things manually .
In general , I would advise to build the figure structure separately , then resize the axes / canvas before the actual rendering to the new figure size .
Now , I want to build a similar figure , keeping the axes of the same size and in the same positions ( with respect to the left / bottom corner ) , but with more room within the figure .
We introduce for this purpose a further option ` axref_size ` in ` opts ` of ` figure_3x1 ( **kwargs )` , which is a tuple of the type ` ( width , height )` that describes the figure size ( in inches ) with respect to we want the axes to be build ( and sized ) to in the new larger figure .
After these width ( ` AxisWidth `) and height ( ` AxisHeight `) of these axes are first calculated with respect to the larger figure , we resize them along with the ` left ` and ` bottom ` coordinates , and the vertical / horizontal spaces between different axes , i.e. ` hs ` and ` vs ` to achieve the size of the original ` axref_size ` figure .
generates the following larger figure ( i.e. of 7.5x5.5 inches ) but with the axes for subplots of the same size as in the above figure of 6.5x5.5 inches .
One solution I came with is to convert a cmap palette to a numpy array and use pyplot hist color by calling this palette #CODE
But this works only for hist for plot function I got this error message #CODE
This can be used to gain access to the figure containing the subplot and then the ` savefig ` method can be used : #CODE
You should mention the ` Normalize ` methods here as well .
@USER : good to know that . but in my real plot , i dont use any interpolation and the main issue with savefig is changing all the layout ( fonts , labels , legend size etc ) .
I am going to change the style of tick label to ' sci ' so that the plotting can be more neat .
Why the annotate worked unexpected here in cartopy ?
The ` annotate ` above shows nothing .
To be honest , I don't think annotate has been used in earnest with Cartopy before , so that is probably why you're hitting this problem - you're trail blazing ;)
It looks like matplotlib's ` Axes.annotate ` method is to blame here - it nukes the transform passed through around #URL .
This is mostly because annotate has special keywords for defining the transform of both the coordinate and the text position independently ( see ` xycoords ` and ` textcoords ` in #URL ) .
When we dig down into the Annotate class , we will find that Annotate's ` _get_xy_transform ` ( #URL ) can handle various ( some undocumented ) forms as values to ` textcoords ` , including transform instances .
Sadly though , annotate does not know how to convert a Cartopy coordinate system to a matplotlib transform in the way that most of the rest of matplotlib does , so we are going to have to do that for the annotate function up-front .
To create a matplotlib transform from any cartopy coordinate system , for any axes , we can simply do : #CODE
We can now pass this transform through to the annotate method , and we should end up with text and an arrow in the expected location .
I've taken a few liberties to highlight some of the functionality of annotate while I'm at it : #CODE
Adjust scatter marker size to fit imshow cell size
I would like to plot a scatter over this image , which I know how to do .
I know that the ` scatter ` has a size parameter , but I don't know how to calculate this size .
In your example , you have no Axes called ax , you named the matplotlib.axes module ax .
To get the axes currently used by matplotlib use ` plt.gca() .get_ylim() `
If you just want to use the pyplot API : ` plt.ylim() ` also returns the ylim .
If you want to get an ` Axes ` object easily , use ` fig , ax = plt.subplots() `
Since the Figure is still referenced by the name fig1 it is not destroyed .
Python : how to reduce spacing between plot and xticks using matplotlib
As shown in the figure ( #URL ) by the arrows , I'd like to decrease the spacing between plot and xticks .
You can't just use fill instead of scatter .
You just need to append to the data you are already plotting , some coordinates , representing the lower corners of the polygon .
How to flush away the default suptitle of boxplot with subplots made by pandas package for python
In the following example , I try to make boxplots of " Emission " vs " Voltage " for four " Power " levels , with each power level occupying a subplot .
perhaps the title is tied to the axes , not the figure . try ` ax.set_title ` .
I've got 4 axes in this figure , shouldn't the suptitle belong to the figure instead of an axes ?
Those are generated by ` suptitle() ` calls , and the super titles are the children of ` fig ` object ( and yes , the ` suptitle() ` were called 4 times , one from each subplot ) .
In terms of axes limits and aspect ratio , ` pcolormesh ` acts less like an image , and more like a line plot .
I recommend setting the axes limits ( and aspect ) explicitly in that case .
@USER - Alternately you could call ` ax.axis ( ' tight ')` to automatically set the axes limits to the bounds of the data , rather than manually specifying them .
How to show ? in the legend of matplotlib , python ?
However without ?, the figure will be less meaningful , since nobody knows the meaning of the legend .
There is numpy's histogram function , and matplotlib's histogram plotting function ' hist ' .
Matplotlib : Expanding axes to fill figure , same scale on x and y
will expand my current axes #CODE
But when I use them both I get square axes view and I want it to be expanded .
The answer should work with autoscale
Of course , you may set the ` xlim ` and ` ylim ` any way you want , you might , for example , want to add an equal amount of space to either end of the scale .
I need something that works with autoscale ( tight=False ) .
I looking for a way to annotate my bars in a Pandas bar plot with the values ( rounded ) in my DataFrame .
You get it directly from the axes ' patches : #CODE
each time I plot takes care of the axes background .
This affects the legend as well .
Creating a legend and plot multiple data sets in one graph
However I have a problem making one graph which contains all data sets and legend which is not on top of the graph .
Can anybody help me and give a suggestion what I should do in order to be able to plot one graph with all data on it with legend that is outside of the graph .
To draw all the lines in one figure , call ` plt.figure() ` ( or ` plt.subplots() `) only once , since each call creates a new figure .
To move the legend outside the figure's drawing area , you could use #CODE
which places the legend near the upper right-hand corner .
` bbox_to_anchor =( 1.05 , 1.0 )` anchors the legend to a point outside the figure
` loc=2 ` anchors the upper left corner of the legend to the location ( 1.05 , 1.0 )
Thanks to DSM for showing how to move the legend , here .
More information on how to place and configure the legend can be found in the Legend Guide .
Add reasonable-looking table to matplotlib axes ( HTML ? )
Say I set things up with ` axes [ 0 ]` for the visualization and ` axes [ 1 ]` as the place where I want the table .
What's the easiest way to take ` tabledf ` and draw it on ` axes [ 1 ]` ?
Is there a way to draw an HTML table onto a matplotlib set of axes ?
AssertionError in matplotlib animation
I'm taking a data from files and want to make an animation of four plots at the same time : two colourbars and two lines .
Installing the newest release didn't help ;( It still creates two figures , first is absolutely empty and the second one is only with axes ;(
You can define the axes aspect ratio as follows : #CODE
how to change the shape of a contour in matplotlib
I am using ` contour ` or ` contourf ` in ` matplotlib `
But I looked into the arguments in ` contour ` and ` contourf ` , there is no argument about changing the shape of the contour , or changing the length of the axis .
Now the points are in the correct place ( rings and crosses ) , and the selection of points to draw does not change the position of the points .
To my eye it seems that there is some hassle with the decorator ` _transform1d ` used around ` plot ` and ` scatter ` methods .
Monkey-patching this ( ` __init.py__ ` , lines 3239 and 3277 in today's git ) by changing the decorator into ` _transform ` should help , but it may break other functionality in ` plot ` and ` scatter ` .
Plotting non-square array with contour
I am trying to make a projected 3D plot ( contour plot ) of a big array with ` matplotlib ` and it turned out like this :
Python plotting contour of function generated in for loop
I want to do a contour plot for a function ` z ` ( its values are in ` zlist `) , where the axes show the parameters ` x ` and ` y ` .
How to add legend to imshow() in matplotlib
In ` plot() ` or ` bar() ` , we can easily put legend , if we add labels to them . but what if it is a ` contourf() ` or ` imshow() `
I want such a legend which have names ( labels ) .
imshow() works perfectly with my case , but without the legend .
Is there a function that can automatically add legend , for example , in my case , I just have to do like this : someFunction ( ' grass ' , ' sand ' ,... )
I guess you have to fake your legend , since it requires a line for creating the legend .
contour level in matplotlib.pyplot.contour
matplotlib.pyplot.contour automatically chooses the contour level .
The contour looks very smooth : is there any smoothing algorithm of contour drawing ?
Multivalued Histogram as combined scatter and histogram plot
It's a bunch of vertical 1D scatter plots arranged horizontally .
The ` hold ` seems unnecessary ; whatever you draw by using ` ax.something ` will be drawn onto that graph .
Have you looked into [ contour plots ] ( #URL ) ?
You might be able to combine 4 or 6 ``` contourf ``` commands to generate a cube .
Falko's suggestion to use contourf works with a bit of finagling .
It's a bit limited since at least my version of contourf has a few bugs where it sometimes renders one of the planes in front of other planes it should be behind , but for now only plotting either the three front or three back sides of the cube will do : #CODE
Are there ways to add lines in the axes of a matplotlib figure
I am looking through the documentation of matplotlib for the purpose of adding a tick that separate the axes
Note that I calculate the tick length automatically to be 5% of the axes height .
Tick labels displaying outside axis limits
Here we are creating a figure and axes , plotting the data , and then setting the xaxis
Adding y=x to a matplotlib scatter plot if I haven't kept track of all the data points that went in
Here's some code that does scatter plot of a number of different series using matplotlib and then adds the line y=x : #CODE
In order to achieve this I've had to keep track of all the x and y values that went into the scatter plot so that I know where ` identity_line ` should start and end .
You can get away with what your matplotlib Axes object will tell you about the data .
You can retrieve all the children present on the axes and filter on the object type .
If you have only one AxesImage on the axes it returns a list containing one object , for example : #CODE
In your example you have a Basemap axes ` m ` , a Cartopy axes ` ax ` and you are using the ` Pylab ` interface by using ` plt .
` which operates on the currently active axes .
But here is a Cartopy-only example showing how you can plot a ` Shapefile ` and use the same ` cmap / norm ` combination to add a colorbar to the axes .
One difference with your code is that you provide the axes containing the map to the ` ColorbarBase ` function , this should be a seperate axes specifically for the colorbar .
Non-overlapping scatter plot labels using matplotlib
I have a scatter plot with a number of points .
@USER , you say that drawing the need to draw the text boxes to find out how big they are would be " expensive .
Text rendering is one of the bottle necks , but I am thinking in terms of trying to do animations / realtime plotting , in terms of human time it's still pretty fast .
You can draw all the annotates first , and then use a mask array to check the overlap and use ` set_visible() ` to hide .
It will start listening to click event until you disconnect .
to disconnect the event hook .
This is done using ` xlim ` and ` ylim ` .
This of course also works for the y-axis using ` ylim ` .
@USER A lto of the things like this in ` matplotlib ` have the option to either just call them with ` xlim (8 , 2 )` or with ` xlim ( xmin=8 , xmax=2 )` .
Also , once they understand the syntax , they can drop the keywords and then just call ` xlim (8 , 3 )` as they please - if by that point that's what they want .
Plotting wind vectors and wind barbs
I now found out that if I try to save it as pgf ( LaTeX PGF Figure )
1D animation over time using matplotlib
My initial thought was to run a for loop for time ( t ) calculating h at all points ( this is what I would do in MATLAB ) , however looking at the examples in the Matplotlib documentation I am not sure whether carrying out an animation this way is possible .
You could create an animation using a for loop as you suggest and display or save each plot as it is created .
You can also use the Matplotlib animation module .
This will allow you to save your animation in a format that can be included in a presentation .
There animation module lets you define a function that updates the artists at each iteration .
do i need to get the axes first ?
The ` ondraw ` event handler gets the current x limits of the current axes ` gca() ` , selects ` y ` values with corresponding ` x ` coordinates within the x limits and sets new y limits determined by the minimum and maximum y value of selected coordinates .
With ` mpl_connect ` we attach the event handler to the current axes .
Every time the axes is drawn - e.g. due to new plotting commands or manual user interaction - it calls ` ondraw ` to update the y limits .
Animating contourf plot
I am trying to animate a contour plot .
This makes matplotlib actually draw the plot up to this point and wait 0.1 seconds so that you can see something happening , before it continues with the next iteration .
The following script produces a simple animation of a traveling sine wave when executed using the ` %run ` statement in Canopy 1.4.1 : #CODE
How can I get a function call to produce an animation within Canopy ?
What is more , the issue is limited to the interactive display : if I add a few more lines to ` animator ` to save the animation in mp4 format , the mp4 file is saved correctly even from Canopy .
The application has a pushbutton that is connected to the function " doactionpushbutton " , When clicked the function is entered and the plot with the label " Figure 1 " is opened and is correct .
Add Thousands Separator to matplotlib subplot bar label
I'm trying to add a thousands separator to a bar chart subplot .
Python animate contour plot for function generated in for loops
I want to draw a contour plot of ` y ` vs ` x ` and animate this for different times ` t ` .
This seems to get things moving , but the axes are wrong : #CODE
You want an interactive animation , or to save a movie ?
I want to show an interactive animation , and also to save a .mp4 if possible .
Each DataFrame takes its own subplot .
Remove or adapt border of frame of legend using matplotlib
How to remove the box of the legend ?
How to change the color of the border of the legend box ?
How to remove only the border of the box of the legend ?
How to remove the box of the legend ?
How to change the color of the border of the legend box ?
How to remove only the border of the box of the legend ?
Matplotlib : Annotate Subplots in a Figure with A , B , C
Ideally , I am searching for a way to annotate such that the letters stay in place relative to the subplot if the figure is resized or the subplot is moved via ` fig.subplots_adjust ` , ` fig.tight_layout ` , or similar .
If you want the annotation relative to the subplot then plotting it using ` ax.text ` seems the most convenient way to me .
Hi , yes I've tried contourf too , but it doesn't really solve the problem .
It would be ok if I could smooth the data and then contour , but I didn't find a good way to do that yet .
How about passing exact values to ` contourf ` on which contours have to bee drawn , with really small intervals that should smooth data on map .
Bars with a width of one will fill the axes and will scale with the figure as it is resized .
Without seeing your x an y data and the size of the axes I can't give you a better answer .
Then set the x and y limits of the axes .
I have one more unrelated question : do you know how I can change the color of the frame of a subplot ?
typeerror in basic example for legend handles in matplotlib
I have difficulties to understand the legend handling .
The more , the basic example from the official matplotlib legend guide #CODE
I have been trying to use matplotlib's text or annotate modules for using mandarin characters .
Here is a solution that works for me on python27 and python33 , using both text and annotate with Chinese .
Currently , I am able to pan but not zoom .
They both return False ( I think can_pan returns False because the axes cannot pan AND zoom both but maybe I am reading the API wrong ) .
I mean that the Axes3D class does not currently implement zoom via rectagle or to pan .
Clicking on pan / zoom button :
Put your mouse somewhere over and axes and press the left mouse button .
I previously tried using the pan / zoom button and the zoom-to-rectangle button but neither of these change the functionality of right or left mouse buttons .
contour plot with python loop and matplotlib
I can't figure out what's preventing me from getting a contour plot of this cost function .
As is , the code spits out all the values -- one per line -- before giving me the error when trying to plot the contour .
And finally one last question , is setting per hand the square size in my scatter plot necessary .
How can I change the color of a histogram after I draw it ?
( using hist ) #CODE
You just need to store the ` patches ` returned by ` hist ` and access the ` facecolor ` of each of them : #CODE
By default ` hist ` plots 10 bins .
Redrawing legend when the figure is closed
Using matplotlib , I'm trying to execute a callback function when a figure is closed , which redraws the figure legend .
The ultimate goal is to save two different versions of a figure when it is closed , redrawing the legend in between saves .
` f.get_axes() ` returns a list of axes objects .
Installed the libagg-dev package , and the libagg message changed to " libagg : yes [ Requires patches that have not been merged upstream . Using local copy . ]"
I tried to do it by modifying the each patch with the image of the flag through the Figure atribute , but it didn't work .
` image = plt.imread ( iname )` doesn't return a figure , yet you feed it to ` patches [ 1 ] .set_figure ( image )` .
I'm trying to draw a box on a map in relative coordinates ( i.e. 0 to 1 ) .
Is there a way to draw a box in a matplotlib axes object using relative coordinates ?
To draw just a box given it's relative coordinates / dimensions with no text in it : #CODE
If you have the circle positions given in pixel coordinates , you can use the scatter function from matplotlib or the Circle class .
About your second question : you can use matplotlib or scikit-image to load the png into a numpy array and then use again matplotlib to draw circles ( but note that the axes coordinates will be different ... try to avoid this if you can or show an example with some code what exactly you want to do ) .
Then I checked , what the axes looked like , and specified my circles according to the coordinates ( which I determined via visual inspection ) #CODE
I downloaded python via macports and I am currently running code via Sublime Text 2 .
1 - Open Sublime Text 2 -> Preferences -> Browse Packages
The code below pulls data from yahoo finance into a pandas data frame .
pyplot legend not matching lines
My legend doesn't match the line colors .
The code downloads the data from yahoo finance so you should be able to run it as is on your machine and see the data yourself .
Edit : I noticed that the legend was picking up the axvline so I moved that to after the legend and generated separate plot statements via loop as suggested in the comments but it still looks like the lines aren't matching the correct names in the legend .
I tried this and I got different colors in the legend , but they still don't match the line colors .
The reason for this is probably on lines 52 and 53 in the ` patternStorage ` function of your code where you append ` p3 ` to your list twice : #CODE
Matplotlib provides many [ built-in colormaps ] ( #URL ) .
---> 34 from matplotlib.figure import Figure , figaspect
---> 40 from matplotlib.axes import Axes , SubplotBase , subplot_class_factory
42 from matplotlib.legend import Legend
/ home / yefremat / .local / lib / python2.7 / site-packages / matplotlib / axes init .py
/ home / yefremat / .local / lib / python2.7 / site-packages / matplotlib / axes / _subplots.py
---> 10 from matplotlib.axes._axes import Axes
/ home / yefremat / .local / lib / python2.7 / site-packages / matplotlib / axes / _axes.py
Align legend rows in matplotlib
I am doing a plot with matplotlib and creating a legend for this ( see code below ) .
This is how the text of the legend should look like
Here's a solution where LaTeX perfectly alignes math , but the user has to take the pain to position it inside the legend .
draw legend box in a given position with a placeholder
As to a space between ` ` sign in a legend -- it might be reduced with say : #CODE
Very nice , the legend looks exactly like i wanted it to be .
I wish to use this data to create a scatter plot with the letters in the alphabet arranged from a to z on the x axis , and each of the values for the given letter on the y axis , like this :
I have a subplot containing 2x2 3-D graphs .
I'd like to generate one figure , however , which has a legend outside of the figure .
The problem is that in PowerPoint , I can no longer align the two figures left and have their axes aligned .
Due to the use of the ' extra artists ' and ' bbox_inches=tight ' arguments for the first figure , the width of its margins becomes different from the second figure .
Of the 4 / 5 / 6 dimensions I am projecting from , I want to be able to choose any three of the axes .
Figure appearance is not preserved when its axes are added to new figure
I have several figures generated by independent scripts that I would like to lump in one complex figure with custom axes ( position and size ) for each panel .
Right now , I am able to copy each figure in to the panel that I want , but the " copied " figure is somehow clipped and the axes are messed up .
( 3 ) - Then ok , position of axes is totally screwed ...
I think the most natural way of doing this is to create the custom axes first and then plot on them directly .
By the sounds of it , for you this would involve changing your independent scripts to take an axes instance as an argument and do their plotting on that ( rather than by using the state-ful interface ) .
One way of doing this would be to return a list of axes instances from ` customfigure ` : #CODE
If you really don't want to change your independent scripts then you can achieve much the same thing in the state-ful interface by using ` plt.sca ` to set the current axes of the state machine to be the axes you've created and want to plot on .
I am trying to set y axes ticks , the left side direction out and the right side direction in .
You could also provide axes label using pyplot : #CODE
pyplot legend scaling inconsistent
Also , I plot an axvline , which is the only thing that is labeled for the legend .
However , the legend box I plot with #CODE
changes its and its font's size from plot to plot , which I don't get - since the position and the content of the legend always stays the same .
What is the legend size a function of and why does it change ?
You may be adding lists with ` + ` to get ` meta_total ` , which will append the two lists not add the values together .
Take a look at the colormaps reference .
Extend the line of the last two points , then set the axes back to what they were .
I am trying to draw a polar plot with matplotlib and would like to do the following :
Your ` legend ` call doesn't work because of ` ncol ` .
@USER You're right the legend call isn't exactly working right , but when I tried it the legend was actually there but it was outside the visible figure , you start to see it if you resize the figure to be itty bitty .
I have points plotted in 3D space , with four polygons that slice through the data cube at angles to the y and x axes .
Using these coordinates I can draw a polgyon , in the same way that I am doing now .
I've just discovered a nice way to create a Matplotlib filled contour plot clipped to an arbitrary polygonal region .
I presume that when calling the set_clip_path method with a patch on the PathCollection , the patch must have been added to the axes , but I don't understand why .
Changing a Matplotlib Rectangle to Circle in a Legend
You just need to use a ` Line2D ` artist and set its properties like ususal : #CODE
This is obtained from Matplotlib , legend with multiple different markers with one label .
The accepted answer suggests to use " Axis spine " and just links to some example .
I am unable to figure out , how to use " Axis spine " in my simple example .
Using ` subplots ` is not too complicated , the spines might be .
Alternative using simple spines #CODE
Here are the docs for a the ` set_position ` method of spines :
Spine position is specified by a 2 tuple of ( position type , amount ) .
' axes ' : place the spine at the specified Axes coordinate ( from
' center ' -> ( ' axes ' , 0.5 )
where ` system ` is ' outward ' , ' axes ' , or ' data ' and ` position ` in the place in that coordinate system .
What I want to do is to plot contour plots as if only the land portions of the USA are allowed .
Pretty sure you can set that to the artist of the shapefile .
Just draw a line with ` plt `
At the risk of going off-topic , I'll confess that I don't understand how the colormaps work very well ; for example I don't understand the difference between ` hotm.to_rgba() ` and simply ` cm.hot() ` ; but I see they do behave differently .
` Normalize ` is the base class which does simple linear normalization , but any function which maps the input to the range [ 0 , 1 ] can be used .
@USER : Thanks ; I was doing the normalization ( linear , log , or sqrt ) myself in numpy .
Am I correct to think ` Normalize ` is just the equivalent thing for convenience ?
Right now I'm just experimenting with all the methods that my Polygon object has , maybe that will tell me something .
The contourf plot only show within China border .
When called , they must draw a plot on the " currently active " matplotlib Axes .
It can be easier then to just call , e.g. , ` g.set_axis_labels ( " Date " , " Stat ")` after you use ` map ` , which will rename your axes properly .
The end result is that when you call this function it should plot on the currently-active Axes .
@USER take a look at [ colormaps ] ( #URL ) .
I'm having a problem with trying to create a simple image animation with pyplot and matplotlib.animation .
The animation function is a member function of a class I am developing .
I originally had a crude animation working by re-drawing images and calling plt.pause() .
I thought that it would run smoother when I used matplotlib.animation so I re-modeled the new animation after this example code #URL .
It opens two figures with axes scaled to my image size ( as expected ) but neither of them animate .
The problem is that you need to return the animation object and keep a reference to it .
Holding the animation object fixed it , thanks !
Issue with FuncAnimation : Animation in Matplotlib based on an Event
Essentially I would like the animation to iterate over intensity_shaped [ y ] [ x+i ] [ 2 : values ] with i being the iterator .
I think this is a duplicate of #URL Hold on to a ref to ` anim ` so that the timers which run the animation don't get garbage collected .
I want to generalise my function so that it can accept an arbitrary number of function inputs and then plot them with a legend .
Furthermore if the legend could be placed outside the two subplots ( since the labels apply to both plots ) that would be preferred .
Now I have a radio-button bar , with the currently active plot button set to ' active ' , which only requires one click on one of the buttons to draw a new plot .
matplotlib scatter shifts color codes when NaN is present
Python customised title and legend in figure
I am trying to show a legend near the top of my figure ( like this ) and a title above that ( like this ) #CODE
However , when I save this graph , both the title and legend are missing .
Only the axes and datapoints are saved in the pdf .
Same with the bounding box on the legend : #CODE
You probably also want to pass ` num_points=1 ` as a kwarg to ` legend ` .
Do You want the legend be on axes also ?
Matplotlib animation - tuple object is not callable
ax = plt.axes ( xlim (( x-10 ) , ( x+10 )) , ylim =( -90 , 90 ))
I think mostly the problems stem from not really understanding tuples too well .
I also fixed a problem with your animation function and you should use 4 space indents , not 2 .
I also want to put axes on this color bar so that I can show which color corresponds to which timestep .
I've read the documentation for ` matplotlib.pyplot.colorbar() ` but wasn't able to figure out how to do what I wanted to do without using one of matplotlib's previously defined colormaps .
But for plotting a 2D scalar function represented by colors , a common choice is a contour plot and here's and example : #URL
matplotlib inset_axis inset placement has tick labels overlapping parent axes
When I use ` inset_axes ` to place an inset in a figure , for small figure sizes , the tick labels for the inset will overlap the axes frame .
You can create a double-headed arrow using the ` annotate ` method with blank text annotation and setting the ` arrowprops ` dict to include ` arrowstyle= ' - '` as shown below : #CODE
You'd have to set the bound for the second x axes :
Adding a crosshair or marker to a matplotlib contour plot
I am plotting an NumPy array as a contour plot using matplotlib : #CODE
You can just plot at that point using the marker of your choice or you an use ` axvline ` and ` axhlin ` to create crossed lines that go to the edges of the axes .
To configure ticks for each subplot separately you need ` plt.setp ( ax.get_xticklabels() , visible=False )` , see GridSpec with shared axes in Python for more details .
I'm trying to mimic the ` legend ` method in ` matplotlib.pyplot ` where one can use ` loc= ' lower right '` to position the legend box fixed and properly aligned no matter the axis and the content of the box .
I've tried using annotate and it gets me half the way there , but it still won't work right .
How can I tell ` matplotlib ` to position the text box always in the top right corner and align it properly so it doesn't fall outside of the image ( ie : what ` loc ` does in ` legend `) ?
The quick-and-dirty way is to use right and top aligned text and place it at a fixed offset in points from the axes corner : #CODE
If you want to mimic a legend box ( down to the location codes ) , have a look at ` matplotlib.offsetbox.AnchoredText ` .
Cartopy subplot ticks & axes box line formatting
I'm using cartopy to plot several areas of very different sizes in different subplot arrangements ( 1x2 , 3x4 etc . ) , which makes it quite difficult to find consistent layout parameters .
The other issue is that by downscaling the Geoaxes in the subplot arrangement , the bounding box ' line thickness appears very wide .
Here's the command I'm using to add each Geoaxes subplot : #CODE
Regarding the outline : again this does not appear to be the normal axes outline , and does not respond to the usual axes.set_frame_on() control .
I have variable temperature dataset on 3 hour interval , which I plot as contour over map .
Making animation with matplotlib from this data shows abrupt sequences ( as expected ) .
and then be able to do drag / slide selections on the generated histogram to dynamically alter the other two plots to only draw points passing the selection .
Polar plot axes labels for Cartopy
Is there any support yet to allow axes labels for polar plots Cartopy ?
I have a few minor quibbles with this function ( not a huge fan of the internal creation of axes and it should return the list of artists created ) .
On the other hand , I did this function according to my particular requirement and one of this was to encapsulate all in the axes ( I'm using this function in a loop of subplots ) .
About the internal creation of the axes , I prefered to keep a clear implementation instead of an optimized one .
I would argue that including figure creation in the plotting function is the optimized version , and expecting an ` Axes ` object to be passed in is the clear version ;) ` example / pylab_example ` is a good starting point .
you could also do using Polygon points generation as shown below .
How do you set the axes on a histogram and swap the x and y axes ?
You want the ` orientation ` kwarg of ` hist ` ( Docs ) .
I want to stress , that I do not need to update the data for an already existing boxplot .
It's more like I get a new data column with each iteration and I want to display a boxplot of that column next to the existing boxplot .
How do I add the boxplot of the second column to the already existing boxplot of the first column to have the same result as ax.boxplot ( df.values ) ?
You can call ` plot ( ... )` ( or whatever other plotting function you're using ) multiple times in ` matplotlib ` and it will keep adding it to the same figure / subplot until you change it .
Taking Korem's answer into account I added the positions argument as ` plt.boxplot ( df.ix [: , i ] .values , positions =[ i+1 ])` , but then the second boxplot replaces the first one .
Again , the second boxplot replaces the first one .
I found that in matplotlib 1.4 you can use ` stats = cbook.boxplot_stats ( data )` to get the median etc . for the boxplot and plot it by bxp ( stats ) ( check out [ link ] ( #URL )) .
The boxplot method has a ` positions ` argument .
Using that , you can guarantee , in a loop , that each boxplot ( or multiple ones ) is set in it's position .
It would take less symbols to type if you're generating many subplots and / or drawing many plots on a single subplot .
The slider border is just the spines of the ` Axes ` instance .
I am trying to make a contour plot in python with complex numbers ( i am using matplotlib , pylab ) .
and plot them over each other in a contour in order to find their zeros to determine how many solutions there are to the equation z ( bar ) = e^ ( z ) .
Does anyone have experience in contour plotting , specifically with complex numbers ?
I am pulling out the real and imaginary plots and trying to plot them separately , however , on the same contour plot in order to find the zeros of the requisite equation .
Creating two x-axes for a line-plot in matplotlib with unknown transform function between scales
If the transform between the two x-scales can be described by a function , the corresponding ticks can be set by applying this transform function .
How can I achieve this , if the transform function between the scales is unknown ?
A transform function between temp1 and temp2 is existent , but unknow .
Thanks it works , but I cannot mix in this way the data , because each of those curves has a particular colour , legend and so on .
I'd also like labels per " row " between the subplot and the horizontal bar .
If using ` subplot ` doesn't do it for you , perhaps you can use [ gridspec ] ( #URL ) ?
In addition , how could I get star-shape and polygon-shape markers for the scatter plot ?
For the markers you can get star shapes using ` marker= ' * '` in the ` scatter ` call or by using the matplotlib.markers api .
Ffisegydd btw , do you know how I could change the thickness of the contour plot in ` seaborn ` too ?
You would have to draw ` text ` outside of the plots .
You add an extra row of subplots on top and an extra column of subplots on the left , and draw text in the middle of that subplot .
Alternatively , you can place additional text in the right location with ` annotate ` and then make room for it semi-manually .
If you don't have y-labels on your axes , it's easy to exploit the title and y-label of the first row and column of axes .
If you do have y-labels , or if you prefer a bit more flexibility , you can use ` annotate ` to place the labels .
I found different things on the web but none of them work on my computer ( for example I tried to use matplotlib's animation module )
My impression was that the axes should automatically scale to fit the data , but that doesn't seem to be happening consistently .
So I'm making an animation in python using matplotlib.animation , and I want the time between each frame to change on every frame .
Matplotlib : how to adjust zorder of second legend ?
How can I get the legend in the center to plot on top of the lines ?
Now I will add that it would be clearer if you just use a single legend adding all the lines to that .
x2 for each level of c1 with " global " legend c2 ( symbols or colors ) #CODE
I am also trying to make " conditioned " contour plots such as those produced here ( 1.4.4.4 )
Can you add some examples for the contour plot questions .
tabular legend layout for matplotlib
So , for the legend , I would like to make a 3x3 table , looking like #CODE
An idea would be to make this box with LaTeX , but I need a way to plot the legend artists at the right position .
I have to draw some graphics ( pyplot preferred , but not mandatory ) , but on a very specific way .
Maybe I can use LaTex in the legend of the axis , and include something like \arrow ?
Removing the axes spines to the right and top :
To remove the spines on the right and top , you could call : #CODE
The coordinates seem to be ` axes fraction ` and I haven't found a way yet to specify ` figure fraction ` or any of the other options common to e.g. ` ax.annotate ` .
But this ' ll get you where you wanted to go and it also makes sense , because the title here is linked to an axes instance , not to e.g. a figure window .
Arrows can be plotted easily , just use ` annotate ` and specify the ` arrowprops ` , while leaving the string empty .
The generated arrow can be positioned anywhere , even outside the axes , by specifying the right options for ` xycoords ` and ` textcoords ` .
Although , you could just as easily specify the overlined arrow in Latex for your xlabel ( or ylabel ): #CODE
It makes it relatively easy to have two spines crossing at ( 0 , 0 ) , like most of us are used to in high school .
` jointplot ` is a figure-level function and can't coexist in a figure with other plots , but there is the ` kdeplot ` function which can draw a 2-d KDE onto a specific Axes .
You'll access most of the plot types ( such as ` contour `) by accessing an Axes object of that Figure and using its methods ( e.g. , if you have an axes ` ax ` you can cal ` ax.contour `) .
I am a rank beginner at this ... what is the syntax to make an axes ax ?
@USER : I think you can do ` ax = plotter.gca() ` to get an Axes for the figure .
Pyplot zorder lost with animation
So the plot curve , text and legend are shown behind the image where they are barely seen .
Without animation , I can easily control the order of the different elements with set_zorder , but when the animation updates the image , this order is lost .
I notice that the ` line_sumu ` you are updating in this example does not exist inside the axes extent , so it doesn't show no matter what the zorder is .
You only can see the curve / legend / timestring through transparence , the image remains on top and deteriorate the readability of the plot .
Additionally those functions should return the legend object in order to include it in the animation .
I would like to plot multiple columns of an array and label them all the same in the plot legend .
I get as many legend labels as lines I have .
So the above code yields four labels in the legend box .
If so , use ` scatter ` , rather than plot .
From your description it sounds like you might have x , y , z data where you want to make a scatter plot of x and y , colored by z .
Turn off axes in subplots
However , the result is pretty ugly because of the values on the axes :
How can I turn off axes values for all subplots simultaneously ?
The problem that axis off makes invisible only the last subplot .
You can turn the axes off by following the advice in Veedrac's comment ( linking to here ) with one small modification .
matplotlib contour plot labels overlap axes
I'm making some contour plots with ` contour ` which are labeled via ` clabel ` .
The problem is that the contour labels tend to overlap with the axes :
Sometimes one needs to adjust the margin manually though : for example when You put legend outside of axes .
How to use multiple colormaps in seaborn on same plot
No , because of the way matplotlib works , the color palette is a property of the ` Axes ` object and so whatever the currently set palette is at the time an ` Axes ` is created is what it's going to use .
Given that , I know that I can display the contour using the ` plt.contour ` function .
However , what I would like to do is to map each possible contour ( by level ) to a color map showing its probability of happening , something like its positional uncertainty .
I.e , each one of the contour levels would be mapped to a color to represent its probability of happening .
I don't know how I could verify if , for each contour at level b through n realizations , they are the same or not .
I would like to have a heat map for the contour lines .
I.e. , each contour line at some level would have a color associated with it representing how many times it has happening in N realizations .
Then , the contour lines would not have a fixed color representing its level , but this stability over the realizations .
Next , it appears you want to color the contour * one single color * depending on the frequency with which it appears .
Dark Axis Line at y = 0 in Matplotlib
Or , to make better use of the face of the clock , you could replace the ` scatter ` plot with a ` bar ` plot ( inspiration for this came from this codegolf answer ): #CODE
The issue is that matplotlib's scatter can't take values for ` edgecolor ` and ` facecolor ` that are not color arrays ( that is , arrays of RGB values ) .
I can't find anywhere that plots a contour graph without pyplot .
If you have a reference to an ` axes.Axes ` object just call ` contour ` on it .
@USER Ok so I generated a reference to the axes using ` ax = self.plotter.gca() ` and called contour on it .
What is the correct way of adding the colourbar and contourf plot to the plot in this instance ?
You might need to also pass it a ref to the artist returned by ` contourf ` .
However , when the window comes up , the Figure is about half the size of the underlying Tk canvas and all the subplots are squashed together in that space .
I can't for the life of me figure out how to make the Figure expand to the size of the Tk canvas or , indeed , even the size the Figure itself reports .
How do I change the color of a scatterpoint in the legend ?
In my legend I want to explain what the green point is , but the point always shows up as yellow .
Then you can simply add in another scatter : #CODE
Remove frame around legend in Python Object-Oriented plotting
I would like to remove the frame around the legend box .
[ ` legend `] ( #URL ) seems to have a keyword argument ` frameon ` ; have you tried that ( ` ax.legend ( numpoints=1 , loc=2 , frameon=False )` ?
Searching for " matplotlib axis legend " will lead you directly ( depending on your search engine ) to the matplotlib documentation on the legend api .
The pyplot commands then plot to the current axes .
The slider doesn't appear to have anything to do with it , I reproduced the results in a linear script just by clearing the axes before the first plot .
3-How to I put the chart title and x and y axes labels .
So I decided to try using a histogram , but I can't figure out how to get matplotlib to draw it the way I want it .
Get levels ( contour ) of a scalar field ( Matplotlib / Python )
I'm wondering how can I get the vertices of each level of a contour plot .
:/ Should I pass this [ 0 ] parameter to the contour function ?
Overlay several artists in legend entry
I'm trying to add an entry to a legend that has a patch in the background .
Could you draw a little diagram ?
The basic idea is to use ` plt.legend ([( X , Y )])` to render ` X ` and ` Y ` in the same legend entry .
Plot filled contour at screen resolution
I am trying to plot a filled contour using ` matplotlib ` .
I am using ` imshow ` to plot the contour .
How can I plot the contour at the size of the screen resolution .
As written , your data are nowhere near appropriate for ` imshow ` or ` contourf ` .
My coordinates are the points on my screen and based on the values i want to show filled contour plot . in other words , my contour plot dimensions should match with the screen resolution or dimensions .
As written right now , your data would most easily be shown in a scatter plot : #CODE
My coordinates are the points on my screen and based on the values i want to show filled contour plot . in other words , my contour plot dimensions should match with the screen resolution or dimensions .
I'm trying to make an mpld3 plugin so when I mouse over over a circle of the scatter plot , It shows the sin line , but with the x-axis starting where the line starts and , ending where line ends .
How to display a matplotlib figure created directly from Figure class ?
How to display figures that were not created using pyplot / pylab figure() , but constructed directly from matplotlib's Figure class ?
Figures that were not created using pyplot / pylab figure() but constructed directly from matplotlib's Figure class need a figure manager : #CODE
Direct Figure / Tkinter co-integration
where both an MVC-Controller UI-interactions and an MVC-Model outputs are re-processed and the resulting output state of a Figure object is sent to MVC-Visual part ( handled by a FigureCanvasTkAgg object , ` .grid() ` -mounted into Tkinter ) #CODE
I can use the following code to read in the coordinates and draw it in matplotlib : #CODE
Adding a legend to a plot of a list
I'm not sure how i would add a legend to my set of data .
Getting matplotlib animation to work
Hi I'm having trouble in getting matplotlib animation to work
1- I can't return the list with several axes / lines ( lines = [ ] ) I have to return each one individually ( errorline_g , etc , etc ) .It works with normal ax.plots , so I don't know why errorbars can't do the same .
I can individually do both with ` yticks ( np.arange ( 0 , 1.1 , 1 / 16 . ))` and ` gca() .set_yticklabels ([ ' 1 ' , ' 2 ' , ' 3 '])` .
How to get circles into correct subplot in matplotlib ?
I am able to plot the circles I want in ` matplotlib ` , but I want to have two subplots next to each other with the circles in the left subplot .
I guess I don't understand the ` ax1 ` , ` ax2 ` variables , because the lines wind up in the left subplot , and the circles in the right subplot .
I need them both in the left subplot so I can put the sinusoids in the right subplot .
I think my mistake is simple but trying ` ax1.Circle ` crashes because ` Circle ` is only callable from ` plt ` .
` Circle ` just generates the patch , calling it does not add the cirlce to an subplot ( axes ) .
` gca ` stands for get current axes and return the active subplot , so replacing it with your ` ax ` will do : ` ax1.add_artist ( KIRKULOS [ ct ])`
` axhline ` xmin and xmax are to given in the axes coordinates ( so that 0.5 is the middle of the axes ) .
By default , when I add axes to an image in matplotlib , the x axis begins at 0 and increases from left to right and the y-axis begins at 0 , increasing from bottom to top .
I am trying to display imported figures in a matplotlib subplot inside a ipython notebook , #CODE
Everthing runs fine , however , I produce videos via ffmpeg with anim.save ( ... ) and I don't get my animation to play faster / slower .
If you want to slow down the animation you can use time.sleep() inside the animate function .
The speed of the animation should depend on interval argument , not fps .
I have two variables that I have plotted using ` matplotlib ` scatter function .
How to compare if two contour paths are visually similar - Python / Matplotlib
I wondering how to compare if two paths of a contour overlap , if they are similar .
To be more specific , I have a set of n realizations , each one with its contour levels .
I need to verify the stability of each contour at level l .
1 ) draw the paths ( AA might even help here ) 2 ) grab the AGG buffer 3 ) take the inner product between the two images .
Here's the code ( it's a little complicated because I don't think there's a way to simply fill between two arbitrary parametrized curves , so instead I make images from each filled single contour and then subtract them ): #CODE
Is there an equivalent way to do this for a single axes ?
Path = mpath.Path
Of course , that's due to Path , which Julia tries as a function and not as a type or something like that .
-Do you know another package for Julia in which I can define patches and work in a similar way to matplotlib ?
You need to get the " raw " Python object for Path .
Instead , do e.g. Path = mpath.pymember ( " Path ") to get the " raw " PyObject , and then you can do Path [ " MOVETO "] or Path [: MOVETO ] to access the MOVETO member .
I have defined a variable circle : ` @USER matplotlib.patches as patch ` , ` circle =p atch.pymember ( " Circle ")` .
You need to create a Circle instance , e.g. ` c = patch.Circle (( 3 , 4 ) , 5 ); c [: radius ] = 7 `
Get each level of a contour - Matplotlib
I'm wondering how , given contour lines generate trough the ` contour() ` function from Matplotlib , one can iterate to each level to get its vertices .
However , how could I find the level of each path , or directly iterate over each level of a contour ?
` cs.levels ` should give the level for each contour .
There seems to be no figure.text.clear() or figure.text ( visible=False ) after you draw a text box ?
Text boxes are artists .
It produces a beautiful figure but the legend is much too long and goes off the edge of the page .
I'd like to shrink the plot on the x-axis so the legend will fit as a 2-column legend .
Figure can be seen here : #URL
You can make a two-column legend using the ` ncol ` legend attribute .
In your code , you were remaking the legend , the limits and the legend at each iteration of the for-loop , as well as saving and then overwriting the pdf image .
For more legend tips , this post is handy .
With this code , I could transform a circle with r=1 : #CODE
Now I need to transform a rectangle ( square ) using this tranformation matrix : #CODE
It picks the closest contour curve for a each ` x , y ` data coordinate contained in the ` manual ` parameter .
When the same contour curve is found for many coordinates , it may happen they will start to agglomerate , as in your case .
How do I make the horizontal lines for the contour levels ( left ) also show in the colored bar ( right ) ?
This function adds the lines from a non-filled contour plot to a colorbar .
So , by first defining the colorbar based on your ` pcolor ` plot you can later add the lines from ` contour ` to that colorbar : #CODE
You have to create the colorbar for the pcolor figure and then add the lines for the contour with ` add_lines() ` .
I am using mpld3 to draw some plots in a browser .
Insert image in matplotlib legend
I'd like to insert a couple small graphics ( vector graphics but can be made raster if necessary ) into the legend of a maplotlib plot .
There would be one graphic per item in the legend .
I know I could manually draw the entire legend using something like an annotation box but that looks tedious , and any small change in the figure would require fixing it by hand .
Just for clarification , you want the graphics in * addition * to the legend glyph or to * replace * the legend glyph ?
( i.e. if you have a red line in the plot , would your legend have the red line and your custom graphic or just the custom graphic ? )
One row in the legend would be : ` [ glyph ] [ label ] [ graphic ]` .
can you not just use an artist , as if you would add a custom legend item ?
I've been noodling with this aiming to ( 1 ) have an image-file-reading legend key handler and separately ( 2 ) to cram two legend keys into the space of one ( or a legend label and key into the label space ) .
Now what I want is a three-column legend type , which would be useful for ( 2 ) and would * also * be useful for legends of multi-indexed data , when I want two legend labels per line .
Following your explanation in the comments here , OP , I'm still confused about why it makes sense to have these images * inside * the legend .
Why not have them outside the legend , in the white space , where they can be larger ?
@USER , in my figure , there are two entries in the legend , and each has its own graphic ( which is associated with said legend entry ) , so the vertical size would still be constrained by the legend spacing regardless of whether the graphic is within or without the legend .
My solution was indeed to place the graphic outside the legend after all , but due to technical limitations , not design choice .
The axes aspect should be equal and the axes range should differ .
Is there anyway to change the different color legends from what I made already ( in the last subplot ) to a bar close to the image with the same size as whole plot ?
I am looking for something similar to color map for projected 3D plots in 2D which just depicts the rigid amount of legend values in my case ?
possible duplicate of [ How to put the legend out of the plot ] ( #URL )
Calculate contour area with opencv for contours created by matplotlib
I need to calculate the area limited by a contour line .
I use matplotlib to get the vertices of the contour line , but I am not able to convert them into a valid input for contourArea method in openCV : #CODE
For example , using `""` instead of `" "` will connect the ends of the stem with a line :
Also , btw , I first tried using a pixel marker , specified by `" , "` , but this pixel ended up not being well aligned with the stem and didn't look good .
I have a bunch of x and y values and wish to scatter plot them .
If you pass an image with [ nx , ny ] shape , it is plotted assuming some of the available colormaps ...
Setting twin axes possition according to main axes
Following my previous question that didn't get any answer , I tried to solve my problem of adding colorbar instead of legend to my plots .
You can use ` plt.subplots() ` passing the ` gridspec_kw ` parameter to adjust the axes ' aspect ratio in a very flexible way , and then select the top axes to include the colorbar .
As you can clearly see , now I am missing axis lines , legend border , errorbar caplines .
The new matplotlib still shows the axis spines by default .
Is there a way to do this easily without having to recreate the marginal axes ?
doesn't automatically set the marginal axes ?
Those axes are shared when seaborn sets up the ` JointGrid ` , so it suggests an inconsistency in matplotlib .
EDIT : it seems that the problem is in the distinction between Figure and figure
And tkinter only works with Figure ...
I'm generating five figures , four line graphs and one scatter plot .
Figure 5 , however has the ' labels ' line graphs , with the title and labels from the ' times ' scatterplot - and there's no actual scatterplot .
I would use the OO interface , get explicit axes references and pass them to the pandas plotting functions . see #URL for some of this .
If you want the colors in the colorbars to correspond to the same values within two contour plots , then you need to not only control the colorbar , but also control the levels in the contour plot .
That is , to compare the same levels between the plots , the plots should have the same contour levels .
I plot a errorbar plot , with legend .
In my case , for example , if I call the plot_date() function 5 times , the resulting graph shows the points / lines for the last two calls , but the first three calls , the lines are not plotted BUT all 5 appear in the legend ( I differentiate each by a different color and label in each of the 5 calls ) .
This just passes all the data straight from the ` device ` to the ` animation ` .
I want to draw a line between each of them . or is there any separator could be adopted in those subplots ?
Apply below code to each object of subplot .
@USER I have tried axes.hlines() , however it could not draw lines outside the box of axes .
Matplotlib animation : setting fps=90 creates a movie file properly , but setting fps=120 does not ?
This on the other hand , creates a movie file with a reasonable size in the order of megabytes , and plays as an animation as well .
Matplotlib animation : how do I increase the " rate at which time passes " in an animation ?
Fixing ylabel location in a colorbar in matplotlib
But the problem is that ylabel is drawn over the color bar axis .
In general , you should expect the convenience functions to do a " best guess " approach , and you can always specify precise axes , labels etc ., positions using the more general functions , in this case probably figtext .
Once you get your head around colormaps and normalizers you can do a lot with them .
I am trying to plot each set of data from each file in different color and each with different legend .
First of all , you need to add labels and markers to your ` plot ` calls and add a ` legend ` call , e.g : #CODE
However in your looped example you will end up with lots of identical legend entries , which I presume you don't want .
How can I force a " refresh " of these styles ?
Now I just need a function which will return my rgb value instead of doing a scatter plot .
The scatter plot is for visualization only so I could see that the Normalization was working as I had wished .
matplotlib get ylim values
I have to plot a set of totally separate and independent plots , and then adjust they're ` ylim ` values so they can be easily visually compared .
How can I retrieve the ` ylim ` values from each plot , so that I can take the min and max of the lower and upper ylim values , respectively , and adjust the plots so they can be visually compared ?
Of course , I could just analyze the data and come up with my own custom ` ylim ` values ... but I'd like to use ` matplotlib ` to do that for me .
If you are using the ` plt ` structure , why even bother with the axes ?
However , I may wish to use the axes by themselves .
There are two sets of data ` data1 ` and ` data2 ` which I plot on the ` x ` and ` z ` axes respectively .
Is it possible to set the row variable label to the left ( eg . as the first line of the two-line sub-plots y axes label ) ?
But in this case , the row variable label is outside to the right of the legend , which can be awkwardly too far from the chart .
Move the margin title inside the legend when ` margin_titles = True ` and ` legend_out=True `
I have this data frame ` diamonds ` which is composed of variables like ` ( carat , price , color )` , and I want to draw a scatter plot of ` price ` to ` carat ` for each ` color ` , which means different ` color ` has different color in the plot .
Yes , via ` groupby ` I could do that , so there is such a feature in ` matplotlib ` that can automatically draw for different levels of a categorical using different color , right ?
I think you're looking for the correct transform ( check this out ) .
In your case , what I think you want is to simply use the ` text ` method with the correct ` transform ` kwarg .
The ` get_yaxis_transform ` method returns a ' blended ' transform which makes the x values input to the ` text ` call be plotted in axes units , and the y data in ' data ' units .
You can adjust the value of the x-data , ( 0 ) to be - 0.003 or something if you want a little padding ( or you could use a ` ScaledTranslation ` transform , but that's generally unnecessary if this is a one-off fix ) .
Matplotlib legend : labels above markers
I'd like to put a legend in the plot so that individual lines can be identified .
For various aesthetic reasons I'd like the number of columns in my legend to equal the number of lines ( and labels ) , which I change using the ` ncol ` option .
So , currently , my legend looks like :
I'm wondering if there is a " quick fix " way to achieve such a legend .
3 . ran ` sudo fc-cache -f -v ` to refresh the font cache
The reason is that I want to annotate the x-axis and some of the bars .
You can also zoom and pan the axes .
Somehow , assigning colors to circles works different from assigning colors in scatter plots : #CODE
In your case , to use ` Circle ` more like ` scatter ` , it's probably easiest to just set the color directly , and that can be done using an ` rgba ` tuple , for example , one that can be looked up from a colormap .
Below is an example using three different colormaps for the different ` y ` ranges .
Is there a way to include text on a matplotlib graph in an " empty area " in the same fashion as ` loc = " best "` for the legend location ?
This also shows that size / aspect includes the legend in the margin .
Two Lower X axes matplot lib
I was wondering if it is possible to have two distinct X axes in matplotlib , but not so that they are on opposite sides of the graph .
This is not a scatter plot ...
Bar plots typically require a numeric vector ( as opposed to a categorical string vector ) for the x variable -- here first some mock data and a basic plot : #CODE
So my question is -- what is the best way to deal with categorical axes in the faceting example ?
Format datetime in seaborn faceted scatter plot
and your current code does not show any attempt to label the axes so it is hard to guess what is going wrong .
@USER , if I understand correctly , you mean create multiple ` axes ` , and then use these axes to draw stuff I want , right ?
Well if so , that means I should know how many axes I need and how they are arranged in one figure , but this is not the case I described in the post .
Matplotlib Legend not showing up
It is a blank plot but with a legend : it is very unclear what your issue is ?
@USER It's not clear but I think the OP means that the legend is not displayed as per the example output .
You should get a blank plot with a legend but the OP gets a blank plot with no legend .
I also get a blank plot with no legend .
I get a blank plot with No legend .
I am not seeing the legend is what the issue is .
Animation figure closing when interval is increased ( FuncAnimation ) / Explainantion of interval in FuncAnimation
Whenever I increase the interval from 10 ( 19 to be precise ) , the animation figure closes before running ( exits as soon as it pops up ) .
Now i can easily slow down the animation using time.sleep , but it would be great if i could understand this .
Confidence Interval information in Figure ( legend ? )
I would like to add the information , that it is a 95% confidence interval , to the figure , for instance in the legend .
Why would log-log axes be inadequate ?
Did you search through the gallery and the ``` Axes ``` docs ?
The animation runs farther than specified .
By default the animation function loops , just use the ` repeat ` kwarg : #CODE
If the file was comma delimited , then this would work ( and using a corrected date converter ): #CODE
I can't plot a map from axes themselves , therefore I seem to need to go the other way around -- get axes as a byproduct of a plot call , and then place that as appropriate in a grid .
Non-working example -- the loop is really pseudo here ; I don't move the axis index to plot a different panel each time ( in fact , I overwrite the axes object from the subplots call ) .
That is , though , what I would like to do -- map the axis object generated from the plot call to the axes ( coordinate space ) from the subplots call ) .
For each group , use ` pyplot.subplot ` to target the desired subplot for each group and use another groupby on the group data to get the summary values to plot .
You can pass the ` ax ` argument to ` DataFrame.plot ` to tell it to plot into an existing axes object .
In this version , the axes limits are not equalized across the subplots .
I want to create a contour plot with matlibplot and generate a shapefile from it so that I can use it in QGIS to display it .
Though it is possible to plot a map with matplotlib and then overlay with my contour plot , the choices of map sources are limited .
It would be easier to export the contour plot in a shapefile and loaded in QGIS with a customized map .
There is a contour plugin available in QGIS , and it is based on the contouring functions of matplotlib .
Combined legend entry for plot and fill_between
The above code produces a legend that looks like this :
How can I create a legend entry that combines the shading from ` fill_between ` and the line from ` plot ` , so that it looks something like this ( mockup made in Gimp ):
MPL supports tuple inputs to legend so that you can create composite legend entries ( see the last figure on this page ) .
However , as of now PolyCollections -- which fill_between creates / returns -- are not supported by legend , so simply supplying a PolyCollection as an entry in a tuple to legend won't work ( a fix is anticipated for mpl 1.5.x ) .
Until the fix arrives I would recommend using a proxy artist in conjunction with the ' tuple ' legend entry functionality .
You could use the ` mpl.patches.Patch ` interface ( as demonstrated on the proxy artist page ) or you could just use fill .
Adding ` linewidth=0 ` to the ` fill ` makes this good enough , that removes the ' frame ' from the legend entry .
If you happen to know how to make the legend keys the same length , so the line from ` plot ` extends to the left / right edges of the ` fill ` rectangle in the legend , that would be even better .
This is a well known problem with the colormap of the original image : that is , that it doesn't have monotonic brightness ( in your case , the green at ` 0 ` is brighter than either the red or the blue at the extremes .. you can just see it , so don't blame your converter ) .
It appears that I need to go with the colormap gray which is in the list of Sequential2 colormaps .
One more thing confuses me : if you can make the original contour plot in any colormap you want , then why not do one in grayscale along with the original ( ie , both plots from matplotlib ) .
I want to be sure that you're not just asking how to change the colormap to grayscale in matplotlib ; or do you really need to do image processing on a previously generated contour plot ?
Here's an example using different colormaps ( based on the code for the op image ):
See here for an image of the available matplotlib colormaps .
Just a followup about your third subplot - you used " hot " as the colormap .
I've add in a link where you can see all the included colormaps .
I then changed the line with xlim in it : #CODE
You can leave the values as they are , but in the ` hist ` call , just wrap the array in an ` np.clip ` call , like so #CODE
Furthermore , I have a problem by selecting the x-range of the zoomed-in window since I do not know how to properly transform the dates to the internal integer representation of the matplotlib .
I always find it easier to ise the ` axes ` funciton .
This gives you significant advantage over the ` subplot ` function .
Not currently possible as the lookup of rcparamas happens at artist creation time not draw time .
Going back through and changing the style properties after the fact is impossible because there is no way to tell if an artist is blue because that is the default color or because the user explicitly made it blue .
How can I use this table to plot both ' bar ' and ' baz ' on the same plot with axes ( second , A ) ( i.e. I want to create a plot with the points ( one , 0.72 ) , ( two , - 1.039 ) , ( one , - 0.42 ) , ( two , 0.276 ) , where the first two points are plotted in a different color than the latter two ) .
Python contour plotting wrong values with plot_surface
I also want to plot its projections in the " x " and " y " directions ( as in this demo ) and that's when the results become weird : Python seems to be interpolating my amplitude values ( which , again , should be either zero or one ) for the contour plots and showing some lines with values that do not correspond to my data points .
The problem is that without specifying ` levels ` , contour automatically computes the locations to plot contours and one of these contours is selected just past the ' edge of your table ' , but before your Zdata is 0 .
At these points contour interpolates between 0 and 1 .
As a example , suppose I generated a contour plot with the following code : #CODE
I.e. , I would like to be able to get the image generate by the ` contourf ` method , do some manipulation to it , like to apply some mask in specific areas , and then plot this modified data .
For the ` contour ` case , I would like to use this plot with a bunch of levels represented to do the manipulations , instead of iterating over the ` cs.collection ` and do something ( which I really don't know what ) to obtain an equivalent ` numpy.array ` to represent this plot .
The example above first pickles the contour plot with the ` if ` clause , and then , at a latter time , using the ` else ` part .
That is , this figure and modified contour are drawn completely from the reloaded pickled figure .
Yeah , what I would like was in fact to recover some array of the data plotted ( but not my original data , the data obtained trough some plot method , as contour ) .
I can't find a way to draw errorbars in a 3D scatter plot in matplotlib .
I think you'd have to draw little lines around each point yourself , or try to get the 3D quiver to draw the error bars
Background : When plotting arrays in matplotlib via the ` imshow ( ... )` command , colormaps are used to assign a color to each data value .
Often , predefined colormaps are used from ` matplotlib.cm ` but also more enhanced colormaps can be created using ` matplotlib.colors.LinearSegmentedColormap ` .
Typically , in these colormaps the color value linearly changes with the data value .
The reason is that I use a different software which produces plots using matplotlib colormaps .
returns a boxplot object of type dict , whose keys are : #CODE
I want to know how to query the default settings that matplotlib uses to generate these boxplot properties .
The top-most subplot ( axis handle = ax1 ) should occupy the full width of the figure ( as already done ) , with the following subplots ( left columns has handles #URL right column has handles #URL ) .
I want the #URL subplots to all share x / y axes , as shown ( I will clean up the labels , etc . later ) , but I also want there to be space between ax1 and the subplots directly below it so I can see the x-tick labels and x-axis label for ax1 ( i.e. have vertical space between ax1 and ax2 / ax7 ) .
You can use GridSpec directly to create two sets of axes , one at the top and one at the bottom and put a space between them .
To create a y label for all the axes , use figure text .
I tried to make a plot with multiple axes using twiny in stead of twinx .
However , one of the axes - par2 appears both in top and bottom location , overlapping par1 on top .
Now it is the original code with my attempt to change the axes .
The difference between the Matplotlib website example and your code is that you're adding the parasite axes adjacent to the " normal " axis location ( i.e. , the bottom ) whereas the example is adding them adjacent to the " abnormal " or twinned axis .
matplotlib customizing axes shadow
I would like to customize the axes shadow in a matplotlib plot . the shadow looks unpropotionate to the other patches i am adding to the plot .
I need dx and dy to be at least 4 to show the perspective I am looking for . as the only parameter is a boolean axes there is no way to control the shadow depth .
I am trying to create the Shadow object myself and adding it to the legend but its not working correctly .
when the frame shows up on the screen the shadow is not drawn , It appear when I start resizing and sets behind the legend or near is in a weird way depending on how you resize .
Plotting Unit Circle in Python with contour
I'm trying to plot a circle with contour function .
I'm thinking the contour function would just provide me the cross section of x^2+y^2=1 , but it gives me a circle with different radius of 1.5 .
If the fourth argument is an integer , it determines the number of levels for which a contour is draw , and ` contour ` chooses the values for those levels .
Another solution is to use a ` scatter ` plot within your ` errorbar ` plot , like in this question .
Weird behavior of matplotlibs boxplot when using the notch shape
I am encountering some weird behavior in ` matplotlib `' s ` boxplot ` function when I am using the "` notch `" shape .
This looks like another boxplot regression ... can you a ) make a self-contained example b ) create an issue on github ?
One convention is to use + / - 1.58 *IQR / sqrt ( n ) .
I figured the answer would be something like this ; I learned Python this summer * specifically * so I could stop using excel for data analysis .
You should modify your function to take the ` Axes ` object as an argument .
This makes sure that as you pan / zoom the labels remain correct .
If you want to animate while doing a big calculation , you'll have to do processEvents() ( or a manual draw ) each time you update it .
However , this always seems to either flip the x and y axes when making a plot or cause errors similar to above if I try to correct that problem by switching around the inputs in streamplot() .
I am trying to overlay a contour plot on an astronomical image .
running the code gives me information about were contour labels are placed : #CODE
or provide ` linestyles =( ... )` to the call to contour .
One annotation , with text , below the axes and one annotation , without text , above the axes .
The annotation above the axes , without the text , has been ignored .
As I do not have your algorithm to generate your G graphs , I will draw constinuously the same network .
It shows the figure and refresh it 10 times .
Did you copied it ** exactly ** as it is and got nothing draw ?
It just didn't draw anything .
I thought this might be a ` matplotlib.animation ` job , but it seems that ` animation ` just updates the plot by ` interval ` period of time , this is not what I want .
using the ` set_*data ` and ` draw ` methods isn't too complicated - does it not work for you ?
To set the data of a scatter in-place , you need to do the following : #CODE
before invoking wither draw ( slower ) or the blit method you linked .
pyplot combine multiple line labels in legend
I have data that results in multiple lines being plotted , I want to give these lines a single label in my legend .
I don't want to use custom legend ( where you specify the label and the line shape all at once ) as much as I can .
You need newscast to create a custom legend .
Google " matplotlib manually create legend " .
An easier ( and IMO clearer ) way to remove duplicates ( than what you have ) from the ` handles ` and ` labels ` of the legend is this : #CODE
Matplotlib gives you a nice interface to collections of lines , LineCollection .
matplotlib scatter plot change distance in x-axis
I want to plot some Data with Matplotlib scatter plot .
I used the following code to plot the Data as a scatter with using the same axes for the different subplots .
I'm trying to draw joint distribution of 2 variables in a package named seaborn ( a wrapper over matplotlib ) .
Obviously , unless all your x's are paired with y's , you can't make a scatter plot .
However , I want it to draw the rectangle immediately after the current points are selected but it does not occur till the next set of points are selected .
I am trying to make an animation with matplotlib in python ( 2.7 ) with 3 subplots .
displaying correlation values in seaborn scatter plots
I'm using seaborn's lmplot / regplot to visualize scatter plots .
I want to be able to look at the scatter plots and visually see if there is a " significant " relationship between x and y .
Why can't matplotlib draw in the window while the main thread is sleeping ?
The former has better compression for images with large patches of the same color , while the latter has better compression for high pixel variability ( e.g. photographs ) .
I tried playing around with the contour function as here #CODE
The simple way around this is to specify the ` extent ` of the contours ( i.e. rescale / reposition them in the x and y axes ) .
The only tweak I had to make was instead of calling contour ( counts , extent =[ xbins.min() , xbins.max() , ybins.min() , ybins.max() ] , linewidths=3 ) , I needed the call contour ( counts.transpose() , extent =[ xbins.min() , xbins.max() , ybins.min() , ybins.max() ] , linewidths=3 )
plotting multiple plots generated inside a for loop on the same axes python
Then I tried to set log scale at histogram axes with an argument ` log=True ` from ` pyplot.hist() ` : #CODE
I didn't delve in the source code , but I suppose histograms at the margins of ` jointplot ` are constructed via ` distplot ` .
With that said , shared log axes remain an enduring headache with ` jointplot ` , and I couldn't get something that looked good out of the box when adapting your code .
However , if I call this same routine for more than one time , after the first time nothing is displayed in the title , nor in the axes .
As for the embedding : that circumvents the Ctrl-W option entirely so it works , but for my application it's crucial that users can use the simple pyplot interface to quickly draw up some graphs !
Most people would use ` pyplot.subplot ` to place multiple axes on a single figure , then print that figure like normal ( i.e. to a ' page ') .
Or , if you didn't save the individual object ( i.e. you just called ` ax.set_xlabel() ` or ` plt.xlabel() `) , you can grab it from the Axes hierarchy : #CODE
I'm trying to take an array on numpy , add a line of code , append it to the array , and then reshape the entire array back to the translated r .
I am trying to draw two data lines with error bars , each having the same color as the data line .
You can make ` errorbar ` draw the lines too .
Could I have errorbar to draw the data line too ?
` errorbar ` will draw a line too , what you're doing is changing the colour of the error bars , but not the actual lines ( hence it using the standard matplotlib first two colours , blue and green .
I tried to add the legend to the same errorbar line but that included the error bar too .
Is it possible to have the legend ( and label ) of just the lines ?
You can manually change the contents of the legend , yes .
I've been able to create a boxplot using the boxplot() function built into pandas ' DataFrame by doing : #CODE
The the ` boxplot ` method of ` pandas ` ` DataFrame ` , on the other hand , plots boxes at x = 1 , 2 ...
Matplotlib , Log color scale on plot but linear colour scale on colorbar legend
matplotlib subplot in a for loop
You can setup a grid of axes with ` pyplot.subplots() ` and then plot in each axes individually with ` axes.scatter() ` , etc .
Is there a way to link the axes to the function ?
This would be the other way around : you ask ` plot_cluster() ` to plot in the correct axes : ` plot_cluster ( C , axes )` , ` for ( axes , C ) in zip ( axes_seq , clusters_seq )` .
matplotlib's axvspan converts marker colors in scatter plot but not in ordinary plot
yields a plot with partially adjusted marker colors -- sorry for being not able to show the plot here -- namely markers plotted using pyplot's ` scatter ` -function in the area spanned by ` axvspan ` .
The reason the " colors are adjusted " is not because the color actually changes , but because the scatter result ( which is a ` PathCollection ` object ) is being viewed through a half-transparent colored rectangle that it is underneath .
Matplotlib uses an attribute called ` zorder ` when it displays artists in a figure ( most everything that lives in a matplotlib plot is an artist ) .
The defaults set the plot's zorder to 2 , whereas the rectangle and the scatter both have a zorder of 1 , and the rectangle defaults to existing " higher " ( not sure exactly why , but it is what it is ) .
You can force the scatter points to lie above the rectangle by specifying the zorder keyword : #CODE
For things with the same z it ends up depending on the internal details of how the artists are kept track of and lines and patches are dealt with slightly differently .
There were some animation codes I saw that were too complicated for me to understand .
If so you could possibly get new colors from one of the predefined colormaps as you find that you have new labels
I would like to plot data on a grid ( which is in LCC projection ) with Cartopy , so that the data fills the entire axis ( and also axes , but that is not the issue here ) .
played around with aspect ratios , but they only affect the axes not the axis ,
Such a coordinate system exists in the form of the PlateCarree crs - so simply passing this as the transform of the contoured data should put your data in the right place .
This really highlights the fact that the default coordinate system of your data , is the same as that of the map , which in most cases is not longitudes and latitudes - the only way to change the CRS of your data is by passing the transform keyword .
Matplotlib string xticks
With the code I wrote above I am unable to plot the ` xticks ` as string / floating point value for each bar . what am I doing wrong ?
there is no error , the xticks are not plotted , that's all .
Or just stick with a scatter plot
While the approach you've shown using ` scatter ` does work , it takes a little bit of tweaking to get things to look right .
However , as you've noticed , ` scatter ` isn't designed to show a regular grid like what you're really looking for .
Using matplotlib ` annotate ` I would like to scale the line widths with some parameter but NOT the ends .
The problem that I talk about in the comments to mdurant's answer is that the surface is not plotted as a nice square pattern like these matplotlib - 3D plots - combining scatter plot with surface plot .
You already have a draw function which re-makes your plot according to certain parameters , so for linear / log I would add a property to your ` MainWindow ` that represents a log toggle .
It looks like you are attempting to draw the histogram based on strings , rather than on numbers .
Python : Center plot and legend on sheet with matplotlib
I have a polar plot and to the right of it its legend .
The legend can have between 1 and 40 items whose length will be between 4 and 32 characters .
My goal is to center the plot and the legend as if it was one object on the matplotlib " sheet " ( or rather empty whitespace ) .
What I want is the plot + legend as one object centered on the sheet / page / empty whitespace , so that when there is a long label the plot is just offset a little bit more to the left in order to compensate for it .
I think you may find what you need in the answer to [ this ] ( #URL ) question - you'll have to draw the figure then get the legend size then re-adjust if it's too wide .
I am trying to combine a jpg image with a simple subplot of a continuous line between -1 to 1
Bar Graphs with Matplotlib
Create a list or array of " Average Speed " , then use hist to bin plot the population .
I need to plot the graph by the numbers that I got from the file ( which I did ) and then I need to draw a line connecting start and end , and calculate the area that between these two lines .
Then use the ` joinstyle ` keyword argument ( ` [ ' miter ' | ' round ' | ' bevel ']`) in your calls to ` hist ` ; e.g. : #CODE
matplotlib scatter plot with different markers and colors
It seems you can have a variety of colors and have a single call to the scatter function : example .
I'm trying to put my matplotlib legend in a custom location using the bbox_to_anchor command .
When I actually go to plot though the legend is simply gone .
If I remove the bbox_to_anchor option then the legend is on the graph .
The coordinates are given in axes coordinates which range from 0 to 1 as mentioned in the documentation : #URL There it also says that " The legend location can be specified in other coordinate , by using the bbox_transform keyword .
Matplotlib animation wasting lot of memory
Im doing an animation using Matplolib in a PySide form .
The animation is running , everything works .
Bar plot with timedelta as bar width
I'm trying to make a scatter plot with equal ratios on the x and y axes , so that this code prints a square figure with the vertices of a regular hexagon plotted inside .
But ` plt.gca ( aspect= ' equal ')` returns a blank figure with axes ` [ 0 , 1 , 0 , 1 ]` , and ` plt.show() ` returns nothing .
How to remove extra string " Line2D " in matplotlib legend
I have a string " Line2D " appended in the beginning of my matplotlib legend .
I get a figure in which I want to get rid of the extra string " Line2D " in the legend .
If you pass just one list to ` legend ` , it has to be the labels you want to show , not the objects whose labels you want to show .
Since you gave the lines labels when you created them , you don't need to pass anything to ` legend ` .
Tweaking ` N ` gets you a good enough image in ` contourf ` .
Ellipse and Polygon Patches in log-log scale
This type of plots are , essentially , scatter plots .
Also , can somebody tell me how to set the colormap at the beginning so that I dont have to update it during the animation loop .
The point is I don't want the ` imshow() ` command to draw everything everytime the loop is run .
That's the only thing you need to change from the code in the question to make it work ( with ` im.set_data ` in the animation function ) .
I am trying to draw graphs with the result of a thread using matplotlib .
Use spines and tick_params in Matplotlib style sheet
Instead of writing the ` spines ` and ` tick_params ` for every plot figure , I tried to add the parameters to a ` mplstyle ` file .
Instead of using ` spines ` and ` tick_params ` I can use the ` axes.linewidth ` and the ` major.width ` for the x and y tick marks .
Symmetrical Log color scale in matplotlib contourf plot
How do I create a contour plot with a symlog ( symmetrical log ) scale for the contours .
To clarify ( since requesting negative values on a log scale may sound nonsensical ) , what I want is the same as the " symlog " scale provided on matplotlib axes .
I want the same sort of scaling , but for the colorscale on contour or contourf .
This is called " symlog " ( symmetrical log ) for 1D axes in matplotlib .
I am plotting graph using stem function .
Python : animation x , y coordinates along time
I am trying to obtain an animation of a plot of x , y coordinates taken from two arrays of the same length .
A similar problem , about a scatter plot
I am unable to connect the actual plot to the subplot array .
Before your ` ax.scatter ` call , create an axes object that you can work with , #CODE
Then at the end of your script , you can format the xaxis of this axes using the ` DateLocator ` and ` DateFormatter ` objects ( see ` import dates ... ` statement above ) , #CODE
If that is the case , then I think the first half of my answer should work for you ( I edited because I had named the converter inconsistently ) .
Matplotlib scatter plot with legend
I want to create a Matplotlit scatter plot , with a legend showing the colour for each class .
I want each class to have its own colour , which I have already coded , but then I want the classes to be displayed in a legend .
For a legend you need some shapes as well as the classes .
There is a second way of creating a legend , in which you specify the " Label " for a set of points using a separate scatter command for each set .
If there's another way to make a legend , I wasn't able to find it after a few quick searches in the docs .
And is there not a way just to add a legend using the default markers as are plotted in my example ?
It seems strange that the only way to have a legend in a scatter plot is to create a list of shapes for all the points , rather than just automatically assigning all points the same shape .
I also found a second way to make a legend in the documentation which I added to the answer , along with screenshots .
One of them gives you legend entries for each thing you plot , and the other one lets you put whatever you want in the legend , stealing heavily from this answer .
The ` ax.legend() ` function has more than one use , the first just creates the legend based on the lines in ` axes ` object , the second allwos you to control the entries manually , and is described here .
You basically need to give the legend the line handles , and associated labels .
The other way allows you to put whatever you want in the legend , by creating the ` Artist ` objects and labels , and passing them to the ` ax.legend() ` function .
You can either use this to only put some of your lines in the legend , or you can use it to put whatever you want in the legend .
Or here , we create new ` Line2D ` objects , and give them to the legend .
I also tried to get the method using ` patches ` to work , as on the matplotlib legend guide page , but it didn't seem to work so i gave up .
In addition , how would I adapt this to the subplot coordinates as well , as the plot does this too .
ploting subplot in matplotlib with pandas issue
i am try to plot subplot in matplotlib with pandas but there are issue i am facing . when i am plot subplot not show the date of stock ... there is my program #CODE
matplotlib get errorbar color from legend
I've strange problem when trying draw a plot , from
Sublime Text 3 Repl .
I need to change the chart axis to draw on my graph , now I have data on * .csv file and I draw from file , numbers from file drawing on Y axi , points counting on X axi ...
If you want to swap the axes the data are plotted on you need to reverse the order of the inputs to plt.plot .
Yes , I understand this ... but by default parsed data via ** np.genfromtxt ** - as it is now .. can I use ** np.genfromtxt ** and draw this graph as I want , or should I looking by another way ( like , create more variables which will contain data for X and data for Y )
On limitation of errorbar is that the caps are drawn with ` hline ` and ` vline ` collections so the caps to not properly rotate in polar coordinates ( there is an issue open for this , #URL ) .
The matplotlib tutorial provides a nice example of how to draw a spherical suface : #CODE
i see that i can set the ` _x ` and ` _y ` properties of the ` Text ` instance , using ` set_ [ xy ] ( )` , but it seems a bit hacky .
The current ` GridPlot ` creates independent plots in an HTML table , so if you preview / save on it , you will get a preview for each individual subplot .
Do you want to plot one of the lines in a different axes ?
No not on a different axes .
extra numbers showing up on my axes when i do multiple subplots in matplotlib
When i try to set up subplots i get weird numbers on both axes of my subplots 2 and higher .
You're plotting data to this second set of axes , which is why the rogue tick labels span zero to one .
That's the default graph when you don't plot any data to an axes instance .
which will stop adding the unused axes .
Behind the scenes the ` fig.add_subplot() ` call checks whether the figure already has a subplot with this call signature and , if it does , returns it rather than creating a new subplot .
This is what happens for your first subplot , but the next three have slightly different call signatures , probably related to ` sharex ` / ` sharey ` arguments , so for them new subplots are created .
I know that the following code plots a scatter plot , with its own markers .
I am not able to understand the converter function .
The general defnition of converter function is :
How to update the legend from matplotlib toolbar
How can I capture this event when the apply button is clicked , so i can use this to refresh the legend .
At the moment I am capturing a pick_event as a signal to refresh the legends .
All I wanted to do is to update the legend when the plot marker type or line type is modified for a plot using the figure edit option
If so then i can catch the signal to perform a legend refresh
After a bit of struggle the only easy way to resolve this solution is to add legend refresh as part of the navigation tool bar call back function #CODE
I've tried overriding deleteLater() and clearing the figure / axes before calling deleteLater() on the parent but that only frees up a fraction of the memory .
Make sure you are calling gc in a way that kills circular refs ( figs know about axes which know about the figure ) .
Creating a dot plot with seaborn imported gives a blank set of axes : #CODE
I am trying to change the ticks in a subplot : the result is in the image below .
to change the ticks in the xaxis I use ` xticks ( tik , lab )` where ` tick ` and ` lab ` are lists containing my new ticks and label , but python ( 2.7 if it matters ) overwrites my labels to the old ones .
Also you can probably reduce it to just one subplot for simplicity ?
I solved the problem ( thanks anyway ): ` xticks ` is a method of subplot ( I think ) , so it has to be called in the following way : #CODE
python matplotlib animation save error when using multiprocessing
I'm creating a matplotlib animation that runs through a sequence of images from file .
I've managed to get the animation to run smoothly by staggering the loading processes with multiprocessing , but I'm having trouble saving the animation as a video file .
If I just create the data with ` data = np.random.rand ( 75,100,100 )` , the animation saves without problems .
I suspect you need a join on your multi processing .
I need to plot them as a kind of histogram / heatmap on a 2d plane with the axes ` x ` and ` y ` and a color indicating ` z ` .
I tried ` contour ( X , Y , Z )` , but this takes Z as a 2d array , which means it needs the values on a grid .
draw ( artist , renderer , * args , ** kwargs )
1079 , in draw
draw ( artist , renderer , * args , ** kwargs )
2092 , in draw
draw ( artist , renderer , * args , ** kwargs )
in draw
Matplotlib 3D pan and zoom not working
When i try to use the pan and zoom tool , the plot rotates on left click and zooms from the center on right click . zooming the plot by making a rectangular selection is not working .
Hence you are unable to zoom and / or pan using ` mplot3d.Axes3D ` #CODE
Was able to draw polar chart ( code below ) by using ` matplotlib.pyplot ` and trying to draw 3D chart from this data by using Axes3D , but not getting a clue how to plot .
What do you want to plot in the 3D axes ?
I am able to draw radar plot with horizontal data and theta .
Similarly I am able to draw radar plot with Vertical data and theta .
matplotlib save image as postscript , when xlabel is saved as text and not path
Currently when I save the image as postscript all the text in the image ( xlabel , ylabel etc .. ) is saved as path and not as text ..
can't you add a legend in place of the axis label ?
Matplotlib subplots : legend and axis-scale
Is there a way to add legends to all these subplots using a single ( common ) command , instead of typing ` ax1.legend ( loc = ' best ')` , ` ax2.legend ( loc = ' best ')` and so on separately for each subplot ?
I would like to set log-scaling for each subplot using a single ( common ) command .
As you can see , now I am setting the axis-scales separately to log for each subplot .
Just define a axes formatting function : #CODE
Now , I'm sure many of you will point me in the direction of the matplotlib libraries , and other resources , but for some reason what I have in mind , and subsequently , read from various different sources doesn't quite work with my axes histogram .
Uh , possible misunderstanding ... you want to shade UNDER the histogram , don't you ? while I wanted to shade the UPPER HALF of the subplot ...
I added the axes as an argument , now you can call step_hist ( ax , data )
Note dsets [ Figure ] [ subs ] [ data ] will get you the data points for a specific subplot ; subs should typically be left at ' 0 ' .
Same size of axes if one of them has set_aspectratio to " equal "
Rotating part of xticks
sklearn Linear Regression on 2d scatter
I'm having a problem performing the sklearn Linear Regression on a 2d scatter in tuple form .
However , what you have here is not yet ** M**inimum nor ** C**omplete , because it a ) has a lot of extra stuff such as scatter calls that are irrelevant to the question , and b ) it requires ingestion of data inaccessible to us .
Align matplotlib scatter marker left and or right
However , in order to make them look correct , I need to be able to align the scatter plot marker to the left ( for the left line / delineator ) and / or right ( for the right line / delineator ) .
One solution would be to use mpl.transforms , and the ` transform ` input parameter to ` ax.scatter ` or ` ax.plot ` .
Here I have used the ` ax.get_xaxis_transform ` , which is a transform that places points in data-coordinates along the x-axis , but in axes ( 0 to 1 ) coordinates on the y-axis .
Furthermore , if I pan or zoom the figure , the markers will still be at the top !
Once I've defined the new transforms , I assign them to the ` transform ` property when I call ` ax.scatter ` , #CODE
In both of these examples I have specified ` transform= ax.get_xaxis_transform() ` so that the vertical position of the markers is in axes coordinates ( ` 1 ` is the top of the axes ) , this has nothing to do with the marker alignment .
The obvious advantage of this solution compared to my previous one is that it does not require knowledge of the markersize , plotting function ( ` ax.plot ` vs . ` ax.scatter `) , or axes ( for the transform ) .
I am trying to label points on the image , but whenever I do an extra marker on the plots by coordinate values and the margins becomes unnecessarily large .
How to list all axes that exist in matplotlib ?
Is there a way to get matplotlib to list all axes that currently exist ?
I'm trying to write some general code for clearing all twinned axes in a subplot ( but not clearing the whole figure ) .
possible duplicate of [ matplotlib get all axes that a given figure contains to apply some settings ] ( #URL )
It seems like the axes class can not handle multiple histograms ?
This is what I want the histogram portion of the figure to look like in terms of the step type histogram overlays ( with legend ):
( If you want the legend to show lines instead of boxes , you'll need use a proxy artist . I can add an example if you'd like . That's outside the scope of this question , though . )
I'm getting the following error both whilst having the xlim on and off : AttributeError : max must be larger than min in range parameter .
In subplot 0 , I then plot a single column from multiple dataframes .
There are about 200 months , so subplot 0 contains different 200 ' lines ' .
I would like to add the ability for the user to select which ' lines ' to show to unclutter the resulting subplot .
I need to draw an image with matplotlib's imshow() and then mark some pixels with different colour .
Therefore , if you need a colorbar , you'll have to use a proxy artist .
It's easiest to just add an additional , invisible ( not drawn , rather than transparent ) artist with ` imshow ( data , visible=False )` and then base the colormap on that artist .
Using an invisible ` imshow ` is the easiest way to make a proxy artist for this purpose , but if speed is a concern ( or if it's somehow triggering the rendering bug you mentioned ) you can also use any ` ScalarMappable ` .
Because we don't need to draw anything , though , we can just use it directly .
Therefore , another way to do what you want is to set those values to NaN and specify what the NaN color should be ( ` set_bad ` .. By default it's transparent for most colormaps . ) .
One advantage to this method over the first one is that it's a bit easier to draw a colorbar .
This is the graph plotted by ` contourf ` which is not as I expected .
Otherwise , you can use the function ` contourf ` .
It's a subplot of this larger figure :
Also , separately ( but less urgently ) , what's up with the minor tick issue in the top-left subplot ?
( Note : If you're using a pandas ` plot ` method , it returns an axes object , so you'll need to use ` ax.figure.autofmt_xdate() ` . )
Does this solution work for several subplots ( say a 2x2 array ) with different date time axes on them all ?
When dealing with overlapping high density scatter or line plots of different colors it can be convenient to implement additive blending schemes , where the RGB colors of each marker add together to produce the final color in the canvas .
Color points according to their contour color
Is there a way to color a point according to the colormap used by the ` contour ` function ?
I realize that I can specify a colormap , but presumably the ` contour ` function does some
But how do I scale them like in the ` contour ` plot ?
It appears to be as simple as changing ` plot ` to ` scatter ` and passing the point values as the ` c =p oint_values ` parameter : #CODE
The colors for the contours are being scaled to the min and max contour , while the scatter colors are being scaled to the min and max of the data .
This will give a continuous , rather than discrete ( as ` contourf ` would use ) colormap , but the scaling will be the same .
This eliminates the whitespace around the axes and is great in most cases .
However , sometimes one might want to ( temporarily ) disable this feature , for example , when ( s ) he wants to manually keep two figures vertically aligned ( assume that we don't want to use subplot here ): #CODE
The reason why I'm not using subplot / subplots here ( see comments to Anzel's answer ) is that in this particular case , the two figures are acutally themselves composed of tens of small subplots , plus some additional formatting / labeling .
Essentially , I want to change the left margin of the axes ( from the default 0.1 to 0.2 ) , so that the axes frame / bbox of both figures are visually aligned , in notebook .
Thanks , Anzel~ subplot / subplots is indeed the obvious way to go .
The only thing needs to be done is adjusting the left margin of the axes , which is easy with subplots_adjust in qt backend .
The problem that I have is when I try to plot the legend , I tried to put it above the plot but it appears in the middle .
The pie function also has a kwarg to set it's center ( but I think only on master ) so you can use networkx to get the centers / draw the edges then use one of the two techniques above to draw the markers .
I am including the code to the plot I want , the only issue I can't fix is to get the xlabel , ylabel and legend also in bold .
Text objects have a weight property : #URL #CODE
I want to do scatter plot with
I want to plot ( 10 set of scatter points ) 10 different marker shape and all starting color from blue to red .
If you want N different marker shapes , then you need to write a loop and call ` scatter ` N times .
How to format legend title to font type monospace in matplotlib ?
I want to format the legend title to be monospace .
Yet the output I get gives me the legend title in variable width , with the series in monospace :
Matplotlib animation TclError : out of stack space ( infinite loop ? )
I'm trying to implement an animation that redraws on non-deterministic intervals .
The code runs but , dies on the second call to update at the draw request : #CODE
Rememebr that the colormaps ` pl.cm.hot ( 0.7 )` will return a color value when presented a number between 0 and 1 .
How can I command matplotlib to plot my x- and y-axis to the same scale , i.e. that a unit length on both axes correspond to to the same physical distance on my screen or ons a piece of paper ?
You can use ` set_aspect() ` method of ` Axes ` : #CODE
Setting scatter points transparency from data array in matplotlib plot
I am plotting data with matplotlib , I have obtained a scatter plot from two numpy arrays :
I think the labelling will be quite weird though , so you might have to create the legend by hand .
Check out this question : matplotlib colorbar for scatter
Here's all the matplotlib colormaps : #URL I suggest a sequential colormap like ` PuRd ` .
I have a three columns catalogue of data and I would like to make a 3D plot of them plus the projection of each axis as a projected contour in the the plane of the other two axises .
According to what you want to do you need to use the ` zdir ` parameter for the ` contour ` and ` contourf ` functions .
Kept axes of both plots the same
What I am really interested to have like a contour plot in each plane which describes the projection of the third axis as a colour code .
I would interact with an Axes object directly : #CODE
Did you look at using ` scatter ` instead of ` plot ` ?
Look at the documentation for ` scatter ` in the matplotlib documentation and familiarize yourself with how to use it .
However I can't change how the axes are set up ( all the calls to ` set ` have already happened , for example ) .
@USER : FWIW , it turns out that ` scatter ` doesn't work .
It is about 5 times faster for me to create the objects ( patches ) directly .
The circle themselves are draw with ` matplotlib.path.Path.circle ` .
As for the scale problem , I'd rescale your data to [ 0 , 1 ] and simply change the labels on the axes ( this is what I've done in the past ) .
Also , I assume that with patches / circles I have the full control I need over edge color , face color , opacity , etc .
@USER Correct , but you'll do that mostly with the ` PatchCollection ` and not with the ` Circle `' s themselves .
I could solve it by deactivating ` ax.grid ( None )` in one of grid ` s axes .
if you just want visible x whereas regular x-interval is not required , then we can set the xticks to achieve what you want
Here's an example of a scatter 3d plot using your data , breaking out each set of lat / long data in its own series with respective colored markers .
Note also the use or ` origin= " lower "` which sets the image and the scatter plot to have the same orientation .
For example , the lowest scatter point on the right should have approximately the same color as the highest one towards the left .
You can ` zip ` the lists together , then iterate over them and ` join ` them with a `' | '` delimiter .
Thank you very much but i need to add continues vertical line from 0 to 10 of " y " axes , if i will use your methon i will have this : _ _ _ _ _ _ _ , but i nedd this _____________ ( but vertical ) .
How to force pyplot to draw bars with constant width ?
Why are you using a bar chart rather than a scatter plot ?
when you are comparing a volume with pressure , I assume you have several data points which as suggested by @USER , need's to be plotted either using scatter or using ` plt.plot ` function .
The simple way to draw a table is to
You can use colspan When you use suplot2grid instead of subplot .
And then every subplot needs to be 2 cols wide , so that the subplots in the second row can be shifted by 1 column .
I believe he wants the code to draw a black grid , with the squares it creates being randomly filled with green or yellow .
Am I able to add a label to this line along the line rather than in the legend ?
i.e. , something similar to the following ( but rather than a contour plot , just an ordinary line plot ):
Annotation along a curve in matplotlib
I set the aspect of the Axes to " equal " , otherwise it's difficult to plot ticks perpendicular to the curve : #CODE
I would have to add xticks and yticks to give the idea .
If you are trying to create an animation , take a look at the ` matplotlib.animation ` module which takes care of most of the details for you .
You are creating the ` Figure ` object directly , so I am assuming that you know what you are doing and are taking care of the canvas creation elsewhere , but for this example will use the pyplot interface to create the figure / axes #CODE
And if I want to keep it object-oriented , I should draw via my figure or my axis .
Line and area plot on the same axis , and a common legend
I would like to plot one column from a DataFrame as an area , and another one as a line on the right Y axis , and then have both these entries in a common legend .
The legend has only the second label ( B ) , but not A .
Also , in the legend A should be a patch ( rectangle ) , and B - a line .
Using convenience methods like ` scatter ` #CODE
Finally , I see many examples that use graphic elements like circles in conjunction with collections which , while " fast for common use cases " , result in code that looks to " low level " to me #CODE
This is frustrating because ` plot ` seems the natural method to use as it provides all the right customization of individual points , and results in figures that are nicely scaled and with axes that are naturally bounded it's just too slow when used a point at a time , and doesn't accept lists as arguments for most properties .
Is using circles ( or other shapes ) and collections ( followed by scaling and other tweaking of the figure ) really the preferred ( or at least necessary ) approach ?
So I need the plot to be at a high elevation and with the X-Y plane rotation angle as shown in Figure 1 .
The command ` view ` sets the viewpoint of the axes .
By default , Matlab plots 3D surfaces with a orthographic projection , but matplotlib seems to draw with perspective projection .
It appears that the following patch is very useful to draw 3D in orthographic projection : #CODE
From various websites ( e.g. , matplotlib : Group boxplots ) , Creating multiple boxplots requires a matrix object input whose column contains samples for one boxplot .
matplotlib gui respond to axes changes
I have created a little GUI with QT which set's up a single matplotlib ` figure ` and ` axes ` .
The GUI has controls to change just about everything to do with the appearance of the ` axes ` .
Basically , it does this by each widget emitting signals back up to the main frame and it calls the appropriate matplotlib ` setters ` on the ` axes ` and ` figure ` objects .
However , it is possible for the ` axes ` ( and therefore the image displayed on the ` FigureCanvas `) to change without input from the GUI ( e.g. when autoscaling , or adding certain plots which adjust the axes automatically ) .
I would like all the relevant widgets to update when the axes updates .... how could I possible achieve this ?
i.e. perhaps instead of adding a subplot in an automatic way , you could modify / set the axes sizes yourself and update the widgets accordingly .
The problem is when you call a matplotlib routine to create a new plot ( such as ` axes.pie `) , matplotlib will adjust the axes itself , so any widgets which were controlling the axes are now out of sync ...
I imagine Axes would have a similar method .
A quick look at the matplotlib docs yielded 2 interesting methods of axes :
` ax.set_autoscale_on ( False )` will prevent plots from updating the state of the axes .
I want the widgets which the user uses to control the axes to update with the relevant parameters .
These widgets might be to e.g. control the axes gridline colour
Is there any kind of chance to " cut " the surface plot ( x , y , z ) made by use of the matplotlib by some well defined boundaries , so that I can draw any kind of shape in 3D .
matplotlib Histogram legend font family change
I would like to change the font family of a legend within the following : #CODE
Legend has a keyword called ` prop ` ( which is really for font properties ... why it's not fontprop or something like that I don't know ) that you can use to specify font properties with a dictionary .
Tick marks disappear on secondary x-axis in Matplotlib
Legend stylings
One on the nuances of legend stylings is that with the histogram legend call , such as : #CODE
Also , with the scatter legend styling , we have three dots offset : #CODE
You can use proxy artists to create the legend entries you want , for example remove the ` label= ` keyword from your call to ` hist ` , and do something like , #CODE
Then when you create your legend the entry will be a line rather than a box .
You can use the ` numpoints ` and ` scatterpoints ` input option to ` legend ` to control the number of points that are in the legend .
What about the scatter legend ?
Make a custom axes values on 3d surface plot in Matplotlib
How can I change axes values that are displayed on chart in 3D surface plot in Matplotlib ?
loglog plot with matplotlib in pyqt - axes disappear
but then axes disappeared and got an error below .
How to plot multiple data sets on Matplotlib Axes3D scatter without deleting previous data ?
Likewise , using ` Axes3D ( fig0 )` creates a new axes , erasing the old .
Move the figure and axes creation outside of your loop and do only the actual plotting inside the loop .
matplotlib : Axis default limits with a Circle patch
Plotting functions like ` plot ` or ` scatter ` make use of the function ` autoscale_view ` ( source ) .
While this explains why the axes are not scaled automatically in your example , I'm not sure what the underlying design choice was .
How Do I Add Margins Between Bar Groups in Matplotlib ?
It appears that when the vertical data has a large range , and the vertical scale is small , matplotlib takes longer and longer to decide how to draw a dashed line between extreme points .
In ` Solver() ` I use a signal to refresh Open GL widget - ` self.updateGL() ` .
Another option is to provide an axes object using the ` ax ` argument : #CODE
Matplotlib Scatter plot with lat and long on the X Axis
How do you transform data on a plane ( 2-d lat / lon coordinates ) to a line ( x-axis ) ?
Sounds like you actually have 4-d data . lat , lon for the y and x axes .
mplot3d stacking display priority of colored scatter data
I'm plotting three-dimensional scatter data grouped into three distinct clusters : one is red , one is green , and one is blue .
So , what controls the stacking order ( arrangement ) of the scatter data and how can I change it so that the display priority is given in order of proximity to the camera ?
Context : Matplotlib scatter plots .
When using transparency ( ` alpha ` 1 ) in scatter plots and an axis background color other than white , the colors in the corresponding colorbar look different .
' I get 2 vectors of data called columnArray [ 0 ] and columnArray [ 1 ] which make the x and y axes ' I also have a vector called errColumnArray [ 1 ] which containts the error bars #CODE
This feels like buggy behavior in Pandas , with not all of the keyword arguments getting passed to both Axes .
Formatting axes when plotting with matplotlib
Have you tried something like : ` xticks = range ( 100 , 1001 , 100 ) + range ( 1001 , 5001 , 1000 )` and then ` pyplot.xticks ( xticks , fontsize=10 )` ?
` xticks = range ( 100 , 1001 , 100 ) + range ( 2000 , 6000 , 1000 )` , but yes that works
I would like to group these densities by the outer level of the MultiIndex ( expenditure ) , and draw the different densities for different levels of expenditure into the same plot .
How can I get my contour plot superimposed on a basemap
My code gives me a basemap and a contour plot side by side ( but printing to file only gives the contour plot ) , but I want them superimposed .
Apparently you get two figures because ` m ` is the context from which you call every map drawing command , and there after you draw in current active figure using ` plt ` based plotting commands .
replacing my plotting functions withe snippet you sent plots the map without contours nor scatter plot .
Also , you have to transform your lon / lat coordinates to map projection coordinates before you plot them using basemap .
I've also scaled the size of the scatter points by the normalised ' mean ' value ( ` data [ ' Z ']`) you can simply remove it and substitute e.g. ` 50 ` if you'd prefer a constant size ( it'll look like the largest marker ) .
You can get a smoother join by defining your cone in terms of radius and angle before converting them to X and Y , that way you can maintain the nice Z contours you generated the old way .
Using the same vectors , I would like to animate the line but the animation is static - it just plot the original graph .
The final frame of the animation should look something like the plot below .
I'm not sure what you mean by " using the same vectors " - in your example , x and y never change at all , hence the animation doesn't change .
@USER What I'm trying to do is instead of creating the entire plot at once , I would like to animate from point 1 to point 2 , etc . by using the animation feature of Matplotlib .
Okay , I think what you want is to only plot up to the i -th index for frame i of the animation .
I'm also trying to do this for a scatter plot , so any suggestions would also be helpful : #URL
Are you asking how to draw Venn Diagrams showing how much is in each part ?
What I am trying to do for the animation is to plot a graph , with nodes coloured with respect to a sum across some entries of a subset of a nested list .
I also tried to generate axes object inside of ` single_frame ` function and then return this as output , this led to a blank movie being returned .
the application is correctly frozen into the " dist " folder and it runs without any hassles .
If I manually delete these files from the dist folder , the app still runs very well .
Matplotlib FuncAnimation for scatter plot
I am trying to use the ` FuncAnimation ` of Matplotlib to animate the display of one dot per frame of animation .
The animated plot also flashes several dots during each frame of animation .
Any suggestions on how to correctly animate a scatter plot using the ` animation ` package ?
And to save the animation you might want to call : #CODE
Placing of text by specifying distance from axes
Is it possible , rather than specifying rough xy co-ordinates , to specify a standard distance from the axes ?
As the documentation of ` text ` explains you can use the ` transform ` argument : #CODE
Now the coordinates for the text objects are interpreted as fractions of the axes .
Figure 1 .
of the points in Figure 1 . and clicks the mouse
it ( e.g. Figure 2 , 3 ,... ) .
displayed in Figure 1 .
for Figure 2 , 3 ,... after it has been removed in
Figure 1 .?
matplotlib pyplot 2 plots with different axes in same figure
I use the plt.errorbars function to plot them and then set yscale and xscale to log and this works fine .
Moreover I do not want the x and y axes to display values that are 10,100,100 0 powers of ten but my own axes labels that have the spacing I want therefore I am using the plt.xticks .
You can create two overlapping axes using the add_suplot method of figure .
You need to join the path to the directory #CODE
The Button reacts and the callback is executed but the ` print ` call doesn't show anything .
I have a database , which consists of values provided below.I need to access these values and draw the chart but I get error as : #CODE
Matplotlib boxplot spacing on x axis
The code works fine on small datasets , where there are not too many boxplots to draw .
Increased the increment values in the range functions and reduced the xticks font size .
I could just delete all the axes and start over but this is slow .
Cartopy : order of rendering layers with scatter data
I am trying to plot position of several points ( scatter plot ) on a map using Cartopy ( see code below ) .
try specifying a numerical ` zorder ` in your call to scatter .
Thank you for your suggestion , but I get ' Figure ' object has no attribute ' autofmtxdate ' error .
Thanks for the reply @USER but I still get the same error ' Figure ' object has no attribute ' autofmtxdata ' if I import the matplotlib.pyplot
And how could I add numbers to the points or axes ?
[ ` vlines ` and ` hlines `] ( #URL ) might be a bit more appropriate for drawing the horizontal and vertical lines ...
How to get an imshow or surf objects from axes ?
Once I've created a subplot in matplotlib , say by : #CODE
I'm not exactly sure what matlab does , but you can draw a polygon using ` matplotlib.patches.polygons ` .
How do I draw the corresponding colorbar ?
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
I am trying to create a contour so that the user can specify a contour range so that they can they focus on a certain value range .
This code plots values from 0 to 2 , but I have set the contour range ' v ' ( 0.1 to 1.5 ) so that there will be values outside the contour and I am using extensions ( extend =b oth ) to extend contour so that values outside the range , appear as a colour ( to ensure that there are no white areas ) .
What I want is to display the maximum value ( 2 ) and minimum value ( - 0.1 ) outside the contour range , on the contour scale so that they appear on the scale as well , how can I do that ?
I have modified the code for the labels of the contour to include the minimum value of the contour , the contour levels and the maximum of the contour .
can I use the yticks / ylim information ?
Thank you for your suggestion , but it is not what I want.Is there no way to just edit the tick labels so that the maximum and minimum values outside the contour are shown on the contour labels .
This is because my program allows the user to change the number of levels and the contout range so that they can hone in on a certain contour range but I want to show the outlier values
Overlapping bars in horizontal Bar graph
I would then like to overlay some contour lines , but the first part of the question is most important .
to make that the active figure and axes .
I did as you suggested , returning the figure and axes objects from the plot creation function .
I want to draw a chart with several sub-charts .
The axes X have different lengths .
So that the axes are almost touching , so perhaps ` wspace= 0.02 , hspace= 0.02 ` or something similar .
Does anyone know why this transform doesn't work ?
The issue seems to be related to the 1 dimensional array input to ` transform ` .
I forgot to tell , once you create the NAMEUI.ui in Qt Designer , in the terminal window ( mac ) you execute the command ' pyuic4 NAMEUI.ui -o NAMEUI.py ' , so with that you generate the .py , in the Qt Designer I just draw a button window .
However I'm not able to make the x and y ticks to be in the middle of each square and also I need the xticks to be vertical .
The end goal is to plot a contour on top of the map .
Of course , I can't even get to the contour part with the drawMap_Qt() function .
I don't have basemap installed , so this is somewhat of a guess , but from the examples you need to tell Basemap which axes to use .
How to set background of matplotlib with two rearranged axes ?
Then I plot some data with double axes : #CODE
Now I want my left-axis plot to lie upon right-axis one , so I change z order of axes : #CODE
Or maybe there's other way for changing the order of the axes ?
Also , what happens if you use ` axes = self._figure.add_subplot ( 111 )` instead of the manual construction ?
Python Matplotlib line plot aligned with contour / imshow
How can I set the visual width of one subplot equal to the width of another subplot using Python and Matplotlib ?
I need to find the width and height and offsets of the axes in the upper panel , and then be able to set the width , height , and offsets of the axes in the lower panel .
Axis labels and ticks and etc . should not be included or change the alignment .
The outline of matplotlib axes are controlled by three things :
The axes ' bounding box within the figure ( controlled by a subplot specification or a specific extent such as ` fig.add_axes ([ left , bottom , width , height ])` .
The axes limits ( not counting tick labels ) will always be within this box .
The ` adjustable ` parameter that controls whether changes in limits or aspect ratio are accomodated by changing data limits or the shape of the axes " box " .
( The latter is for use with shared axes . )
The axes limits and aspect ratio .
For plots with a fixed aspect ratio , the axes box or data limits ( depending on ` adjustable `) will be changed to maintain the specified aspect ratio .
The aspect ratio refers to data coordinates , not the shape of the axes directly .
Shared Axes
That's because the second subplot is controlling the extents of the first subplot due to the order we plotted things in .
Basically , with shared axes , whatever we plot last will control the initial extent , so if we just swap the order we're plotting in : #CODE
Of course , if you don't care about the interactive zooming / panning of the plots being linked , you can skip the shared axes altogether and just to : #CODE
Non-Shared Axes
If you don't want the two axes to have the same data extents , it is possible to force them to be the same size ( though if you interactively zoom , they won't be linked ) .
And the PS means that a second plot , with different axes labels , will not align on the spines .
I would like to add a transparent cylinder to my 3D scatter plot .
This thread discusses how to plot multiple axes on the same plot .
This example , from the excellent matploblib documentation , exactly solves your problem , except that you may want to use an ad hoc solution for the secondary axes ' ticks ( I mean , the ones with percentages ) .
I have a scatter plot : #CODE
Guess my biggest problem was on reading the Text list .
Is it at all possible to create such a graph ( especially bearing in mind that the basic plot also has logarithmic axes ) ?
Once I try to plot the map , though , terminal returns a warning that " Images are not supported on non-linear axes " and the plot itself looks like garbage .
Is there any way to work around this to get the heat map to show on log-log axes ?
So that I'm clear , you're problem is that you can do this with a " contour " plot but you don't want to use a contour plot ?
You are correct , the projection onto the axes is exactly as you say .
The extra example I included was used to show three 2d plots around a central 3d plot function ( please excuse my awful python nomenclature ) , the contour plots work because it is still a 3d ready function ( i think ) .
I'm a bit of a pandas newbie , but I'm not seeing how to do this except via a bit of programming to make a scatter plot .
Do a basic plot then even hand draw on it the additional bits you would like to add .
It does scatter plots , but that's not really what we have here .
Sadly , my animation only updates once though the data files are present and the counter in index.pickle updates every minute ( I can see it happening ) .
Is it so that the animation function can animate only one figure at a time ?
You can change the labels on the x-axis using ` xticks ` #CODE
The problem is that I found a lot of ways to control the figure ( graph + axes , labels and title ) size , but not the graph size itself .
You can control the axes size within the figure using add_axes : #CODE
Especially I would like to have a bar chart / box plot with filling and contour in the same colour .
Not as default black / grey contour and coloured contour but like plotly .
All I had to do was ` g.ax_joint.cla() ` to clear the axes where the points are plotted and then plot the points using the answer you mentioned .
Solving this problem is almost no different than that from matplotlib ( plotting a scatter plot with different markers and colors ) , except I wanted to keep the marginal distributions : #CODE
` plt.scatter ` doesn't have any way to control the marker used for individual points , so something like this is probably your best bet , but you can do ` g.ax_joint.collections [ 0 ] .set_visible ( False )` instead of clearing the whole Axes , which will preserve the regression line .
I recommend skipping the call to ` plt.sca ` and using the axes object directly : ` g.ax_joint.scatter ( tips.total_bill , ... )` .
I would like to change the color of the background for the whole plot ( including axes , titles , legend etc ) .
How can I do the same with the margins ?
Matplotlib legends in subplot
The legend position is fixed , however it seems to have a problem with the strings , because each letter is placed in a new line .
Yes , it places the legend in the correct place .
What you want cannot be done , because ` plt.legend() ` places a legend in the current axes , in your case in the last one .
If , on the other hand , you can be content with placing a comprehensive legend in the last subplot , you can do like this #CODE
Note that you pass to ` legend ` not the axes , as in your example code , but the lines as returned by the ` plot ` invocation .
Of course you can invoke ` legend ` after each subplot , but in my understanding you already knew that and were searching for a method for doing it at once .
I would do that probably through a join .
I'd join the existing dataframe to one with an index that had all the values I wanted on the x axis and do the join with the ` how= ' outer '` option .
Or is there a different way to achieve the same visual result using Matplotlib but with , say , a different plot , a different visualization ( draw rectangular shapes instead ) , or use different parameters , etc .
The above code changes with your defined DataFrame list produces the plot below ( for simplicity I eliminated the extra axes ) .
Then I am using ` matplotlib hist ` : #CODE
I thought I did understand the hist function .
Greek nu ( Tex ) in matplotlib legend
However , with ` label= ' $B_\nu ( \nu , T ) $ '` , I get linebreak+u in the plot legend , since \n is interpreted as a new line .
How can I get nu to work in the legend ?
I'm plotting wind speed as a contour plot , with latitude as the x co-ordinate and pressure as the y axis .
You can use ` yticks ` , but you'll also have to set the tick labels : ` plt.yticks ([ 1000,900,700,500,200 ]); plt.gca() .set_yticklabels ([ 1000,900,700,500,200 ])` .
You need to use Axes3D from mplot3d in mpl_toolkits , then set the subplot projection to 3d : #CODE
In my case , I want to plot a histogram of the data produced by a fourier transform .
A fourier transform shows the relative quantity of various frequencies .
` plt.plot ` takes two arguments ( for x and y axes ) .
I'm using numpy.loadtxt and a converter to read the times and values as follows :
Unfortunately , I'd rather not append a ` YYYY : MM :DD ` to the beginning of every time value so , finally my question is : how do I get plot_date to work while reading in a time without an ` YYYY : MM :DD ` prefix and why is ` strpdate2num ` not taking care of this ?
At a quick glance it looks like the first column is your time , so shouldn't the converter be { 0 : dates.strpdate2num ...
I tried creating a converter lambda function using date2num ( strptime ( i , " %H : %M : %S ")) then convert back to a datetime object using num2date however , plot_date still throws the same error .
More generally , I would like to understand how to draw a custom image and use it as a repeated pattern .
For example , I may want to draw an histogram for each region and plot the histogram inside the region , but for doing that I need a general way for using custom images as patterns .
If I had to do it , I'd use imshow with colormaps from arrays created manually .
I'll try with images , colormaps and masks and see what I get .
I ended up using matplotlib to compute the values , but cairo to draw .
I am trying to create an arrow in the figure area outside of the axes .
The only way I can figure out how get a better looking arrow is by creating another axes just for adding the arrow and using #CODE
Note the difference to the black arrow plotted as a ` - ` arrow with ` annotate ` .
however , I want to use plotly to draw the same graph in inetarctive mode .
Explain np.polyfit and np.polyval for a scatter plot
I have to make a scatter plot and liner fit to my data .
Plot multiple boxplot in one graph in pandas or matplotlib ?
Use ` return_type= ' axes '` to get ` a1.boxplot ` to return a matplotlib ` Axes ` object .
Then pass that axes to the second call to ` boxplot ` using ` ax=ax ` .
This will cause both boxplots to be drawn on the same axes .
Is there a way to render the tick labels just right inside the axes , i.e , something like the direction property there is on the ticks themself ?
Right now I'm setting the x property to a positive value on the ticklabels to draw them inside of the axis , i.e. , #CODE
It seems like setting the direction to ' in ' on tick_params will draw the * ticks * inside of the axis , but not the tick_labels .
I am trying to draw some circles that are not filled and outlined in black .
I am putting the correct arguments in the artist circle but it seems to ignore it and put blue . any ideas ?
Also the figure shows up automatically without me stating draw or show .
if i add each circle individually to the axes it will be formatted properly .
I read somewhere that you need to add the artist but i tried that and got an error .
What you need to do is tell the ` PatchCollection ` to match the original patches .
Added some eye-candy to the axes .
I want to show an animation for the linedata .
I have considered the matrix of numbers as the mapping of plane points to their values and then draw the isoline .
I have practised the contour function from the following module : matplitlib.pylab and I have succeeded in configurating it as I wanted , but there is one exeption .
- The contourf set a step by default and it designates the values on the Y-axis and X-axis .
I have read all of the documentation about the contour function but I haven't found the solution .
m.Z is my matrix and plt is matplotlib.pylab I have tried to change the step giving the values of vectors - X and Y in contour ( I know that they aren't needed ) but it doesn't work .
Using pyplot to draw histogram
I want to draw a distribution graph of this list , and I try #CODE
To answer your question about swapping the axes , the argument ` orientation= u'horizontal '` is what you are looking for .
I used it in the example below , renaming the axes accordingly : #CODE
How to transform two set of discrete points ( vectors ) to help plotting them on a common scale
How must I transform these vectors to plot it in a common scale ?
But I can't build transform function
You need two dimensional arrays because pcolor and pcolormesh draw a quadrilateral for each value of c with corners defined in x and y .
The trick is to draw 4 lines ( in your example ): 2 solid ones and 2 dashed ones .
Just to show you how you can put the spines in the center ( since the graph in your question has them centered ) .
Actually this only works in the notebook because the inline backend is used to draw the figure and not mpld3 .
Matplotlib xticks not lining up with histogram
I'm generating some histograms with matplotlib and I'm having some trouble figuring out how to get the xticks of a histogram to align with the bars .
How can I set up the graph such that all of the xticks are aligned to the left , middle or right of each of the bars ?
matplotlib pcolor axes scale
However , the axes contain integers from 0 to 35 instead of the values of f and d .
You can use the ` plt.axis() ` method to set your axes values .
You could do something like this , to draw nodes from each partition at a particular ` x ` coordinate : #CODE
` contourf ` behaves a bit differently than ` imshow ` or ` pcolormesh ` in this case .
It's deliberate for consistency with ` contour ` , and due to the way the levels are defined .
( Also , your center contour isn't actually completely white , but it's visually identical to it . )
How to shift Labels on x Axis python and Center Bars , Python
I can use ` matplotlib `' s ` Basemap ` in Python to draw a globe , and I can set the colour of the globe and anything I draw on it ( continents , etc ) .
Unable to Delete and redraw or Draw over plot axes based on PYQT widget state change
I am trying to make a dynamic chart where the patches are updated when the user moves a slider .
Do I need to delete the subplot ?
You are passing an integer into your slot , which will be the ` chart ` argument when the signal is generated , which is why you get that ` int ` error - ` chart ` is treated as an Axes object in the code , but any events will put an integer into that variable .
If you want lines instead of points , then you should use plot instead of scatter .
I tried to share a db connection , pass it to the " worker " and have it create its own cursor but I will get stuck with a " database locked " message and it seems no matter how long I keep retrying , the lock doesnt clear .
The update_figure method might look like this ( you have to call draw to explicitly trigger a repaint ): #CODE
I was therefore looking for a way to just plot one error bar in one of the corners of the figure , such as a legend instead of having error bars at each data point .
You can plot another point in your plot with the error bar , and use that for the legend .
Getting correct XY axes when plotting numpy aray
When I plot the computed array first of all the axes labels are wrong .
I would like the axes labels to run from -10 to 10 .
Use vlines and hlines methods to set the centering line
On a side note , ` axhline ` and ` axvline ` are easier ways to get horizontal / vertical lines that span the entire ( or a specified ratio of ) axes .
e.g. ` plt.axvline ( 0 )` will give you a vertical line a ` x=0 ` that will always span the entire vertical range of the axes , no matter how you zoom .
Guaranteeing 0 at same level on left and right y axes ( Python matplotlib )
Since they also both tend to go from positive to negative , I think it'd be visually nicer if I could guarantee that the 0 level on both axes line up .
I have updated my code to reflect my comments on leaving alone the function with the greatest range and rescaling the other one , and also about the ` yticks ` .
` Axes ` have literally ( ? ) hundreds of get / set methods ...
I'm still going to focus on the case where we want the axes to align at y ( dependent variable )= 0 .
The key is to think of 0 as a weighted average of the extrema on the left ( L ) and right ( R ) axes .
Option 4 : Force wR ' =wL ' =w ( change both axes , force 0 to be w% of the way to the top of the plot ) #CODE
Option 4 subsumes everything , but may be most useless -- I can't imagine a situation in which we'd want w outside , say , ( .4 ,. 6 ) -- and anything but options 2 and 3 creates white space on both axes ( whereas options 2 / 3 guarantee at least one axis is the same as it was originally ) .
when you reassign ` ylim ` s you are ex-post , as the axes are both
scale on both axes ) .
the total amount of whitespace on both axes is minimized , but I don't
I shied away from the excursion-based determination , as you put it , because the left and right axes don't have the same units -- so concerns about amplitude don't have much meaning .
I don't know if it's relevant , but I used twiny() to create the subplot .
@USER I had already looked at both pages you indicate , and although they are very useful and helped me to get the subplot they didn't solve the problem I'm explaining here .
How to underline ylabel ?
it's possible to underline ylabel ? for example i have the label : #CODE
How to underline text of ylabel ' Seconds To Process ' ?
are you feeding the Axes object to the ` plot ` method ?
For future reference , you could try using ` matplotlib `' s animation options for this , e.g. [ here ] ( #URL )
You may want to pursue treating this as an animation :
If you can create an example of animation with pandas , I would be grateful .
i highly recommend creating Figure and Axes instances ( ` fig , ax = plt.subplots() `) and using those explicitly .
For python help , checkout ` help ( py.iplot_mpl )` or ` help ( Figure )`
Matplotlib - get value of autoscale
Is there a possibility to read the scale of the axis which are set by autoscale ?
Just append those lines to your script .
I have a scatter plot where I have specified legends and x and y labels however my tick marks , legend , and x and y axis labels do not show up when I plot .
If you change the third entry in the legend that starts with r ' to something like " asdf " and then comment out the rc line above plt.ylim that should remove everything that uses LaTeX and it might work .
legend , style , logx , logy , loglog , xticks , yticks , xlim , ylim , rot ,
get_majorticklabels ( self ): 1156 ' Return a list of Text
in refresh ( self )
880 def refresh ( self ):
I'd like to draw a ( vertical ) colorbar , which has two different scales ( corresponding to two different units for the same quantity ) on each side .
My question is specifically about the colorbar , not about the axes itself .
@USER -h Colorbars live on Axes ( you can access it with the ` ax ` attribute ) so you should be able to futz with the scales just as with a larger plot Axes .
@USER I don't understand what you mean : [ ` set_axisbelow `] ( #URL ) has no influence on the size or position of the axes instance .
The label keyword is displayed in the legend .
You need create the ` legend ` explicitly to see the label in the plot : #CODE
If you have not only the 2D histogram matrix but also the underlying ` x ` , ` y ` data , then you could make a scatter plot of the ` x ` , ` y ` points and color each point according to its binned count value in the 2D histogram matrix : #CODE
` pyplot ` keeps track of which figures , axes , etc are " current " ( i.e. have not yet been displayed with ` show `) behind-the-scenes .
` gcf ` and ` gca ` get the current figure and current axes instances , respectively .
After ` show ` is called , the list of " current " figures and axes is empty .
In general , you're better off directly using the figure and axes instances to plot / save / show / etc , rather than using ` plt.plot ` , etc , to implicitly get the current figure / axes and plot on it .
Use ` pyplot ` for ` plt.show() ` and to generate a figure and an axes object ( s ) , but then use the figure or axes methods directly .
Show confidence limits and prediction limits in scatter plot
I believe since the legend is outside the figure , it does not show up in matplotblib's popup window .
I also want to show legend for confidence limits and prediction limits as here : #URL
I think the legend shows like you want .
The colormaps in matplotlib allow you to set special colors for values that are outside of the defined range .
How to add a string as the artist in matplotlib legend ?
I am trying to create a legend in a python figure where the artist is a string ( a single letter ) which is then labelled .
For example I would like a legend for the following figure : #CODE
Where the legend is something like :
What I can't work out how to do is place ' A ' , ' B ' , .... as the artist for the legend text .
But in general is there a way to use a string as the artist instead of , say , a line ?
I don't think there's a legend handler for text ( see the list of available ones here ) .
But you can implement your own custom legend handler .
I have been playing around with your example code for a couple of days and can't think of / find a good way of modifying it to accept more than one ( different ) artist & label .
Can you suggest a way for making a legend for : " A - Model A " , " B - Model B " ?
for now It's been suggested I ust don't use xticks , and I can get : #CODE
Then pandas makes the ylabel for you .
subplot with pandas dataframes
I would like to create multiple subplot on a figure using a pandas dataframe ( called df ) .
You plot against Axes , not Figures .
But for your problem at hand , you simply need to pass the Axes objects to the dataframe's plot method .
How can I position a single boxplot in matplotlib ?
I would like to position a single boxplot at a custom position like so : #CODE
You can see this if you try to plot something else on the axes .
For instance , if you do ` pyplot.plot ([ 1 , 2 , 3 ] , [ 3 , 0 , -3 ])` you will see that the middle of line crosses through the middle of the boxplot .
This means things will show up in the right places if you're plotting other stuff on the same axes as the boxplot .
If you're not plotting anything else on the same axes , it doesn't really matter where the boxes are actually located ; you can just set the labels directly by using the ` labels ` argument to ` boxplot ` .
to generate the above 6 subplots , I believe you can only minimize the code by adding in more ` for ` loops for your remaining ` title , legend etc ` .
Problems with matplotlib animation speed
New to matplotlib and trying to explore existing data by iterating through a DataFrame via animation , but it seems very slow , can anyone see what I'm doing wrong or suggest improvements , have tried playing with frame speed but has little effect so I think its my code , would like to view this 2000 row object in 15 sec give or take . box is 8gb linex so should be fine , using ipython pop out figure to plot .
You don't need to replot inside the animation function .
Look at some animation examples for more information .
Yes , I am trying to learn how to draw bifurcation diagrams , that give information on stable and unstable steady states of dynamical systems as in - [ #URL
My problem is in the interactive plot window : if I pan the lower plot , all 3 x-axes move accordingly .
If I pan the top plot , the added ` twiny ` axis does not move .
How to avoid some xticks are auto-hidden in pandas ?
Now I would to plot it and use its index as xticks , so I do the following : #CODE
It turns out that some xticks are hidden automatically : there should be 18 xticks , but only 9 of them are shown ( seems to be hidden automatically ) .
How can I show all the 18 xticks ?
I then want to draw a line from start point to end point .
In summary : how can I use maplotlib's colormaps to map a floating point number ( eg , 6.2 from the range -14 to 86 ) to a corresponding hex color string ( eg , " #A0CBE2 ") .
You can do most of this directly with colormaps , but matplotlib give the rgb and not hex values , so you need to do the hex on your own .
How would ylim be automatic from data for a given xlim in matplotlib ?
Now I want the ylim will be automatic for a specified xlim .
Just like ' autoscale ' in gnuplot or PlotRange -> ' Automatic ' in mathematica .
possible duplicate of [ Automatically Rescale ylim and xlim in Matplotlib ] ( #URL )
Matplotlib spectrogram intensity legend ( colorbar )
The 0db ( dark red ) corresponds to the peak spectral component of 1kHz ...
@USER your question is written in manner that you are searching equation of some line ( which is not on the image ) but I have the impression you want to find space transformation ( curvature of space ) that will transform your image to straight line ( also unknown to which one ) so please clarify and add the missing data to your question . idealy edit the image and add also the points order ( direction ) for both input curve and output line
@USER yes I dont need a straight line , drawing straight would be just pick first and last point and calculate slope of it and then draw it .
I need an eqation that will transform my curve to straight line , Its kind of mapping . consider on curve each pixel different vslue , I want map all those value to line .
@USER for generic transformation you need to sample line and curve by some parameter t ( the same ) and then interpolate between the two .. via cubic curve patches ...
Matplotlib challenge - changing line style in contour map
Is there a way to use numpy's boolean indexing to plot only certain regions using the contour function ?
Is it possible to draw a matplotlib boxplot given the percentile values instead of the original inputs ?
From what I can see , ` boxplot() ` method expects a sequence of raw values ( numbers ) as input , from which it then computes percentiles to draw the boxplot ( s ) .
I would like to have a method by which I could pass in the percentiles and get the corresponding ` boxplot ` .
Now given these data , I would like to draw the box plots for the benchmarks .
To draw the box plot using just the percentile values and the outliers ( if any ) I made a ` customized_box_plot ` function that basically modifies attributes in a basic box plot ( generated from a tiny sample data ) to make it fit according to your percentile values .
Also note that all usual additional kwargs / args can be used since they are simply passed to the ` boxplot ` method inside it : #CODE
The ` boxplot ` method returns a dictionary mapping the components of the boxplot to the individual ` matplotlib.lines.Line2D ` instances that were created .
boxes : the main body of the boxplot showing the quartiles and the median s confidence intervals if enabled .
For example observe the ` boxplot ` of a tiny sample data of ` [ -9 , -4 , 2 , 4 , 9 ]` #CODE
INVERSE FUNCTION TO RETRIEVE THE PERCENTILES FROM THE boxplot DICT : #CODE
The reason why I did not make a completely custom boxplot method is because , there are many features offered by the inbuilt box plot that cannot be fully reproduced .
Change color to each contour given a property with matplotlib
I have a contour plot but I would like to change the intensity of each level by a given property .
Let say , you have a contour plot and there is a vector also assigned to each point and I would like to plot the line of the contour of one colour if the vector is pointing up and a different colour if the vector is pointing down .
I create the contour plot #CODE
Pyplot contour plot - clabel spacing
I plot contour lines ( air pressure ) on a map .
I use clabel to show the value of the contour lines .
But the problem is : the padding between the value and the contour line is too much .
Most examples of object-oriented matplotlib get an Axis object with something like #CODE
` plt.gca ` gets the current axes , creating one if needed .
It is only equivalent in the simplest 1 axes case .
will give you the axes
I got the axes now .
I am showing the color margins on this picture .
Is there a clever way to iterate over the patches , perhaps , to break them up into appropriately sized rectangles that reflect the additional information , ` y ` ?
I realize this is not quite a complete answer , but if you were to reformat your data , then you could use some built-in functionality of ` hist ` to avoid having to code everything up by hand .
You can then stack those lists into another list , and call ` hist ` on that data , with ` stacked = True ` .
Essentially I have 2 graphs callable with ` g ` and ` f ` one with two axes ( with the data which will be averaged ) and the second which shows the average of the currently selected check boxes .
I have tried a ` while ` loop at the end of the code before the return but then the figures appear but with no axes / data / buttons .
Matplotlib scatter plot with 2 y-points per x-point
I would like to plot this in a scatter plot so that for each ID ( on the x-axis ) it shows a red dot for the first value of the corresponding tupple and a blue dot for the second value of the correspond tuple .
Then you can just plot the red and blue scatter graph with two calls to ` plt.scatter ` #CODE
I'm wondering if there is a way to solve this issue using the pandas ` plotting ` module or maybe by setting some ` axes ` object properties ?
Plot without specifying xticks #CODE
Plot with xticks argument #CODE
Using this the xticks keyword argument I can sometimes control some input , but in an odd way - e.g. for ` [ ' 00:00 ']` it prints out 06:00 , 12:00 , 18:00 .
wow , so xticks =[ ' 00:00 '] gives you 06:00 , 12:00 , etc ?
to an axes in matplotlib , it creates a tick for every multiple of 10 .
How can I convert from scatter size to data coordinates in matplotlib ?
As far as I could tell from the pybeeswarm code , the size and offset of the scatter points is a parameter to the function and requires some trial-and-error to get things aligned .
It's probably easier to transform all your data and pass that into the ` points_overlap ` function instead of doing the transform inside .
How to get type of matplotlib plot ( scatter vs . line vs . contour etc ... ) ?
I am trying to abstract some plugins in mpld3 , and depending on which type of plot is contained in my figure ( ie scatter vs . line vs . contour ) , I want to use a different plugin .
I'm having trouble figuring out the canonical way to distinguish the category of a matplotlib axes .
For a scatter plot : #CODE
Is there a more canonical way to access the axes type from the axes itself ?
This seems a bit ill-posed as there isn't a one-to-one mapping between Axes and plot .
In other words , I could draw both a contour plot and a scatterplot on the same axes .
Not sure how big a project you are up for , but you could consider replacing / extending the plot types in ` matplotlib ` , so that they stored the information you need in the axes object .
Matplotlib provides the class ` Normalize ` for that : #CODE
Create a new instance of ` Normalize ` for each image you want to process .
` Normalize ` internally sets is ` vmin ` and ` vmax ` upon the first call to it ( if you dont specify them when creating the instance ) .
Addendum : In one plot , but as seperate series , with same colour and linestyle , only giving a legend entry to the first .
Matplotlib does not automatically set the axes limits when drawing patches .
The patches in your example are drawn , but the second and third have coordinates ` ( 1 , 0 )` and ` ( 2 , 0 )` and are out of the standard axes limits ` ( 0 , 1 )` .
In both cases you have to do in your loop ( i.e. for each axes ) and after your call to ` add_patch ` .
Okay , easy fix - your only problem is that because you added the PolyCollection to your axes yourself , it doesn't automatically scale the x / y / z limits to appropriate values ( still shows between 0 and 1 ) .
matplotlib : how to change colors , make little spaces and edit the legend
I have the following code to draw some lines in matplotlib .
How can I remove the circles from the ends of the dashed lines in the legend ?
Also consider reading the legend guide in the official documentation :
How can I draw the colors of the tif on a map and add there country borders ?
` Axes3D.plot_wireframe ` was supposed to be called with ` axes ` acting as ` self ` .
Now , instead of ` poly1d ` , you'll have to call ` np.poly1d ` ; instead of ` semilogx() ` it's ` plt.semilogx() ` ; ` plot ` , ` xlabel ` , ` ylabel ` and ` show ` become ` plt.plot ` , etc .
Setting Histogram Bar Widths in Subplots as Equal
How do I get the bar widths for each subplot to be equal ?
If you reconfigure the plotting so that you set up a single figure and axes and pass it into the plot ( ` df.test.plot ( ax=ax )`) , and instead of doing plt.close() , you just do an axes clear ` ax.cla() ` , the memory still creeps up but not nearly as fast .
The problem is you have " animated " set as true and you are not actually doing an animation ( at least not from what you have shown ) .
If you want to do an animation here is an example .
The ellipsoid that I am drawing to draw is the following : #CODE
Remove timestamp from matplotlib.num2date date , and use date stamp in axis xlabel
And for completeness : the error you're seeing is due to python trying to unpack the 2nd argument you've passed to ` xlabel ` , as per its definition : #CODE
Thus because the subplot method worked and showed the month_name on the x axis , and my x and y axis labels : I wanted to know how would I work out how many subplots I would need without first calculating it , then writing out each line and hard coding the subplot position ?
Can you take what's in the legend and put it in the title instead ???
This ( coloring by a third variable ) is what ` scatter ` is intended for .
Because all three of your axes are displaying the same data with the colormap , you don't need to do anything fancy for the colorbar .
I just need to fiddle around with the axes for each subplot now !
Python scatter plot with colors corresponding to strings
I want to make a scatter plot with python matplotlib where the color of the dot should correspond with a particular string from a data file , so something like this : #CODE
The string column contains 5 different words which I would like to plot as 5 different colors is the scatter plot .
How to set a fixed / static size of circle marker on a scatter plot ?
I want to plot the location of some disks generated randomly on a scatter plot , and see whether the disks are ' connected ' to each other .
If I dynamically zoom into the plot , the scatter marker size remains constant on the plot and does not scale up with the axis .
Instead of using ` plt.scatter ` , I suggest using ` patches.Circle ` to draw the plot ( similar to this answer ) .
These patches remain fixed in size so that you can dynamically zoom in to check for ' connections ' : #CODE
Just make sure you insert it with the call to ` Circle ` not ` add_artist ` : #CODE
You want the opposite of matplotlib values under cursor , but the solution is the same , you need to over-write the ` format_coord ` attribute on the ` Axes ` object .
should do the trick where ` ax ` is a reference to the axes object you care about .
In the ` arrowprops ` you can't specify the length of the head , but the ` frac ` arguement specifies the length of the head as a fraction the arrow length .
I'd like to ultimately have a figure that is as tight as possible ( i.e. no extra whitespace . ) Maybe the issue is that I'm explicitly locating the second axes as I want it to be an inset ?
( change xticks and marker of pointplot )
` violinplot ` takes a ` positions ` argument that you can use to put the violins somewhere else ( they currently just inherit the default matplotlib boxplot positions ) .
I initially didn't want to move both the violin and boxplot , but cause I thought it would be more complicated , but it was pretty was after all .
The three dotted lines are the standard 25th , 50th and 75th percentile and the lines outside that are the caps of the whiskers of a boxplot I plotted on top of the violin plot .
Lots of tweaking to the boxplot .
Either a scatter plot or line graph .
In matplotlib's object oriented style you can get the current axes , lines and images in an existing figure : #CODE
The problem is that the colorbar is added as " just another " axis , so it will be listed with the ' normal ' axes .
That is , there are two axes in your figure , the second one is the new colorbar .
The only issue is that the scatter plot that comes out is really tiny .
To make the markers from the scatter plot bigger use ` s ` : #CODE
Matplotlib scatter plot different colors in legend and plot
I have a scatter plot of multiple y-values for the same x-value , in matplotlib ( python 2.7 ) .
The problem is that the colors in the plot symbols are completely different from the symbol colors in the legend .
Something is wrong between the connection between the legend symbol color and the scatter plot error bars .
Is there is a way to fix this so that the colors in the legend are the same as the colors of the scatter plot points , when I include error bars ?
In your plot there are different colors for the error bars and the scatter plot points .
Matplotlib axes autoscale does not work with after twinx()
I have found that I can not get axes autoscale to work on the 1st axes after creating a second axes using twinx .
When I run the above code it autoscales in the y-direction correctly on the left axes ( 0 to 5 ) but changes the X-Axis scale to + / - 0.06 instead of the correct 0 to 10 .
Is there a way for autoscale to work with a blank twinx right axes .
Simply add an invisible point in the right axes so it is not completely empty : #CODE
How to change matplotlib axes so that that it does not display in scientific notation ?
How to change matplotlib axes so that that it does not display in scientific notation ?
I tried changing the x ticks by doing ` ax.xaxis.set_ticks ( np.arange ( 626.720 , 626.727 , 0.001 ))` , but the axes is all crammed on the left hand side .
Matplotlib scatter plot with density histograms on the sides
It can be found on page 10 of this PLOS ONE paper ( Figure 6 ): #URL
One scatter plot , and two histograms that show the density of points in each region , one for each axis .
The draw call is needed to re-draw the canvas .
Figure dimensions , matplotlib , python3.4
Matplotlib colormap in scatter plot : AttributeError : Unknown property size
I want to plot a set of 3D coordinates in a scatter plot and add information from another array of the same size ( h_m ) , using a colorbar .
If you can see in the matplotlib documentation of ` scatter ` HERE IN THIS WEBSITE
you will find that you give your input in ` scatter ` by the keyword ` s ` and not by ` size ` .
I have an initially empty axes with autoscale off : #CODE
Now I changed my mind and decide to autoscale the data ( and the view ) , expecting these limits :
Matplotlib : how to remove just one contour element from axis with other plotted elements ?
Unfortunately updating the covariances is another story since ` contour ` elements are represented as ` QuadContourSet ` objects and have no ` set_data ` method .
The question is how can I remove the first contour ` covariance1 ` without removing the other elements ?
This doesn't seem to work with 3D contours ( i.e. ` contourf ` from the ` mplot3d ` toolkit ): ` coll.remove() ` gives :
My problem was due to the fact that there were no contour lines created at some point in my animation ( no horizontal contours for a horizontal plane ! )
Thanks this works great , is it also possible to increase the size of the Legend , and does prettyplot lib have an alternative syntax for specifying the size of the title , xlabel , ylabel , and x and y ticks ?
The legend is gonna work in the same way for both plt and ppl .
if I move the plt.title ( MyTitle , size=20 ) outside of the PLOT brackets then in my for loop it creates a title above every subplot and I don't want that .
` fig.suptitle ( ' axes title ' , size = 80 )`
As for the question at hand , you can use the ` pl.plot ` function multiple times on the same set of axes to create extra lines .
I tried to plot a legend using a dictionary with the colors of the departments , but when I run the program , always had the same error :
Take a look at the docs : #URL ( do a Ctrl+F and search for ` legend ` , it's far down there ) .
It doesn't plot the legend .
P is a ist where are the colors and the labels of the legend ( the handles ) .
PyQt4 and matplotlib : Legend outside of the plot is cut off
The problem is the same as here : Moving matplotlib legend outside of the axis makes it cutoff by the figure box
But I don't want to save the figure , I just want to have the legend inside the whole figure .
But in the application , a user can select nodes , and depending on how many nodes he select , the bigger / smaller is the legend .
I would like to shrink the x-axis side to have more place for the legend .
--> The subplot should not fill out 100% ( width / height ) of the figure , rather 100% height and 80% width , so that my legend has enough space .
Will create an axes that fills out the whole figure ( more or less ) as you describe .
This might be quite tricky , as ` pandas.Series.plot ` only returns the ` axes ` object but not the ` patches ` .
I have another contour plot here for my pressure distribution : #CODE
Is there any way to combine these plots , i.e. seeing the well point and the contour plot together ?
In my contour plot , they dont range to their desired values .
What is subplot_adjust() doing to pyplot axes ?
Now , a problem arise when I adjust axes 1 through 4 using ` fig.subplots_adjust() ` , in order to leave an extra space on the right for legend .
I would like to apply the same adjustment to ` ax5 ` as I do to the other four axes when using ` fig.subplot_adjust() ` , but I cannot figure out what this method is doing with the
So what is ` fig.subplot_adjust() ` doing to my axes ?
How can I reproduce this behavior so that ALL axes align ?
Why are you making two axes over the same real estate ( ax4 and ax5 ) ?
You can put multiple plots on the same axes ...
Thanks @USER , would I be able to plot it with different y-axes then ? in this very case , I want temperatures and precipitations on the same subplot , the data have different order of magnitude , and I would like the bars ' zero to be on bottom while the plot would vary around it .
See the tutorial about twinned axes [ here ] ( #URL ) .
The problem here is that ax5 is not in a subplot .
you adjust the subplot and not the axe directly so you don't affect ax5 .
My plan was to write a code that took in all the information and gave me the flexibility to plot any two columns against each other as a scatter xy plot .
Markers as " list " in python scatter plot
I'm trying to create a scatter plot where the markers are not all the same but
it is not problem to draw for me , but I have problems with animations .
And I need to draw it smooth point-to-point .
that allows me to draw lines without problems ( and animations :))
Allows me to draw it only , but how can i draw it slow and smooth point to point ?
You don't want to set up ` x ` and ` y ` outside of the animation but inside for the plot to develop ( in your case you had the complete ` x ` and ` y ` set up so that the animation would only plot the entire graph )
For the plot to look different at each animation , ` i ` must index something that looks different at each iteration .
Python set xticks ( want it to be 0:00 - 1:00 , 1:00 - 2:00 , ... )
The reason your code does not work is because you are using strings directly in ` xticks ` . you should create a list ( in my example ` labels `) and then assign it to your ` xticks ` as a parameter .
Matplotlib zorder trouble with plot and bar and two Y Axis
Firstly , my chart have two Y Axis .
The bars are being associated with the left Y Axis , and the line with the right Y Axis .
Here is my code to draw the line : #CODE
And to draw the bars : #CODE
You will have to switch the zorder of the axes .
position matplotlib label above the subplot
right now by default matplotlib legend is in the top right of all my subplots ( say a group of 3 horizontally by 3 vertically ) .
However the legend is obscuring some of the trend line in some cases , so I would like to position the legend just above the subplot itself , is this possible ?
The location of the legend is specified using the ` loc ` argument to ` legend ` .
If you want to place the legend box outside your plot area , you can have a look at the technique described in the legend guide .
Here is a three-by-three grid of subplots with one legend top right above the plots : #CODE
after looking in the legend guide , I can't see any technique where the result is a legend on top of the subplot ( and not inside it blocking the trend line ) .
Look at the example under [ " Legend Location "] ( #URL ) .
It features subplots and a legend outside the subplot region .
Thanks @USER - where can I learn more about " bbox_to_anchor " which seems to be responsible for both 1 ) the positioning of the legend above the subplot and 2 ) the positioning of the text so it is off centre to the left or aligned to centre ( when it's above the subplot ) .
Is there any way of making the text " TEST " centred in the middle of it's position at the top of the subplot ?
As for keeping the actual numerical ticks ( if you want those ) , the normal matplotlib interface ties the ticks pretty closely together when the axes are shared ( or twinned ) .
I've tried plotting it using a scatter plot with two different x-values , while adding a small random number to it , but obviously it didn't produce the nice " ordered " effect seen above .
Unfortunately , don't have time to post a full answer here , but I do this by using a second pair of axes for the same subplot with coordinates of ticks set in the centres .
Then I show ticks on the " old " axes and show labels , but not ticks , on the " new " ones .
In lines 404-417 I add a second pair of axes ; generally , it is very easy .
You have to use host_subplot() for twin() to work on the axes , see the imports in the same file in the beginning .
The latter seems to be critical to making things work smoothly and flexibly : multiple calls to ` twinx() ` and ` twiny() ` make axes jump back and forth and seem to make the the display of things like axes labels sensitive to the order in which they are set e.g. after using ` twinx() ` to add the twin for tick labels , the axis label on my y axis vanished , and had to be moved to another axis .
How to overlay a controuf plot with a differently colored contour plot ?
I'd like to overlay for example a ` seismic ` -cmapped ` contourf ` -plot ( or ` pcolor `) with a ` gray ` scale ` contour ` -plot , but when I add the latter it also changes the previous colormap .
This answer is taken almost entirely from the contour demo example : #CODE
is it possible to append figures to Matplotlib's PdfPages ?
I want to save 2 figures created at different parts of a script into a PDF using PdfPages , is it possible to append them to the pdf ?
How to set set the marker size of a 3D scatter plot fixed to the axis ?
I've asked a similar question before ( How to set a fixed / static size of circle marker on a scatter plot ? ) , but now I wanna do it in 3D .
As in the 2D case , you need to draw the spheres yourself .
If you want nicely shaped spheres this means to draw many patches and thus gets slow quite quickly .
python pandas timeseries plots , how to set xlim and xticks outside ts.plot() ?
I know I can set xlim inside pandas plotting routine : ts.plot ( xlim = ... ) , but how to change it after pandas plotting is done ?
Is there anyway to know how pandas has converted the dates to xaxis and then convert my xlim in the same way ?
Note that if you plot multiple time series in the same figure then make sure to set xlim / ylim after the last ` ts.plot() ` command , otherwise pandas will automatically reset the limits to match the contents .
change ticks number on a subplot
If I have a subplot how can I change its NUMBER of ticks ?
In which case you'd replace the line defining ` yticks ` with ` yticks = ticker.LogLocator ( numticks=M )` .
yticks = ticker.MaxNLocator ( M )
azal.yaxis.set_major_locator ( yticks )
Complex cross spectral density
mlab.csd from matplotlib : #URL can be used to get real valued cross spectral density .
If I want to get the phase information from the spectral density , I need a csd calculation which returns complex values .
Here the real and imaginary ( ! ) part of the cross spectral density :
Row titles for matplotlib subplot
This solution is entirely based on this post , except that more attention has been paid to actually removing the background subplot .
Why do I need to turn off frames for twinned matplotlib axes ?
When I have twinned axes in some ( perhaps all , the visibility depends on the color I choose for my axes , with light ones showing the most effect ) of my matplotlib plots , they appear " heavy " and sometimes with varying thicknesses unless I turn off the frame for all but one with #CODE
I am using matplotlib to plot polygon patches and would like to denote sections of each polygon to be filled with a particular color , i.e. make a pie chart but triangle or square or hexagonal shaped .
I'd like to do it by means of pyplot because I have several images like this and want to arrange them into a big figure ( with subplot ) .
how can I increase the space between tick labels and axes labels in matplotlib for a 3D plot ?
how can I increase the space between tick labels and axes labels in matplotlib for a 3D plot ?
From y ( x ) animation to y ( t ) at a given x
As I am new to animation in python , the task of obtaining data while presenting this animation has proved a challenge .
The animation runs , but no plot is presented .
After commenting out plotting code responsible for the animation , a good graph was obtained .
Thus I learned the plt.plot function can't be called more than once and that subplot is required instead .
I am no longer receiving that error , however no graph is displayed following the animation .
Is this because plt.plot is already used in setting up the animation ?
Instead of doing a casual plot of data function of time , I'd like to have a scatter plot ( data1 , data2 ) where the time component is shown as a color gradient .
This array can choose the colors that you want your scatter points to be .
axes has a ( 2 , 3 ) shape and I'm unable to pass the correct parameter into the last line ax=axes .
Ideally I should have something like ax = axes [ x ] [ y ] where ( x , y ) is in [( 0 , 0 ) , ( 0 , 1 ) , ( 0 , 2 ) , ( 1 , 0 ) , ( 1 , 1 ) , ( 1 , 2 )] thus having the exact shape of axes , but I'm just able with just enumerate to get that list of " indices " ...
axes being a ndarray I needed a way to access it by index , and fortunately the flat method does just that .
Adding legend to a surface plot
I am trying to add legend to a surface plot but unable to do so .
The way I am trying to include the legend is not giving the correct answer .
It is not trivial to make a legend in a 3D axis .
I would say a title is more appropriate than a legend in this case .
Scaling axis for a scatter plot in matlibplot in python
I set the limits from 3.5 to 10.5 but in the figure the axes are displayed with scaling of 1=1 and values are from 4 to 10 .
As mentioned in the comments passing ` showfliers=False ` to the ` boxplot ` method is another neat option to hide the outliers .
and I can't figure out how this would work with a custom ` Figure ` subclass .
How can I subclass ` Figure ` in a way that still lets me use ` pyplot ` methods like the one above ?
Is there a way to also ensure that the axes returned is of a particular class ?
I don't see anything obvious that gets passed to , or via , ` figures ` that specifies a class to use in place of ` Axes ` .
It might be something you configure in your ` Figure ` subclass via ` add_axes ` .
[ Follow-on question ] ( #URL ) about ensuring all the ` Axes ` for a custom figure are of a custom class .
To use matplotlib's ` hist ` without drawing boxes and only using the lines pass in ` histtype= " step "` .
pandas scatter plotting datetime
I'd like to scatter plot them .
I'd also like the axes to display the times , ideally .
A non-clever work-around is to convert to unix time ( int64's ) , scatter plot , and then fiddle with axis ticks and labels .
But the figure produced in this way and the scatter plot are not the same .
matplotlib : place axes relative to other axes , with automatic updating
Matplotlib has well documented methods of how to place multiple sets of axes in a figure window , but I cannot figure out how to define the position of one set of axes relative to the position of another set of axes .
This is all well and good , but when I change the size of the bottom axes #CODE
the bottom axes overlap with the top axes
I realize I could subsequently update the position of the top axes to remove the overlap , but I would like to just specify the top axes position relative to the bottom axes at the outset , and have things automatically update .
For example , in the annotate tutorial it is possible to place an annotation and then place a 2nd annotation at a specified offset from the 1st annotation using the ` OffsetFrom ` class .
I would like to do something similar with axes .
I think you would need to connect an axes resize event to something that would modify the position of every other subplots ... however after reading the docs I could not find an axes resize event ( only canvas resize ) .
So I guess you could create a subclass of axes and add the event ... but I'm not that good at Python yet and don't know exactly how to do that .
As you implied , I am looking for a more robust solution than specifying the axes position and size from the outset .
If you use the ` OffsetFrom ` class , the annotation positions get automatically updated at render time , so the same thing could probably be done with axes .
No because the axes do not exist at the time the ` Figure ` objects gets created .
A figure does not have to have an axes and can have _any_ number of axes , hard-coding that sort of thing in the ` __init__ ` does not seem like a great idea .
@USER : is there a figure method that ` pyplot.subplots ` calls to create and add the axes it returns ?
Where does it come from ; and can I even safely override ` add_subplot ` without all kinds of side effects ( given that this figure class always has only the axes defined above ) ?
I have made a phase plot of a bistable stable , with the nulclines on the main graph and have added a subplot with the trajectories overlaying it .
From this SO answer , I came up with a solution using ` clear_ouput ` from ` IPython.display ` and the command ` plt.pause() ` to manage the speed of the animation .
This works well for small graphs with a few nodes but when I implement on a 10x10 grid , the animation is very slow and reducing the argument in ` plt.pause() ` does not seem to have any effect on the animation speed .
Ideally I would like to show the whole animation in no more than 5 seconds , whereas it currently takes a few minutes to complete the algorithm , which suggests that ` plt.pause ( 0.0001 )` does not work as intended .
After reading SO posts on graph animation ( post 2 and post 3 ) , it seems that the ` animation ` module from matplotlib could be used to resolve this but I have not been able to successfully implement the answers in my algorithm .
My question is how can I improve the speed of the animation for my problem : is it possible to arrange the ` clear_output ` and ` plt.pause() ` commands for faster animation or should I use ` FuncAnimation ` from matplotlib ?
Is there a way to draw 3D lines as a series of circles with matplotlib ?
With a little warning : it's often a good idea to set something like ` tvals =[ 0 , 1 , 2 ]` so that the command can be ` yticks ( tvals , tvals )` .
` ax.set_ylim ` is the method which changes the limits on the y-axis of the subplot .
In order to use this , you must have at your disposal an ` Axes ` instance ( the one that is returned by ` plt.subplot `) ; then you can set the lower limit to 0 .
I've looked at your code ; you can get an ` Axes ` instance with ` fig.gca() ` method , then setting ylim and major_formatter as described above .
How to set up an arbitrary viewpoint in matplotlib's 3D axes ?
Matplotlib animation won't save
Secondary y-axis overwriting legend colors and resetting x-y tick font specification
Then I use a for loop to plot the primary y-axis scatter plot - I have to use a loop in order to iterate through the columns of a Pandas dataframe which are the x and y-variables .
Then I would like to use a second for loop to add a secondary y-axis scatter plot .
Finally , I would like to add a legend consisting of primary and secondary y-axis variable names .
1 . the colors of the legend symbols are not correct
2 . the colors of the symbols in the 2 scatter plots are the same so it looks like there
How can I fix specify the font properties for the primary secondary axes ' tickmarks ?
Did you try ` df.plot ( x= ' Column_you_want_as_x ' , y= ' Column_you_want_as_y ' , xticks =d [ ' Column_you_want_as_x '])` ?
This only works because in the plain barplot , this is the only Line artist in the plot .
matplotlib , why custom marker style is not allowed in scatter functions
I try to create some custom MarkerStyle and use it for scatter functions , but this script failed in the scatter function .
I use the patch mentioned [ MarkerStyle Instance not Accepted for scatter Issue #3895 matplotlib / matplotlib ] ( #URL ) , and it did solve the failure , but I still see the scatter function does not works well .
Each time a new ` AxesImage ` object is added to the Figure .
Despite their similar name , they do very different things : ` plt.imshow ` is a plotting function , which draws an image to the current axes ( similar to ` plt.plot ` , ` plt.scatter ` , etc . ) ` plt.show ` however , dispays the figure on the screen and enters the backends mainloop ( i.e. blocks your code ) .
For further formatting of the xticks I recommend this question : Pandas timeseries plot setting x-axis major and minor ticks and labels
Legend transparent to horizontal grid in matplotlib
The problem that I'm experiencing is that the legend is transparent to the grid .
Oddly enough , it is only the vertical grid that you can see through the legend box :
If not , how do I set the legend so it is NOT transparent ?
The problem is the vertical grid is on ax3 , and the legend is on ax2 , so the grid is plotted after the legend .
You need to plot the legend on ax3 , and explicitly tell it which lines and labels you want .
I'd like to give the user some basic functionality via GUI , zoom , changing X-Y range ( or polar range ) , colors , axes labels ( pretty much the standard stuff you might find in excel ) .
How do we hide the first zero in axes matplotlib
I don't wanna plot the zero in the beginning of the axes .
Improve labeling on pie chart in subplot
I've tried adding a legend but it covers up the chart and I don't even know if it's ending up in the location I'm specifying : #CODE
Is there a way to move the legend down into that empty space under the pie chart ?
I'll remove the labels from the pie chart itself once the legend looks good .
` bbox_to_anchor ` lets you position the legend on the figure's canvas .
Although you could skip the legend and improve the readability of your pie-chart by adjusting it .
matplotlib power spectral density ( PSD ) value discrepancy
I tried calculating the power spectral density using matplotlib function ` psd() ` .
Will I need to somehow attach a callback to a zoom / pan event and recreate the histogram , or is there a better way ?
If I figure out the zoom / pan callback route , I'd possibly do it like this ...
You cannot do this with hist .
All ` hist ` does is to use ` np.histogram ` and then call ` plt.bar ` in a specific way .
matplotlib legend location default
I use ` legend ( loc= ' best ')` a lot .
When I try this on a simple V-shaped graph , it puts the legend in the upper right before the change , but upper left after the change .
Can some one please explain with an example what is difference between line graph and sparkline graph and how to draw spark line graphs in python using matplotlib ?
sparkline graphs are drawn without any axes particularly to plot variations from one point to other . for example , for the stock exchange data , the closing price of each day in last 1 week is an example for sparkline
Just without ( visible ) axes and in a very flat and wide shape .
Have you tried this with other colormaps and get the same thing ?
matplotlib setting axes , panning and zooming controls
I am using wx along with matplotlib , creating a simple scatter plot #CODE
So i want to know how can i set the x , y limits , pan the plot and box zoom the plot without using that toolbar .
What I would ideally like is to be able to get at the coordinates on the right hand side of the toolbar and use those ; it seems a shame to try to write my own pixel -> data transform when matplotlib is clearly already doing it for me somewhere .
Regardless , have a look at matplotlib's transforms to understand how you'd transform between display / pixel coordinates and plot coordinates .
In general , though , have a look at matplotlib's transforms for transforming between display , figure , axes , and data coordinates .
` Transform ` s deal with more than just points ( usually you use them to plot something in another coordinate system ) , so to convert a set of points , we need to call the ` transform ` method .
This is how things like ` annotate ` allow a location defined by an offset in points from another location in data coordinates .
I'm simply trying to plot a surface and its contour in 3D , exactly as in this example .
However , I'm getting a weird behavior in which the a contour ( ` zdir=y `) is being over the surface .
Besides , I'm getting a weird contour in ` z_dir=z ` ( with a section missing ):
As for the funny streak of " non-data " in the xy-plane contour , it may be something funny happening with the " closing " of one of the contours .
And this just happens with ` contourf ` .
If I use ` contour ` , these problems don't happen .
I believe the problem arises because each matplotlib's artist ( i.e. ` PolygonCollection `) is rendered separately .
I need to draw subplots of a figure through loop iterations ; each iteration calls a function defined in another module (= another py file ) , which draws a pair of subplots .
2 ) Inside the loop , at iteration number iter_nber , call on the function drawing each subplot : #CODE
I thought that this would be the 2d column of the subplot grid ?
However , it doesn't make much sense to return the figure and axes array from your plotting function .
that breaks with and ` AssertionError ` for the thing not being a Polygon by descartes ( or by matplotlib failing ` assert vertices.ndim == 2 ` if one comments out the descartes assertion as a test )
In particular , if / when there are so many circles for the figure to become connected , the ` for polygon in polygons : ` fails with a ` TypeError : ' Polygon ' object is not iterable ` .
Figure 1 : Screenshot of the plot produced by the code above .
Figure 2 : image that was saved using plt.savefig() .
@USER Here is " Figure 2 " .
As jkalden suggested , ` annotate ` would solve your problem .
I am trying to create square plots ( equal axes length ) on log-log scale , but I have no luck .
pyplot.setp ( f.axes , yticks =[ ]) You're setting yticks to an empty array , shouldn't it contain the values for your y-axis ?
Awesome , it works , but only on the right-side subplot .
Using functions operating on axes called using ` pyplot .
Matplotlib's ' annotate ' not positioning text correctly in PDFs ?
Matplotlib ' ` annotate ` seems to fail to position text correctly when rendered to PDF .
I've got a lot of characters I used to annotate , not just the triangle ( which is an example ) , and many are not in LaTeX character sets .
I have created an animation using matplotlib and I'm trying to save it to a file using the method described in this tutorial : #URL .
The animation displays as expected in my pyplot figure and an .mp4 file is created as expected .
Is there a way for me to draw the edges at the boundary between green and gray boxes alone ?
I tried using contour but it seems to smoothen the boundary .
For the figure you show though , it wouldn't be too difficult to find for yourself , or you could increase the resolution so that the contour path will better match what you're looking for .
I am trying to write a code that would check the value of the neighbor and draw a line accordingly .
The ` annotate ` argument ` textcoords ` can be set to ` offset point ` .
I want to set the ticks of the imshow colorbar outside , I know how to do it to the ticks of the axes , but I do not manage to do it to the ticks of the color bar of the histogram .
This is how to make the ticks pointing outside in the axes #CODE
Cursor over matplotlib canvas in Tkinter
Now I can see both the arrow cursor and this nice MPL Cursor widget .
As I mentioned in my comment , have a look at matplotlib's ` Cursor ` widget .
Note that you can also control the cursor for any tool ( e.g. zoom , pan , etc ) in the same way .
Actually you can nix the figure call too if you import the Figure object directly ( ` from matplotlib.figure import Figure `) .
Once you have your axes , abandon pyplot and use the object methods directly ( i.e. ` ax.plot() `) .
The Tkinter embedding uses a FigureCanvasTkAgg object , which requires a Figure object .
Therefore your plotting function has to return that Figure object so that it can be used to construct the FigureCanvasTkAgg .
The ` matplotlib ` ` scatter ` and ` plot ` functions split out their arguments , so it's agnostic to the shape of the array , but ` ax.plot3d ( particles [ 0 ] , particles [ 1 ] , particles [ 2 ])` is shorter to type than the version with ` particles [ ..., 0 ]`
How do I ensure that my matplotlib axes are of a custom class ?
I have a custom figure class and would like to ensure that all of the axes associated with it , whether created with ` subplots() ` or ` twinx() ` , etc . have custom behaviors .
In particular , is there a way to ensure that all the ` Axes ` of my custom ` Figure ` class are of a specific class ( as is done for figures themselves ): a custom ` Axes ` class of my own that could have these methods as part of its definition ?
The simplest approach towards a Venn diagram is to draw two circles with radius ` r ` and a distance of the centers of ` d = 2 * r * ( 1 - cosine [ 0 ] [ i ])` , where ` i ` is the line index you are comparing to .
The code to draw circles is already present in StackOverflow .
If you look at the axes of the figure , and then print the values for d1 , d2 and r , you'll quickly notice that the first circle has a diameter of 0 ( at least , when I ran this code ) , and the second one falls completely outside the graph borders .
When you manually add an artist through ` add_artist ` , ` add_patch ` , etc , autoscaling isn't applied unless you explicitly do so .
The difference between ` add_artist ` and ` add_patch ` may seem arbitrary , but ` add_patch ` has extra logic to calculate the extent of a patch for autoscaling , whereas ` add_artist ` is the " bare " lower-level function that can take any artist , but doesn't do anything special .
To autoscale the plot based on the artists that you've added , call ` ax.autoscale() ` :
( We can actually leave out the call to ` autoscale ` in this case , as ` ax.axis ( ' scaled ' / ' equal ')` will effectively call it for us . ): #CODE
Matplotlib custom projection : How to transform points
In my example I want to transform a point that is dipping 30 to the North ( meaning that the point is 60 N of the equator ) into a point that dips 30 East ( meaning that is lies 60 east of the prime meridian ) .
What are the requirements on the initialization and animation functions used by matplotlib's FuncAnimation ?
What are the requirements on the initialization ( ` init_func `) and animation ( ` func `) arguments to matplotlib's ` FuncAnimation ` ?
Are all of these elements required for animation to work , or can I write any code that changes elements of the figure ( ` fig `) in the two functions ?
If these elements are required , how would I , for example , write an animation function to change ( add , remove , reposition and resize ) several annotations and lines , such as #CODE
I want to add labels for these two circles in my legend , is this possible ?
It's not handled automatically for the lower-level interface ( i.e. manually creating an artist and adding it ) .
Therefore , you need to pass the artists and labels into ` legend ` .
Original Polygon
I can also process the data and just draw the outline .
My specific question is : can I somehow draw a smoother outline around the points ?
If you are looking for a way to fill the area , you might consider a pseudocolor heatmap ( pcolor ) , or a filled contour ( contourf ) , which are available in matplotlib ( For example : #URL ) .
Alternatively , you could try finding the several percentile values for each angle , ( instead of just the largest ) and draw multiple lines in different colors .
And as you plot them individually , ( at least of my knowledge ) you cannot draw a line between them .
Python eps figure legend disappeared when insert in office
Everything is smooth up to the point that the font size of axes ticks , labels etc .
Completely removing axes from contour plot
I am trying to create axesless contour plot of my raster data .
I managed to create the contour plot however I can't remove the axes completely .
I can turn them off with ` plt.axis ( ' off ')` but axes whitespaces are still there .
So how can I plot contours without axes and any whitespaces they leave behind ?
The line does in fact completely remove the axes and it is visible when I call plt.show() however when I try to save the plot with ' plt.savefig() ' I get that undesirable whitespaces .
@USER - ` tight_layout ` changes the size of the axes .
If you want the contour plot to take up the entire figure with no room left for tick labels , etc on the side , it's easiest to define the plot that way to begin with .
I mentioned transparency because on the transparent images that whitespaces are harder to spot , on contour plots .
If so , remove the ` bbox_inches= ' tight '` and leave in the part that defines the axes as filling up the entire figure ( ` fig.add_axes ([ 0 , 0 , 1 , 1 ])`) .
` bbox_inches= ' tight '` will force ` savefig ` to include the axes ticks even if they're outside of the figure boundary and invisible .
I have tried to separate out the figure and axes creation from actual plotting in the following code , but the first time I change the slider the graph doesn't update and the 2nd time I change it the graph disappears altogether .
If you'd prefer to use the ` pandas ` plotting wrapper , you'll need to override the legend labels : #CODE
During this process , I realized that the colors that I'm generating by applying the colormaps are always slightly redder than they are in the mathshow version .
Now I would like to plot 4 subplots , each subplot for one of the arrays .
I want to draw lines ( or boxes ) where , for example , there is a horizontal line from ` 2014-12-04 17:54 : 56.185200-08 : 00 ` to ` 2014-12-04 17:59 : 54.303900-08 : 00 ` with a level of ` 1.5 ` , another horizontal line from ` 2014-12-04 17:59 : 54.303900-08 : 00 ` to ` 2014-12-04 18:04 : 54.307770-08 : 00 ` at the level of ` 2.1 ` , etc .
According to matplotlib's documentation , ` FuncAnimation ` calls a funtion repeatedly to make an animation .
If you are passing frames one at a time , an iterable will run out , and the animation will stop .
Scatter plot in matplotlib not updating xlim and ylim
Given the below code I would expect the x-axis to be between 0 and 3 with some margins added .
I would expect the call to scatter to automatically update x-axis limits .
I could set the xlim and ylim my self but would like them to be set automatically .
If you comment out the first scatter , everything will be fine
Sure , but why does it not work with the first scatter as is ?
You can clear the figure , and open a new subplot , than the axes will be adjusted as you wanted .
This is what I've ended up using , but it seems a waste to recreate figure each time a new scatter plot is needed .
It is a feature that ` scatter ` does not automatically re-limit the graph as in many cases that would be undesirable .
Here is a way of making another scatter plot without needing to clear the figure .
I basically update offests of PathCollection returned by axes.scatter() and add the collection back to the axes .
Of course , the axes has to be cleared first .
One thing I notice is that I have to manually set the margins .
Therefore , if you really want y-tick-labels that are always perfectly centered in the middle of the figure , it's easiest to draw them a different way .
Instead of ` axes [ 0 ] .set ( yticks=y , yticklabels=states )` , you'd do something like : #CODE
matplotlib change Axis scale
Yes i know i am doing some mistake in subplot but i am unable to figure it out.I will again see it .
Tick labels only occur at tick locations , so if you'd like to label every column and row , you'll need to set the tick positions as well as the tick labels .
Embedding several inset axes in another axis using matplotlib
For example , the ` inset_axes ` method is used to place inset axes inside parent axes :
However , I have several rows of plots and I want to include some inset axes inside the last axis object of each row .
Here instead of the 5 plots drawn in the last column , I want several inset axes containing a plot .
What about adding the small axes to the figure directly ( e.g. with [ ` GridSpec `] ( #URL )) ?
You'll need to create a ` GridSpec ` with ` numrows * numinsets ` rows by ` numcols ` columns and then create the " main " axes by slicing it with intervals of ` numinsets ` .
In the example below ( 2 rows , 4 columns , 3 insets ) , we'd slice by ` gs [: 3 , 0 ]` to get the upper left " main " axes , ` gs [ 3 : , 0 ]` to get the lower left " main " axes , ` gs [: 3 , 1 ]` to get the next upper axes , etc .
I'm not particularly familiar with ` networkx ` , but it appears to take an ` ax ` kwarg that specifies the Axes object to draw on .
Therefore , the pyplot state machine is only invoked if no axes object is specified .
You should be able to use it safely in your case as long as you pass in the axes object you've manually created .
Well , just for clarification , ` axis ` is different than ` axes ` in matplotlib terms .
The ` Axes ` instance ( commonly called ` ax `) is the " plot " , while both the ` xaxis ` and ` yaxis ` are instances of ` Axis ` .
You can send a matplotlib axes instance into ` networkx.draw() ` ( and other functions ) using the ` ax= ` keyword .
The ` imshow ` method from the ` spectral ` package does a better job : #CODE
If you specify ` hover=True ` , the box will pop up whenever you hover over an enabled artist .
And can you put in a PR to change the official example to use the ` Formatter ` class ?
Is this an image ( via imshow ) or a scatter plot or what ?
How do we draw an average line ( horizontal ) for a histogram in using matplotlib ?
Right now , I'm able to draw the histogram without any issues .
You want to draw several horizontal lines at given ` y ` values ?
isn't a 2D ` contour ` or ` contourf ` much better to understand the data ?
Such objects are not directly re-usable ( as they are ' bound ' to the ` Axes ` object that they are currently shown in )
Yes , it's a string but you know stem function doesn't support datetime object , so I use this workaround .
Why are you setting the ticker to MaxNLocator after using xticks ?
That line obliterates the tick locator xticks just set .
To get a maximum of N ticks , you can pull N values from your ticks list and just pass those to xticks , and eliminate setting the locator manually .
The ` clip_box ` is expected to be in display coordinates , so you'll need to transform it .
For the transform to data coordinates to be re-done every time the display changes , you'll need to use a ` TransformedBbox ` .
It looks good at first , but there's an additional problem : Because the ` clip_box ` is static and in display coordinates , it will be in the incorrect position as soon as you change the plot in any way ( e.g. zoom , pan , autoscale , change the figure window size , change the figure DPI ) .
I can't draw plot .
` TypeError : Couldn't find foreign struct converter for ' cairo.Context '`
Is there a way to draw a basic line graph without installing many libraries ?
Why not use ` annotate ` or ` text ` that are axes artist instead of ` figtext ` which is a figure-level artist ?
This places the text at the figure level instead of at the axes level .
However , if we use ` plt.figtext ` or ` fig.text ` ( they're identical ) , the text will be placed at the figure level instead of at the axes level .
Therefore , it doesn't matter what the ` zorder ` of the line is , the text will still be in front of anything in the axes .
How to change 1 column to 2 column subplot using plot_date ?
A multiple columned subplot .
I have read some info on the subplot matplotlib documentation about potentiall using " add_subplot " .
There is also a kwarg to ` subplots ` ( ' flatten ' iirc of the top of my head ) that will return the axes back to you as a 1D list
Colormap in Matplotlib without using the " scatter " function
I have constructed a scatter plot with x and y positions .
Now I have an array with a third variable , density , and I want to assign a color for each point in my scatter plot depending on its density value .
I know how to do it using the " scatter " task of matplotlib , for example : #CODE
I am trying to do an animation of a galaxy merger , and assign each particle a color depending of the density of that region .
You're probably wanting to animate a ` scatter ` plot .
Using lots of ` plot ` calls for this will result in much worse performance than changing the collection that ` scatter ` returns .
Just for comparison , here's the exact same thing using ` scatter ` : #CODE
If you wanted to change the position of the markers in the scatter plot , you'd use ` scat.set_offsets ( xydata )` , where ` xydata ` is an Nx2 array-like sequence .
matplotlib duplicate axes or figure ?
I have several lines , bars and artists in one figure / axes .
I would like to add different sets of components onto the original figure / axes .
Is that possible to duplicate all the objects of the original figure / axes into another figure / axes without redraw everything by code ?
However , if I want to put several axes into one figure , this will not work .
Thanks to @USER Kington and his post : " add an axes instance to another figure " .
I wrapped up a way to duplicate the axes and insert the axes into a subplot : #CODE
Because the pickle of the axes is actually the pickle of the entire figure .
When unpickle it , it will create a new figure and the loaded axes instance will associate with it .
Even we managed to add the axes into the old figure .
Instead , if we scale / pan the new figure , ax2 in both figures will change .
Couldn't you use a function to generate the figure with all the static stuff and then on top of that draw the individual things ?
If you're really wanting to avoid re-drawing the axes for performance reasons , then you should look into blitting .
Often people feel like they need to duplicate matplotlib axes when a much better solution is a bit of reorganization of their plotting functions .
You need to reconstruct the full ` axes ` " stack " .
@USER - Actually , I meant zoom / pan / scaling , etc .
It seems it will just snapshot the pixels of the axes to form background .
@USER Kington , if the ` pickle of axes ` works , it will be a fatanstic way to do it .
And I do not know how to insert an unpickled axes into a subplot .
Animation not animated in matplotlib
contourf ( cc , pp , psps , 64 , ' LineStyle ' , ' none ') ;
xlabel ( ' \chi ' , ' FontSize ' , 1 8) ;
xlabel ( c , ' \psi ')
Is there an equivalent capability to get the current selection of a Radio Button ?
Pyplot boxplots centered around xticks
I have a series of boxplots that I want to be centered around xticks ( 2 per xtick specifically ) .
I would want one boxplot just to the left of the xtick labled " 1 " , and another just to the right .
Will they just draw over each other ?
@USER - Yes , they'll draw over each other .
matplotlib make selected legend entry invisible
In some of those I want the legend to hold both line entries , in some only the handle and label of the first line , leaving the entry for the second line blank .
In all cases I need the legend frame to have the exact same size , leaving a blank space in cases where I don't want the second entry .
However , they don't have the same size as the real legend entry resulting in differing legend frame hight depending on whether I use both lines in the legend or just one line and the dummy .
Say , in every second iteration I need the lower legend entry to disappear without the legend frame changing its size or shape .
However , in my code the legend height differs very slighty between the two cases , about 5% .
I have found that the function I am writing works similarly ( but not identically ) to the contour function in matplotlib.pyplot .
Sometimes I use contour to to help visualize in 2D slices , which piqued my interest in how contour works .
Matplotlib animation not working
group boxplot histogramming
I would like to group my data and to plot the boxplot for all the groups .
I can plot histogram , but I want boxplot #CODE
Updating contour plot levels with matplotlib slider
I'm trying to change the values of the colour levels on a matplotlib filled contour plot using a slider .
i.e contourf ( x , y , z , np.linspace ( a , b , n )) where the sliders would control a and b and would change the plot colour levels when a slider is moved .
The following code takes column formatted data converts it to the form required by contourf and then the the sliders are implemented .
I'm not 100% sure what you want , but I'd think you just want to overplot the centroids of your clusters on the combined scatter plots of those clusters , all in one figure ( each cluster with its own colour ) .
In the last ` scatter ` , I've supplied the full ` colorarr ` to the ` color ` keyword : this way , each centroid gets the corresponding colour of the cluster .
Removing a plotted point in scatter plot - matplotlib
Following sample is a simplified version on matplotlib scatterplot example provided on their website , and shows my attempt to remove a point from scatter plot #CODE
I could not figure out a way to remove a point from scatter plot after plotting , though if i use the same method i can plot a new point .
You need to update the data of the plotted artist .
The issue with using this method is that it does not resize the scatter plot every time a new character is added / removed .
@USER - If you'd like to rescale the axes , call ` ax.autoscale() ` every time you remove a point .
I was playing with boxplot ( and bxp ) in Python .
When I'm drawing boxplot in popup , it works fine .
When I try to draw some simple plot on the canvas in pyQt ( like sin , or like in the examples above ) , it works fine .
The problem is when i try to draw boxplot on my canvas in pyQt window , only fliers are shown .
Is there other way to show boxplot in pyQt window ?
` fig , axes = plt.subplot() ` should be ` fig , axes = plt.subplots() ` .
You could , in theory , set ylim to a very small number close to 0 , but that wouldn't help you either .
Matplotlib 3d Bar chart with non rectangular prisms
I am plotting modelled versus measured meteorlogy data in a heatmap and using secondary axes to display alternate units .
The problem I am having is that when I twin the x and y axes I get a slight offset between y-axis 1 and y-axis 2 .
For changing the size of the Axes ( I believe that's what you mean by ' chart ') , the ` position ` keyword is what you're looking for if you use ` add_subplot ` , or just the input parameter if you use ` add_axes ` .
how to plot legend for scatter points without reorganising array ?
however this will mess up the legend , as you can see in legend section it plot all labels for all points .
I'm afraid your solution is not correct , a legend should show the set of status / labels / classes rather than all labels of points . for example , I have 1 million points and totally 3 classes , the legend should contain all 3 classes , rather than 1 million items
Good point , I didn't notice there were 2 red entries in the legend .
I am trying to plot a histogram and a scatter plot for a particular column in a given csv file .
You get the error because the input data is interpreted as string by the csv parser while hist requires numeric data .
Python matplotlib legend below multiple graphs
I have 2 graphs in a plot together and I want the legend to go in the blank space below both of them .
The point is that you are not labeling the axes .
Therefore , the legend will be placed always with respect to the right plot because this was the last created axis .
You can move to legend box by hand with ` bbox_to_anchor ` .
I used small fontsizes in the legend box such that it fits nicely inbetween .
matplotlib : make legend keys square
You can define your own legend keys .
The matplotlib legend guide explains how to define a class to replace legend keys with ellipses .
I have modified that class to use squares ( by using rectangle patches ) .
Having defined the ` class HandlerSquare ` , one can now apply this to each legend entry as a third argument to the ` ax.legend ` call .
If you want a very quick and dirty solution to get an approximate square ( that may require some fine-tuning depending on your plot ) , you can adjust the ` handlelength ` kwarg in the legend call .
Following Schorsch's solution ( i.e. once you have a list of rectangular legend artists and corresponding labels ): #CODE
Each subplot consists of 128 samples ( voltage levels ) .
I am taking 128 samples at a time and generate a subplot of it as you see in my following script : #CODE
How can I make legend error bars horizontal in matplotlib
but the error bar in legend is horizontal .
graph where the error bar in the legend is vertical .
How can I make the legend error bar horizontal ?
In the produced graph , I want the error bar inside the legend to be horizontal , while the error bars in the rest of the graph remain vertical .
I want this so that the error bar in the legend is not confused for a data point .
The easiest way to not confuse the data point is just to keep the legend frame on ....
See #URL It is not as strait forward as it should be , but you can register arbitrary handlers for artist classes .
Replace it with ` - ` to draw a line : #CODE
I don't like the fact that I have to expand the dimension of a 2d Array and then append them together .
Extracting data from a scatter plot on matplotlib
I'm writing an interface to do scatter plots in MatPlotLib , and I'd like to be able to access the data from a python script .
What I'd like is something similar , but with the scatter plot .
A ` scatter ` plot is drawn using ` PathCollection ` , so the x , y positions are called " offsets " : #CODE
you will need to manually trigger ` draw ` when ever you change the axes ( changing limits , addidng artists , ect ) via user interaction .
1 ) is there some way to fix the aspect ratio of the imshow plot when using yscale ( ' log ') ?
Is there any way to place my matplotlib plots on a second monitor and refresh them from the main monitor ?
Fortunately you can update figures you've moved to where you want them pretty easily , by using the object interface specifically , and updating the Axes object without creating a new figure .
You can place second - transparent - axes over the first ones and use shared ` x ` and ` y ` axes .
Set up a second set of axes , including ` sharex ` and ` sharey ` : #CODE
Make the background transparent and remove the actual axes lines ( and ticks , etc . ): #CODE
Plot as before , but specify the second axes ( ` ax2 `) , you can also plot a colorbar without any additional effort : #CODE
Set ` xlim ` and ` ylim ` to avoid any misalignment ( this can probably be linked to the data ): #CODE
I would like to programmatically draw such a figure using ` matplotlib ` , but I'm not sure how to layer and offset the graphs using the usual ` pyplot ` commands .
You can manually create the axes to plot into and position them as you like .
Here , I used ` fig.add_axes ` to add manually created axes objects to the predefined figure object .
The arguments specify the position and size of the newly created axes , see docs .
Note that I also set the axes background to be transparent ( ` axisbg= ' None '`) .
I occasionally use Mathematica to create animated graphs with parameters that I can change in real time as the animation runs .
Even if I could get it to run , I wouldn't be able to change any parameters in real time as the animation runs .
@USER - This doesn't exactly answer your question , but I put together an ipython notebook ( #URL ) that summarizes what happens when you try to use animation and / or interact from a notebook .
matplotlib.animation : how to plot an animation and save it in a file simultaneously ?
With ` animation ` from ` matplotlib ` we can plot dynamic animations .
But how can I make both showing the animation while an algorithm is running and saving this animation into a file ?
It saves the file but it does not show the animation on the fly .
The graph should resemble a contour plot with 5 levels from the origin node ( I tried using pylab.contourf to no success ) .
Axes missing when plotting in matplotlib using vispy as backend
I ran the example and I noticed there are no axes .
The axes were present until the ` plt.show() ` command , and they disappeared .
I understand that the vispy project is under development , but plotting with axes would be extremely valuable to me , so I was wondering how I could do this .
For one , it does not draw axes .
Axes are indeed of topmost priority in VisPy , hopefully we'll do it within the next two months .
What I want to do is change mouse's cursor when it is over the text , not add cursor in the figure , as matplotlib's Cursor does .
And no detailed introduction about the ` Cursor ` class is published on the Internet .
The matplotlib ` Cursor ` widget doesn't have anything to do with this question .
( It draws interactive " crosshairs " on the axes . ) To change the cursor that's visible when using the TkAgg backend , you need to change ` tkagg.cursord ` , which is why I was mentioning it .
Because matplotlib doesn't have a hover event , you'll need to connect a callback to all mouse motion and then detect whether you're over the artist in question .
One more question , can I get a label or value that indicates zoom or pan button in toolbar is activated or inactivated ?
One solution I can get is defining label using ` text.set_label() ` and checking the label in ` OnHover ` to identify whether zoom or pan is activated .
Second question is solved by disconneting the `' motion_notify_event '` using ` figure.canvas.mpl_disconnect ( cid )` when zoom or pan button is activated .
Regarding your scatter problem , you should try the following : #CODE
When I started having trouble setting label positions manually , I checked to be sure I could just transform from one set of coordinates to the other without changing anything , with a code snippet like this : #CODE
In theory , this code doesn't change any coordinates ; it just gets the coordinates of each label , maps it to Axes coordinates using the Text object's internally-stored transform , and then sets the position .
You're trying to link the different axes display system through display coordinates .
Alternatively , if you want to avoid the extra ` draw ` , you can link things through figure coordinates before the plot has been drawn .
If autopct is not None , return the tuple ( patches , texts , autotexts ) ,
where patches and texts are as above , and autotexts is a list of
Text instances for the numeric labels .
-------------------------------------------------------------------------------------------------------------------------------- Solved Define my own home function to reset limits of zoomed x and y axis to the x and y limits of original axes using ` set_xlim ` and ` set_ylim ` if corresponding axes is zoomed .
I have a script that creates a large numpy array of coordinate points ( ~10^8 points ) , and i then want to draw a polygonal line using the coordinates .
Is there a way to draw a line and save it to an image and keeping it as a numpy array ?
See [ How can I draw lines into numpy arrays ? ] ( #URL )
EDIT : If you use ` sharex ` , you have to use this , otherwise the tick labels are removed on both axes .
Alternatively , you can use ` pcolormesh ` to plot your colormap and have a colorbar as your legend , such as in the example below .
Any chance to add legend ?
Added a modified example , which includes a legend .
Note that the answer to the question plotting date data with pcolor uses ` scatter ` , not ` pcolor ` , and therefore does not help in my situation .
@USER I think he wants to get the tick positions in Axes coordinates .
Then we can transform data coodinates to display and then to axes and take ` y ` column of it : #CODE
Then the main process can have ` animate ` get values from the Queue and draw the result .
Remember also that ` open ( filename , ' a ')` opens the file in ` append ` mode , so you should delete the file if you want to get rid of the sinusoidal data generated by the ADC class .
I think I might have a solution , could I simply use a legend , but then have each line for the legend refresh every five seconds to display the channel input ??
here is the Legend argument , fig.legend ( ( Y1 , Y2 , Y3 , Y4 , ) , ( ' ADC output 1 ' , ' ADC output 2 ' , ' ADC output 3 ' , etc ) , ' location ' ) .
This would be the easiest way - if I can figure out how to get y values to print to legend argument ...
Display readouts from 8 analog sensors in one graph on left , refresh every 5 seconds , and only displays the last 5 minutes of data .
How to draw an arrow on an Basemap object using matplotlib ?
I have been trying to draw arrows on a Basemap object for quite a while already .
make axes the same length in matplotlib pyplot
I had a look at that code , and the solution worked , the 2 axes ( top and bottom ) together occupy exactly 5x5 inches .
A completely generalizable approach would be to build the plot from patches , although that would be much more of a hassle .
Axes fonts with text.usetex ' true ' does not use set font
I set the font style in the matplotlibrc param file to Helvetica ( sans serif ) and I set text.usetex to ' True ' but the axes fonts use serif fonts .
How do I get the axes fonts to use sans serif ?
Worse : Some routines who draw into existing figures never get a chance because they can't execute while the figure is being shown , and when they can , the figure is gone already .
I have found some code running in the same environment that is able to do all of these things , where I can remove the plt.show() calls , even run it in IDLE ( which according to matplotlib docs has problems in these regards ) , and it " just works " -- I haven't been able to find any difference in how the two codes handle the task : Both define a figure.axes object , pass it to routines that draw into them ( using plt.plot() ) and store it for future use .
I tried to run the same skript ( Tkinter GUI that opens plots , is able to draw into existing plots ) on SuSE 13.1 ( current version of python 2.7 and all libraries ) and no single plot window pops up until the GUI is closed , and then they all jump at me ...
How to get multiple Button Click Events in Python
A better approach in my opinion is to ( 1 ) assume matplotlib is going to actually draw the figure correctly , and ( 2 ) run numerical tests against the data returned by the plotting functions .
( You can also always find this data inside the ` Axes ` object if you know where to look . )
Look at the second example , it shows how you can introspect the axes object to find all of the data that is used to draw the plot within it .
I have tried to use colormaps , contourf , fill_between etc with code I found online , but couldn't get it working and I'm really hoping someone has a simple solution to this problem .
There is actually a fairly nice answer to this at this SO question , and the following borrows the main idea , but I've substituted a call to ` imshow ` rather than ` contourf ` because I think it looks smoother .
However , when I paste this code into my Wordpress page ( using the Text editor , not the visual editor ) nothing happens .
I realize that using the scatter function to plot something like this is probably an abuse of the functionality .
1 - Instead of a scatter plot , create an N by N matrix where the value of each point determines the color at that point .
2 - Experiment with different colormaps ( ` plt.imshow ( ... cmap= " RdGy ")`)
Text in legend for matplotlib plot
I have a plot and want a legend placed in the upper right corner without any frame around with two lines : #CODE
Use the ` text ` method of the axes object .
That will add the text label a little over halfway from the left and a little higher than the bottom of the axes .
It works with transform
matplotlib animation , text not updating
I would like to create an animation of particle positions , and I would like to display the frame number at each step .
However , if I comment out the return of time_text ( i.e. change ' return patches , time_text ' to ' return patches ') everything works fine .
Having init() function return time_text unfortunately does not help - it still returns a blank plot with no animation .
The modified code I posted shows an animation with a changing text on both my computers , have you tried to run it ?
However now the patches are just be appended to the same ax object , so I see the all of the circles , rather than a moving circle .
( this is why I had the line patches = [ ] in the animate function in the original code )
How can I define a single legend for an entire figure generated via Pandas.DataFrame.plot ?
I'd like to have a single legend that sits outside of the subplot boundaries .
make sure nothing is holding references to the artist objects returned by ` plot ` .
Yes , capturing the artist in a variable , deleting it and collecting garbage does help .
I am trying to plot some data and would like to have real timestamps to get printed on xticks instead of numbers ( generated from ` time = np.linspace ( 0 , ( numOfSamples ) / 60 , numOfSamples )`) .
To adjust the xticks position and format : #CODE
The post-hoc manipulation above doesn't change the legend .
Use the ` title ` parameter to ` legend ` to get the exact same legend that ` seaborn ` would have produced : ` ax.legend ( title= ' condition ')`
So this is a standard log linear plot saved to a png , but whilst I can get the scatter plot working I cannot get the fitted line to plot on the diagram .
I get the scatter plot . and the log scale , but not the fitted line or the error bar .
Quite a bit actually ;) And you set your lower limit in ` ylim ` to 1 .
The masked array ` hist_masked ` sets the bad values to ` np.nan ` and the colormaps in matplotlib have a predefined value for nans : #CODE
What I'd like to do is to represent on the x and y axis not the labels of my instances but a colored indicator ( imagine something like a small palplot on each axis ) where each color represents another variable associated to each instance ( let's say I have this info stored a list named ` labels `) plus another legend for this kind of information next to the one specifying the colors of the heatmap ( one like that for the ` lmplot `) .
Plus , how can I add a legend and put the two one next to the other in the same position ?
First , ` heatmap ` is an Axes level figure , so you could set up a main large main heatmap axes for the correlation matrix and flank it with heatmaps that you then pass class colors to yourself .
The side colors are drawn with a heatmap , which matplotlib thinks of as quantitative data and thus there's not a straightforward way to get a legend directly from it .
Instead of that , we'll add an invisible barplot with the right colors and labels , then add a legend for that .
And here is my simple code to read the file and draw the network : #CODE
This will draw graph ` G ` , colouring nodes green or black and adding labels .
datestr2num is a converter function for this , but it falls over with the relevant pandas objects : #CODE
Could you upload an image and annotate it to show what you want ?
matplotlib legend order does not change
I notice that this is because i use ` legend ( loc=2 )` after this block , which resets the order .
I think I need to draw a line between the 2 points , in the function on_motion .
Matplotlib 3D scatter plot no facecolor
I have been struggling to find how to make 3d scatter plots in matplotlib with only marker edgecolor and no marker facecolor .
Using scatter on 2 y axis on matplotlib [ Python ]
I'm trying to plot 2 different curves on matplotlib , but one of the plots needs to be scatter , or not have lines connecting the points .
However , I want ax1.scatter ( epoch , list_of_gas , ' b ') but you cannot use scatter with 2 axis .
You can definitely have ` scatter ` plots in a twinx situation : #CODE
I am unsure how to have PyQt ' refresh ' or ' fetch ' the new values every 5 seconds .
I am using this , because I am plotting this in a Tkinter Gui and want to refresh it sometimes .
The second had a correct backgroundcolor , but the fontcolor of legend / labels did not change .
Almost all of the values controlled by rcparams are set at object creation time , not a draw time , because having what your figure will look like when you render it depend on global state is terrifying .
I want to draw a stairstep diagram with pyplot using ` plt.step() ` .
Turn off marginal distribution axes on jointplot using seaborn package
How do I ' turn off ' or not plot the marginal distribution axes ?
How can I remove the kde subplots on the top and right hand side of the main axes ?
Well , isn't that just a simple scatter plot then ?
Matplotlib scatter color by categorical factors
I have a basic scatter where the x and y are float .
The legend does not seem to show up .
I am trying to make a wx.Notebook with a FigureCanvas on each page and unique figures / axes in those canvases .
A scatter plot is not a good choice for categorical variables , so it wouldn't really make sense to " add " those variables to this scatter matrix .
You need to transform the categorical variables into numbers to plot them .
Matplotlib embedded in pyQt4 : set axes range
For the following code setting the axes limit does not work and I have no idea why .
I have also tried changing the axes xlim in the init of the MyMplCanvas , also without limits being set .
What is the most pythonic way to ask matplotlib to draw a vector field for this function ?
How can I draw a real 1d-dotplot ?
In the following example , a random image is plotted , and a single marker is added using a " scatter " plot .
possible duplicate of [ How to set a fixed / static size of circle marker on a scatter plot ? ] ( #URL )
I simply want a box , whose borders are the plot's axes .
Turns out that for some reason , the default line width of the spines of the axis were set to zero .
Matplotlib whole legend leftaligned
I would like to align left all the elements of the legend ( natively , only the title is left aligned ) .
legend = plt.legend ( loc = ' upper left ' , title = ' this is a long title ')`
legend = plt.legend ( loc = ' upper left ' , title = ' this is a long title ')`
Tick frequency
You can use ` plt.setp() ` to change axes individually : #CODE
If I use ` draw ` from ` networkx ` this problem does not occur .
After tinkering around with the ` draw ` and ` draw_networkx ` functions from ` networkx ` module , I found the workaround which makes the difference between ` draw ` and ` draw_networkx ` in this case .
Here is my current animation code : #CODE
loop over 2d subplot as if it's a 1-D
For example , make 2D subplot array and " flatten " the array into 1D then loop over 1D array through 0 to 20 .
` subplots ` returns an ndarray of axes objects , you can just flatten or ravel it : #CODE
This time , I wish to draw a " growing " line , moving across the graph with time .
There are a bunch of animation packages in Python you can use .
And if you'd like to use the animation module ( side note : ` blit=True ` may not work properly on some backends ( e.g. OSX ) , so try ` blit=False ` if you have issues ): #CODE
Python : how to make legend after twinx
I don't know how to make legend for these 6 curves .
will automatically create the legend you want , because calling ` legend() ` with no arguments fetches handlers and their respective labels automatically .
@USER yeah that's fair enough , I'd suggest that if you have some form of caption with the figure that you draw attention to it though maybe ?
Is there a way to add an empty entry to a Legend in Matplotlib ?
I wanted to add a blank space to a legend in a matplotib plot in python .
I have an odd number of entries in the legend , and it currently looks like : #CODE
The legend is being generated during automatically running a for loop over the data set : #CODE
Is there a way to insert this blank spot into the legend ?
A more complete example code -- how to get the legend you don't want , or including things you've tried -- would be helfpul .
That almost works except for some reason the blank spot that creates is always the first thing on the legend , no matter here I put the plot command .
Apparently the problem is that the legend generator gets different plot types sequentially , ie all ` plot ` , then all ` errorbar ` , etc ., so the blank entry needs to be the same type to stay in order : ` ax1.errorbar ( np.NaN , np.NaN , yerr= np.NaN , fmt= ' - ' , c= ' w ' , label= ' ')` .
Finally , you call ` legend ` as follows #CODE
At the place where you want to have a gap in your legend insert the fake white line ` l ` and associate a blank string to it .
Note that this must be of the same type , as the method used to automatically generate the Legend gets different plot types sequentially , ie all plot , then all errorbar , etc ., so the blank entry needs to be the same type to stay in order of the function calls .
The image of misplaced bar legend .
Another question I would like to ask is , looking at the figure , you can see that the legend is inevitably big , and it covers some of the graphs .
Does anyone know how I could move the legend out somewhere , or anything that I could do , so that it does not cover any of the lines ?
Apart from this question , do you know how I can position the legend such that it does not cover any of the lines ?
inserting %d in pyplot legend does not work
However the legend just leaves a blank space for where the number should be .
` xlim ( xmin=1 )`
I'm plotting the data using matplotlib ( scatter ) with Axes3D #CODE
I am working with a matplotlib-based routine that returns a figure and , as separate objects , the axes that it contains .
Is there any way , that I can display these things and edit them ( annotate , change some font sizes , things like that ) ?
Figures need a canvas to draw on .
How to draw minor rivers in Matplotlib basemap ?
Everything looks good , except that I can't seem to find a way to make basemap draw a minor river that runs through the simulated area .
animation under wxpython and matplotlib in Mac doesn't update ( meanwhile in Linux works perfectly )
My program works perfectly in Linux , but in mac , the program doesn't refresh the plot , but , also there is no error en the terminal .
The text `" self.update() was called "` is printed , but the canvas is nos refresh .
iPython notebook - set ylim on subplot secondary y-axis
I want to plot the data in subplots using secondary axes .
I can set the ylim but it affects only the secondary y-axis ( on the right side ) .
I can't find a way to control the ylim on the primary y-axis ( on the left side ) .
This is where I'm running into a wall , I've read about setting twinx() to set properties for different axes but whenever I try to implement it , it tells me it doesn't know what twinx is .
Well if ` axes ` is an array of the two axes then you could do : #CODE
Then append : ` sys.path.append ( ' / opt / py26-selected-packages ')` .
I am a bit confused with your data structure and how you are calling the function ` hist ` .
However , I suppose you are using matplotib , so you need to define the same binning range for the ` hist ` function .
I first tried scatter plots with a small marker size and no edge color ( small scatter plot markers in matplotlib are always black ) , but the markers are not one image pixel in size , they seem to be an absolute size and so depending on the size of the figure the transparency is affected and weird patterns are created from the overlapping markers .
What worked the best was patches , which I came across in this question : ( How to set a fixed / static size of circle marker on a scatter plot ? ) .
I found that rectangular patches with width and height of 1 gave me the exact desired effect , where I could put a transparent color over certain pixels of the image .
Now I can probably just join adjacent rectangles to reduce the number of things needing to be drawn , but I was just wondering if there was an easier way to do this ?
1 . the masked arrays can be a more direct approach if the mask or composition becomes complicated , and masking gives you more flexibility in drawing your overlay image since , for example , you can use colormaps rather than specifying the full RGBA for every pixel , but ,
Just to add on to what tom10 has posted , the masked arrays do work great with colormaps , but I also wrote a small function in the meantime that should work with any RGB color tuple .
I really don't understand how subplot or add_subplot works , so if someone could help me out i would be very grateful .
Matplotlib doesn't show hatches in custom legend
I create a custom legend , but he does not show the hatches of the patches .
How to load xticks from a file in matplotlib ?
I have an input file containing the name of benchmarks and the results and I want to draw a histogram using matplotlib .
I know how to use matplotlib to draw histogram when only the results are there , but I couldn't find a way to load xticks from a file .
I get an empty plot window ( data points missing , correct axes etc . ) when using the " , " marker in matplotlib version 1.4.2 ( it still works in 1.3.0 , couldn't try anything in between ) using the Qt4Agg backend .
the problem was not in the code for updating the x , y , an z data , but the mistake was that when the animation was created for the first time , the range for the x , y and z axis was set for the first data set .
How do I make a matplotlib scatter plot square ?
Or even using ` text.usetex =True ` obtain a plot ( using Arial for all texts and numbers ) and append a table without vertical lines ?
I would like to plot a series of contour lines , but the spacing between where the label is and the line increases higher up the page .
I want no decimal points , hence used fmt , but this seems to change the spacing at different points ( Ideally I want around half a centimetre gap between the contour line break and the writing .
As an aside , I also tried to use the manual locations so it'd plot each label at a certain place , but as there are two seperate contour lines with the same value I'm not sure if this is possible .
:( Only idea is : Create an empty Basemap and try to draw boundaries with a shapefile .
Is it possible to draw the chart the same way I want ?
Also tried with collections , but its seems to complex.Does anyone have some ideas to help me ?
Irregularly spaced ticks in matplotlib contour plot despite inline_spacing option
Since you set ` sharey=True ` , all three axes now behave as if their were one .
The problem resides in that you are inverting the axes in a ` for ` loop which runs over an iterable of length four , you are thus inverting ALL axes for an even number of times ...
Try with an odd number of subplots instead , and you will see that the axes are successfully inverted .
To solve your problem , you should invert the y-axis of one single subplot ( and only once ) .
subplot 1
subplot 2
If you just want to draw the feasibility region you can do : #CODE
And then you can also replicate the functionality of ` Normalize ` ( since you seem to not like it ): #CODE
I need to plot a hist2d with contour curves and colorbar from a pandas dataframe .
But I don't know how to transform the z_col into a weight 1D array from the hist2d function .
yticks ( pos , names )
yticks ( pos , names )
I am trying to have an arrow point in the Z axis in a 3d subplot .
Render non-uniform grid and mark maximum value's location in contour plot
I have two problems with the contour plot in ` matplotlib ` :
I would like the position of the ticks on both axes to be evenly distributed while still reflecting the position of my nodes .
Alternatively , using ` plt.contour ` you could create a contour with a level sufficiently close to your maximum value's position , to create a ring around it , or even a point on it : #CODE
Creating identical axes with matplotlib twiny
It suffices to draw the labels on all sides : #CODE
You can also draw 2 or more than 2 plotters in the same figure #CODE
Matplotlib Scatterplot legend for points
I would like to add a legend for each different point , so that the legend contains a point in the given color and the name from colordict .
Is that possible without splitting the creation of the scatterplot into multiple calls to scatter ?
matplotlib subplot gridspec automatic axis limits
I'm trying to create a subplot using matplotlib using gridspec .
Do I have to set the xlim manually when using subplot + gridspec ?
How to make matplotlib contour lines with edgecolors ?
The example borrows from the matplotlib contour demo : #CODE
Because each A_i is quite big , I don't want to redraw it every time , but first draw all the plots and then change the displayed one using some kind of widget of Matplotlib .
I want to draw around 7000 points in a map of Germany .
I'm trying to setup a plot where the mouse pointer changes to a crosshair whenever the pointer is moved into the axes of the figure .
I am using Python 2.7 and Matplotlib under Windows 8 and can successfully draw an elevation profiles of trail data , showing elevation along distance .
By default , tick-labels are aligned on the subplot axis they belong to .
This allows you to use a negative offset in axes coordinates .
If you set the position of the axes , and the spacing between them manually , you can calculate what this negative offset needs to be for the labels to be exactly in the center between the two axes .
The axes both have a width of 0.4 in figure coordinates , and they are spaced with 0.2 .
Since the second axes starts at 0.6 , it would need an offset in figure coordinates of - 0.1 .
Unfortunately the position should be given in axes coordinates .
The axes is 0.4 wide , so a quarter of the axes width is 0.1 in figure coordinates .
That means specifying an offset of a negative quarter , - 0.25 , would place the labels right between the two axes .
You could do it automatically by reading the position of both axes .
You could use it with your example as well , as long as you place the function ` center_ylabels ( ax1 , ax2 )` after calling ` tight_layout ` , since that function messes with the axes positions .
i can draw a straight line between two points .
The question is how can i draw a circle around a point .
I could manually specify ` axes [ 0 , 0 ] .plot ( x , y , ' k ' , linewidth= 2.0 )` on each of the axes , but I thought there must be a way to do it for all 12 plots at once .
Change aspect ratio of inset axes from ` zoomed_inset_axes `
How do i change the dimensions of an inset ` axes ` object ?
Look at the second figure here , I'm currently working with a scatterplot and when I plot the legend I get two " sample points " ( in the link they are the two blue stars ) .
I'm new to this so I still don't use ' legend handles ' .
For scatter plots you need to set ` scatterpoints ` .
I think the question is ok , I have a scatterplot and the legend visually looks like the one in the second example , I want just one point instead of two .
@USER : Answer updated to work with scatter plots .
How to use color coding for intervals for scatter plot matrix in a python pandas code ?
When you look at the scatter_matrix definition ( and code ) in pandas.tools.plotting , normal keywords are passed to the scatter plots , and the hist_kwds argument is used to package parameters passed to the histograms .
However , I don't see a way to achieve what you want only using parameters passed to hist .
However , the key to this is that you need to grab the patches after plotting them with ax.hist ( in the first line of the code above ) .
It's not totally clear what you're hoping to get , but I interpreted your question as " I want to color code the scatter points by the value in ` a ` and then see how those colors are distributed in the other variables " .
Or you could reuse the same axes if you want to overlay the data .
I suspect that it will be easier to lay things out exactly as you want them if you create the Axes where you want the colorbar to go and pass it to the ` cbar_ax ` parameter of ` heatmat ` .
You can pre-create an axis object using matplotlibs ` pyplot ` package and then append the plots to this axis object : #CODE
matplotlib Navigation Bar appears but has no functionality
So , I use the following code to successfully bring up a Navigation Bar in a frame I have created in my GUI .
The Navigation Bar appears but none of the buttons work are logically tied to my plot which is shown in the frame_plot ( By the way , the plot uses animation , updating every 100ms . Could this have something to do with it ? )
is your animation changing your axes limits ?
No the animation part is running perfectly .
The graph that is plotted has ax1.set_ylim ([ -100 , 100 ]) , nothing is set for the xlim but when I did so nothing changed .
But I think you're on to something , it must be due to the animation .
Python : equal axes plots with inline graphics ?
I am trying to plot a sequence of points with equal axes .
However , any call to pylab immediately results in the creation of a figure , so with the above commands the first ` pylab ` call creates an empty figure ( but with equal axes ) , and the second ` pylab ` call creates a new figure of the plot - but with unequal axes .
How can I get both ` pylab ` calls to refer to the same figure so that I end up with one figure containing the plot and with equal axes ?
Setting the aspect ratio is generally one of the last operations I perform on an axes because other plotting operations often messes it up .
How do I set the size of the axes patch so that the plot labels aren't clipped ( matplotlib )
How do I adjust the extent of the axes portion of the plot .
Just call ` fig.tight_layout() ` ( assuming you have a Figure object defined ) .
This answer address the question as posed , but there are other reasons one might want to set the plot size without changing the paper size ( or the screen area ) , perhaps to leave larger margins .
The savefig keyword arg pad_inches will pad the margins .
It's a unary arg - you have to pad all margins the same all around .
The ` hspace ` and ` wspace ` are counted as fractions of one panel's axes width and height , so that their absolute value depends on the figure dimensions , the outer margins and the number of subplots , which will require a tiny bit more math for fine-tuning .
I draw a plot with 2 lines with ` pyplot.plot ` .
plotting contour , stream and quiver plots using x , y , z position and vx , vy , vz particle velocities
I have a set of particles with x , y , z and vx , vx , vz and I want to plot a stream , contour and quiver plot to visualize their motion .
For this I'm aiming for something like the contour example here with a colorbar indicating speed .
Are there any nice modules out there which convert say particle data of this kind into the required binned components for quiver , stream and contour plots ?
Pandas scatter plot : multiple colors , and background
kmeans scatter plot : plot different colors per cluster
I am trying to do a scatter plot of a kmeans output which clusters sentences of the same topic together .
Add new data to the object as a new layer ( not extend existing data , but have a new line / scatter )
Promulgating the use of pylab in scripting is not not not good ( see [ here ] ( #URL )) , and b ) describe what the object you mention * actually is * ( i.e. , an ` Axes ` object )
` p ` is an axes object sitting in a figure somewhere .
( note , you won't be able to take those axes and put them into other figures easily ) .
I'm trying to create aesthetically pleasing 3D plots in Python with specular shading , and thus far have tried using both Matplotlib with 3D axes and surface plots from Mayavi , e.g. , from the Mayavi surf examples web page :
update x axis of a subplot according to the y axis of another one in python / matplotlib
I would like to plot an orthogonal projection ( like this one #URL ) using matplotlib possibly including also the 3D subplot .
All the pictures should share common axes .
But I do not see how to produce a plot similar to the first one ( i.e. lines for model predictions using ` plt.plot ` , a scatter of points for data using ` plt.scatter `) .
Also note that for some unknown reason , the legend in the second plot doesn't show the " c " and " d " cases , only the legend title .
You can pass any function to ` FacetGrid.map ` as long as it takes ` x ` , ` y ` positional arguments and plots onto the " currently " active axes .
Sounds like a scatter plot , not a histogram .
I think it should be possible to draw some lines without openGL , right ?
I'm sure I can draw each triangle in a loop , using the appropriate fill color , but it be good if there was a more elegant and faster method .
If just want to move the spines a bit farther there are multiple ways to do that inside of mpl ( ex #URL ) .
If you _really_ want two axes , put them in the same figure and have them share an x-axis (
Yes I tried subplots with axis sharing and turning labels off on all but the first subplot but wanted the first axis offset - as can be done using axisartist
By deferring the expense of drawing you can greatly improve the performance of functions that make many calls to ` Figure ` and ` Axes ` methods .
This difference is because the ` pyplot ` interface is coupled with a state-machine ( that keeps track of your current figure / axes ) and was designed for interactive use , where as the OO interface ( which the pyplot interface is built on top of ) is designed for programmatic usage .
When you do it all in one line both commands ( ` runfile ` and ` fig.text `) run before control is returned to the event loop which is when the window _actually_ gets created ( from the PoV of the gui frame work , before that the events to do the creation and display were just on the event stack ) so the first draw of the window includes the artist from the ` text ` call so it shows up .
spectral looks a lot like jet . you should avoid both of them , though .
it seems i need contour plot ,
Now , plot the probability grid as a contour map and additionally show the test set samples on top of it : #CODE
We can also just draw that contour level using the above code : #CODE
How do i map the coordinates to the same colors i map to integers for the first scatter plot ?
I guess you need to keep track of the previous point , so that Matplotlib can draw a line between two points .
Python Matplotlib twinx legend location loc best
When creating a chart with 2 axis ( and use 2 legends ) . the loc =b est argument for each legend works independently , so the legend for the 2nd axis might be covering some data on the 1st axis .
You're trying to draw the referring to ` x , y , x1 , y1 ` , which in fact should be ` (( x , x1 ) , ( y , y1 ))` .
Use the ` set_aspect ` method on the current axes .
I am adapting my code to this Secondary axis with twinx() : how to add to legend ? and the rotation works now , need some pointers on the secondary axis though .
sorry , I don't know how twin axes work .
plot some boxplots among themselves per subplot
Without changing the year in all_weekdays = boxplot_data [ ' pv '] [ 2010 ] , I think I need a subplot in a subplot , or ?
So I need seven boxplot particular adjacent for year 2010 and below the respective seven boxplots for 2011 und 2012 .
You could pick the color from one of the builtin colormaps .
how to resize figures within a subplot using matplotlib
I'm trying to resize two figures within a subplot .
Basically , I want a subplot with a temperature profile at 111 and a pressure profile at 211 .
See how I try to change the figsize in each subplot .
and then set your axes like so : #CODE
That way , you don't have to create any extraneous objects that don't really get used and it's always explicit as to which axes is being modified .
I have to integrate plots ( not only plots but the toolbar with the zoom , pan , save buttons ) in a django application .
to shift the values you want from your original array onto the indices 1 to 23 , and then append the final element of your original array so it is at index 24 .
This will make your code make sense if you pan / zoom out side of these limits or now want to plot over a different range .
I'm trying to plot both a line plot and scatter plot on the same figure .
The scatter plot looks great , but the line is plotted at the incorrect indices .
That is , the scatter plot data is along the correct indices , [ 0,462 1 ] , but the line plot is " bunched up " into indices [ 3750,462 1 ] .
The issue is the axes setting ` plt.axis ([ 0 , len ( labels ) , 0 , 1.1 ])` because ` values ` does not fit in the y-axis bounds .
This creates ` n ` colors from the ` rainbow ` color map and uses ` scatter ` to plot the points in the respective color .
How to change the font size for multiple axes labels ( created with host_subplot API )
I looked on the internet and absolutely all the examples with multiple axes have the xlabel and ylabel at a default value and quite small
I used the following code to create the axes : #CODE
None of the methods worked and given that all the examples so far showed very small font for the axes ' labels I suppose that it is either quirky difficult or not possible .
The first example is really nice looking - axes are needed and heatmap .
If you subclass the ` Bloch ` class of ` QuTip ` , and alter the way it draws the sphere , you can draw density plots and keep all the other framework it creates .
I have managed to plot this using contourf in mathplotlib such that : #CODE
My current plot using contourf looks like this : #URL
Would you prefer raw data , or maybe one of the plots I got using contourf ?
Display Matplotlib spines in Tkinter
I know how to display spines in Matplotlib .
I know how to display a Matplotlib subplot in Tkinter too .
But I would like to know how to put the spines in this subplot in Tkinter .
Here is the code to display a subplot in Tkinter : #CODE
Here is the code to display spines in Matplotlib : #CODE
` Figure.add_subplot() ` returns an ` Axes ` instance , and ` pyplot.subplots() ` returns an ` Axis ` object as second output parameter .
The Axes contains most of the figure elements : Axis ...
you can edit the spines in the same way from both .
Create a grayscale colorbar for each subplot in python
I have two polygon patch plots with shading in grayscale , with each patch added to an axis . and I would like to add a colorbar underneath each subplot .
im using subplot ( 121 ) and ( 122 ) .
To use colorbars you have to have some sort of ` ScalarMappable ` instance ( this is used for ` imshow ` , ` scatter ` , etc . ): #CODE
I'd like to visualize the data with a surface / contour plot , using V as a colour to see its value at that point , but I do not see how to add my custom colouring scheme into the mix using Python .
A 3D scatter plot seems appriopriate , e.g. #URL .
generate rectangular patches , of which the corners are given by those points .
Plots Frame ( including axes ) blackened in Qtconsole
When I launch qtconsole with the -- colors=linux option and plot something the frame of the plot is blackened so I cannot see the axes because the qtconsole background is also black .
It looks like the axes are set to transparent by default ( this was not happening before ) .
The following plots as desired , showing the white axes on black background : #CODE
I can't get rid of the x axes labels ( Year ) for the three plots at the top ( things I have tried are commented out in the code attached ) , and I could not centre the y axis label .
You need the ` xlabel ` attribute : ` ax.set_xlabel ( "")` .
Any help would be appreciated , I'm hoping that each subplot contains one set of data instead of all six
The easiest way ( I see ) to convert the sqlite table into the format Matplotlib's ` pcolor ` requires to draw a heat map is to use the Pandas DataFrame's ` pivot ` method .
As such , I'd like the two axes to be on the same scale .
If ` set_aspect ( ' equal ' ' datalim ')` is used , then both axes are redrawn such that the y-axis limit is 100 and the x-axis has whatever limits are necessary for an equal aspect ratio ( given the original plot window ) .
I iterate over the axes to plot for Cabbage , Green beans , Potato and Wheat .
Is there a way to create a subplot that contains plots created inside functions ?
I want to create a subplot with 4 figures .
I have four of these functions for different purposes but would like to use all four plots on the same subplot .
Do you know of a way to lock the x axes together as well ?
So in the code above , add ` p2 = figure ( tools= ' xwheel_zoom ' , x_range =p 1.x_range )` to have linked panning on the x axes
Right now changing the slider just blanks out the lines and only the axes remain .
One colorbar for seaborn heatmaps in subplot
Here is an example that shows a colorbar for each subplot : #CODE
How can I remove the colorbars for each subplot ?
I know I have access to each colorbar axes via ` fig.get_axes() [: -4 ]` , but how can I remove it from them entirely from the plot ?
The ` cbar ` parameter controls whether a colorbar should be added , and the ` cbar_ax ` parameter can optionally specify the axes where the colorbar should go .
Now I use ` twiny ` for the first time , but it changes my ` xlim ` .
Text object in matplotlib doesnt respond to zooming properly
Under " [ Creating a new scale ]" ( #URL ) , it states you will need to subclass ` matplotlib.scale.ScaleBase ` with a Formatter .
The number of ` nan ` lines differs when I execute the file from Sublime Text instead of from the command line or when I add ` import matplotlib as mpl ` before the pyplot import .
you can specify the axis limits . the problem is that autoscale is moving your two plots differently .
I can plot to the axes , redraw the canvas and pan and zoom .
When I try to do the equivalent using 3D , the 3D plot is displayed , but I can't rotate / pan / zoom .
Turns out I just had to swap the order of the canvas and axes creation .
The canvas should be created and added to the figure first , then the 3D axes can be created .
I want to draw a single outline around that entire group of pixels , like I've shown in the second pixel .
What I was thinking ( pseudo-code , because I don't know how to do this in code ) is to have the script identify where a 3-pixel meets a 1-pixel , and for all cases where that is true , draw a line segment between the pixels .
I would use binary morphology or the contour methods from scikit-image to find the edge pixels of the mask .
#URL for the contour implementation .
Truncated legend when using bbox_inches= ' tight ' in matplotlib
Yet the following MWE produces a cropped legend on the dev version from GitHub ( 1.5.dev1 ): #CODE
There's no need to draw the bars first , then use ` errorbar() ` to draw errorbars on top .
If you want to specify the size of the circle in screen units use ` scatter ` #CODE
` scatter ` docs
Using homogeneous transforms ( non-affine ) with matplotlib patches
I can transform my affine matrices with this homography matrix , but the resulting matrix is no longer affine .
I don't understand enough of the transform stack as I should , but mpl does support non-affine transformations #URL is not a bad place to start .
and my function to create the transform matrices currently looks like this : #CODE
I'm producing a scatter plot using pyplot.plot ( instead of scatter - I'm having difficulties with the colormap )
The colorbars between the two data-sets display different ranges which is not ideal to draw comparisons between the two .
Im not too familiar with matplotlib in terms of formatting axes and manipulating the details .
If you pan / zoom / change the limits after that call the tick labels will be wrong .
In my case , I don't think I can use memmapfile to avoid memory hog because the subplot seems to be the problem here , not the data imported each loop .
This should be essentially equivalent to what you're currently doing , but will draw much faster and use less memory .
How to animate and update a 3d scatter plot ?
Each particle is modelled as a single scatter point .
It happens when I set axes limits that are very narrow compared to the data limits .
( There's also a case when I'm adding spline patches to the axes , I don't know how to cut off part of the curve . )
I've looked in some of the documentation and saw ` get_clip_on() ` and ` get_clip_box() ` of ` Line2D ` , but after any regular plot command the former method returns True anyway and the latter returns some ` TransformedBbox ` specification , presumably something representing the axes themselves .
That is why I was wondering if there is a library I can use from which I can draw a line with one coordinate , angle and the length .
Following this example , we need to transform the data : #CODE
In this case we can try to use the fact that the quiver is implemented as a ` LineCollection ` which ( eventually ) inherits from ` ScalarMappable ` which means it knows what a colormap is and the returned artist has the method ` set_array ` .
seaborn cycle through colours with matplotlib scatter
How can I get seaborn colors when doing a scatter plot ?
This is a ' feature ' , not a ' bug ' ` scatter ` is a ` ScalarMappable ` which means you can assign a scalar value to each marker which will than be used ( along with a color map ) to color each marker according to the scalar value .
Given that , having ` scatter ` participate in the color cycle logic seems silly / too fiddly .
Python plot legend is not draggble . gives an error
It does produce plot but legend is not draggable .
Every time you call ` plt.legend ` it creates a new legend ( discarding the old ) .
None of you artists have a label , so no legend gets created and ` plt.legend ` returns ` None ` .
They just mean " call / label this object by this name so when I make a legend you can put it on there using this name and not line0x72728124172 )
How to ( easily ) truncate axes of a subplot in matplotlib ?
For example , below is the code of my first subplot , in which I would the x axis to be truncated between 0.3 and 0.7 : #CODE
Unicode string in Matplotlib annotate
I have the following code , when ever label has a unicode string , annotate fails throwing error , how do i resolve this ?
Does the error occur in ` genfromtxt ` or in ` annotate ` ?
I figured out the problem - it's necessary to pass a converter argument to ` genfromtxt ` which decodes the input string as unicode .
Python matplotlib set axis color for multiple axes
This example works great to use multiple axes : #URL
Im trying to plot curves from 2columns xy data with full line not scatter .
I can make it work for scatter but not for line plot .
with scatter it works ...
I didn't know about ` imshow ` but I guess I can do the same thing using ` contourf ` .
Matplotlib automatically gives the axes ticks based on the index of the value .
Is one I used personally to translate integers into stellar spectral types ( which is relevant , since I'm an astronomer ;p ) .
I always use xlim to constrain my axes , so what exactly is the difference between your first plot and the one you provided in the answer ?
Imshow takes a matrix of data and assigns values to the axes based on the dimensions of the matrix .
I wanted the axes to show the actual parameters that were used to obtain the value which can be done with the extent option .
However I am now already using the pcolor function which takes two arrays for the axes and then a matrix for the data values
After some digging in examples on the matplotlib website I found this option in ` imshow ` called ` extent ` in which you can replace the default zero-based coordinates with your own values for the min and max of both axes .
Custom Matplotlib Axis Scale
The calls in the matplotlib gallery example are on ` AxesImage ` instances , rather than ` Figure ` instances , as in your example code .
I need to draw the first of the lines in a thicker red .
You could also generate the colors by drawing an array of RGBA values from a colormap as in unutbu's answer , but most of the built-in colormaps contain red , so you'd have to either pick a colormap that doesn't contain red , design your own , or pick a range of float values between 0 and 1 that did not map to the red region of the colormap .
However , if I try to create an instance of the ` ZoomWindow ` class from my script that has its own canvas and axes objects , then I see no changes to the canvas after calling the ` connect() ` method .
seaborn factorplot : set series order of display in legend
Seaborn , for some special cases , the list order in legend can be different from the plotting order . for example , the following code : #CODE
The plotting sequence is in group of [ -2 , -1 , 0 ] but the legend is listed in order of [ -1 , -2 , 0 ] .
My current workaround is to disable the legend in factorplot and then put legend after with matplotlib syntax .
The only answer doesn't seem to work for me but I found a more satisfying solution to change legend order .
yeah I am able to get scatter plot but if I have 1700 x , y , z's .then how do u do it
Let's say I have a list of text values ( i.e. , names ) , and I want to plot an histogram of those values , with the xticks labeled with those names .
Use the ` xticks ` function : #CODE
Using the collections solves the problem .
It plots different curves on the first axes when you hover over the scattered points on the second axes .
Button 1 : Shows the pointscores of John and Daniel in level 1 .
Button 2 : Shows the pointscores of John and Daniel in level 2 .
Button 3 : Shows the pointscores of John and Daniel in level 3 .
With this , I can clear the subplot containing your data ( without ruining the entire plot ) , replot the axes ( otherwise it gets all messed up and fills the plot with your data . I guess you don't want that ) and replot the data
However , when I run the example I get empty axes .
For more control , you can set the x limits of the axes manually based on your data ( e.g. ` plt.xlim ( x.min() - width , x.max() + width )`) .
Controlling the margins
Above deals with spacing between bars , and as @USER mentioned in comments the other parts you can control ( e.g. if you do not want to control spacing and instead want to restrict margins , etc . ): #CODE
Via matplotlib.pyplot ' s stem module
for loop to produce multiple polyfit scatter plots
I am looking to create scatter plots each with a line of best fit .
The result would be 19 scatter plots .
This plots 19 best fit lines on a single axis rather than creates 19 axes .
I am able to produce the attached plot with two axes with this code : #CODE
I'm trying to draw some charts generated by Matplotlib but I am finding that whilst it works correctly the first time , if I refresh my page , Matplotlib will just hang on ` _tkinter.create ` deep within its inner workings ( Tkinter.py ) when creating the figure ( ` plt.figure `) .
I tried running this code to plot a simple scatter plot with the code : #CODE
Head over to Plot logarithmic axes with matplotlib in python for seeing different ways to achieve that .
I would like to draw the movement of this object on an xy graph .
But all I can see is a blank window with two axes .
You can specify exactly the coordinates of your axes , then you can place each table in a separate axis .
Alternatively you can use the subplot feature to arrange the axes for you : #CODE
` twinx ` and ` twiny ` actually create separate axes objects .
You need to set the x and y labels separately on the two axes , which means you need to save the ` twinx ` axes for later access : #CODE
The axes are defined here : #CODE
I want to draw a spectrogram for the frequency spread over the timeline .
Trouble implementing for loop to remove artist objects from matplotlib figure
I have two versions of a code to add / remove artist objects from a matplotlib figure .
I suspect the problem is coming because you are triggering this twice , the first time works , the second time tries to remove an artist that has already been removed .
I would suggest using #URL or atleast using a #URL artist instead of 4 lines .
And you only need the last of your calls to ` draw `
Plus I verified if Axes3d definition contains quiver method and apparently it doesn't and it is using Axes quiver method instead .
` ax ` needs to be an ` axes3d ` object - at the moment it's just a regular ` axes ` object , and so the call to ` ax.quiver ` is calling the 2D routine , which has a different function signature .
Doing a little more digging , ` fig.gca ( ... )` just calls ` fig.add_subplot ( 1 , 1 , 1 , **kwargs )` if there's no axes object on the stack .
actually It's an axes3d instance and not an axes I verified it before posting the question using isinstance ( ax , axes3d.Axes3D ) and it returned True .
You can also [ add a bounty ] ( #URL ) to draw more attention to this question once you have enough [ reputation ] ( #URL ) .
I'm working with Python 2.7 and my task is to visualize nicely ( and being able to control animation with mouse / keyboard ) .c3d Motion Capture files , which have 83 markers per frame on human body .
Therefore , you instead of trying to clear the figure and axes , delete references and garbage collecting ( all of which will not work ) , you can instead use ` multiprocessing ` to run ` plot_network_scatterplot ` in a separate process : #CODE
a matplotlib axes object on which the plot should be drawn .
the ` ax ` , then a new axes object is created for you .
then you should also pass the figure's axes object to ` qqplot_2samples ` : #CODE
I would just offset the curves on the same axes .
error of adding a legend for a plot in Python 3.2 Matplotlib
I need to add a legend for a plot in Python 3.2 Matplotlib .
But , the legend cannot be displayed after I added " black_dash "
The legend should have two lines and their explanations .
I need to polt a filled black circle in legend , But I got error : #CODE
So basically , add labels to lines , not legend , legend needs to recognize objects by name , and if you don't label them it can't ( it will also automagically change the lines in the legend to fit the current look ) .
Main reason is that ` bbox_to_anchor ` anchors upper right corner of the legend , while the text anchors lower left corner of the box .
as described in the legend manual .
Additionally , if your legend doesn't even fit within the gray plot area in the interactive plotting screen , you have to select the " Configure subplots " icon , and change the values until you can find your legend again .
It's also important to realize that by adding ` loc ` keyword to a legend with ` bbox_to_anchor ` makes no difference at all .
` bbox_to_anchor ` will trample all other locations you provide the legend with .
Still no legend show up .
thanks , I prefer the legend located at the bottom of the plot not inside the plot because my plost is a map with zip code polygons .
I do not want legend text box cover the polygons .
I used " legend4 = plt.legend ([ " 0.5 , 0 "] , bbox_to_anchor =( 0.5 , 0 ))" , , it show up but cover my axis label and ticks , So , how to move it down , I tried bbox_to_anchor =( 0.5 , - 0.5 ) , the legend box disappear .
Matplotlib boxplot show only max and min fliers
My line of code that creates the boxplot is : #CODE
If you are on an older version of matplotlib , the fliers for each boxplot are represented by two lines , not one .
Of course ( for simple applications ) you could plot the boxplot without fliers and add the max and min points to the plot : #CODE
As a side note , it is better to pass ` Axes ` objects into your function than create them ( implicitly ) internally .
In this case you cannot really draw any conclusions at all .
Ah , it should really be explored more , if matplotlib could be coerced into treating it like this always ( i.e. rewrite the 3D artist , or whatever part it is that draws these ) to do this itself ) , then the problem would go away .
@USER go to the matplotlib gallery , run any of the examples , but first append ` plt.savefig ( ' test.png ')` to the script .
Using FFmpeg and IPython , What could be wrong in saving the following animation in Python ?
Where did you import ` animation ` from ?
I'm trying to draw a 1000x1000-point colormap with ` plt.pcolormesh ` .
The former is due to the internal storage of the artists in the axes ( which might change in the future ) and the later by the fact that python's sort is stable .
Is there in native Python 3.X library or in scipy / numpy / matplolib libraries a function or their short set which could help me to draw a plot similar to this one ( ? ):
Also ` yscale ( " log ")` works .
I think you also need to set the xticks , not just the labels : #CODE
I have been working for a while to create a plot with secondary axis so that both the primary and secondary axes have equal number of major ticks so that the grid lines coincide .
I could not find any suitable code at Matplotlib animation section .
I have not stepped through the source code sufficiently to explain exactly what is happening in the code you posted , but I speculate that the interaction of this ` Normalize ` instance and the ` BoundaryNorm ` make the range of values seen by the ` fig.colorbar ` different than what you expected .
I have been research matplotlib's contourf function but really don't know where to even start .
I want to create a separate figure window for each quantity , such that each iteration of the loop creates one subplot for each quantity .
This code doesn't work ; gives me the error message that ' Figure ' object has no attribute ' subplot ' .
Well , the error you are getting indicates that ` Figure ` instances do not have a method called ` Figure.subplot() ` .
I would recommend always using ` Figure.add_subplot() ` since it explicitly adds a subplot to a specific ` Figure ` instance .
I tried add_subplot , but then I am getting the same error for the next statement , AttributeError : ' Figure ' object has no attribute ' plot '
but when you try to use the methods of ` Figure ` , you are getting confused and trying to use similar methods that belong to ` pyplot ` .
Here , what you have done is capture the ` Axes ` instance that is returned from ` add_subplot() ` .
Then you plot onto the ` Axes ` instance .
Also , when specifying where you want the subplot to be placed ( the third input to ` Figure.add_subplot() `) , you do not want to use ` y+1 ` because that would start at ` 1 ` and end at ` 6 ` which would go out of the available range of 0-5 .
Although , when I'm specifying where I want the subplot to be placed , using y+1 is working for me .
I also read somewhere that indices for subplot start from 1 .
Just noticed , the last plot in your set of plots is the one for y=0 , which means , according to the warning , the subplot with index 0 is taken as the last subplot .
I have a python plotting function that creates a grid of matplotlib subplots and I want the size of the window the plots are drawn in to depend on the size of the subplot grid .
Can Matplotlib's Basemap draw non-existing / fictive geography ?
I have done a scatter plot with ` z ` as color as ; #CODE
You can make a custom colorbar , or use one that already has pale values around 0 ( ` summer ` , maybe ? )
I am using a matplotlib to draw a stakedbar .
I have to draw a 2D color map of some function ` f ( r , phi )` .
Cannot you advice another Python plotting library , that can draw it faster ?
Schorsch : indeed , it is a duplicate of matplotlib get ylim values .
which will also allow to easily manipulate legend for a line as whole ( currently it is quite cumbersome ) .
What are the tools to draw arbitrary ( imagined ) geographical regions similar to Matplotlib's Basemap toolkit ?
Matplotlib's Basemap is great for drawing the earth map , but I'd like to draw terrains , seas , islands completely made up .
You just need to provide your data in the same format and it will draw what ever shapes you want .
Python matplotlib animation not updating
I'm attempting to learn basic animation with python using the matplotlib animation package .
It displays a plot window , axes , title , etc all rendered .
I have written an app for spectral analysis using python+matplotlib+pyqt .
The plots need to have a black background with white axes and symbols in the app .
I'm trying to make a comprehensive finance chart that I can use to analyze historical current prices .
Is there a way of manipulating this in python to make the colorbar associate itself with one of the other axes ( x- or y-axes ) ?
You can apply a scaling factor , or even a linear transform , to each of the vectors that you're plotting #CODE
How can I reset the ` axvspan ` so every time the Arduino loop starts , it will start again from the beginning to add the vertical span across the axes ?
How would i draw a line graph showing the 2 dates vs quantity using matplotlib ?
However , there is a way around that : you can monkey patch set_x for certain ticks so that the labels are not drawn where the renderer wants to draw them : #CODE
I think I didn't quite understand is that the aspect ratio / size of the figure has a default , constant value , not something that is flexible and based on the axes inside the figure .
Instead , axes automatically fill to the size of the figure .
Thus by setting the figure size with a ( width , height ) tuple you are also setting it's aspect ratio ( taking into account the number of subplot axes within the figure as well ) .
Perhaps the axes method ` set_aspect ` will help you ?
It lets you explicitly set the aspect ratio for an axes object within a figure .
For example , the following will produce a 4 " x2 " figure but the axes within it will have a 1:1 aspect ratio : #CODE
You could use this to force the axes within to keep a specific aspect ratio regardless of the figure dimensions you choose .
I think you're right that " axes automatically fill to the size of the figure " .
python animation with stored data
I wanted to use the matplotlib animation feature but with stored data .
If I had a time array and gps data in a csv file how i would use the animation feature to do animation of the path over time .
If it's a lot of dates , it's probably easier to let the ` hist ` function calculate bin heights than doing it by yourself .
Django Matplotlib Animation embed in templates
But I want them to be an animation .
I've seen people embed videos , but I was hoping to using the actual animation features of matplotlib such as :
Python matplotlib : Error while saving scatter plot in svg format
I am trying to create a scatter plot with the color for each point based on the value in y-dimension and the tooltip for each point based on the value of x-axis .
If I create an ` Axes ` object in ` matplotlib ` and mutate it ( i.e. by plotting some data ) and then I call a function without passing my ` Axes ` object to that function then that function can still mutate my ` Axes ` .
Figure managers are basically the gui wrapper for a figure .
Each ` Figure ` object keeps track of it's own axes , so ` plt.gca() ` is just ` plt.gcf() .gca() ` .
Note that because we're not worried about interacting with the plot , we can skip the entire figure manager and just create a ` Figure ` and ` FigureCanvas ` instance .
Just to prove that ` gca ` can't see this axes : #CODE
Plotting pre-gridded data in contour or contourf - Python Matplotlib
I'd like to plot a matplotlib contourf plot which represents the values of an attribute at each point on a grid .
Matplotlib : plot data to one set of axes while displaying another
Using ` matplotlib.pyplot ` I want to plot my data relative to a certain set of axes but then I want to have my axis show a different range of values without affecting the portion of my data that is shown .
To be specific , I have a 1000x1000 grid of data I am plotting with ` pyplot.imshow() ` ; however , I only want my axes to run from -2 to 2 ( both x and y axes ) while still showing the whole 1000x1000 grid .
If possible , I would like to hard code these values ( -2 and 2 ) as being the limits of my axis rather than using some sort of rescaling from the 1000x1000 grid to the new axes .
@USER that helps but what I would like to do is basically hard code the axes to values I set rather than using some sort of axis rescaler like I see in the examples in the link you posted .
@USER That zooms in on that portion of the grid rather than scaling the axes while still showing the whole grid .
This will open a window with the label " Figure 1 " .
not only does a figure get saved with that name , the plot appears in the Figure 1 window .
Interestingly , using ggplot ( before seeing your comment ) gets a plot to SHOW , but the process still hangs , the Figure 1 box is unresponsive , and there's no way to get back to working without quitting python .
I would like to know how to transform data so as to obtain :
Trouble plotting legend / axis for matplotlib subplots
What I want to do is for each location make a subplot , each subplot than has multiple groups which I want to show how the value changed over time .
1 ) Trying to set the X Axis to show the year ( so 2010 and 2011 ) instead of 0 - 1
2 ) Trying to get my legend and axis labels centered ( pretty sure doing this wrong for subplots ) .
I don't understand your issue with the legend clearly enough to answer that part .
The Y axes were fixed by applying the label to each plot individually , rather than only the last one .
Somehow the border is no longer defined to be around the text and numbers from the axes .
very helpful for the illustration of what patches are for .
` DataFrame ` has its own ` hist ` method : #CODE
I don't believe ' hist ' was a supported type in 0.14.1 .
Matplotlib show parasite axes using OO API
I am totally stumped at how to use parasite axes using the OO API ( Figure embedded in PyQt4 ) .
I did manage to plot an offset axis by creating two Figures and linking their axes as per the question here :
then using the axis geometry to draw a line with Qt.QPainter() the same start / end position but offset from the plot in a separate QWidget .
Any help with using parasitic axes embedded in Qt4 would be appreciated .
I'm wanting to draw a figure with a hexagonal grid .
Looping through the plots wont work for this situation , since I want the ` ylabel ` only for the leftmost plots , and ` xlabel ` s for the bottom row .
have you tried using ` mpl.rc ( " axes " , facecolor= " red ")` ?
In that case ` mpl.rc ( " axes " , color_cycle= " red ")` should work .
You can use ` mpl.rc ( " axes " , color_cycle= " red ")` to set the default color cycle for all your axes .
matplotlib Text bounding box does not get clipped
After drawing a matplotlib Text instance and then interactively panning , the resulting drawn text is clipped to the data window but not the surrounding bounding box .
and then relabeling the xticks : #CODE
It's done by actually drawing two plots , removing the spines in the middle , and using the ` sharey ` option : #CODE
The ` draw ` method does not block but if you don't end the calls by doing a ` show ` then the graph window will immediately close .
Hello @USER -e , unfortunately when I use the draw method , both plots are displayed on the same figure as two lines with different colors .
I would recommend using the subplot approach in this case , as described by another answer .
I now want to draw a surface plot where the surface intersects all the ` z ` coordinates .
Create Table in subplot
I have a python plot and then would like to have a set of statistics in a table in a subplot adjacent to it .
I have used kind of an adhoc approach in which I create a subplot with white axis colors and then make a table in the subplot .
Have the legend correspond to the y values in Pandas / PyPlot
However , the legend names do not say " WEIGHT " or " HEIGHT " .
How can I force the legend to refer to the y-axis data , so that the names will say " WEIGHT " and " HEIGHT " ?
I'm not sure why the label for the legend was defaulting to the x-axis , but I solved this by doing the following when plotting : #CODE
With this , the legend function used the correct y-axis labels .
Firstly to get the circle to be ' circular ' we should use an equal aspect axes : #CODE
matplotlib draw is slow in loop when it showing an image
The problem is that each time you call ` ax.imshow ` you add an additional artist to the plot ( i.e. , you add an image , instead of just replacing it ) .
Thus , in each iteration ` plt.draw() ` has an additional image to draw .
To solve this , just instantiate the artist once ( before looping ): #CODE
But to get the image artist by using the imshow before the loop is quite irritating .
Just curious is there other way to get the artist rather using imshow ?
My top and bottom plot have very different scales , so when I share the axes , it shifts the scaling too .
At least for me it would be rather surprising to find different values on the axes .
Avoid excessive margins or clipping in all figures .
Use the exact same bounding box for all figures , since I want my axes elements to line up nicely in the resulting document .
My current solution is a very inconvenient trial and error approach : I manually try to guess reasonable margins and set them via ` plt.subplots_adjust() ` .
When you keep the first loop , the call to ` ax.set_yticklabels ([ ])` kills all of your ticklabels , because when you share axes the tick label text becomes linked .
Figure out which encoding your editor creates and use the same coding comment but with the proper encoding string .
You can remove the default margins : #CODE
Why is drawing vertical lines in a subplot with 2 graphs so slow on matplotlib ?
I dont want to use vlines to fill in the area under the curve , I want to use it to draw lines under specific points where the change between that point and the one before was > 0 i.e. #CODE
Where time is some array with times , y one with data and ax a subplot .
Have two plots share the same label on a legend
I would like them to share the same legend label .
So you want one line in the legend , that says ' Experiment 1 ' but has two labels next to it , one for the line and one for the symbol ?
Have a look at this question : [ Custom Legend in Matplotlib ] ( #URL )
I'm not completely sure this will work , because I think pyplot requires numbers for both the x and y axes , and your list for x are currently strings .
How to use different marker for different point in scatter plot pylab
I want to use the scatter plot function of pylab #CODE
To achieve this result you need to call ` scatter ` multiple times on the same axis .
Directly annotate axes regions with matplotlib
That is , I would like to directly highlight regions of my xlabel ticks .
The other option involves clever transforms on top of rectangle patches .
Strange question , I have a script which creates a matplotlib 3d scatter plot and then saves it to a PNG file .
I would like to be able to autoscale a matplotlib figure to make arbitrarily placed text annotations visible .
How do I cope with an artist that has been subjected to multiple transformations ?
What if you use ` numpy.reshape ` to transform your data before using ` plt.bar ` , for example : #CODE
I am not an expert at matplotlib but I find ` hist ` to be incredibly useful .
Get Matplotlib legend location ?
I would like to the get the position ( x , y of either the axes data or scale ) of a matplotlib legend .
My goal would be use the position of the legend to add a text box with additional information next to it .
The way of getting position of the legend depends on the legend and when do you access it .
It seems like it is best if you access the legend object after you draw the plot , i.e. after calling : #CODE
Accessing legend object position after this will return figure pixels which you can use later .
There are at least two ways to access legend position :
If the legend has a frame through ` .get_frame() .get_bbox() .bounds ` methods
Clearly if the legend has no frame then the 1st method is preferred :-)
I am plotting multiple boxplots along two different axes .
Matplotlib lines do not join smoothly , Python
I am using matplotlib to draw the outline of a cylindrical body , however the lines do not want to join up smoothly , as seen in the range x [ 40 , 60 ] .
Is there a way to get curved lines to join up more smoothly in matplotlib ?
You will see the shape is divided into 3 segments and I use the last entry of the previous segment as the starting point for the next segment , that is why I think the lines should join smoothly .
I'm not sure why this is happening , but you may be able to mitigate by constructing a single ` x ` and ` r ` array with the full line to draw .
Drawing 200,000 + points as a graph works just fine , but when you draw > 20,000 vertical lines on the graph it becomes so slow that it takes like 5 minutes just to zoom into the graph or do anything at all .
I have tried reversing the x / y coordinates but this will make matplotlib just reverse the data in the x or y direction in order to keep the axes positively increasing up and to the right .
I solved my problem by comparing the first and last coordinate and reversing the axes accordingly with ` invert_xaxis() ` .
I've tried defining a function just to colour code the plots but it didn't pan out as well .
and to make the colors more distinct , look up colormaps -- you can set the upper and lower bounds of the data to increase the possible spread of the colors .
i.e. all the function plots append detail to the 1 main plot .
I'm plotting a scatter plot of attributes of faces of people , and instead of a point marker , would like to use a little icon of the person's face as a point on the plot .
Trying to animate a scatter plot in matplotlib
I have gotten a scatter plot working .
I get animation of the scatter plot , but none of the points are in the right position .
Once the animation starts , the points do move around , but , as I mentioned , none of them to the right positions !
The problem was this : scatter() and scatter.set_offsets() expect the data in different forms : scatter wants an array of x's and an array of y's .
Combine two Pyplot patches for legend
I would like the legend to look similar to the plots , where each entry has a box ( the color of the confidence region ) with a darker , solid line passing through the center .
So far I have been able to use patches to create the rectangle legend key , but I don't know how to achieve the centerline .
My original idea was to try and combine two patches ( Patch and 2DLine ); however , it hasn't worked yet .
this is the closest i can get you . there may be a way to create the patch in a way you want but i am a bit new to this as well and all i can do is build the proper legend : #CODE
From what i can tell you would have to create ans " artist " object that fits the design you are looking for which i cannot find a method of doing . some examples of something similar can be found in this thread :
Custom Legend Thread
The solution is borrowed from the comment by CrazyArm , found here : Matplotlib , legend with multiple different markers with one label .
However , my two ( venus and mars ) markers overlap in the legend .
Completely custom legend in Matplotlib , Python
I am using Matplotlib to basically draw a ' picture ' , not for plotting data .
I now want to make a completely custom legend to indicate the meaning of the symbols .
Is this possible or must I construct the legend manually using ` plt.annotation ` ?
You can define you own legend keys .
Thanks , but that answer explains how to use different shapes as legend keys .
There are a lot of ways to do it , but it's probably easiest to use a proxy artist in this case .
As an example ( the bulk of this is the relatively " fancy " call to ` annotate `) : #CODE
( from Colorfill boxplot in R-cran with lines , dots , or similar )
The important aspect is to set ` patch_artist=True ` when calling ` boxplot ` .
The basic plot example is taken from the boxplot demo .
The boxplot demo 2 shows in great detail , how rectangles can be fitted to the boxplot in order to obtain coloring .
This would make possible to name each subplot , which would be a smooth way to access them later on ( at least i hope so ... )
Do you mean ` setattr ( self , ' axes ' , self.canvas ... )` ?
Django / Python matplotlib embed animation
But I also want to create an animation of that plot and place it in the webpage .
I am trying to draw a colored mesh plot of a travelling wave like this ( just ignore the grey background ):
Use these to create a ` Normalize ` instance ( other normalisation classes are available , e.g. log scale ) .
Next you create a ` ScalarMappable ` using the ` Normalize ` instance and your chosen colormap .
I would like to draw a 3D diagram which is valid for certain range of x and y .
So I have a GUI which I intend to implement a scatter plot on using matplotlib .
Now I want to add these groups to the scatter plot .
The problem is that matplotlib's scatter function only draws in one colour at a time .
Draw multiple-coloured scatter plot
Check out the matplotlib gallery : scatter can use colors to represent and label categories : #URL or to represent a continuous variable : #URL
I was already using the matplotlib backends Figure object as suggested , but I realized that I was not holding my plots between ax.scatter calls .
I have a script that creates about 60 charts with 3 axes each .
This is because you transform all of your coefficient at once and try to call the numpy roots solver on all of them .
@USER refered to another post that indicates you should be looking for the ` text ` method of the axes .
label matplotlib imshow axes with strings
The axes of each imshow should be labeled with strings , not with numbers ( these being correlation matrices representing correlations between categories ) .
I plotting both the curves then I would like to draw a line parallel to y axis passing through the intersection point and find the x value
I have to plot multiple lines and markers with matplotlib by creating a loop and I have already set the axes color cycle in the matplolibrc param file .
But the marker and line colors are different as per the axes color cycle .
But I need the colors from the axes color cycle that I set in the matplotlibrc param file .
It is possible to achieve this with looping over 1440 Polygons but i was not successfull creating it with a PolyCollection which has big advantages , for creating colormaps etc .
Using PyPlot to draw box plots for given values of 1Q , 3Q , and median
I want to make box plots of all four on the same graph , but as far as I can tell , I can only use the boxplot function when given the underlying data rather than an array of quartile values .
I've been using Matplotlib's animation facility to produce animated figures .
possible duplicate of [ matplotlib animation movie : quality of movie decreasing with time ] ( #URL )
Similar to the interference pattern here , I would like to create an animation of this interference pattern changing as fringe transitions occur - ie as fringes emerge from the centre of the pattern and expand outwards .
matplotlib legend shows " Container object of 10 artists " instead of label
The code below produces the plot and legend correctly , however the legend does not show the specified ` label ` text , but " Container object of 10 artists " instead .
How can I correctly display the labels for each bar ( as specified in the ` plt.bar() ` function ) on the legend ?
Manually specify the labels for the legend
If instead you want to automatically populate the legend you can use the following to find legend-able objects in the plot and their labels : #CODE
Your initial approach could be more easily accomplished by using ` fill_between ` , which will also draw much faster .
Once again , this is much faster to draw than 250k independent bars : #CODE
What I want to achieve is something like the image below where at each row in my file , I will draw a bar .
Yours look like they have already been converted with ` date2num ` but same principles apply ( as does the recommendation that you use the ` hist ` function and let it take care of the dates . )
Then append that list to your list of vertices .
Below is the code I have for animating these arrows through ' time ' using a loop , but I don't see how I can make a collection of text objects , as I can with other matplotlib functions like scatter , and then collectively ( and efficiently ) update the ` set_text ` property of each of them .
Probably best to go with a ` PolyCollection ` and just draw every box that way .
I really think you want to be using ` PolygonCollection ` here as mpl will take care of all the color mapping for you , I suspect it will be more performant on draw and simpler to read the code .
I suggest just making lists ( instead of adding patches ) and then making one call to ` PolygonCollection ` at the end which ( should ) take care of the ordering problem .
I'm quite well practiced with using matplotlib for standard line / bar / scatter plots , however this seems like it would require something of a more custom implementation .
There is of course some work left for the " converter functions " ` get_number_of_nodes() ` and ` get_edgelist() ` , but it's a start ...
I want to draw a grid on the x-axis in a matplotlib plot at the positions of the minor ticks but not at the positions of the major ticks .
Displaying different images with actual size in matplotlib subplot
I'd like to display the original image and the output image in a figure using a subplot ( e.g. the original image next to the output image ) .
I'd like to have the subplot display the images in their actual size ( or uniformly scaled ) so that I can compare " apples to apples " .
The result is that I get the subplot , but both images are scaled so that they are the same size ( despite the fact that the axes on the output image are different than the axes of the input image ) .
but have been unsuccessful integrating cartopy's axes with mplot3d's so that I can specify parameterized X , Y , Z 3d objects using map coordinates .
python How to plot scatter and regression line with more than 127 or 128 ?
I am trying to make a simple scatter and also overlay a simple regression .
All the x , y points plot in a scatter form , as expected , no matter what .
then all the points plot , but this is not what i want since this gives me a scatter plot for x , ya instead of a line .
If you want a proper scatter plot , try ` plt.scatter ` although that's what ` plt.plot ` defaults to , I imagine , when you leave out the line designation .
and then setting the xticks to none by #CODE
Is there a way to join only the bottom four panels ?
That way you can have independent margins , padding , etc for different groups of subplots .
Plot points with different colors in a matplotlib animation
Once you have scatter plots you like , FuncAnimation will do the same with them as with any plots .
Plotting the results of a Fourier transform with matplotlib
Ignore all the numerous Update / Refresh calls , I was just trying to get the frame / plot to refresh , but it didn't work .
Now after that if I select pan and move a bit , or resize the entire plot , the graph changes to be where I zoomed in before , and then the pan action happens .
You can easily change the gauge dynamically and slow by adding this for-loop and let the wedge draw itself 1O times ( with theta1 changing in 10 steps from the old number to the new number ) with a sleep-time of 100 ms .
pyplot Reverse x axis and reverse table subplot
Not sure if tables ever know about the axes direction .
How do I choose the optimum width for a matplotlib Button ?
how to annotate heatmap with unicode text using matplotlib ?
I'm actually trying out the solution presented in how to annotate heatmap with text in matplotlib ?
Matplotlib has a ` Path ` interface which works very similar :
I believe because even you ADDED the font.family to the rcParams but you haven't USED it on the xlabel : #CODE
You can use fontdict to change the font settings on the xlabel , something like this works on mine : #CODE
which will have same results , you can read more about the parameters on Text Properties
Some people have called it a " bottom aligned bubble chart " , So far , I've basically found a way to do a concentric circle scatter plot .
It's a scatter plot , with the size set for each point , and each point plotted at one radius higher than the common bottom point .
[ See this ] ( #URL ) code where it says ` # Two subplots , the axes array is 1-d ` .
You just need to create your own ` tick formatter ` and then attach it to the ` axes ` object .
So i've been trying to generate a dynamically updating plot that shows me several data sets as a scatter plot .
When I do ` scatter ( col1 [ 0 ] , col2 [ 0 ])` I see the following :
and this is the first image i want to see , then the corresponding for ` scatter ( col1 [ 1 ] , col2 [ 1 ])` and so on .
EDIT : The second image is also what I get when I scatter plot everything together
I want all these 2D plots are displayed in the same figure so that I can draw some conclusions from them more easily.What I wish to see is an array of 2D plot placed along one direction ( In my example , along x direction ) and separated by a distance ( In my example , the distance is 1 along x direction ) Could you tell me one way to visualize this ?
The x-labels ( x^0 , x^1 , etc . ) are in my example placed by giving each subplot a title , but you might want to consider using ` plt.figtext() ` to manually place them in the exact location you want .
Finally , check #URL for some more cool subplot arrangements .
Not in the form of subplot .
By ' in the same figure ' , do you mean in the same axes ?
When I try example " Plotting wind vectors and wind barbs .
This is what I have so far , where " rows " and " cols " are pre-determined integers to determine the subplot layout : #CODE
I tried to use an online converter , but it only kept the text .
Python scatter - change marker style based on entity
In fact , sorting seems rather pointless in this situation - since you're making a scatter plot the order of the points should not matter .
Handling cyclic data with matplotlib contour / contourf
I'm trying to create a contour / contourf plot of wind heading - the problem being that the 0 / 360deg discontinuity is playing havoc with both functions - trying to interpolate the gap and fill it with all the intervening values ( see below ) .
No , for this reason , there are wind barbs and quiver plots , such as this one , based on your dataset :
In my own research , I'm not even interested in the arrows themselves , because in my line of work 180 is the same as 0 , so I just draw sticks , without barbs , without heads .
If you'd really want " contours " , you could split up the dataset in regions ( e.g. ` 0 = angle 20 ` and so on ) and then either draw for each of those regions only arrows with the angle halfway ( so per domain , several arrows all pointing in e.g. the 10 direction ) , but this way you'd loose quantitative data .
So far I am OK with having zoom and pan functionality only after pressing ' 1 ' mode .
To make the figure / axes transparent I use :
However , as the animation runs , the previous plot isn't cleared and so each time step overlays the current point on top of the previous plots .
I added the above transparency commands after the figure and axes are created .
Yes , you could of course set the default ` cmap ` with a context manager -- most easily with the matplotlib ` rc_context ` function , though you could also use the seaborn ` axes_style ` color manager , as ` image.cmap ` is defined there -- but the seaborn color palettes and colormaps are objects with distinct purposes so it wouldn't make sense to do that inside ` color_palette ` .
I tend to use the following axes options in my Matplotlib ( v1.3.1 ) plots : #CODE
To begin with , it is important that I do this with plt.scatter and not by iterating over the points ( patches ) , because with my real data I have huge amounts of data points .
How can I make sure that the markers are placed exactly within the square it is supposed to fit , filling from 0 , 1 on both axes for the bottom left square ?
It looks to me like these are just a little too big and overlapping with ( 4 , 4 ) on top , giving the irregular visible patches .
Why are there different distances on the x- and y axes ?
aspect belongs to axes , not figures ; check out ` help ( plt.axis )`
You can change the axis ticks to represent your data units , customize the colormap to have transparent squares for missing data , embed the imshow as a subplot in another figure , etc . etc .
There is an issue with matplotlib boxplot fliers not showing up when seaborn is imported , even when fliers are explicitly enabled .
you can use the seaborn boxplot function :
In case you want to keep using the matplotlib boxplot function ( from Automatic ( whisker-sensitive ) ylim in boxplots ):
To draw a circle in matplotlib , first you need to declare an artist #CODE
you then have to add that artist to an instance of axes : #CODE
then you can draw it safely .
Notice that artist ` Circle ` takes ` ( x , y )` coordinates of the circle's center , and radius ` r ` .
do you know if there is anyway to create a categorical legend for the attribute colors compared to the colorbar option that you showed ?
My code aims to draw a HSL W x H image in the form of RGB using matplotlib.imshow() : #CODE
And no legend appears .
Tried that , shows the label on the graph , but I just want the legend to work , and it still shows the same warning .
matplotlib : how can I " predraw " an animation ?
Currently , my custom animation class's ` _draw_frame ` function does this :
update data of each line of interest in the axes with ` set_data ` ( lets say for the sake of an example ( ` ax_line1.set_data ( datax , datay ` , where ` ax_line1 , = ax.plot ( ... )`)
Then , all that ` _draw_frame ` has to do is fetch the predrawn lines , and update the drawn artist list with that .
That means that I set the artist data in parallel , if I have the data already , and thus produce an animation faster ?
Just to make sure I'm understanding you correctly - are you saying you basically want to create a bunch of line objects before you start making the animation and then pass a list of them to _draw_frame to indicate which ones to add to a given frame ?
All other elements in your animation are represented as drawable objects of some sort ( which ` lines ` conveniently are )
I edited the axes with #CODE
I want that in any pair of axes , I get the exact image and not a stretched image .
How do I use those indices to draw a group label ?
How would you draw a hairpin or bar to denote the span of ' C ' , ' O ' , etc ?
The bars would be a barplot on a second subplot that shares an X-axis with the main subplot ; vertical lines outlining them to get all the way to the edge of the main .
Those white outlines in the main subplot , Rectangles with white edgecolor and no facecolor .
I believe the solution is either with ' text ' or ' annotate ' , but I :
A figure is a collection of one or more axes , e.g. in this in this example #URL it is one figure that is made up of 4 different axes .
Can you please help me understand diff between annotate and text ?
`` text `` simply prints some text onto the plot , while `` annotate `` is a helper which you can use to easily also add an arrow from the text pointing to a specific point on the plot that is being referred to by the text .
I've drawn rectangles on my basemap plots previously , using the method on this thread : How to draw rectangles on a Basemap .
Matplotlib grouped boxplot with legend explaining boxplot elements ( mean , median , quartiles ,.. )
I have created a grouped boxplot based on this example using the following code : #CODE
Now I want to add a legend on the right side ( or somewhere suitable ) to explain the meaning of the boxplot elements ( median , mean ,... ) but cannot figure out how .
Error colorbar position in matplotlib 5 subplot
I have a problem in matplotlib subplot , I have set these 5 subplot share axis , it should be have same lenth and scale , however , when i add the 5th subplot ' colorbar , the axis doesnt math with others , what should i do ?
` matplotlib ` automatically resizes the axes and generate a second axis next to it to show the colorbar on .
Python : How to change the granularity of axes in matplotlib plot ?
How to create out side legend in scatter plot ( Matplotlib )
I am using following code to generate scatter plot .
I would like to display the legend , out side of the plot .
It may be worth having a look at the matplotlib legend docs to see how to use this more fully .
I have got the legend out side of the scatter plot .
matplotlib - How to add pixel size legend ?
Since ` pos_tuple ` represents the upper left corner of ` Rectangle ` you have to subtract the length of the bar itself and then still leave some padding , otherwise it will be plotted at the very edge of the graph and look ugly .
I want to load it and draw its nodes in the same positions as before .
Data saved in the graphml file consists of primitive types , whereas data used by ` mathplotlib ` to draw the graph is a dictionary ` {string : array ([ x , y ]) , dtype=float32} ` , where the ` array ` is most probably a ` numpy ` array .
Plus , I can't build from scratch the structure used to draw positions .
for example , I may want to modify the position of a legend .
But if I can mannually move the legend in the picture , then it is very convenient .
For the legend , by default it cannot be moved .
this is in Python ? but it is only about legend ?
and I have two legend , as explained in the original question , why can I only drag one of them ?
So are you trying to draw something similar to a [ gant chart ] ( #URL ) ?
Another odd behavior ( to me ) is that if I draw a cube o dimension 1.0 and set distance
I tried masking part of a contourf plot in matplotlib , i.e. #CODE
I want to use ` tricontourf ` instrad of ` contourf ` , because I do not want to grid my data .
2D animation into 3D animation
I'd like to turn this 2D animation of orbiting planets into a 3D animation , in order to visualize the trajectories in 3D , and if possible , add a trace to the trajectories : #CODE
I have two legends , as below , I find that I can't drag the first legend , what is the problem ?
This is a general limitation of twinned axes .
Pick events are limited to the " top " axes .
I'll also move the second legend from on top of the first .
Python Matplotlib Plot Scatter plot over contourf or imshow
I have surface data which I can plot as imshow or contourf , my next step is to plot certain points given in a np.mesgrid array as scatter plot over the contourf .
My code gives no failure , but does not show the scatter plot over the contour #CODE
have you checked , that the scatter points are somewhere within the viewpoint specified by your ` xlim ` and ` ylim ` bounds ?
" Set of points " makes me think you want a scatter plot instead .
As @USER pointed out , you could use the scatter function .
How can I force matplotlib to draw fewer ticks in a general way ( ie : I'm not after a solution that applies only for this particular plot , this is just an example ) ?
I'm guessing I need some combination of a Normalize
Is there a way to assign a line style by column name , so that , for instance , FR , stim_current , and self_excitation would have the same colors in each subplot ?
I'd also like whatever is different between data frames to show up in a different color on each subplot .
Ideally I could also re-order the columns of the data frame so that things that show up in each data frame are all in the legend on top and the stuff that's varied would come in on the bottom of the legend .
Matplotlib : Intelligent figure scale / legend location
Unfortunately , the figure size is fixed and hence on the top right , the legend and the lines overlap .
Is there any way to have the legend not stack on top of the lines ?
I am aware that legend allows ` ax2.legend ( loc=0 )` , where ` 0 ` will put it into the " best " location .
I remember a very similar question just yesterday , about intelligent positioning of the legend not to overlap the graphs , but I can't find it now ...
If the best location ` plt.legend ( loc= ' best ')` fails , try putting the legend outside of the plot : #CODE
You can scale only legend , not the whole plot .
FacetGrid Legend empty
However , when I do all this , the legend is empty .
Looking at ` g._legend_data ` shows that it's empty and each of the axes ` get_legend_handles_labels() ` functions returns nothing .
I can't post an image of my plot because I don't have 10 reputation ; the name of the legend appears over on the far right , but nothing is in it ...
EDIT 2 : So it appears that using ` sns.factorplot ` , instead of FacetGrid , both the legend and the dodge work .
The reason the legend and dodging doesn't work the original way you're doing it is that setting ` hue ` in ` FacetGrid ` and setting it in ` pointplot ` are different .
When you call ` pointplot ` without a ` hue ` variable , it doesn't know how to dodge , and it doesn't think it needs to add any legend data .
Hi I have a data set for which I am using hist available in matplotlib.pyplot : #CODE
It looks like this ( axes turned off ):
unit is the same with the axes
This code works just fine in IPython Notebook V2.4.1 ( see #URL ) , but in IPython Notebook v3.0 , the axes become invisible ( see #URL ) .
Strangely , in V3 , when I switch the order of the seaborn import and the matplotlib inline magic , the plot renders normally the first time I run , then if I re-run , the axes and gridlines disappear .
It's a known issue : #URL It's not really IPython " disabling " seaborn , but just setting different and conflicting matplotlob parameters for the Axes background .
You can define a ScalarFormatter and use it to provide string representations of floats , which you then set as ticklabels , if you don't like what it does on the axes .
` plt.ticklabel_format ( style= ' sci ' , axis= ' y ' , scilimits =( 0 , 0 ))`
style sci for scientific notation ,
How to create square semi-log plot ( axes of equal dimensions ) in Python ?
I am trying to create square plots ( equal axes length ) on semi-log scale , but I have no luck .
So it seems that you want the physical lengths of the axes to be equal .
For example , set_aspect ( 1 ) would make 1 unit on the x axis the same size as 1 unit on the y axes .
I tried but that doesn't give equal axes physical lengths .
matplotlib does not draw major tick line
I'd like to draw pandas DataFrame with below style tick and grid lines :
ipython Pandas : why I cannot print the legend for matplot graphs ?
I am using this code to put legend on my graph but it is not possible .
I suppose it is possible create this legend by hand , but it's probably more complex then using something like , #CODE
My main two problems are that it's not resizing with the frame it's in , and that I can only draw the bars , and nothing else .
In the artist tutorial , there's very little useful information which I could use , but a couple hints , that lead me to ` self.figure.artists.extend ( bars )` .
It looks like all of the dank functions in matplotlib.pyplot are also on ` axes ` , which is ` matplotlib.figure.Figure() .gca() ` .
I want to have an XY plot ( with ` np.histogram2d() `) of both of them , with contour lines .
@ Ideally each label appears under each bar for each of the three axes .
This will get you the labels under each bar on every axes : #CODE
Matplotlib : data being plotted over legend when using twinx
In my current solution , the data from the secondary axis is being plotted over the top of the legend for the primary axis , while data from the primary axis is not being plotted over the secondary axis legend .
As shown in the plot , the data from ax2 is being plotted over the ax1 legend and I would like the legend to be over the top of the data .
You could replace your legend setting lines with these : #CODE
Note that locations have changed to correspond to the lines and there is ` .set_zorder() ` method applied after the legend is defined .
Leaving the legend location the same ( as in my example ) and changing zorder does not solve the problem .
Well the thing is that the legends as they are now belong to different axes and axes are drawn on top of previously initiated ones .
While it might be possible to hack ` JointGrid ` to get this to work , I suspect it will very likely be easier to just use ` kdeplot ` on one Axes , using ` twinx ` and ` twiny to place and scale the marginal plots properly .
I get the following plot which is not looking the same as the way contour is behaving .
The documentation of Normalize might be a bit deceiving here : ` process_value ` is a function which is only used for preprocessing ( and static ) .
I have some data and I write a code for plot it as scatter point : #CODE
How can I get matplotlib to show full subplots in an animation ?
Below is the code I'm using to generate the animation .
For example , is there a way to make the bar for men and women in G1 separated in the following figure ( not directly adjacent to each other ) Figure ?
Matplotlib : Subplot Axis Ticks and MajorLocator
The xaxis are datetime varying in the number of hours for each subplot .
When I set the final axes major locator it affects all the locators for all the axes .
For example is the if the final subplot time range is 00:00 to 06:00 and the first subplot range was 00:00 to 13:00 maplotlib only puts labels on the fist subplot ranging from 00:00 to 06:00 .
I want to transform those intensity values to pixel intensity values as in the following image :
I'm building a GUI using Tkinter for the first time and have run into a problem updating the data in a Matplotlib Figure using a button in a different frame .
3D Plot with Matplotlib : Hide axes but keep axis-labels ?
Basically , I turned the color of the panes and spines to ` alpha=0 ` by hand and make the ticks to be empty lists ( as you pointed out ) .
Pass multiple matplotlib Axes objects from generator function and display them
I want to create several histograms with pandas inside a generator function , pass them as a list of matplotlib Axes objects to the main function , and display them one by one .
The first figure displays OK , but when I try to display the second I get : " ValueError : Axes instance argument was not found in a figure .
Your main problem was that running hist doesn't return an axis even though it uses one .
AttributeError : ' module ' object has no attribute ' hist '
As an aside you could just call ` plot ` on the df : ` df.plot ( kind= ' hist ')` see the docs : #URL
in order to use ` hist ` function
Well , you need the data in array form , ` [ x1 , x2 , x3 ,... ]` and ` [ y1 , y2 ,... ]` which you can do with ` append ` in a for loop .
I tried to print oldlabels [ 0 ] , but I get Text ( 0 , 0 , u ' \ u22122.0 ') .
What about using a contour plot with ` mayavi ` ?
Access subplot axes returned by pandas.DataFrame.plot()
Is there a way I can access the axes returned by ` pandas.DataFrame.plot ( subplots=True )` ?
I'd like to give each plot a title ( and access other attributes ) , but my current attempts only affect the last subplot .
Now , i am trying to plot a figure where one subplot contains the dataset as cluster with respect to each label from Y it belongs to and another subplot showing dataset with respect to Z .
Any ideas on how can I superpose this curve with a contour would be also very nice .
' m trying the contour part however not getting it properly .
I'm using matplotlib.offsetbox to draw a text box as seen below :
Inserting a rectangular box onto a contour plot
I need it to be plotted onto the contour plot .
I'm having this really weird issue where a pick event is fired if you " scroll " while the mouse cursor is placed over the artist object of interest .
The functionality I'm trying to achieve is have tooltips on certain axvspan segments ( Polygon artist objects ) , and the pick event works if you click , but even if you scroll while the mouse is over one of the segments of interest , multiple pick events are fired .
I couldn't find anything online where people faced the same issue , and the doc isn't that clear on the firing of a pick event either ( It just says : " fired when the user picks a location on the canvas sufficiently close to an artist ") .
A pick event is fired when the user invokes a MouseEvent ( see link above ) in a location on the canvas sufficiently close to an artist .
I run into what seems to be a bug in matplotlib ( version ` 1.4.3 `) / pyplot when attempting to draw a line between subplots : after setting ` set_aspect ( " equal ")` , it appears the relevant coordinate transformation functions ( ` transData `) don't update .
The problem you're having is that ` set_aspect ` isn't applied until after a draw operation .
Uniformly scaled axes in 3d plot with python matplotlib
I want all three axes to have the same scaling .
this will result in uniformly scaled axes but will waste a lot of space in the z direction .
How can I avoid this and get uniformly scaled axes nevertheless ?
Do you want your axes to have the same scale ?
Then , as I have non uniformly distributed data and don't want to waste space in the plot I will have axes of very different length .
This way I always get a cubic plot , that is , all axes have the same length .
However , I want the three axes to have the same scaling , that is , I want the little tiles in the background of the plot to be cubic ( like in your example ) , but on the other hand , I want each axis not to be longer than necessary for plotting the data .
How to add text to matplotlib legend and maintain equal space with legend and plot borders ?
I am trying to add text to matplotlib legend which can be done separately by adding annotation but I need them in a single box this is how I have done : #CODE
And at the same time I need the spacing between the plot and legend border be same , as the legend width increases the legend should be placed further without changing loc argument , as shown in figure S should be constant : #CODE
Is there a simpler method to add text in the legend and keep spacing constant with options of text alignment in the legend box and so on .
I would like to draw a vertical line with Matpotlib .
You can get the limits of the bins , since ` plt.hist ` returns the values , the bins and the patches .
Matplotlib set facecolor of a subplot
Python Histogram Bar Labels Bin Count
GridSpec Axes Resizing
I have looked around to no avail , but I'm having an issue that my python GridSpec multiplot keeps changing the axes .
I have tried turning autoscale off but this causes the flanking histograms to go wrong , presumably because of the shared axis ?
Python / Matplotlib : convert Axis <=> Data coordinates systems
My question is quite simple : in matplotlib , how can I easily convert coordinates in Axis system to / from Data system
I'd like to plot an ` matplotlib.patches.Ellipse ` with his center in Axis system but his size ( width length ) in Data system .
It could easily be modified to work for log scaled axes too , using ` axis_obj_in.get_ [ x or y ] scale() ` .
Python animation using matplotlib
Python scatter plot for large data
So far , I plotted this with the matplotlib scatter function : #CODE
This is much faster , however , you can not use different colour for each point as with scatter .
Make a square contour plot in matplotlib
I can't get matplotlib to make a contour plot with equal x and y axes .
Matplotlib Python -> Plot_dendrogram Axis object
As the documentation states , ` plt.axis ` is a convenience function , which sets the axis limits of the current axes object .
To create the axes object , I would suggest something like this : #CODE
Even if I have not created any axes and just do : #CODE
I'm using the ` annotate ` method on an ` Axes ` object to add an arrow with text to a plot .
The " basic " box doesn't support it , so you need to have ` annotate ` make a ` FancyBboxPatch ` associated with the text object .
I'm also going to leave off the arrow ( avoiding the bug above ) and just use ` ax.text ` instead of ` annotate ` .
To be able to change the padding , you'll need to use the ` bbox ` kwarg to ` text ` ( or ` annotate `) .
I ended up using ` annotate ` but calling ` set_bbox ` with the ` pad ` arguments you suggested and worked like a charm .
Plot and Scatter legend on subplot
which produces the right legend without text ( it shows the object name in the handle ) .
A proxy artist may be used instead .
The issue is that you can't pass the ` Line ` objects directly to the ` legend ` call .
Below are two proxy objects , ` scatter_proxy ` and ` line_proxy ` , for the scatter plot and line plot , respectively .
You create both using ` matplotlib.lines.Line2D ` but the one for the scatter plot has a white line ( so isn't effectively seen ) and has markers added to it .
@USER I've managed to get the axes color using ` bkgd_color = plt.rcParams [ ' axes.facecolor ']` to use to make the line " invisible " but I'm having the issue that the markers aren't appearing anyway .
At least in your simple example , it is way simpler if you don't pass any handles to ` legend ` : #CODE
Thus you have to pass it to ` legend ` like this : #CODE
You only need to use proxy artists if you want to add something to the legend which does not exist in you plot or if you want ( for some reason ) make it look different in the legend than in the plot .
Matplotlib + NetworkX - draw 2 networks in a single graphic
I have 2 networks to draw using NetworkX , and I'd like to draw side by side in a single graphic , showing the axes of each .
Essentially , it's a matter of creating 2 subplots in Matplotlib ( which is the library that NetworkX uses to draw graphs ) .
Then I have to draw lines between the 2 plots , so I need some way to get back to the positions in each graph , in order to connect them .
Node positions are generated , stored and assigned like this #CODE
NetworkX gets this structure to draw nodes in the correct positions ` nx.draw_network ( G , pos =p ositions )` .
draw the first network ( passing its positions )
draw the second network ( passing its positions )
draw lines between the two networks
Should I hide the axis , and draw dummy ones ?
I probably need some better procedure to draw proper subplots .
The function NetworkX uses to draw a graph are these , in particular , I'm using draw_networkx .
I don't really mind drawing the separate axes , if they give too much trouble .
Pass in the axes object you want to plot to as the ` ax ` kwarg to ` draw_networkx ` .
I can act directly on the main plot to modify the axis , but I don't understand how I could use ` ax ` to draw the 2 networks as I described .
Usually it involves doing some simple calculations to figure out the ratios that you want ( e.g. you want the height of each subplot to be 1.25 its width , by your measurements ) .
Then you can draw the lines directly onto the figure .
The above code doesn't appear to draw the lines between the axes exactly between the centers of the corresponding nodes .
However , this solution does not allow to label the axes correctly .
Maybe there's a way to go around this and draw fake axis ?
I guess drawing 2 empty subplots with the correct axes , without clearing the graph , could work .
Axis ticks would be nice to have .
Also , check out making an animation with matplotlib ( which happens after you make a series of images ) or , if you're just monitoring at stuff on the fly , you could ` savefig ` to disk and use your file browser to keep an eye on things .
Making animation for some weird reason does not work on Mac .
I cannot even run the example code of animation of matplotlib .
Matplolib legend picking with anchored
However i change the legend position to ` leg = ax.legend ( loc= ' center left ' , bbox_to_anchor =( 1 , 0.5 ) , fancybox=True , shadow=True )
The the clicking event is not handle by the program anymore , when i click on the legend it will not toggle on or off .
More detail answer and solution can be found in Double event registered on mouse-click if legend is outside axes
Q : how do i best turn my ` Vals ` into a list of colors ( heatmap ) to be passed into ` scatter ` , so that every ` x , y ` pair gets its values matching color ?
I already have to draw about 800 maps , and increasing that to about 1 Million will probably take years .
The basemap scatter documentation simply refers to the pyplot.scatter documentation , where you can find the parameter c ( emphasis mine ):
You could modify this color cycle to your liking , but it is cleaner if you directly specify the colors in the call to ` hist ` .
It is tedious to specify the colors manually , so you could use one of matplotlibs colormaps to generate them .
This would be useful if you want to annotate or rescale a figure later , but you don't necessarily have all the access to the original script / data that produced the figure .
The Galactic Bar is clearly visible , as well as some structure in the spiral arms .
Computing power spectral density without averaging
I've been using psd() to compute power spectral density over a .wav file .
matplolib doesn't show legend starting with underscore _
/ usr / lib / pymodules / python2.7 / matplotlib / axes .
and no legend shows up .
Is it specific to the label of the legend or it occurs as well with some other labels ( title , xylabels maybe ? )
It is documented in the documentation for ` legend ` , which is linked from the page you linked to :
Specific lines can be excluded from the automatic legend element selection by defining a label starting with an underscore .
Matplotlib - Set distance between two x axes
Setting the ylim to [ 0 , 0 ] doesn't work .
However , the two axes should be close to each other and the dashed line should stop at the " top " of the plotted matrix .
a ) You should show your entire code if you want us to debug it , and b ) if you're learning matplotlib you'd be better off starting with using ` subplot ` instead .
And I already instantiate a subplot with 1 row and 1 column .
You're probably forcing a big subplot without realizing it .
I * suspect * that you are using finicky code when the right take on a standard subplot layout would work .
I have tried to set the bins explicitly using numpy logspace , and I have also tried to set the xscale to ' log ' .
The reason it's not working correctly is that ` plt.hist2d ` uses the ` pcolorfast ` method , which is much more efficient for large images , but doesn't support log axes .
To have a 2D histogram that works correctly on log axes , you'll need to make it yourself using ` np.histogram2d ` and ` ax.pcolor ` .
They're not because the artist created by ` pcolorfast ` doesn't support log axes .
To fix this , let's make the histogram using ` np.histogram2d ` ( what ` plt.hist2d ` uses behind-the-scenes ) , and then plot it using ` pcolormesh ` ( or ` pcolor `) , which does support log axes : #CODE
The other is a significance map that I want to plot over it , as a contour .
It's possible that you are drawing the contour bellow the image ?
Matplotlib - Keep aspect ratio when using multiple axes
How can I keep the aspect ratio of a plot when using two x axes ?
It's strange , I cannot get the axes to look correct with ` axis ( ' tight ')` , ` axis ( ' scaled ')` , etc , ` specAx.set_aspect ( aspect , adjustable= ' box ')` , turning off ` autoscale ` or anything .
Animation and iPython Notebook
I am trying to draw a sequence of plots ( namely plotting the first n elements in each of two arrays against each other ) , and increment n by a set amount .
Essentially , in order to keep a constant size of all figure attributes ( legend , etc ) scaling when importing figures in latex should be avoided .
Grab the ` Text ` artist used to draw the tick label and directly modify it .
I am trying to set the format to two decimal numbers in a matplotlib subplot environment .
How to draw real-time line graph using matplotlib ?
I have a code to draw a real-time scatter plot using matplotlib based on references .
If ` df.plot ` returned the artists it added instead of an ` Axes ` object it wouldn't be too bad to change the color of the line after it was plotted .
After a day of debugging I found that setting ylim solves the problem .
matplotlib Plot multiple scatter plots , each colored by different thrid variable
I'm trying to plot multiple pairs of data on a single scatter plot , each colored by a different third variable array .
Those examples are for a single scatter plot .
My coloring fails for subsequent scatter plots .
Good point , I just used this as a mockup of my real data where I need the arrays separate to control the symbols and create a legend ( the data is from analyses on the different samples )
I've computed the power spectral density of some sound data and I've plotted it to a 2D graph that looks like this .
A lot of them only seem to draw a 3d shape whereas I just want something like what I linked or the ability to step through each index in 3d space .
I have a quiver plot I am showing with a contour plot underneath it .
I want to be able to " draw " objects on top of the graph , for example overlay a 10x10 black square somewhere onto the plot .
Code from Matplotlib Path Tutorial
@USER ' s answer shows the way , but to draw polygons ( and potentially only rectangles ) , you don't need to bother with ` Path ` .
Just use the ` Polygon ` or ` Rectangle ` classes : #CODE
Another way would be to use masked arrays to only show parts of the quiver and contour plots in the first place :
I am using seaborn jointplot to create a contour plot and respective distributions .
Function used to calculate a statistic about the relationship and annotate the plot .
Set to None if you don t want to annotate the plot .
A contour is a curve , and you are trying to plot a curve as an image .
A normal contour plot :
One with a modified contour ( here , shifted right ) , directly plotted on the image
The longer the time period becomes , the sharper the peaks will become ( the Fourier transform of the cosines ): #CODE
It seems like this problem arises from changing the font family from within the legend properties argument .
I also sometimes call ` matplotlib.use ( " Agg ")` before I start a long-running process that imports matplotlib - that way I can disconnect from the remote server without killing the process .
When I create a grid of streamplots ( using subplot ) they all have their own color bounds .
The wind speed / magnitude during winter ( JJA ) is much stronger than during summer ( DJF ) , however you don't get that impression from the plot because each subplot has its own individual color bounds .
This would work for a regular contour plot but not a streamplot .
Matplotlib boxplot using summary stats and patch_artist=True
I'm trying to create a boxplot with summary statistics .
I can do that by using random data to build the boxplot
This works BUT , when I turn on the artist mode ( artist=True )
But in this case , modifiying the boxplot with my summary data
( Not clear to me why it's easier to do this than to roll your own boxplot , at this point . )
I want to plot several RGB images on one set of axes with matplotlib .
I initially tried using imshow for this , but it doesn't seem to handle two images on one set of axes with different extents ( when I plot the second , it makes the first disappear ) .
Python : scatter plot with aligned annotations at each data point
I want to produce a scatter plot with dozens of points , which could potentially be very close to each other .
matplotlib scatter plot with different text at each data point
than the xticks will remain on 1 and 2 . and will not change when I re-size the image ... how do I delete this manual ticks and go to a state where when I re-size the image the ticks will change accordingly .
Before I do xticks ([ 1 , 2 ]) if I re-size interactively or do xlim ( 0 , 10 ) the ticks will change accordingly .
After I do xticks ([ 1 , 2 ]) the only ticks that I will see will be 0 and 1 ( I can do xlim ( 0 , 1 ) or use the interactive re-size .. but no matter what I will only see the ticks 0 and 1
( Or reset the tick locator after forcing xticks to [ 1 , 2 ] , but why bother ? ) #URL
Adding ` matplotlib.rc ( " legend " , fontsize=20 )` right after the imports seems to work fine here .
The way matplotlib Axes work is that the style parameters become a property of the Axes object at the time it is created , not at the time something is drawn onto it .
So while it's not possible to make a figure that has different subplot styles using ` plt.subplots ` , you can do it with one of the ways where you independently create the Axes : #CODE
Note also that I'm using a context manager to style the first Axes , so the second Axes will have the default style .
I draw a simple small circle that represents the planet then i use funcanimation with an animate() function that changes the circles center each time , as is done on this website : #URL .
Now I'm trying to use an image file instead of a circle but I barely know how to draw the image on the plot and really don't see how i can make it move on it
It is probably a bit more complicated than it needs to be and you really should use the animation framework rather than ` pause ` .
Thank's alot for the code , I succeeded in putting an imported image in the artist you use by modifying this line : #CODE
This gives me an error : ' list ' object is has no attribute ' axes '
The call to ` plot ` is autoscaling the ` xlim ` s : #CODE
Set the ` xlim ` s after calling ` plot ` : #CODE
( Alternatively , you could also turn autoscale off with ` ax.autoscale ( False )` . )
I would be happy with this answer , except for the fact that if I try the second thing you have above ( passing ` xlim ` as an argument to ` plot `) , it works properly for me ( though apparently not for you ) .
When does the patch depend on an axis , and why can't the mathematical definition be added to different axes to be drawn more than once ?
If the Ellipse is an artist on the current axis ( if otherwise unspecified ) , why can I add ` f , g ` below to different axes when they were created with the same current axis ?
The slightly longer answer is that as part of the drawing process the artists need to know what ` Axes ` they belong to due to the way the transform stack works .
Going into much more detail would require digging into the full draw / transform stack .
Also , be careful about ` Axis ` vs ` Axes ` ( see diagram )
( Am I confusing ` Axes ` and ` Axis ` the code-objects , or just using axes-the-English-plural-of-axis ambiguously ? )
Due to the naming of ` Axes ` vs ` Axis ` in the code I sacrifice english to be clear about the code ;)
Also I am getting an error when I try to draw the graph .
Like I said , graphviz is better at drawing graphs with nice layouts , but you can't use it in Python 3 unfortunately , so you may have to fall back on ` networkx.draw_networkx ( G )` or the other draw functions that don't depend on graphviz .
( I don't think I need to specify all the variables here , it's just that you add the result from the ` contour ` function in the ` cbar ` thingy .
It is nothing weird , just ` imshow ` and ` contour ` .
Thus ` contour ` does not know anything about the image which ` imshow ` creates .
However , you can create a similar image by upscaling the original data and then use ` contour ` on that .
However , just to show a threshold of 0.5 , I would suggest to customize the colormap instead of using a contour line : #CODE
It is indeed nicer with two different colormaps above a certain threshold .
... the functions " pan / zoom " and " zoom rectangle " throw the following error ( but zoom and pan nevertheless ) .
I must admit , I don't quite understand the interface ( QAction ? ) to the combinated functions pan / zoom - I'm not a well seasoned Pythonista yet .
before changing the view ( e.g. by autoscale ) .
load multiple EPS images to matplotlib subplot
I am trying to plot multiple eps images alongside scatter plots using the subplot command but can't seem to get the imshow command to do this .
I'm trying to maintain the shared state between axes , but at the same time display the tick labels for the x axis on all subplots ( including the top two ) .
Here I've looped over all axes , which you don't necessarily need to do , but the code is simpler this way .
Figure out whether you have too many points on the x-axis ( no axis with 200000 tick labels would be readable ) , or too many points in the plot , or what .
Effectively , a scatter plot is displayed over a heatmap image and mouse clicks can add or remove scatter points .
My data is drawn in the background using ` pcolormesh() ` , so when I update the canvas using ` axis.figure.canvas.draw() ` both the scatter points and the background heatmap are redrawn .
Is there a way of selectively redrawing just the scatter points without redrawing the background ?
Similarly , if the axes is interactively zoomed / panned , we need to update the background .
To add / drag a point after interactively zooming / panning , click to zoom / pan tool on the toolbar again to disable them .
This is a fairly complex example , but hopefully it gives a sense of the type of framework that one would typically build to interactively draw / drag / edit / delete matplotlib artists without redrawing the entire plot .
The main reasons to choose ` pcolormesh ` are a ) you want edge lines for each cell drawn , b ) you're using non-linear scaling on the axes , or c ) you have non-rectangular or non-regular cells .
I have a 3-d scatter plot in matplotlib as below , I want a way to label the points on it in one of the following ways :
plotting numbers on points and then mapping the numbers to labels ` L ` in the legend
matplotlib animation does not update when in wxpython gui but works standalone
It is a fairly typical example for 3D animation and works fine when run standalone .
When using an animation inside of a GUI class , make sure to keep the reference to the animation object in a class member so that it doesn't get garbage collected at the end of the method in which it is created .
How to join / align axes for a perfect corner in matplotlib ?
I am using the following matplotlib rc parameter file , but I find that the axes are not fully closed or joined to form a perfect corner as shown in the figure :
Have I set something wrong in the settings or is there another way of properly aligning the axes ?
Also , are you using a default plot , or spines , or what ?
Did you try increasing the axes line width ?
do you mean that * you've * identified increasing the axes line width as the problem in * your * plot ?
It looks to me like both lines start at 0 , 0 , but because they have a greater than 1 pixel line width , they don't appear to join properly .
I'm trying to do a contourf plot of the divergence of a vector field with python and then add a colorbar to this plot .
Using margins with strings on x-axis not working
Ah , I had a ` ylim ` set in my code that I'm running .
How to set Helvetica font for axes labels ( numbers ) with matplotlib with usetex on ?
I set the font style in the matplotlibrc param file to Helvetica ( sans serif ) which is already installed and I set text.usetex to ' true ' but the axes fonts use serif fonts .
How do I get the axes fonts to use Helvetica sans ?
And BTW : your " ylabel " is missing the closing ` $ ` sign .
I then tried to used matplotlib to produce a scatter plot of the averages .
To illustrate , the following code would generate a grouped boxplot #CODE
It could appear as legend or somewhere near the boxes , either is ok with me .
I tried it as a legend but I didn't think it was as clear .
R has a lot more boxplot options , including making the width of the boxes proportional to sample size ; not a default in matplotlib but easy and seems really readable : #CODE
I just need a way to make it show without cutting the legend #CODE
you can use graphviz to draw the graph here is the code to create the dot file : #CODE
However , when I try to change ` DIMENSIONS = 100 ` ( I am trying to simulate spectral data analysis ) , I am getting this error : #CODE
When I use the command to display the animation #CODE
all is fine and the animation looks nice .
I know how to calculate the position in the other coordinate system and how to set plot limits but I have no idea how to force the second image to refresh when I move around the first one .
There are call-back events for draw events that you can use to trigger the draw of the other canvas .
` g.canvas.draw() ` should refresh the image drawn in ` g ` .
Pandas / pyplot scatter plot : set axis labels not working
I am using pandas to generate a scatter plot from some CSV data , like so : #CODE
scatter plot python with several y values
how can we ` plot ` a ` scatter plot ` that has the values in the ` list ` as it y value and the index value of the list as the x value .
Add a ` ylim ` to your plot and set it to only the ` y ` values you use so that you don't get white space above and below your bars
It will work fine , but makes your code hard to read , because ` fig ` nearly always refers to a ` Figure ` object in code using ` matplotlib ` .
how to draw a simple bar chart with labels in python using matplotlib in python ?
i need to draw a simple bar chart ?
I'm plotting a 3D scatter plot reading my values from a file .
Here's an example file , it's the same used for the scatter plot .
In general you cannot draw a plane through 4 points in 3D .
You want to draw a surface that goes exactly though all your data points and that does so " directly " without smoothing out .
How to transform your data into this format is a simple question , maybe a bit googling and trial and error .
I would like a sort of scatter plot with time along the x-axis , and amount on the y , with a line through the data to guide the viewer's eye .
that's because you cannot add a number to a list ... but if you first transform your list to a numpy array , then you can
How to cnvert the date freq data into a dataframe in python and how to draw the histogram for that converted dataframe using matplotlib ?
please help me how to write the code for the above in python and please tell me how to draw the histogram for the converted data if you can
Call the Pandas ` plot() ` method on ` date_freq [ ' smstext_freq ']` , and set ` kind= ' hist '` .
how to draw a histogram in python matplotlib ?
I am able to draw a bar chart by using the below code but i am unable to draw a histogram for the same data .
so how can i draw the histogram for the samedata with same parmeters that i have used for the barchart
please help me how to draw the histogram in same way ?
i am expecting same as you are but it wont work all the time .so please tell me how can i draw the same using histogram
please tell me how to draw the histogram of the data which is in image ( out [ 48 ]) ?
How to create a flood fill figure animation using python ?
How to create flood fill figure animation using python ?
I saw this image online and was wondering how to go about these types of animation .
How do I remove error bars from legend ( matplotlib ) ?
In the legend I end up with 8 different element , 4 for each different set of data and 4 for the error bars , as shown here : #URL
I only want the markers for the data in the legend , how do I remove the ones for the error bars ?
And then draw the legend with : #CODE
The background of the axes can't be transparent , as there's a filled polygon overlying it
` pcolormesh ` is fairly slow to draw and isn't smoothly interpolated .
i.e. instead of ` z `' s alpha value stretching evenly from 0 to 1 ( in axes coordinates ) , have ` z ` stretch from 0 to ` y ` ( in data coordinates ) ?
sets the min and max of the x and y axes , with
animation plot in matplotlib with data from loop
I've made an animation program from matplotlib , following its program code : #CODE
Set ` ylim =( -10 , 40 )` or ` ylim =( -40 , 40 )` or half the graph is invisible .
Pandas registers a converter in ` matplotlib.units.registry ` which converts a number of datetime types ( such as pandas DatetimeIndex , and numpy arrays of dtype ` datetime64 `) to matplotlib datenums , but it does not handle Pandas ` Series ` with dtype ` datetime64 ` .
` fill_between ` checks for and uses a converter to handle the data if it exists .
If you'd like a scatter plot with just the points outside the circle , use boolean indexing to select only those points from your 2D " meshgridded " array : #CODE
For scatter , however , you don't need 2D input .
Because ` scatter ` is only plotting points , it doesn't care how they're connected , and we can easily use the 1D result of boolean indexing .
It is showing me an error as ' AxesSubplot ' object has no attribute ' xticks '
I am new to matlibplot and I'm trying to draw a circle with radius 1 but have both my x and y axis go from 0 to 3 with an increment of 0.25 .
To change the axes range , you can use #CODE
if you want to see the full circle , you need the axes to go from -3 to +3 => ` plt.xlim ([ -3 , 3 ])` and ` plt.ylim ([ -3 , 3 ])` .
possible duplicate of [ Creating tables in matplotlib ] ( #URL ) or [ Create Table in subplot ] ( #URL )
I am making a scatter plot of positions marked with latitude and longitude which works all right as it shows all the positions in a time period in a static image .
But I was wondering if there is any easy way of utilizing that I have the unixtime to every position - so I can show the movements as a timelapse - kind of looping through the positions and showing an animation of the movement .
Timelapse animation , the lazy way
Note that I changed your formatter function and also the plotting line ( now only plotting to ax1 and not both axes )
Calculate subplot adjustment
For each data element , I want to place a separate subplot so that the whole figure is as compact as possible .
However , when I draw some 3D graphs , I'd like to have them in a separate window so that interactions like rotation can be enabled .
The part where gui and matplotlib join is the following : #CODE
Python : Seaborn Getting Hex values of a color palette ( or color palette is not working with scatter )
Also , why the palette does not work with scatter ?
Solution : seaborn cycle through colours with matplotlib scatter
I found a related question [ here ] ( #URL ) , looks like it's part of matplotlib's design to not have the color cycling apply to scatter plots .
The answer to that question should allow you to cycle colours for your scatter plots .
It might be convenient to create two separate axes , so you can truly put the text below the whole figure .
Maybe it is enough to place the text at xlabel position ?
You import Figure , though .
matplotlib : How to plot multiple scatter plots in one grid where each plot is different color based on a separate list ?
ploting scatter plot with 2D list
I want to plot a scatter figure with the first set of data being x , and the second set of data being y .
Python : Add x-y margins automatically with autoscale ( pyplot )
This also has the advantage that if the x or y label is the same as the column name ( as is the case for the xlabel in the example ) , you can just skip the corresponding label and it will use the column name instead .
If you want to keep the initialization of the animation in your ` SubplotAnimation ` class , you can also make a new function to initialize it like #CODE
Note that it probably makes sense to clear the axes after the first hexbin call .
My best inference of the logic at play ; from left to right in the attached image , the contour levels are decreasing .
The goal is having these roughly perpendicular contour levels to clip off at the bounds of said shape .
Perhaps there is an argument from the docs I am overlooking in the initial contour creation - or some other means to fulfill the needs described ?
The seemingly infinite variety of polygonal shapes which represent the cut-off for each contour would have to be assessed .
Such that each contours proximity threshold with respect to a buffer of the polygon perimeter would spawn the x and y coordinates of said intersect , and provide the None range to each contour ?
I have a log-log contour plot for which I needed to display the minor ticks .
I am trying to write a function which makes a contour plot from a text data file ( or a numpy array ) formatted as " x , y , z " .
@USER I did a scatter plot and colored the graph as I wanted using the example in the link .
Using the example - Line colour of 3D parametric curve in pythons matplotlib.pyplot - I got a scatter plot with color gradient along the z axis - here's the link to the image of that plot - #URL oid=106871046257785761571
I am still working on getting a colored line plot because I have a lot of points , which makes scatter plot very slow to work with .
Also , your scatter plot will look better if you remove the edges of the points : #URL
How do I add the correct legend to the plot ?
in the plot call , add kwarg : ` label =p d.TimeGrouper ( ' AS ')) [ ' date ']` ( or something like , to get the date value ) and then call ` legend ` .
set ` legend ` argument to ` True ` : #CODE
You can also control the margins on the figure with ` top ` , ` bottom ` , ` left ` and ` right ` : #CODE
matplotlib : stem plot with horizontal offset
I want to draw 2 stem plots on the same figure .
I found this stem plot example from the matplotlib :
However , I don't see how to add an offset to the stem plot .
This feature would be similar to the " BaseValue " from the Matlab stem plot .
If I press the Arrow ( up ) it says I need a reputation of 15 .
Using ` refline ` as a workaround in Matlab two stem plots can be displayed as you required .
Figure :
I am plotting the columns on the same ` matplotlib axes subplot ` #CODE
matplotlib basemap subplot overlaps
Problem is the subplot layouts :
But the parameters need to be changed when a different subplot layout is used ( e.g. 3*2 on landscape A4 , Fig.4 , too small again ) .
The downscaling is a function of the subplot layout ( fontsize=7 . / max ( nrows , ncolns ) +5 ) .
After all , giving a quick and robust fix to the subplot layouts is what ` tight_layout ` is about .
How does one draw the X = 0 plane using matplotlib ( mpl3d ) ?
The ` plt.figure ` is not needed , as ` df.plot() ` will by default create a new figure ( unless you specify an Axes object to plot it on with the ` ax ` keyword )
On a DataFrame , ` df.plot ( .. )` will create a new figure , unless you provide an Axes object to the ` ax ` keyword argument .
I'd like to simply obtain a contour plot of this data .
I used the z array of zeros because contour is looking for a 2D array so I initialized a 2D array and then put x into 1 row and y into the other row of the 2D array , so contour would be happy , it can be done with the x , y and z as well if you like .
I'm new to Matplotlib / Python , and am trying to make a grouped boxplot very similar to Joe Kington's excellent example shown here :
how to make a grouped boxplot graph in matplotlib
I have looked at using colormaps to achieve this , but I have not managed it yet .
You can do this ( albeit probably not in the most elegant way ) by first making a contour plot of your " concentration " with ` contourf ` , then making a line plot of your max min , and finally using the ` fill_between ` method to cover up the unwanted portions of the contour plot .
The proper way to do this however would be to mask the array in the contour plot but I don't quite have the time to figure that out right now ( have a look at numpy mask array options and take a stab at it ) .
How do I draw a colourbar for basemap etopo ?
The expected format for the X axis is to use no margins for the labels : #CODE
I have tried setting the x axis margins : #CODE
You need to turn off the axis for each subplot .
For example if you had 3 points in your scatter plot with x and y values of ` xdata ` and ` ydata ` respectively , this code would give you positive error bars for each point that had a height of 5 : #CODE
The ` Collection ` that ` scatter ` returns has two " systems " ( for lack of a better term ) for setting colors .
I would like to print out those plots so that when I measure distances within my axes , the distances correspond to real-world centimeters .
I think the missing step is forcing the Axes object to be a known proportion of the measured figure size , and then setting the axis limits so that the data-units match the real-world units .
Where I specify exactly the dimension of my axes in cm .
Nice way of setting up the margins -- makes it easy to adjust to fit in the labels and footnotes and so forth .
I was more concern about the real dimension of the axes .
Could one write a transReal transform that gets as close as the computer can to " print a ruler " ?
t I think the Axes would have to get information from the Figure that the Figure doesn't normally pass on , so , maybe not , and certainly a pain .
I think ` axis ([ xo , x1 , y0 , y1 ])` is in terms of proportion of the Figure , not the data transform .
I am currently using ` matplotlib.animation.FuncAnimation() ` to display an animation of my work , on a figure .
But my animation can still sometimes be long , or not really interesting during the whole process .
So I was wondering if there was a way to implement ( maybe directly to the figure ) a panel containing the animation , a scroll-bar or whatever , which allows me to :
Show at what point of the animation I am ( 10% , then 20% ,... ) .
After writing this question , I realize that what I am asking is if there is a way to control the animation in python on the figure like the way I would control it as a video file played by a video player .
If needed , this is what looks like the code for this animation : #CODE
So i wanted to try your thing in a third figure ( figure 1 is my animation , figure 2 are some plots I use ) .
I nicely get the GUI working with the animation being abled to be time shifted as required
the data from my main animation are now weird , not totally wrong but still weird , and so I can not say it is working ahah
hmm , I think you will have trouble using widgets in the same figure as an animation .
Doubt this will play well with animation .
If you need both together , perhaps try two instances of python , one gui and one animation ?
Bokeh Heatmap Legend
I am trying to create a legend for a heatmap in bokeh .
matplotlib scatter plots do not display when populated using for loop
However , I want to change the plot so that the diagonal subplots display the name of the variable , the lower triangle subplots display the Pearson correlation coefficient , and the upper triangle subplots display a scatter plot .
It displays the appropriate 4x4 grid of subplots with variable names and correlation coefficients in the correct place , but the scatter plots do not show up .
I wrote the next function to test populating the subplots using a for loop , and it produces a scatter plot in each subplot as expected .
This leads me to believe that there is some error related to the for loops and how the scatter plots are being created , but I haven't been able to find the error yet .
Still no scatter plots .
in the 2nd line you now tell pandas to plot on ax_delays , and to not show the legend again .
Label / declare an artist for specific picking event
However I'm having some trouble with separating which artist is to be deleted .
I've been trying to follow things from this post matplotlib : clearing the scatter data before redrawing but I seem to be doing something wrong .
Then compared the list to the current artist .
Thanks for matplotlib : clearing the scatter data before redrawing and Matplotlib - How to remove a specific line or curve for the inspiration and help .
First , you can use the ` extent ` keyword of the ` imshow ` function to specify the extent of your axes .
After doing this , your axes will range from 0.5 to 8.5 .
The problem I have , is that , in the upper subplot , the boxplot on the right hand side should be shifted of 1 to right to align with the ` ( Yes , False )` label .
I think it comes from the fact that ` sharex ` doesn't care much about the xticklabels , but rather the xticks values ( which are ` [ 1 , 2 ]` and ` [ 1 , 2 , 3 , 4 ]`) .
Get current axes from motion_notify_event
Each subplot has different data .
How can I capture the current subplot axes from the event ?
` event ` is an instance of LocationEvent , thus ` event.inaxes ` contains already the subplot axes .
When I want to change the numbers to be between ` 0 ` and ` 1.95 ` or basically ` [ 0 , 39 ] * 0.05 ` the labels shrink to the beginning of axes .
Well now the situation is If I don't use xticks it plots the graph with intervals of 50 and represent entire 365 days .
See : xticks documentation
Matplotlib share axes with plyplot.subplot() command ?
I've been wondering this forever : How can I set graphs in Matplotlib to share axes when I use the plt.subplot ( 221 ) ( for example ) command ?
You can use tuple unpacking to avoid creating the ` axes ` array : #CODE
e.g. ` ax2.plot ( ... )` will then plot to the top right subplot .
If you have so many subplots that the tuple unpacking becomes unreadable , I find ` axes [ 2 , 2 ] .plot ( ... )` nicer than ` plt.subplot ( 221 , sharex=True , sharey=True )`
You can read more about how the slider widget works [ here ] ( #URL ) and about axes functions like set_xbound [ here ] ( #URL )
It seems that shows how to put two different axes on a plot .
on using the term ** " Range Bar Graph " ** for the type of disposition
As far as I know , the most direct way to do what you want requires that you directly draw your rectangles on the ` matplotlib ` canvas using the ` patches ` module of ` matplotlib `
The ` patches ` you've placed in your drawing are accessible as a property ( aptly named ` patches ` ... ) of the drawing and modifiable too , e.g. , #CODE
I try to make an animation using matplotlib and fail at the first step .
Two adjacent symbols in matplotlib legend
I would like to identify two different symbols ( with different colors ) on the same line in a legend .
Below , I tried doing this with Proxy Artists , but the result is that they get stacked on top of each other in the legend .
I think my problem is almost exactly like this one : ( Matplotlib , legend with multiple different markers with one label ) , but it seems like the problem is unsolved since the answer there just plots one patch on top of the other , which is exactly what happens for me too .
Also , I haven't found how to make the legend symbols look the same ( line thickness , size ) as the scatter symbols .
The set contains parameters of stars represented as ellipses ( center , long axis length , short axis length , bearing ( angle ) of the long axis ) that I want to draw as a vector field with quiver plot .
Matplotlib - fixing x axis scale and autoscale y axis
I would like to plot only part of the array , fixing x part , but letting y part autoscale .
I am trying to draw a simple plot in python , but the x axis is being scaled automatically , I don't want any scaling .
With this you tell matplotlib which xticks you want to plot
Each set then has three more panels , say , a scatter plot with histograms of the x- and y-axes on the sides .
Instead of setting the axes for all 12 plots , I'd like to divide my canvas into 4 parts , and then divide each one individually .
The following code is a slightly modified matplotlib example and shows that subplot axis limits can be adjusted manually .
Likewise the box zoom only allows zooming in on a subplot ( or linked subplots ) .
Keep window at 400x400 , change figure size to 500x500 ( ie cut off if doesn't fit in window ) and scale subplot size accordingly .
By design the top-most layer of artist positioning is done in ' figure fraction ' and most of the default GUI embeddings pin the figure size to match the window size .
Python : " Squeeze " a particular plot in subplot
Below , I plot the following Figure in Python :
Get the axes from the ` GridSpec ` layout as the example @USER links to does , and pass them to ` df.plot ` .
How to create ternary contour plot in Python ?
The axes are A , B , C and D values should be denoted by contours and the points need to be labelled like in figure .
Note that , you can remove the x , y axes by doing : #CODE
I can refresh it , but that didn't change anything .
Set Tick Label Font Properties from other axis
I just found out that the rc param "' text.usetex ' : True " is what breaks the code and gives me different fonts on different axes .
How to draw enveloping line with a shaded area which incorporates a large number of data points ?
For the picture above , I'd like to draw enloping line with shaded area similar to below :
In matplotlib , Is there a way to set gridlines below bars / lines / patches while retaining ticklabels above ?
Related to Matplotlib : draw grid lines behind other graph elements , but nothing there worked for me .
I intent to generate a semi transparent copy of ` background ` on an modified Position in the same axes .
You need to make sure draw is called at least once before you copy the canvas region .
( Notice I use ` gridspec ` to position the subplot because I need to generate several of these in the same output image file ) #CODE
Hi back :) what I meant is that this can be done using standard axes vs polar axes .
You can calculate the x , y coordinates of the curves that make up the grid and plot that on standard axes .
Ah , the linked solution about clipping polar plots is helpful -- the built-in polar plot has made enough default choices that they recommend making a custom artist .
Perhaps it is best to transform to linear coordinates and calculate how to produce the curved grid for the declination and the radial lines for the right ascension .
In " Important things " , I'd refer to the ` theta ` and ` r ` axes .
( Which can be done inelegantly -- get RGB values from a color-mapping , draw the colorbar independent of this AxisArtist . )
Including a sample input-data and output-image even if you have to draw the scatter on paper and take a phone snapshot ?
The first version of code simply adds a color bar , the final version ( under EDIT 2 ) does an axes affine translation and corrects a few parameters / simplifies the code to suit OP spec exactly .
Following OP comment on intermediate version in this answer , a final version as below gives the plot at the very end of the post - with -90 on the dec axis and subplot demo #CODE
I can see only two ( minor ) things missing : 1- locating the subplot using ` gridspec ` .
I am running following code to draw histograms in 3 by 3 grid for 9 varaibles.However , it plots only one variable .
You're adding subplots correctly but you call ` plt.show ` for each added subplot which causes what has been drawn so far to be shown , i.e. one plot .
You create multiple axes on the same figure and then render the figure in the notebook .
Find density of points from their scatter plot in python
Can I go through equal boxed areas in the scatter plot , so I can calculate how many there are on average on each box ?
I don't want a colored density plot , but a number that represents the density of these points in the scatter plot .
So in this case , ' hist ' would be a 40x40 array ( since bins=40 ) .
Adding new patches to a matplotlib plot while an animation is occurring ( Python )
Does anyone know how to add patches to a plot within a function call ?
In your code snippet you haven't defined xa3 or ya4 - I would hazard a guess that they might have taken values that mean your patch " rect " lies outside of the plotting area defined by xlim and ylim .
I managed to draw blue dots on the map , but I don't know how to draw the circles with the corresponding size and color .
The matplotlib ` scatter ` function has ` s ` and ` c ` parameters which would allow you to plot dots of different sizes and colors .
The Pandas ` DataFrame.plot ` method calls the matplotlib ` scatter ` function when you specify ` kind= ' scatter '` .
It also passes extra arguments along to the call to ` scatter ` so you could use something like #CODE
So I changed the game and tried to setup the properties environment to run the Python27 executable with the Python Path set to its Lib and site-packages directories .
Matplotlib legend relative to figure in multiplot
I want to move the legend of a figure with several subfigures to the upper center relative to the entire figure .
I tried to pass a legend object created with ` fig.legend ` to ` fig.savefig ` using ` bbox_extra_artist ` , as described here .
However unlike described the legend gets cut-off :
I'm looking for a technique that let me define the legend location relative to the entire figure not just a subfigure .
the result is the same : plot area is not increased and legend gets shifted off the plot .
If you replace the line that generates the legend with this one : #CODE
However far from the ax the legend is being pushed here it gets captured with ` savefig ` correctly .
Are you saying that even with ` borderaxespad=- 0.7 ` and without ` bbox_to_anchor ` in parameters of the ` fig.legend ` you were able to have the legend fully captured in pdf ?
You can pass various keyword arguments corresponding to ` Text ` properties : see the docs .
I only get an empty 3D axes .
For example plotting a scatter plot coming from a data frame , could be from 0 ..
Legend overriding x-label and x-ticks
This is the second question that I have seen go by this week that boils down to ' df.plot is nuking my xticks ' .
Lets say i want to " zoom in " by limiting the x scale with setting xlim =( 1 , 2 ) .
However , when I want to save a subplot , than suddenly it ignores the transparency argument .
For subplots to be transparent you need to change background of each subplot : #CODE
Finally , you can usually get the current figure and axes objects using the following functions #CODE
Assuming the area that was transparent is everything surrounding the ax ( subplot ) you can try this : #CODE
What are patches in Python ?
I am currently trying to draw a circle in Python .
See the list of valid kwargs on the Circle documentation ` linestyle ` can be one of ` solid ` , ` dashed ` , ` dashdot ` , or ` dotted ` .
However , I don't actually understand why it works and what patches are .
A lightning summary of mpl architecture : ` Figure ` s have 1 or more ` Axes ` which have many ` Artist ` s ( subtle detail , ` Axes ` and ` Figure ` are actually sub-classes of ` Artist ` and ` Figure ` objects can have other ` Artist ` s than just ` Axes `) .
` Figure ` objects also have a ` Canvas ` objects ( of which there are many implementations for outputting to different formats ( ex png , tiff , svg , pdf , eps , ... ) .
When you draw the ` Figure ` there is some internal plumbing and each of the ` Artist ` objects are recursively drawn to the ` Canvas ` .
Most of the ` plt ` commands create an ` Artist ` and then add it to your current ` Axes ` ( it ` pyplot ` has enough internal state to know what you current ` Axes ` is and create one if needed ) .
However , ` Circle ` just creates and return a ` Patch ` object ( which is a type of ` Artist `) .
It is some what odd that ` Circle ` is directly exposed via the ` pyplot ` interface .
Using two different text sizes in one legend in Python
I have a legend on a graph in Python which is : #CODE
If you don't know how to set the font size , see the docs for ` matplotlib.pyplot.text ` : you can either pass an optional ` fontdict ` argument that specifies font properties , or you can pass extra keyword arguments like ` size ` or ` fontproperties ` that get passed on to the ` Text ` constructor .
In this example , the cursor , should be locked and allowed to move around the ( sin ( t )) curve .
Then I contour points that satisfy the equation .
Graph Line Parallel to X Axis in Matplotlib
Matplotlib : generate multiple twin axes with different and inverted scale
I want to plot a data series on two x and y axes in order to have 4 different axes .
I recommend plotting only on your primary axes and then synchronizing the labels of the twin axes .
Matplotlib 3D scatterplot animation using Python is not giving errors , but it is not working either
I'm trying to write an N-body simulation , and I've run into a bit of a roadblock with Matplotlib's animation capabilities .
I'm not entirely sure how to update the data inside the scatter plot , so I think that might be where the problem is .
You also probably need to keep a reference to the returned animation object , see discussion here #URL
scatter plot data does not appear on continents in ' hammer ' basemap
I am attempting to plot a dataset over the ' hammer ' basemap using a scatter plot .
If this is the case , is there an ideal basemap to use to plot scatter plot data over the whole Earth ( using a relief map would be great , but I would settle for anything at this point ) ?
I also needed to increase the z-order to get scatter on top of the continents as well as the oceans .
Although , it's nice to know I can use * latlon=True * in scatter instead .
What you're looking for is [ how to set xlim ... in matplotlib ] ( #URL ) .
imshow doesn't have parts that one would normally explain with a legend .
I want to make a subplot for a heatmap where the y-axis matches that of the heatmap ( features ) , but the x axis is some transformation of the mean of the binned values represented for each feature in the heatmap .
How can I produce the subplot on the right of my example figure ?
The two main things are setting up the axes to share the y-metric ( ` sharey=True `) and ( as you have ) setting up your the transformed data to use the same indices : #CODE
matplotlib : synchronize pan / zoom events across multiple subplots ?
I want to have multiple subplots mirror the pan / rotate / zoom mouse events in any of the subplots .
In python matplotlib , there are two convention used to draw plots :
` plt.figure ` just creates a figure ( but with no axes in it ) ` plt.subplots ` takes optional arguments ( ex ` plt.subplots ( 2 , 2 )`) to create an array of axes in the figure .
also good to know : matplotlib plots into ( onto ) axes , so the most explicit code usually says something like ` ax1.plot ( ... )` .
But ` pyplot ` does the thing most-likely to be helpful at the interpreter , so if you've only defined a Figure ( as in the first example ) and call ` plt.plot ( ... )` , pyplot will * generate * an axes on the current Figure and plot into that .
Using Tkinter to choose a file , then draw it using Matplotlib
In most of these cases , I do find that I can get what I want in mayavi , but still the matplotlib 3d axes are preferable , if only for aesthetics , like LaTeX-ified labels and visual consistency with my other figures .
My question here is about the obvious hack : is it possible to draw some 3d object ( a surface or 3d scatter plot or whatever ) in mayavi without axes , export that image , then place it in a matplotlib Axes3D of correct size , orientation , coordinate projection , etc .?
As for computing the top / bottommost pixels , it can become tricky if you want the line to be a diagonal one , but if you just want top / bottom ( aligned with images axes ) you can make numpy check when the masks become True for each axis , which is plainly doing the difference ( derivation ) between the array and and offset version , then first nonzero element along each axis #CODE
Custom legend in Pandas bar plot ( matplotlib )
I want to create a legend like the one I show in the attached image ( the legend wasn't generated by python , I added manually ) .
Is it possible to draw such custom legends with pandas , or can I achieve something similar with other graphing libraries ?
Labeling 3d axes in python matplotlib
Unfortunately I can't post images , but essentially the chart looks all good and all the string labels on the x and y axes work except ' skip up ' along the y axis .
It's right at the corner between the y and z axes and just doesn't appear .
return values of subplot
In the documentation it says that ` matplotlib.pyplot.subplots ` return an instance of ` Figure ` and an array of ( or a single ) ` Axes ` ( array or not depends on the number of subplots ) .
Set up your other map details as per usual , and plot using contourf ( don't use the jet colormap ! ) #CODE
Matplotlib : scrollbar for legend
Is it possible to have a scrollbar for legend in matplotlib , in cases where the legend list becomes very long ?
Setting flier ( outlier ) style in Seaborn boxplot is ignored
Since Seaborn uses matplotlib for plotting , I thought I could provide a matplotlib styling dictionary to the ` boxplot ` function like so : #CODE
Seaborn's boxplot code ignores your flierprops argument and overwrites it with its own before passing arguments to Matplotlib's .
Matplotlib's boxplot also returns all the flier objects as part of its return value , so you could modify this after running boxplot , but Seaborn doesn't return this .
Meanwhile , you may want to consider using matplotlib's boxplot instead .
Looking at seaborn's code may be useful ( boxplot is in distributions.py ) .
Axis labels on invisible axes in matplotlib
I would like to plot 2 axes that have , apart from their own ylabels , also a common one : #CODE
If I add ` ax_common.set_axis_off() ` , the axes and the ylabel is removed .
Do I have to create a text label instead , without create the additional axes ?
The line basically shoots straight up in an L-shape that is so close to the left-hand and upper borders of the plot that it is obscured by the axes .
possible duplicate of [ Updating the xaxis values using matplotlib animation ] ( #URL )
If you need the two plots on the same pdf page , you need change the ` violinplot ` and ` lmplot ` in such a way that they use different axes on the same figure .
Add a subplot within a figure using a for loop and python / matplotlib
Legend opacity in iPython Notebook
When you create your legend assign it to a variable , say ` legend ` , and then add these lines : #CODE
This will make the background of the legend white and in front of the lines .
Is it possible to apply this command in a code cell so it will be applied to every plot legend in the notebook ?
As far as I can tell since ` facecolor ` parameter is not part of the ` legend ` ` rc ` section you can't set it up once per session .
You would need to call it every time you need to change the legend for a plot .
Each time x and y change , I call ` set_xdata ` and ` set_ydata ` and refresh graph .
How to just refresh data of multiplot instead of completely redrawing plot each time data change ?
You can define the axes first , create your plot using the keyword ` ax ` and set the ticks and tick labels manually using ` ax.set_xticks() ` ( #URL ): #CODE
It won't let me set the xticks to a string variable " ValueError : could not convert string to float : "
Thank you , it gives me the size of the figure when first plotted I think , but it does not actualize if I change the size of my window and re draw my figure :/
Python 3D animation plot : ' Line3D ' object is not iterable
I want to use Python's matplotlib animation function to plot a 3D animation plot given three numpy vectors : ` x_vec , y_vec , z_vec ` .
You can mess around with having a discontinuous y-axis , but eventually when you end up having to apply all kinds of non-linearities in order to fit the data onto your axes then it becomes very difficult to interpret the plot .
Here's what the PDF of your data actually looks like on semi-log axes : #CODE
You can turn off clipping for the resulting plot artist ( s ) by setting ` clip_on=False ` in your call to plot or scatter .
Note that you can also modify the clipping box by hand if you have a reference to the artist .
plt.plot has a zorder argument , but I'm not sure that's meaningful in a 3D axes .
The built-in ` contour ` function at least gets the z-order right ; if you don't want the full thing , you could cheat with a calculated ` Z ` .
More ambitiously , somewhere in the ` contour ` code they're calculating the z-order ...
I was just working on a * different * way of force-feeding ` contour ` .
Oh , you can just draw the rectangular patches directly , then --
So besides changing the background of the root and Figure background you have to change the canvas background as well .
Wrong scatter label color in pyplot legend
That's a typo , it's clearly scatter plot .
( I'm not sure what your comment meant . Does this example , with dummy data , have blue dots for the i=1 legend ? )
Your example gives no error when I run it ( legend shows normal colors ) and my example still fails .
I want to draw 3d lines using Python .
I want one Figure ( gauge1 ) to be three times smaller ( Horizontal ) compared to the other Figure ( dc ) .
When I run the example in matplotlib-1.1.0 / examples / widgets / cursor.py , the red cross hair cursor moves in the axes in tandem with the mouse movement .
self.cursor = Cursor ( self.ax2 , useblit=True , color= ' red ' , linewidth=2 )
Matplotlib animation in tkinter doesn't stop looping
I'v got this matplotlib animation running in tkinter , it works fine but it just never stops looping , when i press ' X ' the window closes but i have to force shut it with the task manager .
My guess is it might be the animation loop that never stops running , because only tkinter knows to stop ?..
The animation object also has a ` _stop ` method which should do what you want ( assuming you can call it as part of the window teardown ) .
Getting text to display in front of subplot images
Im plotting all of these images using the subplot function but am having trouble adding the ID name .
Each time you create a subplot in a figure the associated Axes object is appended to a list behind the scenes .
By default the axes are drawn in the order that they were added to that list , i.e. , the order in which the subplots were created .
In this case you need to set the zorder for all the axes in column one to any integer greater than the default value of ` 0 ` ( higher values are drawn later / above lower values ) .
I'm using the pandas plotting toolkit to plot a scatter matrix of some data .
I'm doing this so I can plot just half of the scatter matrix instead of the redundant top diagonal .
pyplot draw method for subplots
Then you can update the axes with ` imshow ` , and they'll appear in your figure as they're computed .
You'll now get ugly huge empty white axes until your axes are defined , but this should get you started .
I have been trying some animation recently using matplotlib animations .
Specify that the ` Axes ` take up the whole ` Figure ` when you create the ` Axes ` -- #CODE
now , there's a lot there isn't room for any more , e.g. external tick labels ; and Tkinter may be doing some padding itself ; but this is as large as you can make an ` Axes ` .
( ` ( 0 , 0 , 1 , 1 )` is extent in Figure coordinates . )
Legends for scatter plots with NANs in matplotlib
I am having problems creating legends for scatter plots with NAN values .
I find this intriguing as well but may I ask why you need to plot a scatter graph of [ NaN ] , [ NaN ] ?
So I'm not trying to explicitly plot a single ( NAN , NAN ) point , but it would be great if ` scatter ` didn't throw an error in such case
Here is a workaround : try plotting the legend with a proxy artist .
If I had the following data : ` x = [ 5 , NAN , 7 , NAN ]; y = [ 8 , 9 , NAN , NAN ]` , then ` scatter ( x , y , ... )` would plot one point : ` ( 5 , 8) ` .
` scatter ` seems to be handling NANs correctly ( in most cases ) .
I haven't anywhere found an information that NANs can be passed to ` scatter ` .
The error appears when the two conditions are met while calling ` scatter ` :
The problem lies in line 3602 of ` axes / _axes.py ` ( in ` scatter ` function ): #CODE
Later , in the ` legend ` function call , ` size_max ` can't be calculated .
The sample data should result in 4 basemap plots , each showing T1 contourf plots .
Matplotlib set_y / xlabel doen'nt work
I want to simply set my x and y label of my subplot , I don't understand what I do wrong ?
the plot and figure ( including labels , title and axes limits ) are cleared every time you call plot .
Just to restate the problem ; I would like to reproduce this plot almost exactly but in 2D without including the background axes .
I'm interested in having more space added between the last scatter point and the Y2 ( right ) spine , rather than having the point immediately adjacent to the spine ( see attached PNG ) .
Is there a way to either ( a ) add space between the last scatter point and the spine using an existing command or ( b ) use the approach I attempted and hide or make the last label match the background color , or ( c ) since I'm new to matplotlib and I'm not familiar with all of the terminology , direct me to an existing link ?
@USER That's true , but I found that Matplotlib did a decent job of setting up the axes by itself without either command for the sample data I gave it .
OP might need to set the xticks depending on what their data looks like .
How to make the legend text and box bold ?
On pyplot - I can't figure out ( pun not intended ) how to make the text and the box of the legend bold ( well , the text bold and the linewidth of the box wider ) .
The legend demo in the matplotlib gallery subtly shows both of these -- note that the original reset the font size and got access to the frame Rectangle ( to change the color ) .
You can set the current axes with plt.sca() before calling imshow() .
or you can call the imshow method on the axes : #CODE
matplotlib how to plot semilog graph with yticks and horizontal grid lines spaced logarithmically
@USER : Unfortunately it doesn't fix the issue , I'll keep playing with the xticks routine .
I have read widely on this topic and spent several hours looking for ways to implement an animation for my plot .
I have managed an " animation " in-loop using ` plt.ion() ` , however , I can't get anything in ` matplotlib.animation ` to produce me an animated clip .
Python Matplotlib - Show Tick Marks associated to Plotted Points
matplotlib : remove horizontal gap between axes ?
One is axes aspect #CODE
In this case matplotlib will try to change the size of the axes to reduce the spaces to zero .
As you set the aspect to be 1 whenever one of the edges touch each other the size of the axes will not change anymore .
[ p1p2 ] = sqrt (( a-x ) ^2 + ( b-y ) ^2 )
How to annotate text along curved lines in Python ?
I am trying to annotate text in plots so that they follow the curvature of the line .
EDIT : so it's a bit messier than I suggested as the plot area is scaled to match data and has margins etc . but you get the idea #CODE
PS just checked matplotlib and the subplot seems to have margins 0.12l , 0.9r , 0.1b , 0.9t and using 7.15 * 0.78 and 5.15 * 0.8 seems to work pretty well
My initial thoughts are that the append function ( that returns a new array in ` update_figure `) does not delete the old array ?
With my timer , shown above , I want to keep append a value to a matplotlib graph - the ` Axes ` object is available to me as ` self.axes ` .
I append 1 value , and then delete the first value so that I get an updated array to plot
How to reduce xticks label resolution when showing clock time
See the xticks labels , before zooming in :
The xticks labels look like this :
I also need to have the label of the lines in the legend plotted in bold .
So far I can set the axis labels and the legend to the size and weight I want .
xlabel and ylabel out of plot region , cannot show completely in the figure
As can be seen in the figure , the xlabel and ylabe is out of plot region and can not show fully .
Did you already try ` fig.tight_layout() ` just before ` show() ` ? ... usually the issue with ` xlabel ` and ` ylabel ` is solved with that
possible duplicate of [ Why is my xlabel cut off in my matplotlib plot ? ] ( #URL )
Trouble with the legend
The legend on the left should only appear once
The legend should be the same size as the y axis of both subplots
where is the ` legend ` here ?
Do you refer to your ` title ` as the legend ?
With legend I mean the two bars on the right .
I always perceived ` plt ` as an image object for which I can set some parameters ( for example ` xticks `) or to which I can add some curves .
For each of the figures , you add axes using the ` add_subplot ` method .
Then , you can use these axes objects to plot whatever you want and set the parameters to your need ( like the ticks ) .
How to draw an arrow in matplotlib if one axis contains time ?
Slight confusion here : I want to draw a wind forecast by drawing a series of arrows at forecast time t ( in the x-axis ) at wind speed wind ( y-axis ) and the arrow pointing in the direction the wind is blowing from .
This tanks of course where the datetime t ( x respectively in the loop ) is passed to the Arrow function .
You can use ` matplotlib.dates ` ( #URL ) to convert a date to axes coordinates , using the ` date2num() ` method .
I am new to Matplotlib , and as I am learning how to draw box plot in python , I was wondering if there is a way to show mean in the box plots ?
@USER I'm the maintainer of the boxplot function and if you're actually using mpl v1.4 this will work .
Adding a scatter of points to a boxplot using matplotlib
I have seen this wonderful boxplot in this article ( Fig.2 ) .
As you can see , this is a boxplot on which are superimposed a scatter of black points : x indexes the black points ( in a random order ) , y is the variable of interest .
One way to add additional information to a boxplot is to overlay the
I have done this for scatter plots but I did not use a color map but just hex values for each bar .
i have used a colorbar in the past and read the documentation for using it with scatter plots and other types of plots , but i cannot find an example of having a colorbar with a bar plot specifically
Add an axes at position rect [ left , bottom , width , height ] where all
The figure contains the axes , the axes contain the plots .
( The x-axis and y-axis are parts of the axes . )
The bar in the first bin has a non-zero height , even though the frequency as reported by ` hist ` output is zero .
How to switch off the automatic setting of whisker to ' range ' in matplotlib boxplot ?
Since my data is roughly spherical I triangulate the azimuth and zenith angles from the spherical coordinate transform of my data points .
You need to create two different axes for the plots , one for the violin plot , and one for the imshow plot .
since the output will be an image which is cut on the right side : basically I don't see the right ylabel if the right numbers are large .
I suspect this is a general matplotlib question ( e.g. , how to get to line color from a Figure ) , but I can't find the answer anywhere .
You may need to use draw to make your update visible .
How can I manually define a ` bbox ` of particular dimensions ( let's say for the lower right quarter of the axes ) ?
A Bbox that is automatically transformed by a given transform .
the representation of it in the console that you show above displays two things ( comma separated ) - the main ` Bbox ` upon which it is based , and the ` transform ` that it applies .
The ` transform ` in this case is a ` BboxTransformTo ` object , which :
In your case , the ` transform ` itself is based upon a ` TransformedBBox ` which again has a ` Bbox ` upon which it is based and a transform - for this nested instance an ` Affine2D ` transform .
Assming that you want to animate a plot - you can usually pass ` blit=True ` in as an argument to the animation functions and they will sort this out themselves .
If you want to refresh one subplot out of many - passing in the ` ax.bbox ` directly into the ` blit ` function should work .
Note that most of the examples given don't define their own Bbox , but rather pass in a Bbox derived from an ` axes ` , ` figure ` or ` canvas ` into ` blit ` .
If that doesn't fix it , make two axes and have them differ only by the alpha argument .
The functions both return the matplotlib axes object , and you can do ` ax.set_yscale ( " log ")` on that object to use a log axis .
When drawing a graph using Terminal on my mac , I've tried every method I can but still can only draw nodes and edges , but no label of nodes in or beside them .
Another option which will by default not show the axes and produces a graph that takes up slightly more of the figure is to use ` nx.draw ` but give it the argument ` with_labels = True ` .
What counts , in terms of the size of the PDF , is probably the number of contour vertices ( the line width is irrelevant ) .
You could plot fewer contour lines to begin with , or export the file to Inkscape and [ simplify ] ( #URL ) the contour lines by removing some vertices .
For obvious reasons , I can't draw it all with infinite precision ;) I thought that maybe plot , after zooming by user , should take new borders and draw a part of Mandelbrot set in new boundary , with good enough new precision .
I'm plotting a chart using matplotlib and I'm facing issues with the formatting of the axes .
The documentation is indeed sparse ( Ticker API is the place to go ) .
The Formatter classes are responsible for formatting the tick values .
Attach this class to one or both axes of your plots as follows : #CODE
If combined with your manual rescaling , what you'll be missing out is the ` offset_string ` , which goes at the end of the axes .
Matplotlib is smart enough to not try to draw non-finite values , so all you see is the left-edge of the last bin .
I'm plotting multiple points in Basemap and would like to have a legend to signify the category that each color represents .
However , since I have multiple points in each category , the legend pulls each of those points , giving me multiple entries of the same category in the legend .
Instead of passing the legend kwarg , you can retain a handle to the object returned by m.plot .
You can then create the legend manually with only the plots you want to keep .
how to add legend for scatter() ?
A scatter plot might be more appropriate : instead of your ` j ` loop , try : #CODE
this pulls apart the stuff that's set up by ` plot ` ( ` scatter ` , etc ) calls to be sent to ` legend ` , so you can see how you might alter legends differently .
xnx's scatter solution also looks good .
I want to add a subplot to draw the cosine function .
You only need to create an additional axes ( subplot ) and a second line object : #CODE
The colors part is easier -- use ` scatter ` rather than ` plot ` and start by passing the density array in the ` c ` kwarg : #URL
When I draw a plot with pyplot , it automatically generates nice widely space tick marks and labels .
For those new to matplotlib , ` fig , ax = plt.subplots ( 1 , 1 )` is a convenient way to get at the ` Figure ` and ` Axis ` objects associated with a plot .
Matplotlib draw Spline from multiple points
And now , I need draw ` Spline ` passing through the points .
But I don't know how to draw with ` matplotlib.pyplot ` .
Don't worry about the RANDR warning , it is just telling you that VNC does not support the RANDR extension which is used to change resolution or refresh rate on the fly .
You only want one value in Intercept per step through the outer for-loop ` [ for c in range (( 360 // deg_Increment ))]` , so the append to Intercept needs to be in this loop .
I want a numpy array plotted as a 3D surface and the zero contour line to be highlighted in a striking color .
But depending on where I insert it , either only the surface plot or the contour line is plotted .
How can If fix it in the way that the zero contour line appears on top of the surface ?
The plot appears correctly , however , I can not find a way of removing the coloured axis join lines ( shown on the graph below ) , which make the graph fairly unsightly .
This is glyph is draw as a circle with a main direction and a standard deviation from its direction .
My idea was to draw something like a polar histogram at each position and to have a plot comprised by polar charts .
Button click -> ser.write , ser.read , draw
Here ' s an example of a scatter plot with tooltips and zoom capability .
Figure serialization is on the near-term todo list .
In an older version of Matplotlib ( with WinPython 3.4.2.3 ) , if I wanted to include a subplot as an inset , it hid the tickmarks below it : #URL
What code do you use to inset the subplot ?
I don't have Windows , but I would expect ` plt.xticks ( visible=False )` while the inset was the current ` Axes ` to work .
I also want to have different colors for the two y axes .
In this case , you'll want to call the ` set_color() ` method on the each of your y axes .
I guess I'm a little stuck since there's not many examples I have found for bar and subplot .
Python matlibplot Arrow pointing to a point on a curve
I'm not sure I completely follow you , but my approach would be to use ` annotate ` rather than ` arrow ` ( just leave the text field blank ) .
The question is how to draw it with non consecutive dates .
I am not very friendly with that distribution but since that dist probably wont have the matplotlib libraries available you have to download the source and install them from source a.k.a python setup.py install
Annotation for Scatter plot spiral outwards instead of stack - matplotlib
( and not a subplot )
Or , because the boxplot contains only aggregate data , so you should consider calculating those aggregate values separately , and then applying them to the boxplot visualization .
So if I understand correctly , you mean that I should load W , create this agregate , delete W , load X , ... and then use boxplot to with those agregates ?
is 150 Go of 512*512*256*512 * Arrays that I turn into reshape ( -1 ) for boxplot
One to compute the necessary statistics ( ` cbook.boxplot_stats ` ) and one to actually draw the plot ( ` matplotlib.axes.bxp ` ) .
I believe that the boxplot function was heavily refactored in v1.4 of matplotlib .
Contourf animation
The information here should help you get your animation running .
I'm using matplotlib to draw something figure while using annotations .
pyplot - cannot draw dotted line
I'm trying to draw a scatter plot with a fitted dotted line .
For a scatter plot , I think the above design is not suitable .
I also tried going into feeding the ` extent ` kwarg to both jointplot and JointGrid , as well as ` ylim ` with no luck .
wxPython GUI Plot changed by Button Refresh using Variables from " Duration " and " Amplitude "
My Problem is now to make the plot stay in place but refresh its drawing .
: The Button is already set up and I fixed the position of the " x_plot " later in an other class .
But it should actually update / refresh my already existing plot .
You can change the vertical spacing in matplotlib with via the following Latex command , which you alluded to ; however , I think you are going to want to work with ` xticks ` vs ` xlabel ` for your multi-line conditions .
Also , see Text rendering With LaTeX
I'm learning matplotlib from guide and I'm having troubles with moving spines .
They are using ` spines ` function : #CODE
The best result I have achieved is with the hist method of dataframe : #CODE
A workaround might be to log10 transform the data before plotting , but the approaches I have tried , #CODE
` data.hist() ` returns an array of axes .
` ax.set_xscale ( ' log ')` for each axes , ` ax ` to make each of the logarithmically
Animated contour plot from 3D numpy array Python
How do I use the animation module in matplotlib to do this ?
Pandas , matplotlib and plotly - how to fix series legend ?
Notice there is no legend
Although this does display the legend , it messes up the plot itself : #CODE
Removing the ` annotations ` entry from the ` layout ` dict results in the plot being displayed correctly , but the legend is not the ` y ` column name , but rather the ` x ` column name , the index name of the dataframe #CODE
I have found a way to override the legend text but it seems a bit klunky .
I would have expected that ` y= ' A '` would result in `' A '` being used as the legend label .
Fortunately , adding a plotly legend to a matplotlib plot is straight forward : #CODE
` PlotlyDictKeyError : Invalid key , ' showlegend ' , for class , ' Figure ' .
In this event the legend shows the index name rather than the ` y ` column name .
I draw ` Spline ` follow post : Matplotlib draw Spline from multiple points
But when I draw ` Spline ` from 3 points #CODE
So , help me draw Spline from 3 points :(
and the hist function knows to return those two values with the same input of data ( ie no optional arguments stating it should return bins ) .
How to draw an unit circle using numpy and matplotlib
I want to draw an unit circle ( cos+sin ) , using numpy and matplotlib .
Or you can use Circle ( #URL ): #CODE
I want to annotate the plot at those x-positions in vector ` c ` with y-values near the values in vector ` b ` .
Like if I need to find which variables it gave as significant or if I am running a Regression model then the coefficient stand for which variables as I might have used Onehotencoder to transform categorical variables and then it would change the var order from original .
There is currently no method there , but you can use the feature_importances and threshold them as described in the docstring of transform .
If so , create a new list and , while looping over every file , append the data to that list .
I would like to know how to find the maximum point of my curve and then I would like to annotate that point ( I don't want to use by largest y value from my data to do this ) .
time series of yahoo finance data from pandas
I need to color a line which connects a scatter plot colored by a 3rd variable ( the third variable is identical for all scatter points ; I will have multiple scatterplots with different 3rd variables in the end ) .
I am having trouble extracting the RGBA log-normalized value used to color the scatter points in order to color the line by that value .
But in the call to scatter you pass a logarithmic scaling class .
When I add the legend #CODE
I don't know how to get the same layout as I had in the first figure and add the legend .
The only requirement is that the figure looks like the first one and has the legend .
Your " when I add the legend " line of code doesn't add a legend .
The executable compiles fine , but when I try to run home.exe from the dist folder it gives me this message ....... and I have no idea how to fix it ( I thought doing import FileDialog would do it ): #CODE
Your code seems to be working for me ( except for the aspect ratio of the figure or of the axes ) ...
is your figure blank or do you see the axes but no data ?
Use the following for the axes definition to make sure that your axes are created on the right figure : #CODE
Without having to transform everything to string or another kind of object ?
How to draw legend for scatter plot indicating size ?
I have a scatter plot in ` matplotlib ` .
The scatter plot shows circles with different shades of color and also different sizes .
I would like to add a legend only for the size of the circles .
The legend should not be colored by the color of the cirlcles in the plot , but rather have say a ' grey ' color .
In one legend entry , I only need a single circle , not multiple circles that seems to be default in matplotlib .
Most of that is done in the answer [ here ] ( #URL ) , except changing the legend marker color .
I have to make an animation of a large number ( ~ 90,000 ) figures .
Here they separate the output of the ` plt.histogram ` into three parts , ` n ` , ` bins ` , and ` patches ` .
seems like maplotlib has an axis and axes !
Python draw rectangle and color in range
Is the number of counts in each bin but I can not repass this to hist since it will recalculate .
Surely the hist function must allow for the bins values to be divided by a constant ?
Tkinter press a button to launch an animation .py file
The script.py is a 2D animation which will open a window for animation .
When I run the Tkinter code above and pressed button to call the animation , animation will only show first frame .
In other words , animation will not be played .
But if script.py is run from command line , animation plays correctly .
The question is , how to make animation plays when run from the Tkinter code ?
Unexpectedly find a way to get around this animation problem .
If in the script.py file I return a global variable from the execfile function , the animation callback by the TK button will now play correctly .
Axes descriptions still needs some fiddeling , but it works basically .
Use ` plt.subplots() ` and then use numpy array indexing of the axes you want : #CODE
Now you can use the ` Axes ` objects directly for plotting and customization , instead of the ` plt ` state-machine and interface ( " explicit is better than implicit " and all that )
` matplotlib.pyplot.setp ( *args , ** kwargs )` is used to set properties of an artist object .
Create arrows in matplotlib using annotate
How to draw stacked histogram in pandas
and I want to draw stacked histogram , where on x-axis would be ` percentage_remains ` , on y-axis would be ` degree ` ( that means count of items in this bin ) and it would be grouped by ` fork ` - two stacked histograms in the same plot where first histogram is for all values with ` fork == True ` and second histogram is for all values with ` fork == False ` .
Figure text in matplotlib
You also can use axes coordinate and user data coordinate ( Transformations tutorial ) .
Here's what my desired graph looks like ( similar to how a class teacher would draw this ):
So , to repeat the main question , how to draw similar graphs , preferably without managing the plotting code yourself ?
Also , you cant just replace every constant with 1 to draw the graph .
Matplotlib cannot draw plot wireframe with uneven matrices .
So I set points with scatter and linked it with plot method .
Pandas Matplotlib : How to change shape and size of the legend in scatter plot ?
I have a scatter plot : #CODE
I am wondering how can I change the shape and size of the bubble in the legend to rectangular and smaller size .
You can change the size of the symbol in the legend using the ` markerscale ` keyword .
I'm not aware of a way to change the color of the symbols ( I also don't exactly understand why you would do it ; if the color in the legend is different than the color in the plot , it kind of defeats the purpose of a legend )
Colorbar based legend in python matplotlib
In the graphic below , I want to put in a legend for the calendar plot .
The legend is currently made using : #CODE
How do I correct this legend to something more like a colorbar ?
Why does my xlabel not show up ?
I'm making a plot and for some reason my xlabel is not showing up .
And an image of the figure itself ( With the xlabel not present ) .
Should have though to try the first axes .
I think I have to start with the Formatter class to get the backslash which is missing in the tick format .
My workaround is to create my own Formatter class : #CODE
I've managed to draw the straight decision boundary for logistic regression using matplotlib .
I am looking for some contour plot .
Then running a contour plot on this grid .
But there are numerous variations , such as setting it to a value of a distance-weighted average ; or smoothing the final contour ; etc .
Here's an example for finding the initial contour :
Correct placement of colorbar relative to geo axes ( cartopy )
Usually I do this by getting the current axes position as basis and then create new axes for the colorbar .
This works well for standard matplotlib axes but not when using Cartopy and geo_axes , because this will distort the axes .
Resulting Figure , when using " set_aspect " :
Resulting Figure , when omitting " set_aspect " :
Matplotlib's equal aspect ratio functionality resizes the axes to match the x and y limits , rather than changing the limits to fit to the axes rectangle .
It is for this reason that the axes does not fill the space allocated to it on the figure .
If you interactively resize the figure you will see that the amount of space that the axes occupies varies depending on the aspect that you resize your figure to .
The simplest way of identifying the location of an axes is with the ` ax.get_position() ` method you have already been using .
I could use imshow and " draw " the diagram
how to close a Figure when using tk backend
How can I close a Figure when using tk backend ?
How to draw cubic spline in matplotlib
In your button event you have to clear the Figure , plot the new data and redraw the canvas .
To show how my localization filter is doing , I'd like to plot the grass patches in a graph with the path of the robot .
I want to avoid using ndimage.rotate as it rotates the data of the image , not the image in the axes .
Matplotlib save animation with many frames
I'm trying to save the animation from matplotlib with : #CODE
When I save about 5 - 8 frames it works ok , but when I calculate 100 frames and try to save them the saved animation contains only the last frame .
I show the animation with pyplot.show() and there it looks fine .
It may not be a problem animation , but from the previous part generating the frames .
I also show the animation with pyplot and there the animation frames are what they are supposed to be .
But when I save the same animation as mp4 or gif and try to open it afterwords then all the frames are the same ( only the last frame ) .
I tried to save fewer frames and if I save 5 or less frames then the saved animation is also ok ...
I want to remove the text label ( a , b , c , d ) from both subplots , because for my application those label are long , so I only want to show them in legend .
After read this : How to add a legend to matplotlib pie chart ?
You can turn off the labels in the chart , and then define them within the call to ` legend ` : #CODE
Matplotlib subplots Figure size
I'm attempting to decrease the size of my figures with a title and legend attached .
While the actual figure ends up to my liking , the legend remains large and title runs off of the image .
Try setting ` xlabel ` , ` ylabel ` , ` title ` , and ` legend ` on ` ax ` .
You can also add ` fontsize= ' small '` to the ` legend ` call .
This is an example of what I am talking about with matplotlib 2d hist : " An array of values w_i weighing each sample ( x_i , y_i ) .
However , if I try doing this using a linechart I find that Line2D object is not iterable -- probably because it is not a collection of patches like histogram bars .
One such way is using axes , e.g. #CODE
This produces really nice-looking graphs , although when I " zoom in " too close on various sections of the plotted graph using the Figure View ( which appears when you execute plt.show() , the x-axis values change from standard number form ( 1050 , 1060 , 1070 etc . ) to scientific form with exponentials ( e.g. 1 , 1.5 , 2.0 with the x-axis label given as + 1.057e3 ) .
I'm plotting a bunch of data on a logscale as a scatter plot in matplotlib ( just in case the medium is relevant ) using RGBA colors .
What I would like to be able to do is once I plotted everything , I want to pick out individual scatter points and change their hue to the hue of some RGB color , but preserving the old alpha value .
There were a number of reasons for this , but the primary one is that cartopy has highly non-rectangular axes ( such as Interrupted Goode Homolosine ):
For this reason there are two patches which need to be controlled for transparency : ` ax.background_patch ` and ` ax.outline_patch `
I have no idea how to get this working , with a legend visible , for a 3D surface plot .
First of all , you say you want to make a surface plot , but in your code you make a scatter plot .
Based on the rest of your problem description I assume you want to make a scatter plot .
According to the answer to this question 3D scatter plots won't work with legend so you need to make a dummy plot that isn't displayed to create the legend .
Here's an example related based on your question that adds a legend to a 3d scatter plot : #CODE
If you plot every point in the image with scatter , you won't see your original image and it will be slow .
Is there a way to specify the edge for matplotlib's Rectangle patch so that the border is outside the domain specified ?
As you can see , the edge is center-positioned along the border of the domain of the Rectangle object , and so bleeds into this domain .
It looks to me as though the solution either way is to translate the _points_ that linewidth is specified in into the coordinates the Rectangle is being defined with ( usually data coordinates , can be any Transform ) and then adjust the Rectangle's ` x , y ` .
So , basically draw a bigger rectangle , and adjust ` ( x , y )` appropriately ?
Join two colormaps in imshow
2 ) make an axes and use the locator , formatter #CODE
I want to make a scatter plot with colors .
I'm encountering a strange problem with the matplotlib animation .
Since I have not found any solutions regarding this problem , I've decided to save the result of aframes() in a file , then reading and animating it seperatly which works flawlessly without adjusting the animation code .
I'm trying to create an errorbar plot with multiple y-axes using as a template the plot with multiple axes from here .
and I want to draw the first column in x axis , second column as y axis .
how can I plot 2 sets of contour in one single plot
I am plotting two sets of contour as follows : #CODE
Alternatively you can use subplot .
Now , I am not able to plot the colorbar next to the contour .
how to draw a vector field diagram in python
Can you tell me why my xlabel is not showing up ?
After the ` cascaded_union ` : create patches with ` descartes.PolygonPatch ` , use ` matplotlib.collections.PathCollection ` and replace ` add_patch ` by ` add_collection ` .
Now I'd like to add titles for each subplot .
If they are indeed mpl rc files then based on reading through my current rc file there is no attribute in the ' Axes ' for the color of the title .
# special text sizes tick labels , axes , labels , title , etc , see the rc
#axes .titlesize : large # fontsize of the axes title
Looking a little closer at the Mpl API , axes.set_title() takes kwargs like color= , that are just labeled as valid Text properties .
#URL lists valid Text properties .
I'd imagine somewhere in the mpl source code there's a line that handles what to do when no color kwarg is specified for a given Text object .
Matplotlib rescale figure size after setting xlim
The main problem is that after setting the xlim of the axis ( in particular decreasing xmax from 512 to 50 ) , the figure doesn't rescale to focus on the region of the new xlim ( 0 to 50 ) .
The first one is the original image without changing the xlim .
What would be the right way to remove the extra right margin space after xlim ?
The axis ticks are rescaled after a call to ` yscale ( ' log ')` , but the image isn't .
An alternative is to use ` contourf ` , but with many levels it will slow down too .
We first draw the line and then add the markers as a scatterplot on top of it : #CODE
If you want just the markers to change color , use the same norm and cmap and pass them to scatter as #CODE
I have a scatter plot of X vs .
I can draw a rectangle and then pick all the points within in .
I don't see how you are using a linear regression to draw the rectangle ?
I want to draw continuously ( generate 3 random numbers and draw it using animation ) in Tkinter Frame .
You probably want to use numpy to generate a Gaussian , and then simply plot it on the same axes .
3D scatter plot colorbar matplotlib Python
I cannot add a colorbar to my 3D scatter plot that is coloured in range of ` min ` and ` max ` according to the value of ` bifurWidth ` .
You need to return the handle to the scatter plot in order to plot a colorbar .
Unfortunately I can't get to align the xticks with the center of the bins and I don't understand why I don't have a label at each column of the matrix .
You are setting the xticks to the location defined by your labels , but in reality they are not the same .
Even if I replace the labels with random strings , the result is the same ( i.e. the xticks are not at the location defined by the labels ) .
However , the dates mysteriously transform themselves to an ugly and unreadable format when plotting the same data as a bar plot .
I will be drawing a large number of irregular polygons as ` patches ` ( using ` PathCollection ` , also see ` collections ` documentation ) , after first creating their ` path ` s .
I can draw the vertices using ` path ` s as well ( for example , using circle paths with the right style , placed at the right location .
So , the ` PatchCollection ` in the end will be composed of the polygon edge patches , and polygon vertex patches .
The only issue with this idea is that there seems to be some sort of a disconnect perhaps between the idea that the two patches are " related " , so I am not sure if it's the right way to do it .
I can make a ` PatchCollection ` for each polygon ( let's say I call them ` MyPolygonPatchCollection ` which contains both the edge path patches , and the vertex patches .
I could use ` LineCollection ` and ` Line2D ` objects to draw every edge ( along with the marker style I want ) instead of ` pathch ` es defined from custom ` path ` s ?
If you have all of the polygon coordinate data ahead of time ( and if I understand the question correctly ) , what about just using a ` scatter ` plot of all the points on top of the polygons ?
@USER That's about the same as option 1 ) , I think , where I just draw a bunch of circle paths everywhere .
you don't have to draw circle paths ; ` scatter ` will produce points , which you can style as you please : see [ this ] ( #URL ) demo .
I mean , the ` scatter ` function probably just uses ` CirclePath ` s to do what it does though .
So , instead of using ` scatter ` , which doesn't give me an object I can control as easily as ` path ` s , I might as well use ` CirclePath ` ?
Matplotlib animation doesn't allow me to create bottoms and tops Line2D
I have a program that makes an animation with matplotlib with a line and then errorbars ( verticals )
I'm not sure it's thoroughly documented anywhere , but the animated state of an artist controls whether or not it's included when drawing the plot .
If ` animated ` is True , then the artist will not be drawn when ` fig.draw() ` is called .
To get a sense of why this is useful , suppose you were making an animation or interactive gui ( and weren't using the new animation framework ) .
You'll want to use blitting to make the animation appear " smooth " .
The best way to handle this is to connect a callback to the draw event .
Without the ` animated ` flag , you'll have to redraw the plot inside your draw callback , which will cause an infinite loop .
( The workaround is to disconnect and reconnect the draw event callback , but that's a bit of a pain . )
At any rate , without the ` animated ` flag ( or the newer animation framework ) , that example becomes much more complex .
The only difference when you don't use the ` animated=True ` option in your example is that the line gets plotted in the first call to draw and consequently gets saved to the background .
More importantly , any calls to ` draw ` will ignore the artist that has ` animated=True ` set .
The main ( only ? ) purpose , as you correctly mentioned , is to avoid the animated artist ever being part of the background .
As i can't draw it well by hand , I am using python / matplotlib to draw a sphere and a cylinder than " cut through " and make a curve .
I input a and draw the sphere with #CODE
Now i want to draw the cylinder and if able , the curve that makes the intersection of the two figures ... but no idea ...
So it suffices to vary one of ` u ` or ` v ` , deduce the other parameter and plug into the spherical-to-Cartesian transform to get as many points as you want along the curve and draw using plot .
Have an array in which you just append new bytes as they come and plot that .
though part about this is that I'm not sure how animation behaves if the data array starts getting really big , so you might consider shifting your x axis to the right , deleting your old data and creating a new array periodically .
You are right though in that the issue is with the timing ; the animation interval and time out interfere with each other .
I would set the time out to 0 and read all available data from the buffer in every animation cycle .
How to plot contourf and my graph in the same figure
I have a figure showing the contourf plot and another showing a plot i've made earlier and I want to plot both on the same figure what should I do ?
Here is the code of my contourf plot : #CODE
To have a plot and a contourf plot on the same figure you should use subplots ( see the [ suplots demo ] ( #URL )) .
Then if you want to have a plot and a contourf plot on the same axes , Ajean's answer is the one you are looking for .
For example , to make a normal plot on top of a contour plot , ( such as you want to do ) you could do the following :
Notice that I only used pyplot to create the figure and axes , and show them .
What if I have a 100mx100m large space that I calculate the power at every 1 meter in that space to get the contourf plot of that space at the end .
Also , how to show the values of the density on the contour ?
I'm not sure what you mean by " make the y-axis and x-axis non transparent " ; the line ` ax.collections [ 0 ] .set_alpha ( 0 )` is making the lowest contour transparent ; if you don't want that , don't include that line .
which has a non-transparent x-axis , a non-transparent y-axis and values of the density on the contour .
I'm trying to plot a 3D surface with plot_trisurf from a data loaded which they are work really nice with scatter plotting in 3D like this image :
I have a contourf plot and a matplotlib.collections.LineCollection as mc plot that I drew on top of each other on the same axis but they aren't exactly on top in the case where one is shifted to the left from the other what can I do to make them be exactly on top of each other ?
Where the parts of the blue lines are plottted using LinesCollection and the red plot using the contourf plot .
Your ` contourf ` data ( in both the ` x ` and ` y ` directions ) seems to go from 0 to 99 instead of 0 to 100 .
You could fix the problem by extending your ` contourf ` data to include 100 , but the devil is in the details .
Your contourf data ( in both the x and y directions ) seems to go from 0 to 99 instead of 0 to 100 .
You could fix the problem by extending your contourf data to include 100 , but the devil is in the details .
Based on the John Hunter's answer to a question regarding using patches in animations here , I am under the impression that :
Then when I want to draw the ` patch ` , I do : ` ax.draw_artist ( patch )` .
a function creates patches from data , and then adds them to an ` axis ` object -- basically , I get a list of patch objects back , ` patches ` , where each patch has been added to ` ax ` ; I think the issue might be here , since the patch objects in ` patches ` are not really connected to ` ax ` ..., they were added to it , but passed by copy , not reference ?
the animation function uses the number ( let's say ` n `) received from ` FuncAnimation ` to reference relevant patch objects , and then calls ` ax.draw_artist ( patches [ n ])`
Then , after reading the documentation , which suggests that a patch object ( possibly now connected to an axes object ? ) is returned , I tried the following : #CODE
There's likely an easier way to handle this ( e.g. if you're trying to grab a background , put this part of your code in a callback to the draw event ) .
Matplotlib ` Artist ` s draw on a ` FigureCanvas ` ( e.g. ` fig.canvas `) using an instance of ` Renderer ` ( e.g. ` fig.canvas.renderer `) .
Often it's best to put code that needs a draw to have happened into a callback to the draw event .
If you're using the ` matplotlib.animation ` framework , then you don't need to draw the artists inside of the update function .
The animation framework will take care of that step for you .
So , what I am trying to do is something similar to what is described in this post : #URL -- essentially , I am setting up all the patches first , and then in the animation function , I select which patches have " draw_artist() " called on them ( as per your answer here : #URL .
In my post , I added a relevant function that makes the figure , patches , and then the ` animation_function ` for ` FuncAnimation ` .
Matplotlib animation of a step
I creating a Matplotlib animation of a step function .
You're wanting an animation with " partial steps " in between .
Incorporating this into your animation example , we'd get something similar to : #CODE
I'm trying to create a scatter plot on a log-log scale .
artists on the twin axes ` ax2 ` on top .
So one way to solve the problem is to use ` ax ` to draw the bar plot and ` ax2 ` to draw the line .
Alternatively , the ` zorder ` of the axes can be set so as to draw ` ax ` above ` ax2 ` .
I am having ' similar ' issues to Matplotlib , legend with multiple different markers with one label .
I was able to achieve the following thanks to this question Combine two Pyplot patches for legend .
However , my two ( venus and mars ) markers overlap in the legend .
A possible workaround is to create a two column legend with blank labels in the first column : #CODE
I actually plot two extra " plots " , ` point_g ` and ` point_r ` which have the legend handles we will use .
I've had similar issues in the past ( the figure not resizing at start up ) and moved the recalculation of the figure subplots to the ` draw ` method .
I would like to draw some text behind a ` Poly3DCollection ` object , unfortunately using the ` zorder ` keyword doesn't seem to produce the effect requested .
I am using the following code to produce an odd number of plots that I want ' butted ' together and sharing axes .
However , when I have odd number of subplots ( e.g. 4x2 defined but with only 7 subplots ) , as shown in the example , I want the x-axis tics to appear on the x-axis of the bottom right plot as well and not only on the left-hand side subplot .
It doesn't seem to be a custom Figure , or you'd be calling methods on its axes ( or other components ) instead of using the ` plt ` syntax .
but ` ax.xaxis.get_ticklabels() ` returns matplotlib Text objects as opposed to a list of strings and I'm not sure how to go about modifying them .
Wow I was looking through the Text object methods and completely missed that one ...
I am trying to draw a series of lines .
To draw the blue line all the way across .
It could probably work with the following line but subplot doesn't have the ` tricontourf ` plot !
I define each axes as subplots of the figure and change their properties to get an ` equal ` aspect ratio and to turn them off : #CODE
matplotlib svg save - light borders around contourf levels
The following code is taken in part from the contour demo of the matplotlib documentation .
I am using contourf instead of simple contour .
The contour plot is shown just as I want it to be within the matplotlib figure window .
I have successfully managed to use a variable in this DataFrame to get my Y Axis #CODE
My interpretation of this is that the plot isn't enforcing my axis limits which appears evident on the plot by looking at the spacings where the axes meet , but using ` ax.get_xlim() ` etc , shows the values that I set so I'm missing something .
I'm definitely leaning towards attributing this to a padding issue where the axes meet but I'm unable to find any documentation regarding this .
Cannot save animation in matplotlib : Windows permission denied
Stretch's Cannot save matplotlib animation with ffmpeg helped with previous errors ( I had ffmpeg path wrong ) , but I kept getting Access denied after fixing it .
Text data from twitter displaying on matplotlib showing up as map object rather than language type
You use the variable name ` dx ` for both the ` Axes ` object and the size of the bars .
Bar Sizes
Bar Colors
You can choose any of the predefined colormaps or create your own .
However , I do not know how to set the size of plot area and as a result when I output the chart , the legend on the x-axis comes out cut in half .
There is a tight_layout() feature that automatically adjusts subplot parameters so that the subplot fits into the figure .
The axes list parameters ` [ left , bottom , width , height ]` determines where in the figure the plot will exist and how much area will be covered .
The map is a contour fill .
I want to find out how to transform magnitude value of accelerometer to frequency domain .
` numpy ` and ` scipy ` have a fourier transform module ( #URL ) .
I am doing one program to plot a scatter 3d .
The code runs perfectly on shell console , and draw the scatter .
Provided we have a contour on the xy plane , how can we plot " a curtain " raised from the contour to the limiting surface ?
` matplotlib ` : entire animation disappears when I selectively make arrow patches based on force vector magnitude information ?
If I update it in order to to have a check where I only make patches for force vectors with sufficiently large magnitudes , then surprisingly , nothing gets plotted ( you can imagine I am plotting the vertices , and the polygons as well , and have patches for those elements --- those don't show up either ): #CODE
with out seeing the call to animation code it is hard to tell .
Can you provide a contour plot with all levels ?
I'm attempting to draw a grid where for each value , a corresponding color is drawn .
Color plot with specified axes
where ` scale_x ` , ` scale_y ` and ` scale_z ` are values from 0 to 1 that will re-scale your plot along each of the axes accordingly .
` ax ` is simply the 3D axes which can be obtained with ` ax = fig.gca ( projection= ' 3d ')`
How do I make grid axes invisible for a pandas dataframe hist() ?
Here is what i want to do , histogram plots of all columns of a dataframe but without the grid axes .
The below code works , but preferably I'd like a more elegant solution ( such as passing an argument to hist ) #CODE
Unfortunately that doesn't work , I get ' UserWarning : To output multiple subplots , the figure containing the passed axes is being cleared
use ` %matplotlib notebook ` and then you can mutate your axes / artist objects and the re-draw .
Figure
Can't seem to get this into a ` scatter ` instead of ` plot ` in case it matters for you ( I suppressed the line ) .
Maybe because ` datetime ` should always be in a timeseries lineplot and never in a scatterplot ( I welcome comments that let me know if this is indeed the case and ` datetime ` cannot be put into a ` scatter `) .
I'm trying to scale a contour plot on top of a scatter plot in matplotlib .
Whilst keeping the contours in the same place and allowing for the scatter diagram to be shown ?
Then , I would add ( inside your existing axes ) a small zoomed in version of the plot that only goes from x=0 to 500 .
also what does ` df.plot ( kind= ' hist ' , bins=50 )` show
Colors lost in Matplotlib 3D scatter plot
For a project I am making some 3D scatter plots with the three corresponding projections under it .
However , I don't want a 3D plot that is rotated in a funny way , because the axes get messed up and it's impossible to read it properly like that .
plotting 3d scatter in matplotlib .
Basically I just want to be able to do this with a scatter plot .
For now I just solved it using ' plot ' instead of ' scatter ' after all .
Could be a work-around to keep the scatter
You need to use the ylim and xlim parameters .
Use xlim and ylim #CODE
If you really need to set limits before you plot data you can turn off autoscaling first and then set limits with ` xlim ` and ` ylim `
If you want separate colors for each point , you could use ` scatter ` : #CODE
EDIT : Additionally , it turns out that since you want to plot points , you should use ` scatter ` instead of ` plt ` because it automatically adjusts the limits for you .
But is there any helper that I can use to set the ` xlim ` , ` ylim ` value ?
@USER If you use ` scatter ` instead of ` plot ` to plot points , it will automatically rescale the axes limits .
No Error But I see only empty map but no scatter plot of data on that .
When you plot a line between ( 0.0 , 13.0 ) and ( 27.82 , 13.0 ) it will draw a flat line between 0 and 27.82 , at the level of 13.0 .
Python & Matplot : How can I draw a simple shape by points ?
I just want to draw simple shape by points , like this : #CODE
I mean , directyly draw by points , rather than 2 array .
Can I draw the shape without giving the specific points order ?
I think a more proper description would be ` draw simple shape without ordering points ` ?
For better polygon support , use the patches module [ example ] .
This is a transparent colormesh plotted over the scatter plot .
You could also colour your scatter plot by the value at point , #CODE
How to set axes limits in each subplot
I created a subplot figure with this code : #CODE
Now on a loop I make a plot on each subplot by doing : #CODE
Is there a similar code to set the axis limits of the subplot I'm accessing ?
Using ` axs.flat ` transforms your ` axs ` ( 2 , 3 ) array of Axes into a flat iterable of Axes of length 6 .
If you only are using the ` range ` statement to iterate over the axes and never use the index ` i ` , just iterate over ` axs ` .
Using sharex will couple the axes .
You need to add ` ; ` to the end of your line with ` hist ` .
@USER oh dang it , I meant surface plot , not scatter plot .
Also ` ax.grid ` controls the grid on the axes , you are seeing the grid coming from the Aritist .
I want to plot ` x ` and ` y ` on a scatter plot , and color them according to whether the label is ` 0 ` or ` 1 ` , and I want a colorbar on the right of the plot .
You need to pass ` col3 ` to scatter as an array of floats , not a tuple , and not ints
You need to tell scatter to use the cmap too .
Picking a new color for each contour component in matplotlib
Sometimes a specific contour level has several components .
Behind the scenes , a class called QuadContourSet is used to store all the contour paths in " line collections " , one line collection per level .
The line collections are styled all together .
My idea was to subclass this class and replace the function _get_allsegs_and_allkinds with a function that separates the line collections to one line collection per component , instead of per-level .
how to avoid some function in the legend ?
There is a simple way to skip the constant line marker in the legend frame ?
This is because there are actually 10 lines in your plot but your legend only shows 5 labels .
Because you set the Axes.hold property to True , the Axes is not cleared , but a new line is added to Axes object every time you call these commands .
I recommend to read the Artist tutorial and of course the Legend guide .
Maybe I'm not following but it doesn't look like your reference line ` axhline ( y= 0.1 , ... )` is included in the legend .
Note : If you want to do this interactively ( i.e. draw on a button press ) then you'll have to call ` plt.legend() ` upfront and call ` plt.draw() ` after each new line is added , that way it'll update the legend .
This is what my animation function ( i.e. the one that gets called by ` FuncAnimation `) looks like : #CODE
` patches ` is a pre-generated list of patches ( possibly large ) , that have already been added to an ` axes ` instance .
One idea I have is that I can parallelize the ` for ` loop , but likely that won't work because of issues with the ` axes ` instance being accessed and modified in parallel .
Python Matplotlib : add legend with the exact value of a mean lien
I think that the plot would be more clear if I add the legend .
I want to create a legend , which says what exact values have this two mean lines .
Below I attache my code and the plot which I generated and the picture which shows what I want to achieve ( it is picture where I added the legend using powerpoint ): #CODE
Assign the ``` Line2D ``` object that is returned by ``` axvline ``` to a name / variable . then use that as an argument to ``` legend ``` - like in this [ example from the gallery ] ( #URL ) .
As you see i tried to use animation and traditional way ( call function within infinite loop using time.sleep ) but nothing work !
In addition to the base layer ( a filled contour plot ) , I overlayed a shapefile of this focus region atop the data using Matplotlib's readshapefile tool .
I had to save " fig " and " ax " from the plot ( I think it is figure and axes ? ) .
matplotlib : get annotate arrow path coordinates
I would like to draw a curved arrow between two points and position a text label over the middle of the arrow .
Here is an example where I have used annotate to draw a curved arrow from ` ( 0 , 0 )` to ` ( 0 , 1 )` .
I have already tried it using ` subplot ` but the receptive fields are too far from each other and I can barely see them .
So your question is really how to draw 300 images next to each other ?
But I also guess that there are some colormaps that suit this task really well .
I found out that ` spectral ` colormap is the best for this kind of tasks and
How do I plot a projection of 3D scatter data on the XY / XZ / YZ planes ?
I have 4D data ( 3D scatter points + color ) plotted using matplotlib's mplot3d library .
To aid in parsing how the cloud of points is distributed in space , I'd like to show a projection of the cloud across each of the 3 planes ( XY , XZ , YZ ) using a 2D histogram / contour plot .
This technically works , but I think replacing the buck-shot from ` ax.plot ` with the contour plots would be more visually pleasing : #CODE
So to be clear , is there a way to plot the XY , XZ , YZ 2D histograms plotted with ` imshow ` above on the associated 3D axes ?
A ` contour ` -based solution would be fine as well .
If you are okay with using ` contour ` or ` contourf ` , you can do something like this : #CODE
I am working in python and using Anaconda with Spyder and I need to plot a scatter plot in a part of the code I am working on .
Convert your data from ' data space ' -> [ 0 , 1 ] ( ` Normalize ` and it's subclasses instances )
` Normalize ` ( linear )
If not specified , a ` Normalize ` ( linear ) instance is used .
Sympy , plotting geometric entities yields either ImportError : no module named ' plot ' or AttributeError : ' Circle ' object has no attribute ' is_3D '
matplotlib scatter colorbar produces strange visual artifacts
I'm attempting to add a colorbar to a 3-D scatter plot .
Matplotlib worldmap plot with legend auto generate
1 ) How can I generate a Legend with the information that is being pulled from the database onto the map ?
You can think of the two axes as the x and y axis , and the z-axis is the axis coming out of the screen .
Per the ( many ) answers to this question , I should try to use plt.subplots() to create figure axes when I'm not interested in an audience of ` MATLAB ` users .
One thing that isn't clear to me ( and is not shown in the documentation ) is how to create subplots that span multiple axes using this invocation .
What do you mean " span multiple axes " ?
As in multiple ` Axes ` objects ?
If the ` Axes ` objects are different sizes , you are much better off using [ ` gridspec `] ( #URL ) /[ ` gridspec ` with variable cell sizes ] ( #URL ) or [ ` subplot2grid `] ( #URL )
At the end of the day , they're all just different ways to get a collection of ` Axes ` objects .
I have a plot where I'd like to annotate a specific location on the x-axis with an arrow and a label :
I would prefer to have the label stay at a constant position in y regardless of how I scale or pan the y-axes .
If you reproduce this figure then pan or scale it , you will see that the text moves in x relative to the axis bounding box , but remains in a fixed position in y .
Pass the transformation to the ` xycoords ` and ` textcoords ` parameters instead of to the ` transform ` parameter .
See Annotating Axes for more details " _ .
This leads to [ Using Complex Coordinate with Annotation ] ( #URL ) , which gives some good examples .
Is there any way I can maybe resample ( wrong word ? ) the data so that I can have axes on a minute by minute basis while still maintaining the data points in the right place ?
I moved out of the loop ` xlabel ` , ` ylabel ` and ` axis ` calls , because there is no need to set labels and axis properties on each iteration , you can do it just once .
' axes = set ( a.axes for a in artists )
Is there any other method to do the animation ?
Why do sns.lmplot and FacetGrid+ plt.scatter create different scatter points from the same data ?
My aim is to draw a 2x2 figure panel describing the relationship between Av_density and pred2 separately for each LOC (= location ) with years marked with different colours .
Figure method 1 , FacetGrid + scatter : #CODE
This produces a nice scatter of the data accurately .
Figure method 2 , sns.lmplot : #CODE
This produces the figure panel divided by LOC accurately , with Years in different colours , but the scatter of the data points does not look right .
Instead , it looks like lmplot has linearised the data points , and lost the original scatter points that it is supposed to be drawing in addition to the regression lines .
Good suggestion , and yes , I did try that , and then the scatter points look exactly the same as in the 1st method .
But isn't the problem then that adding the regression , which changes the scale on the y-axis , hides the variability of the datapoints ( so that the scatter cannot be seen ) ?
Setting ylim and xlim works perfectly !
seaborn , pylab - changing xticks from float to int
The xticks are supposed to be 0 , 1 , 2 , 3 but they are plotted like so : 0.0 , 1.0 , 2.0 , 3.0
Thanks that works - so this question remains unanswered or is there a way to manipulate the xticks from float to int in seaborn / pylab ?
How to draw rounded line ends using matplotlib
This will work equally will with ` plt.polar ` , which is a convenience method for creating a polar axes and calling ` plot ` on it , and the the ` Line2D ` object returned by it .
To the OP , note that this will also work as a kwarg to ` plt.polar ` , as it just creates a polar axes and passes things on to ` ax.plot ` .
I don't really get what you are trying to achieve here , but your plot_figure method is never called , hence there is no subplot to show and you only have an empty canvas .
Does anyone know if the background color of the check box could be made the same as the line it affects ... something like a legend ?
Due to the way the app is designed , when the user wants to change a property of the figure , such as the ` xlim ` for example , the input is received in a dictionary such as ` { ' xlim ' : value} ` .
Look how ` key ` is being used -- its name ( ' key ') , not its value ( ' xlim ' or whatever ) .
And since ` key ` is not a property of ` axes ` , this results in an error .
I had problems with my structure some of which were ` self.canvas ` which needed to be created before the 3D axes could be added to the canvas , otherwise it resulted in the ` Axes3D.mouse_init ` error where it wouldn't allow rotation as it couldn't find a canvas .
Some values weren't quite as visible in my pcolormesh plot so I needed to sensitize it with something like log , but because I have values less than 1 I opted for sqrt .
This lead to my colorbar having sqrt ticks and I want to translate them back to the original values .
Line graph with multiple axes matplotlib
But can we have one plot with ` 2 x axes ` and ` 2 y axes ` for same line graph .
How can I have all the 4 axes in one line plot .
has ` r ` as a function of ` z ` , but does not change with ` theta ` ( so , the end product looks like a revolved contour ; for example , the case of ` r = sin ( z ) + 1 ` ) .
But I'm trying to add a third axis to the scatter plot so I can visualize my multivariate model .
For a scatter plot , you can use something like #CODE
The most common approach is to vary the color and / or size of the scatter symbols .
I haven't begun working on what I'd like to X Axis to really be yet , which would be the latest 10s of data .
Expediting matplotlib's scatter function in a pyqt wrapper
I am trying to plot real-time data using matplotlib's scatter function ( ~200 fps ) with a pyqt wrapper .
blitting has nothing to do with plot , it works with any artist .
Could you provide an example of blitting with scatter ?
See #URL and just relpace ` line ` with the object returned by scatter and change ` set_data ` -> ( iirc ) ` set_offsets ` , you will have to check the docs .
I'd like to somehow " concatenate " two images ( so they appear side-by-side for example ) and save , produced with different colormaps .
Figure a , with ` jet ` cmap
Figure b , with ` copper ` cmap
Figure c
Now I want to scatter this array on a 2D plot .
I've tried with scatter plot in matplotlib , but somehow couldn't make it work .
Using matplotlib's patches in julia
Using the output from a computation in julia ( working in IJulia ) , I'd like to draw a figure using matplotlib's patches module ( via Steven Johnson's ` PyCall ` and ` PyPlot ` packages ) .
My attempt at the same thing in Julia stalls at the subplot #CODE
I would be fine with using size of the dots instead of colour if there was an easy way to generate a legend for the sizes
Then you get the mappable thing ( the collection made by scatter ) out of the AxesSubplot seaborn returns , and specify that you want a colorbar for the mappable .
Python scatter plot 2 dimensional array
I'm trying to use a scatter plot to do this with :
When a plot is displayed I want to be able to interact with it ( i.e. zoom , pan , etc . ) and wait until I'm done before the next plot is displayed .
Setting a picker for items on a legend in matplotlib.pyplot
I would like to add a picker function to the legend which , when a certain line is selected , would set the alpha of all other lines to 0 , rendering them invisible .
For each row of pixels , I would like to plot a curve to the data and append the x-location of the vertex to a growing list .
I am looking to plot y vs x in a scatter plot , where the points are connected y lines like this plot : #URL
The column headers must be in the legend and the x-axis needs to have labels .
I am using python's matplotlib to draw figures .
I want to draw a figure with a timeout , say 3 seconds , and the window will close to move on the code .
I want to access a library ` MATPLOTLIB ` in Python to plot scatter plots with ease but I am coding in OpenCV with C++ .
Have you considered just writing the scatter plot data to a file using C++ and then just post processing it in Matlab or Python ?
As suggested by the post , I need to extract streamlines and arrows from a 2d plot and then transform it to 3d data .
How to transform this 2d streamline data to 3d data and plot using mplot3d ?
Map to 3d and draw 3d-arrow using one or more segments , depending upon the arrow density you want .
In the middle subplot , I currently have gridlines , but I want to remove the x axis tick labels .
However , I'm not sure how ( or even if ) I could draw the ` scatter-plot matrix ` in it .
calling contour without plotting it , python , pylab inline
For an algorithm I am using contour , but I'm only interested in its collection of paths .
from the start , and it is now too painful to rewrite the code without the inline ( many functions have to be declared more carefully , like np.something() instead of something() , etc ... ) , I was wondering if there is a way to call contour without it plotting the contour map ?
There is not specific option to suppress plotting of a contour ( as far as I can see ) .
For your case , it may be simpler to achieve the suppression of a figure in pylab inline by switching back to a different gui , e.g. using ` %pylab qt ` and then call ` cs = contour ( image_matrix )` .
This may not show anything without an explicit call to ` plt.show() ` and you can use ` cs ` to get the contour information you need .
You can turn ` xcoordinate ` and ` xcoordinate ` into a list instead , and append random points in it .
F = ( y 2 z , -xy , z 2 ) = y 2 z x - xy y + z 2 z , then ` y ` would be ` R [ 1 ]` , ` x ` is ` R [ 0 ]` and ` z ` is ` R [ 2 ]` while the vectors of the 3 axes would be ` R.x ` , ` R.y ` , ` R.z ` and the code to calculate the vector field curl is : #CODE
When making scatter plots , there are many options for diverging colour maps , that emphasise data at the extrema , but no options for a converging colour map , that emphasises data near the middle of the range .
My use case is a scatter plot where each point represents a fit to a different data set , and colour represents the reduced chi squared of the fit .
( Or , of course , do a mathematical transform that stretches out that range , plot with any colormap , and relabel the ticks to invert the transform . )
Matplotlib : Format legend as table
I am new to ` matplotlib ` ( I usually use R for graphics ) , so I don't know everything , but can I format legend as table ?
I also have an older version of matplotlib ( 1.3.1 ) where this code does not display the legend .
If you want to access the ` Figure ` for saving , I personally write like this : #CODE
To do so , I have this piece of code ( I omitted non-important parts , like contour plotting ): #CODE
How do I make matplotlib zoom and pan tool work with line markers
The problem comes when I try to use matplotlibs zoom or pan tools provided in the NabigationToolbar2Wx() .
My data points are fairly close together so this zoom and pan functionality is necessary .
matplotlib has an ` animation ` module , take a look at this example : #URL
yes , Using animation module with ` repeat = True ` and by modifying the ` interval ` argument to control the time between plots .
Adding Navigation Toolbar to the Figure ( matplotlib and PyQt4 )
Matplotlib automatic legend outside plot
I am trying to automatically place the legend outside the plot using ` bbox_to_anchor() ` .
In this particular example ( above ) , the legend is placed below the plot so the number - 0.15 needs to be manually entered each time a plot is changed ( font size , axis title removed , etc . ) .
legend below plot
legend above plot
legend to right of plot
This is causing them to be cut off , in the legend .
If you set ' upper left ' and e.g ( 1 , 1.25 ) the legend is outside of the plot .
A pandas plot may have a dozen different lines with different legend labels .
I have regular mesh which I want to draw .
I've tried to change limit for axes but it didn't help .
The attached minimal working example shows what I'm trying to achieve using np.loadtxt ( minus the legend ); but I can't find a way to import the column labels from the .csv file to make the legends using this approach .
Here is an edited version of what you have here above that reads the labels and makes the legend : #CODE
How to make an animation of rocket motion in matplotlib ?
But , instead of the ' Position with respect to time ' graph , I want to make an animation of the rocket motion in the z-direction ( vertically upwards ) .
The animation should be in animated GIF format .
This shows an animation :
But matplotlib still wouldn't export the animation as .gif .
Matplotlib more than 3 lines on same axes
using a pdf image inside a subplot in matplotlib
I want a pdf ( preferably ) image inside a subplot in matplotlib to show the plots at different stages of the cycle .
I tried with ` imshow ` but could not get it inside the subplot .
By cycles I mean the small pdf at the top of each subplot indicating percentages .
I want to know if I can place this cycle indicating pdf with matplotlib inside the subplot on the top .
posted the part of the code where I am trying to add the image into my subplot .
I tried converting to the raw string but escaping this symbol inside annotate is too tricky !
I just tried to draw a x-axis shared plot .
I am trying to draw a barplot with bars with no borders .
The subplot idea seems very good .
Thanks I will have a look at axhspan and subplot .
Is there any easy way to do it or do I have to transform my array into a long list ?
You can trivially get a contour plot with matplotlib's ` contour ` or ` matshow ` .
I want to draw contourlines of three parameters on the same plot and label those contours .
The problem that arises is that the contour labels correctly clip the contour they belong to , but not other underlying contours ( note the dotted line below the contour label on the right )
I am aware that ` clabel ` does some magic to remove the contour segments below the label and that these contour segments are stored in the collection of contours I call ` cplt ` and ` tplt ` in my code example above .
How to plot a ` imshow() ` image in 3d axes ?
Unless you have a strong reason for using ` imshow ` , you may find it better to use ` contourf ` , which is supported in 3D as of matplotlib 1.1.0 , #CODE
The ` contourf ` gives same plot .
The advantage of filled contour ` contourf ` is that you have full control over colour limits like ` vmin ` and ` vmax ` , you can display the colorbar with the correct range and you can specify the smoothing / number of levels ( 100 in the example above ) .
The ` imshow ` mapped onto a surface is a great idea but it's a hack whereas contourf is actually supported in 3D .
You can use the ` transform ` keyword : #CODE
You'll need to subclass ` matplotlib.colors.Normalize ` and pass in an instance of your new ` norm ` to ` imshow ` / ` contourf ` / whatever plotting function you're using .
Unfortunately , I am still uncertain why a masked numpy array is being used in the original Normalize class ??
are you really concerned about the gui plot , or would it be enough to just get a pdf / png without the large margins ?
When I plot a single parameter ( or multiple parameters with the same axes settings - code snippet below ) , I get an output as shown below - where the interactive plotting window allows the viewer to reset the axes scales .
Figure 1 should show up on top of figure 2 .
You can for example use ` xlim ` to get the range of x-axis and with the user specified interval , you should be able to draw the grid yourself using ` ax.axvline ` as in this example #URL
To use this along with Networkx you can either create the axes using subplot ( or some other function ) as above and pass that axes to draw like this .
but it gives me an error when I try to set xlim / ylim .
Animate scatter plot
Basically , you declare a Node , connect it to other Nodes , and it makes pretty 3D networks .
With the way it works right now , every time a Node is instantiated , the plot is added to with another data point .
I'm not familiar enough with matplotlib's animation tools to know the best way of doing this ( my attempt at following the example from another post is commented out on line 83 , and hoped someone could offer me some tips .
Move legend outside figure in seaborn tsplot
from the tsplot documentation , but with the legend moved to the right outside the figure .
Based on lines 265-266 in seaborn's timeseries.py , it looks like seaborn's ts_plot currently doesn't allow direct control of legend placement : #CODE
I would like to plot the contour lines for this function , however I cannot find any useful way to do it .
I am not sure if python has a direct tool for this , but you can select a few values of say , z , and do a separate contour plot for each value , giving you a picture of the overall function .
If not and the ` X , Y , Z ` are just mock arguments not Cartesian components , you'll probably have to resort to multiple series ( mentioned by dermen ) , video , scatter plots with varying sizes , colour-coding , or projecting onto ` X , Y , Z ` , so plotting ` V ( X , Y )` , ` V ( Y , Z )` and ` V ( X , Z )` separately .
An error will arise when you try to pass ` contour ` three-dimensional arrays , as it expects two-dimensional arrays .
You can use instead ` contourf ` to show the surfaces , which looks nicer in my opinion .
I have successfully animated the response but the animation is 20 minutes long instead of the 60 seconds I would like .
When I start the animation in Spyder it is working fine and goes to the end , but when I try to save it it goes only for first 30% of animation .
How can I make it to save the whole animation ?
I'm trying t animate a surface using matplotlib's built in animation routines , and I'm not sure where I'm going wrong .
Applying colormaps to custom axis in Matplotlib 3D surface
How you can define the dimensions of a subplot ( in inches ) within a figure with matplotlib ?
My figure has dimensions of figsize =( 10 , 10 ) and one subplot within it .
How can i define the dimension of the subplot to be 8 inches W x 8 inches H regardles the data range the subplot it shows ?
if the subplot in your figure occupies ( 80 , 80 ) % of the width and height respectively , is that what you're going for ?
Or do you want the subplot to occupy 8 inches width and height regardless of the figure size ?
Regardless of the figure size I want if possible the subplot to have a constant size .
Of Course the figure is bigger from the subplot to accomodate any labels .
@USER One option is to define the subplot as a standalone figure and set its size in inches , then insert as a subplot inside the ' master ' figure .
[ How do I include a matplotlib Figure object as subplot ? ] ( #URL )
One option is to use ` fig.subplots_adjust ` to set the size of the subplot within the figure .
So , for an 8x8 subplot in a 10x10 figure , ` right - left = 0.8 ` , etc .
does hspace or wspace parameters have any effect if there is only one subplot ?
Here is my code snippet to draw an integral function by ` NumPy ` , ` SciPy ` and ` MatPlotLib ` libraries : #CODE
Create legend for scatter plot using the label of the samples in matplotlib
I am using scatter plot in matplotlib to plot some points .
how to add legend for scatter() ?
4 on the legend , can I show class0 , class1 ,...
When the code was static , i used path and patches to draw the polygons , like #CODE
But of course doing this while the polygons are updated causes to draw over the last polygon , and it is not a clean update .
I do can draw the vertices without the lines as ` points = ax.plot ( vertices [: , 0 ] , vertices [: , 1 ] , ' . ') [ 0 ]` and update them by using ` points.set_data ( ... )` , then drawing the canvas .
It will draw a box moving in a circle .
Indeed , the main changes is that for many polygons I have to iterate over the list that contains them , then build each patch and finally draw everything .
) to the current axes in the current figure .
the figure and axes objects .
create figures , and through those figures , one or more axes objects
These axes objects are then used for most plotting
I'm wondering if using " raw " Matplotlib ( called " object-oriented approach " in their docs ) would allow you to avoid the problem - from what I can see its API is more traditional - you create an instance of a Figure class and call its methods to create your chart , so all the state is incapsulated within that instance and is not stored between requests .
With my primary application , I can refresh between all 3 existing views , multiple times , without the SVG image combining that I found with prior versions of this code .
I want to plot a line using the bold ` linestyle= ' k- '` and after a certain value on the axes , I want the same line as dashed ( `' k -- '`) or vice-versa .
@USER well if you ignore the figure I posted and use the code I provide as it is , it is producing exaclty the same as your matlab script , which says ` sigma = sqrt ( 2 ) .
Sorry , just realized I mixed something up ... integral over ` norm ( t*n , 0 , 1 )` for t=0 to x is equivalent to ` normcdf ( t , 0 , 1 / n )` , which looks similar to ` normcdf ( t , 0 , sqrt ( 2 ) / n )` which is why your script * looks * like it is producing the same figure but technically it is not .
( e.g. ` scatter ` : #URL )
However , with ` gridspec ` , I always get one legend laid on other axis and one lost .
You can specify the axes for plot to use instead of creating a different axes each time you call it .
To redraw the plot in interactive mode you can use draw instead of show .
Thanks , it seems to work , but It increases the number of lines at each refresh .
I.E. at the first refresh I have 11 lines at the second 22 and so on and so forth ..
Try clearing the axes ( ax.cla() ) each iteration before plotting it .
This axes props demo shows how to get the grid-like effect in your graph .
Different color for each set in scatter plot on matplotlib
How could I set a different color for each set in scatter plot on matplotlib ?
Graph Plot axes scaling / design / time format
I like to have a ( light ) grid in the background and at least normal lines on the axes .
How can I add the legend below ?
I need to produce scatter plots for several 2D data sets automatically .
Now , I don't want to set ` aspect= ' auto '` as my default for all data sets because using ` aspect= ' equal '` is actually the correct way of displaying such a scatter plot .
I used animate tools to change bar hight but it is very slow.so i don't want to use animation tools , Here i create a start button on page three , when pressed this button the bar graph will update but this is not updating , how can i do this """ #CODE
Plot hlines in embedded graph ?
Moreover , following the matplotlib embedding in tk example , I wouldn't use ` pyplot ` but use ` Figure ` ( which you have imported but don't use ) .
` set_yticklabels ` is the method of ` Axes ` instance , and is not present in the ` pylab ` interface .
` gca ` here stands for get current axes .
It would also be helpful if you plotted your input x and y data on the same axes .
There is a error in the line where i have plotted 10th subplot and the 10th subplot is not getting displayed in output .
Integer subplot specification must be a three digit number .
PyQt4 How to draw border around embedded Matplotlib FigureCanvas
how to draw a border around a FigureCanvas ?
The only thing I could think of to try next would be to embed a separate QFrame ( generic QWidgets don't support borders according to the Qt stylesheet reference ) inside the current tab and place this frame horizontally alligned with the QGroupBox - then embed the mpl FigureCanvas into the QFrame - then draw a border around the QFrame - but that seems like a really roundabout way
Python : xticks and labels stuck on one side of the subplot
This is a guess , but the length of ` x ` is 288 , while the length of ` xticks ` is 13 .
However - if you look at your values in ` x ` ( i.e. the actual x co-ordinates that you are plotting against in the ` contourf ` line ) , you see they run from ` 0 ` to ` 40030154.74248523 ` .
I've put in the code below that you might have provided - retaining the subplot loop - although in reality you will likely get the same effect even with just one plot , rather than subplots .
In ` groupby.plot ` function I can only set ylim for left axis .
The Pandas plot function returns an array of axes and you can get the right axis from from each axes with ax.right_ax .
matplotlib different custom styles for hist plot scatter
I'm successfully plotting a 2d scatter plot : #CODE
attempt to convert to scatter plot : #CODE
How to create a legend in matplotlib
This is a nice tutorial on colormaps .
Plot hlines on fixed x values when click happens between x values
The simplest way to adapt your code is probably to start an empty list before the loop , append the values from ` c ` onto it within the loop and then plot it after the loop .
Making a polar plot using cartesian axes is not an option as I need a polar grid , but such a grid is not regularly-spaced in cartesian coordinates , and streamplot requires regularly-spaced points .
Equal aspect ratio for each of the axes is a requirement .
I'd love the widths to match between subplots and the height to be defined by the aspect ratio of the subplot .
Use matplotlib Axes autoscaling without plotting anything
Both axes are scaled in a sane matter based on both the range and order of magnitude of the data .
How do I learn what those limits would be , or even apply them to an existing Axes object without actually drawing anything on it ?
Ahh , it's the call to ` autoscale ` that I'm missing .
But , if I want to use an init_func , and I do , because I want to do more with my animation , I tried : #CODE
and update the animation lines as follows : #CODE
I would like the colorbar for all the figures to be the same , so that they can be joined into an animation .
colormaps have ` set_bad ` , ` set_over ` , ` set_under ` methods .
However , ` contourf ` ( and also ` contour `) take the ` levels ` at which you ask it to draw the contours into account when mapping the colors :
You can add another subplot .
You need to specify the color of the faces from some form of colormap , for example if you want 20 bins and a ` spectral ` colormap , #CODE
I am trying to overlay contours on top of a filled contour plot in matplotlib for some atmospheric data .
However , my contour labels are not always showing up onscreen .
As you can see , the contour labels are only appearing on the innermost few contours .
Knowing that my contour range is defined earlier as #CODE
My input dataset was a global dataset , and when I bound it ( seen in the white areas below ) , the contour labels showed up mostly within the map boundaries .
This still seems like a bug- my choice of a display region changes the locations of the contour labels in almost every other meteorological graphics program ( like GrADS ) , but I'm going to mark this answered for now .
1 ) The square box of the axes for each of the plots in the figure .
Do you want to do these changes selectively for ` ax1 ` or for both / all axes ?
However , this will apply the changes to all axes .
So if you want to keep the standard colors on ` ax2 ` , you will have to dig into the axes object and find the corresponding artists for all the lines and text elements : #CODE
I've been using the IEP from pyzo before trying out Sublime Text ( ST ) .
I am sure that Rectangle selector proposed by Ed Smith might work , but I had trouble getting the example code to work and was confused about where the values were stored and how eclick and erelease worked in context with other event handlers .
I know that I can achieve a similar effect by adding new axes to the main plot , but I'd prefer to be able to use an annotation , so that once I get this working I can start using ` DraggableAnnotation ` s and the like .
does not achive this , because it results in both the curve for Y1 and Y2 being displayed in the same subplot for each value of A .
@USER This is indeed possible ( e.g. using #URL ) and works to some extend , however , then by default all y axes get the same scale , and the Y variable is displayed in the title instead of to the left .
Currently I repeat the whole code and change the fill_between for each subplot .
changes axis of scatter plot with slider matplotlib python
You just don't see this because you update wrong subplot .
Just select right subplot to update : #CODE
selecting the correct subplot fixes this :
I have a scatter plot with X axis from 150-360 and y from 50-260
What I want is a I can draw another line at -45 degrees to act as a guide to show that the actual line is " close " to -45 degrees ?
well I plotted the scatter plot using matplotlib and numpy arrays .
Now I need to plot the contour plots of chisquare , after subtracting its minimum .
if you remove it , you will be able to use the hist function .
However , I find that in many cases for discrete data I want ` value_counts ` rather than ` hist ` , because ` hist ` bins the values , whereas ` value_counts ` actually counts each individual distinct value .
even ` firstperiod.megaball.value_counts() .sort_index() .plot ( kind= ' hist ')` produces that same incorrect chart ...
@USER : Because ` hist ` * bins * the values , it does not necessarily display a separate bar for each individual value .
@USER : You could use ` hist ` .
pandas matplotlib .plot ( kind= ' hist ') vs .plot ( kind= ' bar ') issue
That's because the " hist " plot is not just plotting data , but actually first estimating the empirical distribution of the raw data and then plotting the result .
That is , " hist " is going to bin the data , count the instances per bin and plot that , so there is no need of doing the ` value_counts() ` ourselves .
Centering the last matplotlib subplot chart when working with odd number of charts
if i have 5 charts , how can i center the last ( 5th ) chart if i've made a a 3x2 subplot ?
For centering the 5th subplot , see this answer .
matplotlib histogram issues - xticks and excess space in charts
subplot seems to leave extra space in some of the charts on the right hand side .
Do you mean xlabel ? ...
This happens because adding the same ` patch ` ( or , more generally , the same ` Artist `) to more than one ` Axes ` is not supported : the ` Artist ` can only hold the necessary transform for use in one ` Axes ` .
Future versions of matplotlib will raise an exception when the user tries to add an ` Artist ` that is already associated with an ` Axes ` object to another ` Axes ` object .
In order to appear at the correct axes it also requires the axis to which it is attached #CODE
I have several questions regarding the Normalize class in Matplotlib .
I would like to produce a complete subclass of Normalize .
I agree that this might be due to the incompleteness of the class so far ( I am still trying to make sense of the basic Normalize class ) in which case I would like to know how to resolve this .
Can anyone point out to any resource that discusses the Normalize class ?
Does anyone know about examples or a tutorial where the other Normalize subclasses ( e.g. PowerNorm , LogNorm ) are used and / or explained ?
How to draw a filled arc in matplotlib
In matplotlib , I would like draw an filled arc which looks like this :
What would be the best way to draw one ?
You can draw a wedge , and then hide part of it with a triangle : #CODE
This is already enough , as we can set the ` close ` flag in the ` Polygon ` constructor which will add the line from the last to the first point ( creating a closed arc ) .
Well you can round off your colorbar numbers to 1 or 2 decimal places so that they don't overlap with the y-axis numbers of your second and third subplot .
How to get Frame reference from Figure Manager ?
The normalization class instance is then saved as an attribute of the artist .
I want to visualise matplotlibs colormaps ( similar to #URL ) and use it as QPixmaps in PyQt widgets .
I am trying to annotate a scatter plot in Python 2.7 , with Matplotlib .
EDIT : Additionally , does anyone know if I can still create a toolbar object but not draw it ?
Python - Superimpose 2 plots in subplot with matplotlib by using alpha channel
I try to get the contour of the right figure on plot of left :
I use the command below to get the contour and to add it : #CODE
yep and i need only the contour of the third plot to superimpose on it ...
Perhaps you need to make sure you have the right subplot selected .
I am using matplotlib to show some animation timeseries by redrawing the plot in a loop .
As bonbon I included a slider and a ' play ' and ' pause ' button in order to move trough the animation .
The problem at ` plot.pause() ` is that it slows down the animation extremly .
subplot seems to leave extra space in some of the charts on the right hand side .
In your case , perhaps try passing the axes objects returned by subplot2grid ( e.g. ` ax1 = plt.subplot2grid ( ... )`) , into your plot ( e.g. ` series.plot ( ..., ax=ax1 )`)
I have a plot with me which is logarithmic on both the axes .
It also gives me the logarithmic scale on both the axes .
If you transform this ( raise 10 to the power of both sides and rearrange ) , you get
For your final version , remove all the ` plt.draw() ` , ` raw_input() ` , ` plt.ion() ` and append a ` plt.show() ` at the end .
Here I would create a second class containing a frame a canvas and a subplot .
I work with climate model output , and while the predefined colormaps in matplotlib are an excellent starting point , sometimes they are a bit limiting -- e.g. , if we were plotting temperature changes over the past several decades , it would be feasible to say changes under 0.05C could be white .
Is there a way to rename the labels without having to resort to using plt.legend or annotate ?
My problem is that I want to use as much space as available in the window and for so I am making a call to ` tight_layout() ` before drawing but the slider object is not moved below the graphs , it stays at the position I draw it first using : #CODE
` np.loadtxt ` and ` np.genfromtxt ` collect the ` csv ` data in a list ( of lists ) ( via list append ) , and convert that to an array at the end .
Sure for this case it does not matter but I was just curious if it would be possible to do it without an append .
Append to an array is slow , append to a list not so much .
If / when i substitute in kind= " hist " , the chart values get all out of whack .
I've tried this as well , to no avail ( gives me a blank hist ): #CODE
Both ` Series.plot ` with ` kind= ' hist '` and ` pyplot.hist ` generate a histogram from raw data , but it looks like you're passing in pre-binned data .
Matplotlib - Axis limits different to tick labels
I have a graph ` displayer ` which allows the user to set their own number of ticks per axis , upon drawing a graph with 6 ticks the limits of this axes are considered ` 0 - 1 ` ( So the ticks would be ` 0.0 , 0.2 , 0.4 , 0.6 , 0.8 , 1 ` while the actual tick labels range from ` 0 - 15 ` on the ` y ` axis and ` 0 - 13 ` on the ` x ` axis .
I have a scatter plot which is plotting a very large number of dots from two different data sets .
One good suggestion seems to be to use hexbin instead of scatter .
If you use different colormaps for the two hexbins , and set both alphas to some non-opaque value , then you can get two hexbins that overlap in places .
I don't think a scatter ( even with alpha ) is the best choice for a data set with this much overlap .
One solution I can think of is to draw each dot individually , and change its alpha value based upon how many dots are near it within a certain radius .
I'd try contour plots of the density -- which means calculating density as the hexbins are doing , but sometimes is easier to read .
I want to plot all the parameters on the same time axis as previously ; and if one or more data points in a column are missing , I want the plot function to skip the missing data points for that parameter and only draw lines between the points that are available for that parameter .
You need to capture the artist created by the ` hlines ` call : #CODE
I did something a bit fancier here and used ` hlines ` to draw more than one line and set more than one color , but it works the same with only one line as well .
What it does is to get the ID of the created hlines and change their colors ?
@USER Sorry , I was confused by what you were trying to do , I thought you wanted to change the colors of the hlines .
Python Scatter Plot with Colorbar and Legend Issues
I create three scatter plots on the same set of axes , and each data set I plot has a different associated colormap .
However , the legend does not look as I'd want it to ; why is this ?
What color would the 3 dots in the legend have if you would set the colormap to ` jet ` ?
I tried making the colormap for the 2nd set of scatter points ' jet ' and the legend stays the same .
You can set the legend colors as such : #CODE
If you make the scatter dot's size larger you can see the color and associate individual dots with the legend easier .
I also set just one dot per scatter plot in the legend , rather than the default 3 , and set the legend's alpha to 0.5 , and alpha of scatter plot to 0.7 .
I'm trying to draw ellipses around points of a group on a graph , with matplotlib .
I can easily draw the points on a graph , but I encounter problems to draw the ellipses .
You can tune the size of the linear region with ` linthreshx ` argument to ` xscale ` .
I have a refresh button that sort of keeps calling the function that ends up creating this plot , but I need one embedded plot which is updated after every button click , not recreated .
Your " refresh plot " button or method should have this in order to keep the canvas , clear the old plot , make the new plot and keep plot style elements such as xlabel , ylabel etc .
So basically , first you clear the figure ( not the subplot , self.myPlot.clear() would clear the plot but you can't have your kwargs that way ) , and then you recreate the subplot with kwargs and then you plot , and finally you .canvas .draw()
Plot a graph , clear its axes , then plot a new graph
I'm trying to do the following : create a figure , plot a graph on it , then in 3 seconds clear its axes .
I have a ` figure ` where I force the pan to constrain to x-axes .
Now when I try charts using ` ax1 ` and ` ax2 ` ( e.g. a Stock Price chart using ` ax1 ` and its Volume chart using ` ax2 `) and when I try to pan it , the ` ax1 ` charts don't move up-and-down , but the ` ax2 ` chart does .
I'm visualizing the scatter plot result in a matplotlib animation , which I'm writing out to an animated gif via ImageMagick .
I'm not sure exactly how matplotlib creates these animation files , but it appears to cache up a bunch of frames and then write them out all together -- when I look at the CPU usage , it's dominated by python in the beginning and then by convert at the end .
After getting this list , I want to draw histogram using matplotlib .
I am trying something as below , but I am not able to draw a proper histogram .
Bar chart is categorical - like individual words .
Python - Add annotation in subplot imshow
Error when saving Matplotlib Animation
I've tried to save a Matplotlib animation , but am getting an odd error .
I know my animation is OK , because I've seen it work .
Matplotlib animation with two ' drawing ' calls
Like in the embedding in tk example try using ` Figure ` : #CODE
How can I draw a scatter plot with contour density lines in polar coordinates using Matplotlib ?
I am trying to make a scatter plot in polar coordinates with the contour lines superposed to the cloud of points .
However , when I try to transpose my code to polar coordinates I get distorted contour lines .
Is there any way to have the contour lines at the proper scale ?
Although I recognize that the problems are similar , mine deals specifically with plotting the density contours of points over a scatter plot .
The other question is about how to plot the contour levels of any quantity that is specified along with the coordinates of the points .
possible duplicate of [ Polar contour plot in Matplotlib ] ( #URL )
However , when I apply it to real ( non gaussian ) data , the density contour lines are slightly shifted with respect to the position of the points .
A right way to represent 4 dimension points using colors in a matplotlib scatter
I'm currently trying to represent a set of 4 dimensional points in a 3D space using a ` matplotlib ` scatter .
I want to use the spectral color map .
I really need to use the spectral color map .
I personally find 3D scatter plots often more confusing than helpful for data visualization .
A scatter plot with a color dimension is even harder to interpret .
Just an example to plot a 3D scatter plot and using an user defined colour map .
[ link ] ( #URL ) ' this ' code works , but every time i move some circle i need to click again to refresh quiver field .
So , when it comes to last circle ( with specific index which you gave it ) you just need to erase your plot , and do it all over again ( you need to draw circles and field ) .
Because ` plt.show() ` wait for you to finish everything to draw it ( that's why it draw when you start your next drag ) , but ` plt.draw() ` do it at the time of release .
Later , try to use matplotlib ` hist ` function .
You don't want to do ` pyplot.hist ( hist , 256 , range =( 0,255 ))` , since this is trying to aggregate the data for you , but you've already aggregated it yourself .
` plt.bar ( hist )` , no ?
I have to plot a table in a subplot ( in this case subplot name is tab ) but I can't seem to find a way to change the font size of the table ( #URL - bottom left ) .
Matplotlib Crash When Figure 1 not Closed Last
Whenever you are plotting multiple figures , do not use ` plt.show ` , create your figures separately in a ` figure ` instance and add an ` Axes ` using ` add_subplot ` .
I would like to be able to vary 2 of the features in the array , say column 0 and column 1 , and generate contour or surface graph , showing how the predicted probability of falling in one category varies across the surface .
I draw a plane and a line crossing the plane .
I'd like to record an animation showing a moving Poincare plane with some coordinate systems , descriptions , vector field , phase trajectory bla bla ...
it looks a bit tedious to draw everythibng in OpenGL .
I am trying to plot a 3D scatter plot with matplotlib from IPython .
Meaning that they should have a different set of colours or be easily recognizable in some other way , and they should appear in the legend - the rest not .
I recommend : [ a ] take out the ` transmissionTable1 ` , use data as simple as ` [ 1 , 2 , 3 ]` ( but different lists each time -- easier to debug ); [ b ] don't mix up the object style in which you create axes ` t1 ` and ` t2 ` with the pyplot style in which you ` p.plot() ` into whatever context happens to be current .
I'm trying to set margins so all my points are visible when plotting with matplotlib but its doesn't seem to correctly add them .
Also , after using ` plt.plot ( ... )` , you need to call ` plt.show() ` to draw the plot .
Pandas plot dataframe as scatter complains of unknown item
I now want to plot the Tm1 and Tm2 as y values against the text ID's as x values in a scatter plot , with different color dots in pandas / matplotlib .
I want to not connect the individual values with lines and just have the Tm1 and Tm2 values as scatter dots in different colors .
The scatter command does need an x and y value but I somehow am missing some key pandas concept in understanding how to do this .
I'm using ` 0.16.1 ` and I can reproduce your error , this looks like a bug with scatter plots as ` kind= ' barh '` works fine
I don't think you can plot a scatter chart where the x axis is string categories rather than numerical ( certainly if you pass such data directly to ` matplotlib.pyplot.scatter ` it fails .
I think the problem here is that you are trying to plot a scatter graph against a non-numeric series .
You could , however , explictly set the xticks to use one per category and use the second argument of ` xticks ` to set the xtick labels .
Everything works as intended , but I cannot get the legend working ( which is ridiculously simple if I do not use the subplots ) .
How can I set X , Y and Z labels correctly for each subplot ?
If you want to keep both lines and markers , you have to combine ` plot ` with ` scatter ` : #CODE
At this level , simple functions are used to add plot elements ( lines , images , text , etc . ) to the current axes in the current figure .
The next level down in the hierarchy is the first level of the object-oriented interface , in which ` pyplot ` is used only for a few functions such as figure creation , and the user explicitly creates and keeps track of the figure and axes objects .
At this level , the user uses ` pyplot ` to create figures , and through those figures , one or more axes objects can be created .
These axes objects are then used for most plotting actions .
There are also other terms like Figure , Axes , Axis , Artist ( there is nice picture which explains all of those , on mentioned page ) .
Figure - keeps track of all the child Axes , a smattering of special artists ( titles , figure legends , etc )
Axes - region of the image with the data space - belongs to Figure
Axis - strings labeling the ticks ( x , y , z coordinates etc ) - belongs to Axes
Artist - everything you can see on the figure ( even the Figure , Axes , and Axis objects ) - belongs to Figure
How is the hierarchy maintained in this example , is Figure created by default or what is going on ?
To do what you want to do - you can pass in ` projection ` to the ` add_subplot() ` calls that are used ' under the covers ' by setting up a dictionary of subplot arguments and passing them in e.g. #CODE
The figure axes etc are all created ' under the covers ' by the first line beginning ` plt.plot ` .
The ` pyplot ` module is maintaining state and reusing the same figure instance and axes instance until you call ` plt.show() ` .
where ` gcf() ` and ` gca() ` are get current figure and get current axes respectively .
You can see the call to ` plot() ` creates an Axes instance by a call to ` gca() ` in the code here .
pattern or similar so that they have handles to the figure and axes objects directly and can manipulate them as they like .
The model of ` pyplot ` maintaining ` Figure ` instances is unusual in my opinion - as I said , a legacy of the Matlab heritage , I think .
Things like contour return a ` ScalarMappable ` which can be used to specify the colorbar .
It looks like your cmap ( which I assume is a ` cm.ScalarMappable ` ? ) doesn't contain norm and autoscale required for colorbar .
As a work around you can draw the colorbar yourself between certain limits as in this example #CODE
However I want to display said image as a series of subplots where each subplot represents a region which is used when performing valid convolution .
Now , I am trying to draw a custom chart ( e.g. say using ` LineCollection `) instead of using the default ` plot ` .
Matplotlib subplot y-axis scale overlaps with plot above
convert a scatter plot into a contour plot in matplotllib
I have the following scatter plot where I plotted using ALPHA= 0.2
Arrange line in front of bars in Matplotlib plot with double y axes
I want to plot a graph with two y axes , and I want the left y axis to show a line according to which the x axis is sorted , and the right y axis to show bars .
When I re-arrange the axes so I plot the blue line in the secondary axis the line goes in front of the gray bars but then it's confusing because I want the x-axis to be ordered according to the values of the primary y axis .
Matplotlib : contourf rescales and axes wrong when I use X , Y
At least with an refresh rate round about 3-5Hz .
show matplotlib colorbar instead of legend for multiple plots with gradually changing colors
Instead of a legend , I would like to add a colorbar next to the plot with perhaps a couple of tickmarks and labels ( at least the minimum and the maximum ) , to indicate which color belongs to which value of n , but I don't know how to accomplish this .
The key is that matplotlib needs a ` ScalarMappable ` instance ( usually an image , scatter plot , etc ) to make a colormap from .
You'll need a ` Normalize ` instance to define the min / max / scaling / etc of the colormap and a ` Colormap ` instance to define the colors .
For that you can use the ` Normalize ` class .
Python plot Legend Key Format
I got everything working , but I have this one issue where the last key in the legend comes out with a weird format than the others .
Here is my code to set up legend .
This only happens to the last legend .
I think you ` units [ 4 ]` data may contain some newline characters ( ` \n `) which are causing the strange legend format .
If you setup the legend and units strings manually , you get what looks like correct formatting , #CODE
Wouldn't it be enough to draw a filled white circle * over * the streamlines ?
The image you show is definitely " conscious " of the disk -- why do you think you can't just draw a filled white circle ?
Can anybody tell me how to implement the steady state finite difference on the roof side ( arbitrary or irregular domain ) and join it with the rectangular domain code like the goalpicture above ?
You can't really remove the axes as they are the container for the entire graph .
So what people usually do is to make the spines invisible : #CODE
Is it possible to remove the axes and also to add a title ?
I've updated the answer regarding the axes settings
Matplotlib Legend Guide basic examples
I find the Legend guide to be severely lacking .
I wrote this code which is essentially a combination of the examples in the legend guide : #CODE
The legend label colors are not those assigned in the handles , nor are they a patch and a line with stars .
The Legend Guide was rewritten to be compatible with matplotlib version 1.4.0 or newer .
( as is shown in the Legend Guide ) instead of #CODE
matplotlib : legend does not inherit node_color from networkx graph
When I generate a graph using networkx , the node colors passed through the node_color parameter are not being inherited by the legend .
So - what I've got works , and it appears to be that when it draws the legend it doesn't get the right color as encoded by the color map .
It looks like the color_node only wants RGB and not RGBa from the cmap to be able to pass to the legend .
Matlab scatter and histogram plot
To better visualise this behaviour , I would like to add histogram bars on top of the 2D scatter plot for the x axis , and histogram bars on the right of the 2D plot for the y axis this way , they do not interfere with the axis labels .
Also there seems not to be an option available for adding numerical axes to the histograms to see how many points there are in a bar - at least in the documentation I did not see any option .
Like bar-height axis with numbers , label for the data , axes labels ( should be x -> 11 and y -> 12 ) .
This code assumes a recent version of MATLAB ( I use 2014b ) , but can be easily adapted using the old histogram functions ( ` hist ` , ` histc `) and the ` set ( .. )` syntax for graphical objects .
I suppose that ` histogram ` would be replaced either by ` hist ` , or ` histc ` .
In the code , I use same figure instance , and just update the axes .
Then , you need to set the transform for the new lines on ` a_all ` to move them to the new axis .
I think that setting the ` transform ` for your new lines should work
I am trying to add error bars to 2 series of data in a scatter plot .
I use matplotlib.pyplot.pcolor to create each subplot .
The matplotlib.backend_bases.FigureCanvas is the area onto which the figure is drawn , the matplotlib.backend_bases.Renderer is the object which knows how to draw on the FigureCanvas , and the matplotlib.artist.Artist is the object that knows how to use a renderer to paint onto the canvas .
So just to see if I understood : when you don't use pyplot , you have to manually connect the artist to the backend ( which is a renderer+canvas ) .
Indeed , as Andreus correctly answered , ` % .1e ` would give you what I would understand as scientific formatting of the tick values as printed on the axes .
How to add plot labels of different axes to the same legend in Python ?
And I am trying to add the plot labels to the same legend .
But I cannot add them to the same legend .
How to add plot labels of different axes to the same legend ?
And then you can use them to create the legend , by supplying the artists and the desired labels ( you could also provide the strings here directly ): #CODE
I expect the following code to draw a line from ( - 2.33 , 10 ) to ( 4.33 , -10 ) , but the line I get is totally different .
You actually draw a line from ( - 2.33 , 4.33 ) to ( 10 , -10 ) , as described in the docstring .
However , upon zooming in to get a closer look at what is going on with the clustered points around x=2000 using the pan / zoom feature ( the compass icon in the figure above ) , the tick label format changes to one that is harder to read quickly , inappropriate for presentations , and changes as you continue to zoom !
What I want is a 2D scatter plot of ` ( x , y )` depicting particle positions and on top of that color code this scatter plot with the values stored in msd like the plot I showed in the beginning .
Here a scatter plot using ` ggplot2 ` .
I want to create a scatter plot of ( x , y ) and color code them with the values in z .
df.plot ( kind= ' scatter ' , x= ' x ' , y= ' y ' , s= ' msd ')
How to label and change the scale of Seaborn kdeplot's axes
This is just a matplotlib axes so you would change the axes labels the same way you would with a normal matplotlib plot .
I am using kdeplot and I set the legend keyword to True but am unable to show the legend .
2 ) you can specify where you want your ticks via the xticks function .
Use headwidth and frac to specify width and length of the arrowhead .
frac is the the headlength written as fraction from total arrow length .
Now , I got to plotting both ` X ` axes in the chart , but I need the timestamps to be the same for every graph , that is , all must start and end at the same point in time , even if there are no events in those times for some of the charts ( e.g. , chart #1 starts at 15:50 of the 10 / 5 / 2015 and stopped at 14:00 11 / 5 / 2015 , even if in one of them the events start happening at 17:00 of 10 / 5 ) .
You might have already experienced , that ` matplotlib `' s complex structure is sort-of sensitive , where the formatting takes place in the ` Figure ` processing .
However , this is an artist property which you can set : #CODE
Heat Map Annotation with text
I want to annotate the cells .
Bar plot ?
Calling ` df.plot() ` will give you a line plot for each time series on the same axes .
and format the axes either by passing arguments to the ` plot ` method or by calling methods on ` ax ` .
Matplotlib / Seaborn double scatter plot with three side histograms ( extending JointGrid )
I have three datasets ( data1 , data2 , data3 ) , and I'd like to create a rather complicated plot : a stacked scatter plot ( two scatter plots that on top of each other ) with three histograms on sides .
To make it more complicated , the left and right y axes ( data1 and data 3 ) have a different range of values .
Another scatter plot ( data2 , data1 ) in color e1c
I am trying to plot a scatter plot in Matplotlib using colors from a list of colors .
The problem is that the order of colors in the legend is not the same as the order of colors in the list .
This is almost certainly because your list ` patches ` contains ` N ` copies of the same ` Rectangle ` patch , not independent patches .
you are not creating 5 different rectangles with ` patches = [ dummyRect ] * N ` , but just 5 references to the same ` Rectangle ` ( your ` dummyRect `)
my intention is to merge the two and also annotate with something like this ..
You can't call ` pop() ` on an artist you have to call : ` ax.lines.remove ( my_line )` .
By specifying ` bbox_transform=transFigure ` and then the same ` bbox_to_anchor ` position , you're explicitly telling ` legend ` to put the legend in the same place in the figure , regardless of which axes it's on .
Perhaps you'd prefer to have one legend with all of the artists from all subplots on it instead ?
Try setting your transform to the current axis to put the legends on the different subplots #CODE
I get errors like " can only concatenate tuple ( not " float ) to tuple " and " tuple object has no attribute ' append '" .
You can't append to a ` tuple ` at all ( ` tuple ` s are immutable ) , and extending to a ` list ` with ` + ` requires another list .
manipulating top and bottom margins in pyplot horizontal stacked bar chart ( barh )
I'm trying to plot a horizontal stacked bar chart but get annoyingly big margins on top and bottom .
to 10 the everything shrinks but the margins are still relatively large .
This will reduce the margins to a half-a-bar width .
I was playing with ylim before posting but couldn't get it right .
This code implements a subplot with a gap ( on the left ) a subplot with a gap using the set_xlim method ( on the right ) .
Why do my xticklabels no longer match the the markers in the subplot on the right ?
to get the ` xticks ` on the integer values which I think you want , you can set ` xticks ` just before you set the ` xticklabels `
This will put an additional offset between the y-axis and xticks .
I have found some partial solutions ( Matplotlib ` scatter ` can use the three arrays and it is reasonably fast , but the size is scale in points , the ` Circles ` instances are too slow and ` Mayavi ` is in my opinion an overkill since the problem is 2d ) .
The for loop creates a list of patches which are than used to create the collection object by itself i think , so the ploting should be faster .
Any idea how to work on the text * and * arrow together ( without having to use a ` Rectangle ` patch ... ) ?
As far as I can tell , the ` quiverkey ` is an artist which contains a ` text ` and ` vector ` object .
I don't think there are any methods to change the background for the ` quiverkey ` artist object as a whole ...
Hi @USER , the ` zorder ` does not appear to work in ` quiverkey ` as expected ( maybe a bug ? ) I think your best bet would be to draw a rectangle manually if you need it ensure both arrow and text are clear ...
You should call the ' legend ' function for each artist you create at your code if you are doing other plottings .
For instance , you have the ` ax ` artist and you set all the necessary info on it , except the legend .
So you should call it before the ` plt.show() ` so it can generate the legend properly : #CODE
The documentation has very good guides for the ` legend ` and ` artists ` function :
He's not creating a legend , but a colorbar
From the documentation , colorbars don't need the legend being set , like other plots .
The matplotlib patches ellipse class neeeds ( x , y , width , height ) , where ( x , y ) is the center and width and height the total length ( diameter ) of horizontal / vertical axis .
If I transform the polar cords to cartesian cords for the center it does not work .
How to draw four different types of points in the same scatter plot using two columns ' info ?
How can I plot those four types of points using the dataframe in the same scatter plot ?
You can do the scatter plot for 4 subgroups on the same axes .
The patches are just drawn on top of each other , and don't have to be connected -- I'd start with the most complicated example #URL and edit it .
I'd like to be able to have some figures inlined int he notebook , but others in the traditional interactive mode , where I can zoom and pan .
I create a Figure to show the inital image and have added a button using ` pyQt ` to update the data .
The data does change , I have checked , but the Figure does not .
` plt.draw() ` won't draw this figure , as ` plt ` doesn't know the figure exists .
I imagine this could be useful when wanting to refresh many figures
I want to draw a line graph not a scatter plot .
I have a python process which is graphing a scatter graph in real time .
I think its better you first gather the information , with all this information aready formated in the correct way , you try to draw the entire image .
and how do i get labels , like if a green column the legend shows number 1 is green .
Instead of directly calling ` plt.hist ` , try using ` subplot ` and plot a histogram inside that , like this - #CODE
i have a lot of files and i want to open , read data1.txt and data2.txt file and then data1.txt file 22 . column " x_coordinate " and data2.txt file 23 . column " y_coordinate " scatter plot . how can i ?
You can perform functions on the data within the dataframe , and you can even make a scatter plot ( or other types of plots ) very easily .
yes i have multiple columns . and i want to select [ 15 ] , [ 16 ] , [ 17 ] columns only one file , after i select [ 15 ] , [ 16 ] , [ 17 ] columns of other file . then i want to scatter plot with first file [ 15 ] and second file [ 16 ] or both of [ 15 ] . actually i want this plottig : #URL
I want to draw a histogram and a line plot at the same graph .
For the follow-up questions , we can do something more powerful using boxplot .
` temp.append [ 2 ]` is wrong . append is a method => so you need parenthesis instead of square brackets => ` temp.append ( 2 )` or ` temp.append ( data [ 2 ])` ... same thing for ` relfeuc.append [ 3 ]` and ` ns.append [ 4 ]`
I do not think ` temp ` or ` relfeuc ` have a property like ` append ` that is subscriptable .
Every time the user changes the selection the axes are cleared and the new plot is showing in the MatplotlibWidget .
Keep in mind that this sets the " autoscale " property for the axes , so if you don't destroy them when refreshing the data it should work fine .
I don't know what happens with multiple axes objects though ...
Actually the idea of manually defining the axes limits its not ideal for that case because the ploted data change depending on the user's selection .
One solution that I found and works for me is to delete both ax1 and ax2 and create a new subplot ( new ax1 ) when I want to plot y1 ( y2 ) after having creating ax2 and ploting datetime on it .
How to add shading through all subplot
I need to shading all subplot like the picture below , how to do it in Python ?
You can set ` clip_on=False ` in a ` Rectangle patch ` so that it can extend beyond the axis boundaries .
Note : setting the rectangle on the first axis would have made it go behind the second axis , unless you want to manually change the zorder of the two axes .
As I said , float values on the x-y axes do not make sense with my data and I therefore want it to look like this :
The function in matplotlib is the second example , and it's limited to discrete colormaps .
In matplotlib , the axes are sometimes displayed in standard form .
From the documentation " You can derive your own formatter from the Formatter base class by simply overriding the _ _call_ _ method .
Is there an easy way to switch on legend for each subplot .
However , if both of them are run together , both the graphs are drawn at the same axes .
Any idea , how I can draw them one after the other ?
In matplotlib , you draw by changing figure numbers .
Converting a Text File into a Pyplot
My problem is that I want to be able to use the panning tool to pan in the plot , but it is also possible to " pan " in the other subplot , causing the text to move around in the window .
It might be possible with multiple axes , but I think the more common way is to use a GUI framework like Tkinter , pygtk , wxpython or PyQt to draw the text and [ embed a matplotlib figure ] ( #URL ) .
Most graphs in ` matplotlib ` can have index formatters applied to the axes via the ` ticker ` API .
I have some data for which I have experimental and simulated values , the data isn't really continuous without introducing a new definition ( which I don't want to do ) so I wish to display it ordinally in a scatter type plot with two markers for each set and then label each set on the X-axis .
The key part is setting the xticks and xticklabels to correspond to your data " groups " .
You could plot the data in a few other ways ( e.g. bar plots , etc ) , but using the xticks / labels will be the same in each case .
According to the documentation , one can set the range of the x-axis using the ` hist ` function , but there doesn't seem to be a way to control the y-axis .
Essentially what I " m looking for is something like ` range ` in the ` hist ` function , but for the y-axis .
This type of problem always rise when you are drawing many patterns that have common boundaries : the boundaries are drawn twice or more , as in the case above , and you can not specify the lines ' just draw it once !
I'm plotting several histograms using Pandas ` hist ` method .
I would like to add a fourth dimension to the scatter plot by defining the ellipticity of the markers depending on a variable .
However , I believe you can show 4 dimensions with a 2D scatter plot by using color and size as additional dimensions .
You can place ` Ellipse ` patches directly onto your axes , as demonstrated in this matplotlib example .
Speedup matplotlib animation to video file
I see the possibility to use a scatter 3d-plot with different colors .
Python ( Matplotlib ) - Tick marks on ternary plot
I am trying to draw tines that look like tick-marks on the sides of an equilateral triangle .
Is there a way to draw these lines with Matplotlib ?
Is there a reason you don't simply draw them as lines just as you did with the triangle ?
I have a task to draw a potential graph with 3 variables , x , y , and z .
I don't think we can draw the function U ( x , y , z ) directly with matplotlib .
So what I'm planning to do is to draw cross sectional plots of x-y and y-z .
you might have a look at the [ contour ] ( #URL ) and [ contour3d ] ( #URL ) functions .
You can draw a 3D plot with matplotlib and the mplot3d toolkit
use matplotlib scatter .
How do I plot this result as a Bar Graph using matplotlib ?
What are the two axes ?
Sorry forgot to mention : I want it to be a simple Bar Graph .
I might have to change the Steps of Y Axis .
@USER i was using std dist , and after reinstalling python the python27.dll was there but i hit other problems so i changed to using pyinstaller which works perfectly with one cmd command .
How to update table in a matplotlib subplot using animation
This part works flawlessly for my application , I also put a data table using the plt.table command in a subplot and I would like to display the max and min temps for each timestep as the heatmap is being displayed .
This is where my issues come in , I can't seem to find a method for updating the table that's in the subplot .
I've tried updating the table_vals list in the update function which didn't update the displayed table , I've tried putting the plotting code into the update equation which works for a few timesteps before it slows to a crawl since it's trying to draw 20+ tables overtop each other , I tried using the plt.clf command and it wipes out the entire plot instead of just the table subplot .
I've also tried setting .set_animated ( ' True ') after creating my table but that just results in a blank subplot , and I can't seem to find documentation on how to use this feature .
In any case , my question is how should I code this if I want to update the subplot table each time step using FuncAnimation .
How to make data points in a 3D python scatter plot look like " discs " instead of " spheres "
For the data I'm plotting , the z-axis is very sensitive , while the x and y axes are very general , so is there a way to make each point on the scatter plot spread out over the x and y direction as it normally would with , for example , s=500 , but not spread at all along the z-axis ?
I'm relatively new to python and I don't know if there's a way to make custom data points like this with a scatter plot .
@USER I do want the real time plot that updates with the loop , I will have a look at the animation link you posted .
Matplotlib : displaying only unique labels for the legend
I want to produce a scatter of X [: , 0 ] , X [: , 1 ] , color corresponding to the label , and only the unique labels displayed .
I am trying to plot a contour plot of non rectangular data without any interpolation ( I do not want to use the meshgrid module here ) .
If you've got a uniform grid , I'd suggest using ` imshow ` instead of ` contourf ` as it should be faster .
Otherwise , try ` pcolorfast ` with the original data or even ` contourf ` for parts of the domain and rasterize using ` ax.set_rasterized ` before plotting the next bit .
After guessing the imports , the data for your scatter plot is still missing .
I am passing to scatter ` x ` and ` y ` coordinates in pixel values ( each within the interval ` [ 0 , N_pixels ]`) : #CODE
Another solution is print a ' Cursor ' or marker line on the plot , and change its coordinates with the mouse events .
Eg . draw a vertical line , and update its X coordinates with the left and right keys .
I haven't gone into autopy to see how this is done , but I believe it is done in C code . autopy moves cursor in display pixel coordinates , but the matplotlib transformations can be used to transform into data pixel coordinates .
matplotlib : plot or scatter without line through marker
The problem is that you need to know the size of the markers in pixel space , but specify everything else about the line in data-space and you do not know the conversion between the two until pretty late in the draw process .
I have several ( four ) subplots that are supposed to have the same ` xlim ` and ` ylim ` .
You could use shared axes which will share the x- and / or y-limits , but allow to customise the axes in any other way .
Well , that still involves giving every subplot the ` sharex ` or ` sharey ` option separately .
I'm trying to avoid repetitive sections think of a 8x2 subplot figure or something .
matplotlib.pyplot.annotate() : place a text on subplot with ' axes fraction ' coordinates
If you use a line ` - ` instead of points ( assuming this is ` plot ` not ` scatter ` ) the line simplification code might help you out .
If you really want all of your points as , well points , you are kind of stuck as in the vector backends you more-or-less have the commands " move to x , y ; draw mark ; move to ...
( Note that the axes and all the other elements of the plot will remain as vector graphics and font elements ) .
Your problem is with the definition of your axes
And then the slider update function is creating new axes to your graph at #CODE
How to draw a scatterplot with superimposed pics ?
I need to draw a scatter plot these point in browser so that I plot associated pictures instead of plain points .
Again , all I want is to draw a scatterplot , in which there are rectangular pictures instead of plain points .
UP D: If it seems that I will hardly find something like that , it's okay to draw a plain points , but being able to hover over them with a mouse and displaying associated pictures for a point under mouse .
Here is an example of scatter chart with images :
Following the code from this answer I now know how to draw n-sigma error ellipses in Python for a given set of data points .
How to draw another set of axis on the same figure using matplotlib in python ?
where eigenVector is a 2d matrix and I am just trying to draw lines passing through the eigenvectors and the origin .
I wish to draw two lines passing through origin and the eigenvectors .
Is there a way to say that draw a line ( not a line segment ) passing through two points ?
I can see that the error occurs when trying to draw the image , but it is not at all obvious where the NaN is coming from , especially since the plot before worked just fine .
I need some help debugging this : in ` matplotlib / text.py ` , there's a ` Text ` object whose ` self._transform ` has some ` nan ` values in one of its ` Bbox ` s .
The problem seems to be caused by axes labels because setting ` axes_labels=False ` _ " solves " _ the problem : ` mosaic ( mydata , [ ' id1 ' , ' id2 '] , axes_label=False )`
Updating Text in Matplotlib Animation
How do I scale volume overlay in matplotlib finance ?
I am having trouble plotting the volume overlay found in matplotlib finance .
Matplotlib Axis Limits Change Plot to Plot
I can work around it by catching the axes limits before the plot and re-applying them before the second plot , but that is clunky .
I'm trying to animate these triangles using matplotlib , ` Polygon ` , and ` PatchCollection ` .
I can get the animation to work but have a problem .
Then I would evaluate each the subplot limits to figure out the min and max x and y limits and then apply them .
Notice that the image clearly has different axes than what is printed , specifically on the ylim .
I don't know _why_ this is the case , but get_xlim and get_ylim will return the correct values after show or draw has been called .
I am using iPython notebook , I have a 512x512 image that I want to ' transform ' into a ' blocky ' image using ' nearest ' interpolation of colors in the blocks , similar to the ' mosaic ' filter in Photoshop , for some further manipulation of a batch of pictures .
learn the matplotlib OO way where you don't do things implicitely on current active axes .
Combining two matplotlib colormaps
I would like to merge two colormaps into one , such that I can use one ` cmap ` for negative values and the other one for positive values .
possible duplicate of [ stacking colormaps ] ( #URL )
Essentially a filled contour plot in polar axis .
You may want to try ` Figure ( facecolor= ' white ')` or ` Figure ( facecolor =[ 0 , 0 , 0 , 0 ])` ( RGBA values ) .
You may want to try ` Figure ( facecolor= ' none ')` or use a RGBA tuple with the Alpha channel being ` 0 ` such as ` [ 0 , 0 , 0 , 0 ]` .
combine colormaps matplotlib
I want to generate projection plots using two different colormaps , one for within the flame and one for outside of it , to show slight variations in both regions .
Does anyone have any suggestions for how to combine two colormaps into one , using one of the colormaps for each temperature range ?
Is there any way to get the source code for these two colormaps , normalize them to their respective start and end points , and combine both into one cmap ?
Does anyone know how I can modify the ` xticks ` or their corresponding ` xtick labels ` so they show at the ` y=0 ` level ?
Python matplotlib animation of a constantly updated data feed
I'm trying to make a satellite visualization tool using an animation in matplotlib .
I want to plot a 5-image animation and then constantly update this animation every time a new image appears .
I need to ` del imgs [ 0 ]` and append a new ` imshow ` .
Had to transform it to integer .
I just get another figure with the canvas , but what I want is to change the labels on the contour plot not the values on the y axis , but the values of the countours .
How to widen boxes in Seaborn boxplot ?
I'm trying to make a grouped boxplot using Seaborn ( Reference ) , and the boxes are all incredibly narrow -- too narrow to see the grouping colors .
It might specifically be a function of the high variance of my data ; according to the matplotlib boxplot documentation ,
Unfortunately , the boxplot keyword ` widths ` which controls the box width isn't a valid ` factorplot ` keyword , and I can't find a matplotlib function that'll change the width of a bar or box outside of the plotting function itself .
I can't even find anyone discussing this ; the closest I found was boxplot line width .
I added a legend using the code from the last answer [ here ] ( #URL ) , and everything's exactly how I imagined it :)
Don't clear the axes and rebuild the artist .
Only create it once , then calling ` draw ` should be enough to update the figure .
I am trying to plot a dynamically size able bubble ( scatter map ) .
You can't make a scatter plot with strings as coordinates .
Save a reference to the artist : #CODE
pylab scatter plot appears transposed
However , the scatter module plots the points in the wrong location .
Am I mis-understanding something fundamental , or is this a problem in the pylab scatter module ?
The first subplot should not use the slider widget , other two should , so if I will move slider then two bottom subplots should scroll .
These all update the subplot parameters , which are all documented here :
It's a little weird that you're setting the axis of the ` plt ` object - but , doing so sets the axis once-only on the last subplot .
Since the axes were originally created with a ` ymin ` of -1 and a ` ymax ` of 1 , calling ` update ` doesn't change the axes in either case .
In that case , it doesn't matter which axis you update , since the ` sharex ` behavior will update this value for both axes .
This plots the your oscillations into the first subplot that you created when you called ` plt.subplots ` , since you're calling plot on ` ax [ 0 ]` .
Calling ` ax [ 0 ] .legend() ` draws the legend based on the label and stroke you provided .
This creates a new subplot in the first position - see the subplot documentation .
Regarding 2nd : if I understand correct then it is applied only for last subplot ?
I've read somewhere that calling ` plt.subplot ( 211 )` either create ( if does not exists ) or switch ( if exists ) subplot .
" Creating a new subplot with a position which is entirely inside a pre-existing axes will trigger the larger axes to be deleted "
Show y_ticklabels in a seaborn pairplot with shared axes
` PairGrid ` sets up the axes with ` sharey=True ` so the question here is really whether that can be turned off post-hoc .
You can have shared y axes and still have the tick labels .
Just turn the ` yticklabels ` back to visible and you are good to go , in the desired subplot : #CODE
Using seaborn and contourf , how can I plot gridlines ?
Using the following code , the first contour plot has grid lines .
You either need to change either the ` axes.axisbelow ` rc parameter or the zorder of the contourf plot .
When you draw the plot .
By way of explanation , is it that seaborn sets the parameters so that the grid is drawn below the solid contour plot , so the grid lines are obscured .
" axes.axisbelow " : False sets the axes and grid lines to plot on top of the figure and zorder=0 sets the contour plot to plot first , below the axes and grid lines .
In ` matplotlib ` , ` specgram ` by default returns the power spectral density ( ` mode= ' PSD `') .
In ` MATLAB ` , ` spectrogram ` by default returns the short-time fourier transform , unless ` nargout == 4 ` , in which case it also computes the ` PSD ` .
The only place there could be another intersection is to the right , but for that I'll need to allow the ` sqrt ` in the def of ` B ` to get a negative argument without throwing an exception .
An easy way to do this is to add ` 0j ` to the argument of the ` sqrt ` , like this , ` sqrt ( 1+0j- ( 1 / x ) **2 )` .
So it's not a crazy looking function , and the jumping between Re=const and Im=const is just the nature of sqrt ( 1-x -2 ) , which is pure complex for ` abs ( x ) 1 ` and pure real for ` abs ( x ) 1 ` .
The x and y axes are the real / complex values of u respectively .
The difference between the sqrt ( 4 ) and the sqrt ( 5 ) is around 10% .
According to #URL : " You can also plot on the map directly with the matplotlib pyplot [ ... ] using the Axes instance associated with the Basemap .
I tried it and got : ` AttributeError : ' Figure ' object has no attribute ' add_collection '` .
` annotate ` will also take a position in data coordinates .
I have tried reformatting the xticks , adding pieces of the second code to the first code , adding pieces of the first code to the second , etc .
Note that you store your axes in ` axarr ` , then fetch the current axis from ` axrr `
here is the way you can use a loop to generate your ` subplots ` and you can hide the axes which you do not need : #CODE
It works for me in the scatter plot with tooltips example here : #URL
I have to refresh the page to get the tooltips back . btw " pan " * does * work .
Here is scatter plot with tooltips example you can use to see this in action .
I was wondering if there was a way to dynamically scale the size of the text and the legend within each of the plots to the number of plots that are being produced , so it looks good when there's only 1 plot , but also looks good when there's 41 x 141 ( 5781 total ) plots .
A disadvantage of this approach is that you need to kill the process to stop the animation .
Last question , the above class you have made , why do I need to make a new class for the animation ?
You need to assign a transform to a visual if you want it moved elsewhere .
You can adjust all the plot parameters in the ` matplotlibrc ` file including the size of the margins .
The subplot parameters can use this command : plt.subplots_adjust ( left= 0.16 , right= 0.9 , top= 0.95 , bottom= 0.05 ) for one specific figure .
I have found several ways to change the facecolor in my axes , but as soon as I attempt to also turn the frame off , the color disappears .
Because of my use of Fourier transform , I have boundary conditions , which implies secondary sources all around my 3D space of simulation .
What about applying a rectangular ( ok , in three dimensions , cubic ) window to your field before fourier transform ?
The fourier transform of a rectangular window is the ` sinc ` function .
@USER : google for spectral leakage
My problem is that a ` basemap ` is not a ` pyplot ` object , so the solution i received works well on ` figures / axes ` but not on ` basemap ` objects .
There shouldn't be any reason the approach shown in the question you linked to won't work with basemap axes .
They have plotting methods very similar to an ` Axes ` instance , but they have others as well .
If you need the underlying ` Axes ` instance you can get it with ` map._check_ax() ` where ` map ` is your basemap object .
Again , if you want the underlying axes instance you can get it with ` map._check_ax() ` .
Created a ` base_map.py ` that has two functions : ` plot() ` that create a map object and draw some properties and another one , ` set_a_map() ` that create an empty map object .
matplotlib : autoalign labels of yaxis in subplots using a transform
Sorry , couldn't figure out a way to use this , think you need a transform like you said .
How to make a scatter plot for clustering in Python
I want to make a scatter plot to show the points in ` data ` and color the points based on the cluster labels .
Then I want to superimpose the ` center ` points on the same scatter plot , in another shape ( e.g. ' X ') and a fifth color ( as there are 4 clusters ) .
ggplot by yhat could made the scatter plot nice but the second plot would replace the first one .
Could be more specific on ` Then I want to superimpose the center points on the same scatter plot , in another shape ( e.g. ' X ') and a fifth color ( as there are 4 clusters ) .
` plt.colorbar ` does a good job for simple plots with one axes .
So it is better to manually setup the axes for the colorbar .
when creating the colorbar you want to specify the axes which should be used to create the colorbar in : #CODE
Actually , there is a proper way to do that ( without the hack of adding unused axes ): use the ` wspace ` argument : ` [ ax1 , cax ] = plt.subplots ( 1 , 2 , gridspec_kw =d ict ( width_ratios =[ 10 , 1 ] , wspace= 0.1 ))`
matplot lib get window size of subplot
I think what you probably want is to use the Figure class to handle this .
I think you need to do the maths on your points yourself and then annotate the points on the plot using ` annotate() ` .
Here's an example with a function to do the maths and an example use of ` annotate ` - I've tried to keep the plotting bits the same as your code and just add the bits to calculate degrees and then put them on the axes #CODE
Is it needed to convert this to matrix and then draw the surface plot ?
If I set the yscale to ' log ' , and ylim to [ 0.1 , 1 ] , I get the following plot :
The ` plot ` function could also be used but I like the way the ` scatter ` function shows the outliers on the tail .
I'd find it very useful if there was a generic way to obtain the bounding boxes in data coordinates for any arbitrary matplotlib artist .
The best ' generic ' method I've found so far is based on this answer , and uses ` get_window_extent() ` to get the bounding box in display space , then the inverse axis data transformation to transform back into data coordinates : #CODE
Multiline alignment of Matplotlib legend LaTeX text
I would like the legend text centered , i.e. the `' $T_m$ '` centered in the first line .
How can I get centered multiline alignment in my legend text ?
Ultimately , I will several legend handles where label text can have either more characters in the second line ( shown here ) or more characters in the first line ( opposite as shown here ) .
However , it is not an argument to the ` legend ` function , but merely a propery of Text Atrists .
So the trick is to save a handle of the legend and then set this propery for each text element : #CODE
PCA output looks weird for a kmeans scatter plot
The centers of the clusters and scatter plot of the points do not make sense to me .
Normalize your data .
Normalize again
How to convert scatter plot into a surface plot ?
Beginner using python and I have a scatter plot ( #URL ) .
Bar plot of average of column_c by column_a #CODE
Bar plot of total of column_c by column_a #CODE
Getting data from matplotlib axes object
I'm trying to determine what the data points are on a matplotlib axes .
Is there an attribute I'm missing on the Axes object to get the x / y data values ?
If ( and only if , I think ) the data on your plots are lines ( rather than collections generated by ` plt.scatter() ` for instance ) you can use ` get_lines() ` rather than ` get_children() ` and then you get only ` Line2D ` objects , not all artists that you then have to filter .
Based on the documentation for ` .plot() ` it looks like it's a wrapper for ` pandas.DataFrame.plot ` , which allows you to declare ** xticks ** and ** yticks ** parameters .
Here is a way to remove spines and tick labels : #CODE
Note that when you call ` .plot() ` you need to pass a reference to axes object where the plot will be placed , like so ` .plot ( ax=ax )` .
If you do not have a variable referring to the axes object you could access current axes with ` plt.gca() ` .
Changing color of a python scatter plot based on the value at corresponding points of a separate array
Each corresponding index of the new 2-d arrays is plotted in a scatter plot .
Since the scatter plot is not created with a for loop , I am unsure of how to make this happen .
[ scatter ] ( #URL ) will set the color of markers based on the value of a separate array .
I'm attempting to compile 12 boxplots on a single set of axes using a loop .
Why are you assigning the results of append to a variable ?
@USER We're speaking about [ numpy's append function ] ( #URL ) , which does return something .
Now , in the loop don't use ` plt.boxplot ` which might create a new figure , but call the function directly from the axes object : #CODE
Creating Probability / Frequency Axis Grid ( Irregularly Spaced ) with Matplotlib
Unfortunately , it's complicated and you'll need to figure out a function that lets you transform the numbers you give for the x-axis into something more linear .
As for the transform , it was honestly pretty hacky .
So the complete axes maninputlation looks like this : #CODE
With the nice property that anything plotted on these axes that plots in a straight line indicates that it comes from a normal distribution !
` ax_marg_x ` and ` ax_marg_y ` are just the actual matplotlib Axes objects , so you could call any method on them ( e.g. ` ax.hist() `) or pass them to the ` ax= ` parameter of a seaborn function like ` distplot ` .
` myPlot = sns.JointGrid ( x= " volume_x " , y= " volume_y " , data=c ); myPlot.plot_joint ( plt.scatter ); myPlot.ax_marg_x = plt.hist ( c [ " volume_x "]) ; myPlot.ax_marg_y = plt.hist ( c [ " volume_y "] , orientation= " horizontal ")` all the single plots work fine if I just print them for themself , but if I add the histograms directly to the marginal axes using ` = ` nothing is shown on the grid .
interwoven zorder for lines on two ( twin ) axes
I'm plotting a series of lines on a pair of twin ( ` twinx `) axes .
Is there a way to interweave the lines between the two axes ?
I've tried setting the zorder to be interspaced , but on different axes it doesn't work , i.e. #CODE
Axes have their own zorder as artists .
From the ` axes ` documentation :
set_zorder ( level ) Set the zorder for the artist .
It seems reasonable that zorder of children within an axes , e.g. lines , is subordinate to zorder between multiple axes .
Adding a titled color bar and generally getting a colored scatter plot to look good
I'm creating a scatter plot that is colored according to a 2-d array , but having trouble getting the color bar set up correctly alongside it .
The parts left out were just titling of axes - not relevant to the issue I was experiencing .
I want to draw arrows in a log-log plot that have different lengths but should have a similar-looking head .
Then to adjust the width of your arrow use the ` size ` paramater in ` annotate ` : #CODE
ValueError : List of boxplot statistics and ` positions ` values must
` hist ` takes a 1-dimensional array .
( see the ` hist ` documentation for more ) .
Animating Text in Matplotlib Basemap
The animation starts at 0 UT and progresses through 23 UT before starting back over at 0UT .
The animation works beautifully .
but this just causes the entire animation to stop .
Just change the text instance from a figtext to a simple ax.text instance and the animation works perfectly .
However , ` ax.margins ( percentage )` is much easier as long as you're okay with the " padding " being in terms of a ratio of the current axes limits .
My doubt is can i be able to draw a histogram using 2 lists ?
Now , for ` hist ` that won't really work , since setting the line properties , at best , will change the appearance of the outline .
use ` numpy `' s ` histogram ` function ; it's used by pyplot's ` hist ` , anyway , and then
plot the results using ` stem ` .
But the ` hist ` function does not allow to store the plot into a variable .
@USER : um , no . actually , using stem would give you the ability to plot lines instead of rectangles .
: not sure how to get ` stem ` to plot a histogram .
so nothing a stem plot can't visualize .
Rotate tick labels in subplot ( Pyplot , Matplotlib , gridspec )
I am attempting to rotate the x labels of a subplot ( created using GridSpec ) by 45 degrees .
BTW : There is no difference between a ' normal ' and a subplot in matplotlib .
Both are just Axes objects .
PyCharm uses ssh but it seems I can append the -X switch ....
Probably actually just a set of normal line plots - if the data overlap too much you could offset the zero for each plot , or plot them on different subplots ... there are lots of examples on the matplotlib page to draw from :)
Given N+4 dataframes , I plot the first N dataframes in the same subplot , and the next 4 in 4 different subplots : #CODE
While debugging , when stepping is right after dfN ( after the end fo the loop ) , I can see the axarr [ 0 ] subplot .
However , continuing plots dfm1 , 2 , 3 , 4 but then hides the df1-N subplot .
If I swap df1-N with dfm1-4 , ie plot dfm1-4 first , then only the subplot 0 is visible , and the 4 other subplots appear empty .
Matplotlib plot legend shows markers twice
The legend in my plot shows the marker icon twice in the legend
Only when you are using an axes instance like : #CODE
Instead of a new window opening with my scatter plot , the graph is shown in the console .
The axes were a bit off , but that was my fault for not specifying .
Say I have a boxplot like the one shown below :
I know I can mess with the boxes of a boxplot in matplotlib directly but seaborn gives me the axes back .
The boxes end up in the ` artists ` list on the returned axes , so you just need to manipulate the attributes on those objects : #CODE
draw order of grid lines and data in pyplot
Matplotlib FigureCanvas : Correctly plot Quadmesh into axes
Now I have a problem with plotting large matrices with pcolormesh into the figure's axes object .
Somehow the resulting QuadMesh does not fill the entire axes but leaves space above and right from the mesh .
I believe the set_aspect() function is only accessible to Axes object .
I don't know how to get the Axes object from AxesImage .
Get current axes by calling ax = plt.gca() then ax.set_aspect ( ' auto ') , I also split the matrix into smaller matrices .
Get current axes in order to set auto aspect ratio properly , I also split the matrix into smaller matrices : #CODE
dang , knew it was simple . what should i do if i want some extra space that the margins provides ?
Im having difficulty changing the x axis on my scatter plot #CODE
you can decrease your ` xaxis ` fontsize and add manual ` xticks ` , i.e. add ` 2003 `
I'd like to update a matrix text in dynamic by using animation function of matplotlib .
But I found that if the data array is too large , the animation will become very very slow .
What is slowing down your animation is iterating over all your 2500 points in python .
pandas dataframe hexbin plot has no xlabel or axis values
I am trying to plot a dataframe as hexbin but can't seem to get the xlabel and x-axis values to plot .
So , I manually set sharex=False , and poof , the xlabel and xticks come back .
The first method being to draw a spline through the points using ` scipy.interpolate import spline `
My second attempt was to draw a curve fit using a series of different order polinimials using ` scipy.optimize import curve_fit ` .
I am trying to draw a grid using matplotlib .
I am trying to draw a figure where I have a text object located at ( 1 , 5 ) on a grid and I want to draw an arrow pointing down from the bottom-center of the object .
What I'd like to do is just something like ` Arrow ( 1 + obj.x_size / 2 , 5 , etc . )` but I'm having trouble finding a way to actually get the size of the object itself .
You'll need to use a transform to turn the display coordinates into data coordinates .
Then , transform the bounding box to data coordinates , get the coordinates of the corners , and use those to make the arrow .
I want to draw distributions like shown in figure below -- tail of distributions .
You can either do it with a function animation or you can use this code : #CODE
The problem is I can't find documentation or ` AxisSubplot ` anywhere , I see Axis but can't figure out what on earth is contained in an ` AxisSubplot ` object .
In my display function I format the axis of the subplot like so : #CODE
For the polygon , you're dealing with the ` transform ` from dates to floats -- matplotlib has a standard isomorphism that we usually don't think about , but looks like you will .
How do I plot a seaborn factorplot on a matplotlib subplot
What I end up getting is two grids with axes plotted on top of each other and then the second plot plotted under this .
But if I try and plot two factor plots side by side ( they are independent so I don't want the axes to be shared ) , then this just doesn't work as described above : #CODE
According to the documentation of factorplot it should be able do draw two plots side by side by itself .
Otherwise I think factorplot doesn't operate on axes ( unlike distplot ) .
In any case only functions that have an " ax " parameter for axes can draw on axes .
I have set my xticks and also enabled my vertical grids .
How to plot a surface into each subplot
So far the surfaces are drawn well , however all are plotted into the first subplot graph .
In the result the right subplot graph is empty while the left one contains two surface .
I would like to draw each surface into a separate graph area .
I've noticed that when I use Matplotlib to make an animation , it takes progressively longer for each frame to be saved .
Does anyone know why it takes significantly longer to save the 100th frame of an animation as opposed to the first ?
Is this caused by some sort of compression each time a new frame is added to an animation ?
Is memory reallocated each time an animation grows ?
I want to create a figure with n x m subplots , each subplot being np.array of shape [ 1024,264,264 ] .
The slider instance works nicely for a figure with one subplot but I can't bring them all to work .
The slider is interestinly only operable on the second last subplot .
Also , since all the mpl artists ( figure , axes , etc . ) know each other , there is no need to explicitly create new class variables .
In this example , tho in ` wx ` , we can hold mouse down and draw a red rectangle over a plot : #CODE
Way to plot a second scaled y axis without explicitly using axes in matplotlib
I did see previous answers that used the formation of two axes - but is there a simple way of doing it using the more simplistic plt approach below ?
To summarise , I simply want to plot the data , but have two y axes for the very same data .
Do you mean a second plot ( ie subplot ) ?
yes , but you are plotting two data sets , I only want one data set , but two axes ,
And in this code the axes themselves are just integers , all I did was change the tick * labels * ( strings ) to match the appropriate time / date .
Besides , this code will only draw the coastline as explained in the documentation .
I'm not a seaborn expert , but it looks like it ( or pandas ) does convert the ` datetime ` objects to matplotlib dates , but then does not assign proper locators and formatters to the axes .
When I was setting the height for axes I had to divide current figure size by 10 because the slider's axes was too large .
This is the code ` height = fig.get_size_inches() [ 1 ] * 0.1 ` are figures and axes using different scale or why is this happening ?
how to assign colors to bars based on the values of ` type ` and draw colors from colormap ( e.g. ` Accent ` or other cmap in matplotlib ) ?
Could I use ` hist ` to get the same result , without counting by pivot ?
Hmm i'm not sure how you'd achieve this with ` hist ` , I only have used hist to plot a single series .
I'm trying to make a GUI that contains several figures , each with an axes ( is ' axes ' plural ? ) .
imshow with non-orthogonal axes ( i.e. parallelogram )
What about using an affine transform as in this example , #CODE
If i plot all on the same axes , the minor peaks are hard to see .
Stacked Bar Plot from Dataframe in Pandas
I'm trying to make a stacked bar graph where the x-axes are customer names , the y axes are the number of calls , and the stacks are the months .
This obviously does not work , as these are axes instances .
I'm using ipython 3.2.0 , and I'm trying to use boxplot .
If so , what is the official way to get a legend for a boxplot ?
labels should be a keyword for boxplot ....
For a certain use case , I need to draw colored borders around specific cells .
You can do this by overplotting a Rectangle patch on the cell that you would want to highlight .
I also have a more complex case - what if multiple highlighted cells that touch each other , and I want to draw borders around them , but get rid of internal borders within a block of highlighted cells ?
Answering to myself , I think I can do it with a Polygon patch , thanks Simon !
I think it was the autoscale that overrides the ` set_xlim ` command .
Also , careful , xlim takes a tuple ( like set_ylim ! ) .
Python pylab plot legend scientivic writing
I need to modify my legend .
Unfortunately my legend always prints them in form of 0.000000000000000000000016 .
Python 3.4 : contour plot display on dynamic map using unstack and mplleaflet
I am having a problem getting a contour plot to display on top of an mplleaflet map .
I am fairly certain this is because I'm not sure how to tell mplleaflet where to orient my contour plot on the map .
A blank map of the world pops up - my contour plot nowhere to be found .
I want to show an animation .
Even for N=100 , the animation is slow ...
Is matplotlib the best graphic tool to make thins kind of animation with python ?
Here are 3 things you can do to make the animation faster :
I am using ` line.set_data ( x , y )` to update the actual data points and the required methods for updating the Y and X axes limits , followed by ` canvas.draw() ` .
From what I understand the ` draw ` method redraws the whole canvas including the subplots .
Animate a python pyplot by moving a point plotted via scatter
I am having trouble in producing an animation in Python .
I am able to do this by using the animation module and remake at every frame the plot ( see first option in my script ) .
I would like instead to move only the point position at each frame without remaking the all axes ( see second option in my script ) .
matplotlib.pyplot scatterplot legend from color dictionary
I'm trying to make a legend with my ` D_id_color ` dictionary for my scatterplot .
How can I create a legend based on these values with the actual color ?
I want the legend to look like this but instead of color name , it would have the actual color .
it works but its outputting the legend with two markers side by side . thanks !
` .legend ` takes a parameter ` numpoints ` which sets number of point to show , so you can set it to 1 by adding ` numpoints=1 ` to ` legend ` call .
pyplot / matplotlib Bar chart with fill color depending on value
legend color bar
this is still missing the legend color bar
I have two lists , ` x ` and ` y ` , that I wish to plot together in a scatter plot .
The scatter points are discrete so a heatmap cannot be used in my instance .
Matplotlib draw outside plot
I want to draw rectangles under a plot .
I tried using matplotlib.patches Rectangles but the rectangles only show up if I don't plot something into the subplot : #CODE
All I want is to draw some lines under the plot at a certain position ( like in a rugplot ) .
the patches don't disappear .
I am trying to create an iphone app in Xcode that takes data ( some matrix ) and creates a contour plot in uiimageview .
So far , I have not found a way to directly make contour plots using objective-c , so i started trying to embed python into objective c , create the contour plot and save it as a png and then access it through uiimageview .
Or is there a better way to create a contour plot in objective-c ?
I just thought that there would be an easy way to transform the HSV colormap , and the closest answer is your first suggested link .
I've written an alternate implementation of the MPL cookbook ` cmap_map ` function that modifies colormaps .
I intend to extend this code to allow for mu and rho to be variables dependent upon position as opposed to constants , but for now I just want to get the animation working .
Could the issue be that I am integrating my solutions over t before they are plotted , and then not including t as a variable in my animation ?
animation ?
The animation now translates across my screen ( due to the incrementing of x ( note : I had mislabelled a couple of things , and should have been integrating against x )) .
If you don't specify any values , it will fit the axes limits the best it can .
For those with deeper interest - these lines of code are where matplotlib defaults to auto-scaling the axes if no scales are specified , with this line actually applying the auto scaling .
This will let matplotlib autoscale the axes to suit the values of whatever data you have plotted on them and is a generic solution .
If you need ' manual ' but dynamic control of the axes yourself , see my original suggestion below .
This creates a line object on the axes that you can update , but which initially has no data .
How to format a polar contour plot in matplotlib
I have some sample code to make a polar contour plot : #CODE
In an iphone app i am trying to build , when I try to run the following script to embed python and execute a series of commands for contour plotting , an error appears indicating that matplotlib was not included in or Python.framework : #CODE
Most likely , it is because you do not have access to an X11 server and can't draw windows ( which is what GTK does ) .
You can still make plots and save them to pdf but you can't draw them on screen .
scatter plot by category in pandas
What I'd like to do is to scatter plot by category .
Ideally , I'd like to have a scatter plot that shows CPU on the x axis , wait on the y axis , and each point on the graph is distinguished by category .
I don't think the plot method is very useful for scatter plots .
Also , the scatter method has a paramter ``` s ``` which controls the size of the dots .
I know this is another question , but do you know how to add a legend ?
Now my question : how can we draw a dark border around just this set of blocks ?
We can then draw a dark border around each triangle independently , to separate out the two triangles and show they are different metrics .
You could draw a border using ` patches.Polygon ` : #CODE
You can plot the line behind the scatter plot , and set the ` zorder ` to ensure that the line is behind the points .
pandas plot xticks on x-axis
Matplotlib draw outside plot ( two scales )
In this question I tried to draw a rectangles outside a plot .
Log scale on radial contour plot with matplotlib
I have a sample script to make a radial contour plot : #CODE
Not elegant , alas , but you could alter the polar coordinate transform to do what you want .
I know a converter can be used from ` matplotlib.dates.strpdate2num ` for normal dates , but I this won't work for unix timestamps .
Even with the right axes range but the values are not plotted .
But I use the ` animation ` function of ` matplotlib ` and I strongly suspect it is the cause of my issue .
It would be nice , but in my case I use matplotlib animation to setup a camera ( exposure , ZOI ... ) , and it is this step that freeze everything .
Matplotlib contourplot fails when no contour exists
However after using griddata to do the interpolation with the above code you are getting a set of NaNs rather than a set of 0s or other numbers which is " bad " in the sense that it is difficult to decide how that should be used in a contour plot .
Custom scale for radial contour plot in matplotlib
I have a sample script to generate a polar contour plot in matplotlib : #CODE
All you have to do is add an argument to contourf :
You can find more colormaps here : #URL
Now I want to add another subplot and being able to control both independently .
Something like ` Text ( 2 , 0 , u'Text ( 2 , 0 , u " Text ( 0.4 , u\ ' 0.4 \ ')")')` .
You can conditionally plot data in your axes object , using a ` where ` like syntax ( if you're used to something like Pandas ) .
If you use a scatter plot you can give each point a different color : #CODE
You could wrap the scatter function : #CODE
If you need to , you can even overwrite the old scatter : #CODE
Set axes label in coordinate system of figure rather than axes
I would like to use the coordinate system of the figure rather than the axis to set the coordinates of the axes label ( or if this is not possible at least some absolute coordinate system ) .
If you want to use figure coordinates , first you'll need to transform from figure coordinates to display coordinates .
Later , when you're ready to plot the axis , you can transform from display to axes using ax.transAxes.inverted() .
if you create Figure and Axes objects , you should plot against the Axes directly ( i.e. , ` ax.plot ( tra ... )`)
mpld3 generated html missing xticklabels and color in the legend
However the generated html using mpld3 is missing the xticklabels and color in the legend .
If I generate the plot without converting to html it is generated just fine with xticklabels and contains color in the legend .
@USER After using the latest code from github , the x axis labels are showing up but the colors in the legend are not .
pandas dataframe plot will return the ` ax ` for you , And then you can start to manipulate the axes whatever you want .
This will have undesired effects as soon as you pan / zoom the graph interactively
How do I plot hexbin with Pandas and discrete axes ?
I thought the best way to do this is to use x / y axes to represent animal and country , while letting color be the ` value ` - so I tried a hexbin plot .
contour plot of 3d vectors in matplotlib
I want to plot it with matplotlib using contour , but Temp need to be in 2D dimension .
How to resize graph to fixed dimensions in matplotlib animation
I am wanting to plot two list in real time using matplotlib animation , with the help of the community I was able to plot my graph .
I am now wanting to simplify my real time animation a bit as well as re-structure my graph .
You already use the ` ylim ` function , which does exactly what you want .
Plotting a scatter plot of a dataframe
How do I plot a scatter plot where
plt.setp alternative for subplots or how to set text rotation on x axis for subplot
I have this code in which I am able to control attributes like : range of x axis , title , xlabel , ylabel , legend , grid , rotation of text on x labels : #CODE
But before , you need to understand that there is no difference between a plot and a subplot .
Whereas plot usually refers to a single axes in a figure , subplots refer to one of multiple axes in a figure .
But to matplotlib they are both axes instances .
This module has many functions , such as the ones you listed and also many plotting functions ( e.g. , ` plot ` , ` scatter ` , etc . ) .
However , these are just for convenience and call the corresponding functions on the current axes instance .
But in general the axes method uses ` set_* ` and ` get_* ` , whereas the ` plt ` functions don't .
This means that you could create the first plot that you have posted , with using ` fig , ax = plt.subplots ( 1 )` and then continue to use the axes methods : ` ax.plot ( ... )` , etc .
axes methods , as they offer all the functionality , whereas the ` plt `
If there is no difference between a plot and a subplot does it mean that every figure must have at least one subplot ?
Also if I have one subplot then I can access it two ways ( one via plot and another via axes ): ` plt.xlim ( x_min , x_max )` or ` ax.set_xlim ( x_min , x_max )` ?
will refresh your system's reference to the bash_profile and you should be good to go in importing and using matplotlib
I have the following problem and I am totally new to matplotlib and python : To produce high qualitiy plots for my thesis I want to use matplotlib and I want to use the latex commands for the axes etc .
If I try any other plots including latex commands I get similar error messages , or plots without any lables for the axes .
I think the basic problem is that you have to rethink if you really need the ` scatter ` function .
` scatter ` produces a series of colored markers ( with the possibility of assigning varying colors and sizes to the markers ) , whereas ` plot ` just plots lines with a single color .
Showing " Value Error : array is too big " error while making a contour plot from a big data file .
I am trying to make a contour plot from a data file having four columns and 48000 rows ( i.e. 48000 data points ) using ` matplotlib ` using ` Rbf ` interpolation function of ` scipy.interpolate ` module .
The 1st and 2nd columns are the two independent variables of the contour plot .
What is the standard practice of coding in ` Python ` to deal with big data files and contour plot or any 2D / 3D plot in general ?
On the other hand , if there are only a few levels , using a legend would make
level value , since the matplotlib code which makes the legend is set up to make
one legend entry per plot : #CODE
Is it possible to have a legend on the right border instead of the color bar ?
@USER : I added some code showing how to make a legend instead of a colorbar .
In each frame , I want to extract a particular region aka , the contour .
Note that in ` wxpython ` , as part of a gui you need to use ` f.clf ( keep_observers=True )` and then readd subplot , etc ` a= f.add_subplot ( 111 )` to get correct result .
I am adding as : f = Figure ( figsize =( 7.5 , 5 ) , dpi=100 )
a = f.add_subplot ( 1 , 1 , 1 ) can the issue be with add_subplot ? as every time it adds another subplot on top of the previous one .
If you use ` a.gca() ` , you are only clearing the axis and should ** not ** need to add a new subplot , instead use ` a.errorbar ( ... )` to plot the new data on the recently cleared axis .
If you clear the figure with ` f.gcf() ` then adding a new subplot may be necessary before calling ` a.errorbar ( ... )` .
I want to do a 2D scatter plot , where the points ( x , y ) are colored by f ( x , y ) .
Is there a way to force the image to be on top of other plot data ( like filled contintents , and contourf plots ) .
I've been trying to make a scatter plot with the following code #CODE
How to randomise marker colours in the legend when plotting in Python ?
However the problem is that the marker points start to repeat themselves as I've got many values in the legend .
Hence how do I randomise the marker colours in the legend to avoid confusion ?
However , this is going to be an automated script and I want to save the image produced by ` imshow ` without the axes .
i could just use the palette and transform the ndarray to the palette's indexes
questions on multiple plots and multiple legend on python
I want my following figure to be on the fig and have its own legend #CODE
How I should add a legend for ` p3 ` ?
Here I have all three scatterplots on the same figure with one legend in top-right and the other on bottom-right .
We can get both legends to show up by adding the first legend to the axes as described in the matplotlib legend guide : #CODE
Rescaling axes with animation in the matplotlib package in Python
I'm having some trouble getting my axes to autoscale dynamically with my animation using matplotlib.animation in python .
Any advice on how to get the axes to rescale appropriately with each update would be greatly appreciated .
Several questions : 1 ) what is ` axes ` ?
I have a QMainWindow app consisting of a Menu Bar , Splitter in the central widget , and a status bar .
I also posted on here a while back about a similar issue ( wanting to draw a border around an embedded mpl figure ) in Qt
So presumably some of the QSS in the main file for QDarkStyle has the correct properties for making the background dark which in turn affects the Nav Bar .
how can I plot on the axes
But while I am plotting I do not know what the axes are .
I know I can do ` plot ( 250 , -5 , ' X ' , zorder=999999 )` but this is only when I know what the min axes is ..
( I can not do min , max and so to know the min axes . as the real data is a list inside a list inside a dictionary etc .. )
Are you asking how to plot over the axes spine ( the x-axis line ) ?
But this is only If I know the axes .
The regular data transformation for the x axis and the axes transformation for the y axis .
I you want some kind of animation ( I don't how you're going to use the rotating image , so I can only speculate ) , maybe you're better off using some kind of game / graphics library , e.g. Pygame .
This gives me weird line in the contour , I'm working with alpha png images .
I want to create an animated scatter plot in 3D , where the latest point is shown in a certain colour and then grays out , as far as the next point is generated .
You need to add some methods after setting up the Basemap to draw the map features .
Add new data to existing Matplotlib Axis
matplotlib set color of legend
And then generating a legend by doing :
However , for each label in the legend the corresponding color is the same ( not the color in the plot ) .
Is there any way to manually set the color for the legend .
Just calling ` plt.legend() ` as suggested by some does not seem to solve the problem for me , it adds a legend entry for each point .
If you specify the labels directly when creating the artist ( in the call to ` plot `) , you can just call ` plt.legend() ` without arguments .
That way the colors in the legend will match the ones in the plot .
Basically it adds a legend entry for each point
You could also create fake line markers and use them as legend entries : #CODE
I have a polar scatter plot .
but I then mess up my legends , since this cannot make both the symbol and the line into one single legend entry .
Ideally , I'd like to use checkboxes on the legend to show and hide lines .
Just to enrich your question , you can find this kind of behaviour ( select which lines will show on the graph by clicking on the legend subtitles ) in the gnuplot , e.g. , #URL I'm not sure how willing you are to change from pyplot to another tool ( gnuplot ) , but if you want to keep up with python and use gnuplot there is a ' gnuplot.py ' interface .
If you'd like , you can hook up a callback to the legend that will show / hide lines when they're clicked .
Here's a " fancier " example that should work without needing to manually specify the relationship of the lines and legend markers ( Also has a few more features ) .
This allows you to click on legend items to toggle their corresponding artists on / off .
I tried feeding in directly an argument color= , I tried tick_params , I tried xticks , yticks , etc ...
How to customize the facecolor and hatch pattern of boxplot in seaborn ?
I want to customize the facecolor and hatched pattern of the boxes in a grouped boxplot .
I have examined the document of seaborn and found that seaborn only returns a ` matplotlib.axes._subplots.AxesSubplot ` object but not a ` dict ` object which I can use to set the properties of the boxes in the boxplot .
The closest solution that I have found is to use ` Pandas.Dataframe `' s ` boxplot ` method where it takes an input argument called ` return_type ` .
If ` return_type=true ` , the return value of the boxplot method is a ` dict ` object that can be leveraged to fulfill my goal .
Is there also a way to add a hatched pattern to the legend ?
matplotlib axes bar plot unable to plot bars next to each other due to indexing x-axis from pandas df
It seems the high level functions of vispy are still under development and missing some useful features such as axes .
In the attempt of speeding up the animation of a series of ` matplotlib ` produced images in a video , I want to convert the following ( working ) example to ` gstreamer ` , to be able to use the hardware encoding features of the Raspberry Pi 2 GPU .
on the produced plot , the ticks on the axes are simply the values dictated by extent kwarg in plt.imshow and not the nice scientific notation 10**n I would like it to have .
according to the documentation ( see #URL ) the sci format is only used for values larger than 10 , which makes sense . how do you want to represent 2 more scientifically ?
To draw the following plot I have data in two arrays .
I know how to add and work with single cursor ` self.cursor = Cursor ( self.static_canvas.Dataplot , useblit=True , color= ' red ' , linewidth=2 )` , but what I should do to create to cursors ?
I've searched and found these two answers , Python Tkinter Embed Matplotlib in GUI , and How do I refresh a matplotlib plot in a Tkinter window ?
There are two lines which are not clear to me , can you please tell me what does these two lines mean , fig = Figure ( figsize =( 6 , 6 )) and a = fig.add_subplot ( 111 ) ?
Use ` ax.plot ` instead of ` plt.plot ` to make sure you are plotting to the same axes both times .
Can i , for example , transform the array to get with ` imshow ` the same output created by ` pcolormesh ` ?
Any suggestions to improve my sample use of matplotlib to draw an updating time example ( simple oscilloscope ) ?
I would like to annotate the data points with their values next to the points on the plot .
I want to draw a simple line chart using matplotlib #CODE
It does generate the graph with ` snapDate ` against the x-axis but I would like to annotate the graph with
Update Matplotlib Axis
Id like the user to be able to update an existing and open axis i.e. to refresh the axis .
Python Bar charts are overlapping
matplotlib : ylabel on the secondary y-axis with manual tick placing
Although I haven't found , how to label both axes on a single subplot , I found a solution for an axes matrix : #CODE
My first suggestion should work ; you just need to provide a sequence for ` bins ` when calling ` hist ` : ` bins = np.arange ( numtime.min() , numtime.max() +1 , 24 )` .
You can always superpose the matplotlib figure on to the figure manually ( using the matplotlib Artist to draw on the plot canvas ) , or through some ` pycairo ` magic , and save that .
I have found help on how to do this for numbers labeling ticks on the axes but not for the text function .
I want to use a non-standard font for labels on the axes of my matplotlib graph .
I have around 100 list of gps coordinates and I want to draw the line that each of those lists make .
One of the lists plotted using scatter , look somewhat like this :
I was able to draw some route using a single bus of that route , but the other had too few data points that require using all the buses data points , but when I join them together I get this mixed stated .
I would like to know if there is a way to draw nested networkx graphs in python .
I can successfully draw these graphs using the nx.draw_ ( ... ) method call as described in the networkx docs , but the case I'm using it for requires that one of the nodes itself is a graph ( Imagine a network of rooms , at the top level with a network of areas / zones within those rooms at the next level down ) .
This would require identifying xmin , xmax , ymin , and ymax for each subplot and adjusting .
Subplot Stacked Bar Graphs
I know I have to use the subplot function to plot the graphs on one figure but can't seem to figure out how to assign the current graphs properly .
My main problem is that all of the examples I've come across online use subplot function to assign the location of the graph ( which I understand ) but then plot the graphs as a function of X and Y - as follows : #CODE
You can set the xticks as seen in [ this ] ( #URL ) example .
Any ideas how I can have plain notation on my axes ?
I've extended your example to use a subplot so that the format can be set : #CODE
Arrow direction set by data , but length set by figure size
I would like to draw an arrow indicating the gradient of a function at a point , by pointing in the direction tangent to the function .
Say we want to draw the derivative of ` x^2 ` at ` x=1 ` ( the derivative is ` 2 `) .
` scale=1 ` tells it not to autoscale the length of the arrow , and instead draw it the size that we give it with the units we've specified .
Then to install ` SPy ` just do ` pip install spectral ` .
When Anaconda installs , it will set common python commands like ` pip ` , ` python ` , ` ipython ` , etc , to the anaconda versions , so just ` pip install spectral ` will update your anaconda installation with ` spectral ` .
How to draw a 2-D graph with 3-D data ( x , y and z arrays given ) with color coded Z axes representation in Matplotlib ?
From your description , it sounds like you want ` scatter ` .
discontinous axis in subplot - python matplotlib
I already found some examples on how to make plots with broken x or y axes , for example :
But I do not understand how to achieve this , when I want to apply this to one single subplot inside a 2x2 grid of plots .
Couldn't you set up a 4x4 grid of axes , and have 3 of the axes span 2x2 of that space ?
Then the plot you want to have broken axes on can just cover the remaining 2x2 space as parts ` ax4_upper ` and ` ax4_lower ` .
You can then set the ` ylim ` values for ` ax4_upper ` and ` ax4_lower ` , and continue as your example showed : #CODE
You could use gridspec to layout the shape and location of the axes : #CODE
But I have some problem with the axes labels :
Producing boxplot figures dynamically depending on number of columns in data
I want to take the coordinates at each time point , plot that position as a point on a 3D axis and then repeat , creating an animation .
Have you tried playing around and extending any of the [ matplotlib animation examples ] ( #URL ) ?
( replace ` helix ` with your own data and set the axes limits accordingly ) .
How to make two markers share the same label in the legend using matplotlib ?
I have not figured out how to make it work with markers from a line plot , but you can probably do a scatter plot on top of a line plot if you need to .
You can use a circle collection to represent the markers , and then have a legend label for the collection as a whole .
I think it's best to use a full legend - otherwise , how will your readers know the difference between the two models , or the two datasets ?
But , if you really want to do it your way , you can use a custom legend as shown in this guide .
It's set in the argument dict handle_map in the legend method of ax .
My understanding is that , for object type AnyObject the custom legend handler is used to create a legend entry .
I'm not sure why the guide says you have to return an artist that represents the entire legend , but I don't have to .
When I run the setup.py file in the terminal , it is creating the build and dist folders and is including a UIMaster.exe file in the dist folder , however ; when I double click it the terminal window pops up then waits a second and writes some text ( closes too quickly to read ) then closes .
When I go into the terminal and cd dist and then run UIMaster.exe , I get the following message : #CODE
I am already generating the build and dist folders , but have no clue why the program isin't popping up from the executable .
The following error is produced when I go to the dist folder and run the .exe : #CODE
I can't seem to get the interactive tooltips powered by mpld3 to work with the fantastic lmplot-like scatter plots from seaborn .
I was able to get the tooltips to work by using the standard matplotlib scatter on top of the seaborn plot and very low alpha ( you can't use zero ) #CODE
I have an ' x ' column ( x_parameter ) and multiple ' y ' columns ( filtered_data ) and I'm trying to produce a scatter plot for each x , y pair .
I currently control the height of each subplot with : #CODE
In general , to get matplotlib to not draw a value , set it to ` np.nan ` .
Perhaps the accepted answer to another [ matplotlib question ] ( #URL ) may help you : it cycles through the individual bars ( patches ) and assigns a color to each patch individually .
How can I make it show values and exponent tick marks as in the x and y axes in the plot above ?
Matplotlib : Finding out xlim and ylim after zoom
The Event Handling page gives an overview of the events API , and there's a ( very ) brief mention of the x- and y- limits events on the Axes page .
In your scenario , you'd want to register callback functions on the ` Axes ` object's ` xlim_changed ` and ` ylim_changed ` events .
I have converted another png image to a Base64 string using an online converter and used ` img src= " #URL BASE64_STRING " / ` to display the image successfully .
You can actually watch this happening if you open the ` png ` file while your code is running - you see each of the 16 sub axes being added one by one .
Please see attached the graph , that the green and orange subplot boxes are stuck to each other , making it visually not the most appealing .
Adding extra contour lines using matplotlib 2D contour plotting
I am creating a two-dimensional contour plot with matplotlib .
Using the documentation provided #URL , such a contour plot can be created by #CODE
My question is how to create more contour lines than those shown .
The upper right has three contour lines , at ` 0.5 ` , ` 1.0 ` , and ` 1.5 ` .
How could I add contour lines at say ` 0.75 ` and ` 1.25 ` ?
Also , I should be able to zoom in and ( in principle ) add dozens of dozens of contour lines from ( for example ) ` 1.0 ` and ` 1.5 ` .
To draw isolines at specified level values , set the ` levels ` parameter : #CODE
The sixth figure here uses this method to draw isolines at ` levels = np.arange ( - 1.2 , 1.6 , 0.2 )` .
and to draw , say , 24 automatically-chosen levels , use #CODE
The third figure here uses this method to draw 6 isolines .
Doesn't every contour ( isoline ) already get labeled ?
I tried to make a scatter plot of ` X ` and ` Y ` , colored by ` Type ` and shaped by ` Region ` .
Now , I know how to transform this line into a series of points , here using red dots `' ro '` : #CODE
How to set as default matplotlib contour plot to always label contours
but when I first create a contour plot , there are labels for each contour line .
Using the plot given in the demo , I generate more contour lines between ` 0.00 ` and ` 3.00 ` : #CODE
Each contour line is clearly labeled .
Now , let's zoom in on a distinct region of this contour , i.e. ` (( 0.5 , 1.0 ) , ( 0.5 , 1.0 ))` #CODE
How can I set ` plt.contour ` to automatically label each and every contour line ?
` plt.contour ` evidently works out where the labels can go and puts text patches there , location tied to the data , font size proportionate to the axes .
With MatPlotLib , how do I apply autoscaled axes from one graph to a separate graph ?
and set them on another axes with #CODE
Another option is to pass an axes to sharex and sharey : #CODE
Images reinterprets it then hist changes it to a column-major vector .
I am trying to to plot scatter points on a grid using python's matplotlib ( ` 1.4.3 ` but tried on other versions without success too ) .
I set grid's ` zorder ` to be lower that that of ` scatter ` but the grid still covers the scatter points .
Furthermore , you can use the ` path.Path ` class to draw the histogram , which is significantly faster than the bar plot if you have a lot of bins .
grouped boxplot labels with shared y axis using host_subplot
I am trying to create a grouped boxplot graph , however , I am using
host_subplots ( from mpl_toolkits.axes_grid1 ) and thus cannot use the answer mentioned here : how to make a grouped boxplot graph in matplotlib since , I'm using ` host_subplot ` instead of ` subplots ` : ` host_subplot ( 111 , axes_class= AA.Axes )` .
Is there a way to tie axis of different axes after they are created in matplotlib ?
to make axes sharing axis .
One way I think is to call ` subplot ` and use ` sharex / sharey ` keywords , but this is done at creation .
Is there an object-oriented way to do this in matplotlib after the creation of axes ?
I have four kinds of statistics in " statdata " on a regular grid at several elevation levels , that I am putting on a 2x2 subplot .
Bar charts with xaxis bins using Plotly or Matplotlib ?
For the Plotly solution , did you use ` Histogram ` class to create a plot or ` Bar ` .
I used the Bar class to plot length of videos vs views which are the x and y values of the tuples .
Matplotlib Animation for custom artist classes
I am trying to animate a complex figure with several subplots and have started testing with the artist animation and the function animation methods .
For now , my goal is to have the subplot on the left show a moving colored line ( not the problem ) and the subplot on the right show an updated representation of a brain scan ( the problem ) .
So when I attempt a simple animation like so : #CODE
So I try the function animation method like so : #CODE
get the plot on the left to update ( as opposed to overwrite ) on each iteration when using the function animation method ?
I already tried the ax.cla() function in matplotlib but since this also clears all axis attributes ( like xlim ) this is not a solution for me .
get the plot on the right to work with the artist animation method even though the custom plotting class is obviously missing a crucial attribute .
By the way , if you're only after a quick and easy plot , you can do a poor man's version of animation using interactive plots , as a minimal example , #CODE
I should clarify that ax.cla is not desired because that also resets the axis attributes ( such as xlim ) on each redraw and thus messes up the plot .
Could you not simply reset the axis limits again inside the animation loop ?
The plot handles ( ` a ` and ` b `) should have ` set_data ` method which can be used to change the plot without touching the axes .
There will be similar removes for other primitive artist objects .
The code below works perfect : But now I am looking for required fixing in the below code by trying to minimize the code with annotations and where to include the streaming API Access Tokens while having sizable scatter plots ?
So , to update my example from the question ( with a slight change to make both axes need the exponent ): #CODE
I want to simply draw plot .
Seems like you are trying to print a matplotlib- ` Figure ` object as a string ( ` print fig ` or something ) .
Besides , this is a scatter plot and not a bar chart .
There are two reasons whiskers length vary from one boxplot to any other boxplot
For the one boxplot where the are outliers beyond the whiskers on both the top and the bottom , the whiskers do look about the same size .
I can plot scatter points by following : #CODE
Beside I dont know how to plot not as scatter but a line .
One option would be using subplot : #CODE
if you assign the plot ` Axes ` object to a variable name ( here I've called it ` viol_plot `) , then you can perform action on that ` Axes ` object ( you are currently trying to set the labels and ticks on the ` Series ` , not the plot ): #CODE
` viol_plot ` is an ` Axes ` object not a ' plot ' .
In matplotlib , I want to make a line using ` matplotlib.pyplot ` which is alternating black and yellow dashes , and then I want to include that line on the legend .
but then the line on the legend would appear as a solid black line , rather than as black-and-yellow dashes .
Or would adapting the legend entry for the yellow dashed line on top of a solid black line suffice ?
If transform is not None , the path will be transformed before performing the test .
For what it's worth , this works as expected for me : ` p = Path ([[ 0 , 0 ] , [ 0 , 1 ] , [ 1 , 0 ]]); result = p.contains_points ([[ 0.1 , 0.1 ] , [ 1 , 1 ] , [ 0.5 , 0.6 ] , [ 0.5 , 0.4 ]])` .
However , if I use ` p = Path ([[ 0 , 0 ] , [ 0 , 1 ] , [ 1 , 0 ]] , closed=True )` , ` result ` is all False .
Relative Frequency Histogram Where Vertical Axis is Frequency Python
( I.e. there's no white space around the edges , axes , etc . )
I've seen some code that can kind of do this by using ` interpolation= ' nearest '` and forcing matplotlib to ( grudgingly ) turn off axes , whitespace , etc .
Normalize your data , apply the colormap , save the image . matplotlib provides all the necessary functionality : #CODE
I may want to use ` LogNorm ` in place of ` Normalize ` , and ` imshow ` can take a normalization function as an argument whereas ` imsave ` apparently can't .
Two line styles in legend
I would like them to be used for the same legend entry .
The code below produces the typical legend , with two entries .
I made a custom legend handler based off of the HandlerLineCollection class .
I wouldn't have done it if I didn't think it was fun , and I mostly copied and modified an existing legend handler .
I'd like not to append to my graph .
( or ` Figure ` in your case , as that's how you've imported it )
Change ` plt.figure ( ... )` to ` Figure ( ... )` and don't call ` plt.show() ` in your on-click event .
Creating legend in matplotlib after plotting two Pandas Series
However , when I tried to manually create a Legend , it appears but only with the title and not with the actually content .
Basically , your bar chart has to be on a Figure so that FigureCanvasTkAgg can then generate a widget for Tkinter to use .
Axis labels hidden when the windows is small in matplotlib
When the window of plot is zoomed out , the xlabel and y label may be hidden .
It seems that you need matplotlib.animation feature . animation examples .
I'm pretty sure that there is many ways of plotting this kind of animation without global variables .
How can I add a kind of marker that tells the difference between the ` 0 ` and ` NaN ` ( and add this to the legend ) ?
I have tried to use the ' scatter ' option combined with the first solution from firelynx , but still getting some errors ...
I want to draw a figure in matplotib where the axis are displayed within the plot itself not on the side
What I would like to draw is something as follows ( Image from Wiki )
One way to do it is using spines : #CODE
I have a figure where I want to plot a 3d scatter and a normal plot in 2 subplots .
matplotlib animation with changing colorbar and title for each frame
I've made an animation in matplotlib .
I fixed it myself , if someone is interested : Now I have a text in the animation that gives the right number between 62 and 227 .
Use ` fig.colorbar ` and pass it the axes you would like it to use .
What I'm trying to do is a 3D chart with X and Y axes equal to ` [ v1 , v2 , v3 , v4 ]` and Z axis equals to the ` TimeStamp ` then , plot a 3d line for each node ( e.g. blue line represents the neighbors of node v1 ; green line neighbors of node v2 , etc . )
For now , I made a scatter 3D chart .
You can just plot with pandas , access the matplotlib ` Axes ` object by using ` ax = df.plot() ` and then customize it further from there .
What happens is , there are three 2-d arrays , all the same dimensions , and two of them make up the x and y axes , and the third ( the color array ) determines the coloring of the field .
Basically , just make sure the two values on the same axes have a distance of larger than 0 between them .
The best you can do , if there is not a knob in the function API , is to look at ` g.lines ` to try and guess which artist in the regression line and then do ` ln.set_color ( ' k ')`
" arts " will hold the new axes we made with " my_plotter " and whatever " data " we input .
But , how can I view the newly created axes object and re-call my_plotter() without show() blocking the interpreter ?
No , you pass am axes in , arts is the artists created in your function
I can clear the axes with ax.cla() , then I put something into it with ax.contourf ( ... ) , then return ax , which I can then plot .
This is a much more robust approach than the easy solution above , and permits all kinds of useful / fun options , such as outputting the animation to a video file , etc .
Instead of using the ` set_ydata ` method of the Lines object , you can always clear the axes ( ` pyplot.cla() `) and call the plotting command again .
I should have mentioned that I am making a contour plot with " contourf() " .
I will be changing the z-data ; is there any corresponding set_zdata() for contour plots ?
You can achieve the same behavior by extracting all of the lines from its ` collections ` property , and handling them as you need to .
However , it might be simpler to use ` plt.cla() ` and ` plt.contour ( ... )` in the ` change_plot() ` function , to clear the axes and redraw the contour , respectively .
The matplotlib contour plots have this type of labeling functionality ( though the lines are labeled in the case of the contour plot ) .
Look at the docs for ` plt.subplots ` -- you give it row , col for the axes .
You need to set the spines correctly- you only want the leftmost and rightmost to ve visible .
This is a example showing how I've done it by placing three axes manually in a figure .
Bar graph color dependent on value in Matplotlib
I edited my answer to show you that you can plot on the same subplot ` cax ` .
I want to provide some additional information to my plots , by adding the latitude and longitude as axes around my geographical plot .
This answers this question for one column , but I cant seem to modify the answers there to make it dynamically add to a subplot with ` x ` columns
Lists do not have size methods so when ` list.size ` is called in the ` hist ` function , this causes your error .
You can do this after the loop where you build the lists with append , something like , #CODE
EDIT : minimal hist example #CODE
The ` append ` method adds ` lineLst ` to the list ` matrix ` and doesn't return anything .
For example if you call ` plt.plot ( baseprob )` , you'll see it fluctuates and decays to a constant over the first few values so you get a large peak ( i.e. the hist is correct for the data ) .
I've added a minimal hist example .
How to use custom images as scatter markers in matplotlib's scatterplot ?
But I also have a set of images ( .png files in a directory ) mapped one-to-one with that set of coordinates , and I want to represent each coordinate's scatter marker with its associated image in my set .
As the duplicate says , I don't think that is possible using ` scatter ` .
Networkx drawing module is pretty poor it mostly uses a custom scatter plot for nodes , etc .
I have a scatter plot built from a DataFrame - it shows a correlation of two variables - Length and Age #CODE
Now i want to add a line with a given slope of 0.88 to this scatter plot .
All examples i managed to find use points and not slopes to draw the line
If you would like to plot scatter with regression line , I would recommend to do it in ` seaborn ` with a minimum lines of codes .
@USER a line with correlation coefficient as slope is meaningless in the context of a scatter plot , because your x-y scale doesn't match .
To see what I mean , try draw y = c + 0.88x on your scatter plot , when x increase from 1000 to 2000 , y should increase by 880 .
BUT :) What if i rephrased my question " Ho do i draw a line with a given slope in matplotlib ?
I'm using Panda and matplotlib to draw graphs in Python .
matplotlib animation : #CODE
Since animation requires calling ` line.set_data ` , I don't think you
Python Matplotlib contour plot using 2D arrays for z and y
I am trying to create a contour plot from irregularly spaced data .
Have you tried searching for " matplotlib contour irregular spaced data " ?
This [ SO question , contour / imshow for irregular XYZ data ] ( #URL ) , appears to be relevant
I should add that the whole thing works nice if I use ` contourf ` instead of ` pcolormesh ` , but then there is an ugly empty area in between them , as shown below .
Alternate question : how do I get rid of that area when using ` contourf ` ?
So the legend has axis ?
Subplots grid , legend outside , savefig does not work
I have the same problem as this guy here , so I want to put my legend outside the plot , but the savefig does not work .
Summarizing , I just need to know how to plot both sequences , one on top of the other ( subplots might help , I believe ? ) and draw a line between each datapoint using Python .
That's why I wondered if subplots could be useful though another approach would be just adding n number to each one of the points in y1 and have it plotted along y2 within the _same_ plot , and then remove the x and y axes to get something like the second picture in my OP .
Do you mean remove the grid / axes / axis labels etc ?
I was having the classic " swapped axes " problem , so instead of ` y1 [ i ] , y2 [ j ]` , I just had to switch it to ` y1 [ j ] , y2 [ i ]` for the second argument in ` plt.plot ` .
Make a subplot in the 2 , 1 , 2 position : #CODE
That was a mistake lets change it to subplot #1 and relabel #CODE
Ok , Now lets add subplot 2 for real this time ...
Wait a minute it plotted on Subplot 1 ... and where is my subplot 2 ?
They are the same axes ?
I would get a line plotted on the wrong axes and a missing subplot .
The only real difference in my PyQT app is that I don't use ` matplotlib.pyplot ` instead I import ` Figure ` and ` FigureCanvasQTAgg ` ... but the behavior is the same either way .
Then I add a subplot to that fig-object : #CODE
Is it because you can have multiple subplot objects within the fig object and ax1 is just a pointer to the sub-object within the object ?
Is it because you can have multiple subplot objects within the fig object and ax1 is just a pointer to the sub-object within the object ?
In any case , a ` figure ` is the canvas you draw on , and it is the thing that gets saved .
Or , better , don't draw the edges at all and use the fill color : #CODE
The x dimension is determined by the subplot column and the y dimension is determined by the row .
When creating each subplot I share the x-axis with the first plot in that column ( using the ` sharex ` argument in the ` Figure.add_subplot ` function ) .
Y axes are shared similarly , except with the 1d histograms .
This works well to keep the axes on the same scale , but you can see the problem on the upper left .
Since most axes are the same across rows and columns I only have tick marks on the bottom and left parts of the figure .
The problem is that the top left subplot has a different y scale than the rest of its row .
I want to actually have ticks for the y axes of the other subplots on the row , applied to the top-left subplot , without changing that subplot's y limits .
Getting y labels from the 2nd subplot in the row and setting them on the first works , but actually changing the positions of the ticks doesn't as the limits of the axes are not the same .
I checked out the source on GitHub and found the part where they " fix " the axes on the top-left plot to correspond to the row's shared y-axis instead of the density axis : #CODE
Shade legend line in matplotlib
I want to shade around the line in a legend , like in the picture below .
Well , what does ` hist ` return ?
But in the 2D subplot .
I cannot upload an image , but basically , I want to put the " colors " in the second subplot .
Another solution would be to use matplotlib.patches.Polygon to draw each projected face .
You can use ` contourf ` to produce coloured 2D contours : #CODE
Error Loading Text File in Matplotlib
I suppose you don't have necessary libraries installed to draw a plot , but that is only an assumption .
The question therefore is , why do we need to use a subplot now ( using matplotlib.figure.Figure ) while before we did not ( using matplotlib.pyplot ) ?
The question therefore is , why do we need to use a subplot now ( using matplotlib.figure.Figure ) while before we did not ( using matplotlib.pyplot ) ?
` subplot ` creates an ` Axes ` object .
` matplotlib.pyplot ` is stateful , in that it keeps track of the current figure and plotting area , and the plotting functions are directed to the current axes
So , in your intermediate example , you've created your own ` Figure ` object - fiven it a name ` self.fig ` ( I'm not sure what your class structure is , so I don't know what ` self ` is , but I'm guessing it's your ` tk.Frame ` object or something similar ) .
So in your intermediate code , you're calling ` imshow() ` on the ` Figure ` object in ` pyplot ` state , but displaying a different figure ( ` self.fig `) on your canvas .
The problem is not that you need to use ` subplot ` as such , but that you need to change the background image on the correct ` Figure ` object .
The way you've used ` subplot ` in your potential fix code will do that - although I suggest an alternative below which maybe makes the intent clearer .
As soon as I need to do more complicated things , I start to use the object model directly - maintaining my own named ` Figure ` and ` Axes ` objects etc .
Which would you argue is better , using the subplot variant ( as I stumbled upon ) or the ` fig.gca() ` ( as you list in your fix ) ?
I'd argue the ` gca() ` is clearer to read in this case - I always think subplot makes me think there is likely to be more than one .
If you do ` print ( type ( ax ))` after the ` gca() ` you will see its concrete type is actually ` AxesSubplot ` ( a subclass of ` Axes `) - exactly the same as returned by ` add_subplot() `
where ` n_x , n_y , n_z ` are the dimension of the 3 axes .
The contourf method is OK , as well , but I would like to concentrate on the fully 3D plot
I was able to draw the y-axis grids on the spectrogram , but could not place the x-axis grid on it .
I want to annotate this data by plotting a gene name in the middle of the plot , and an arrow to show where the first gene starts .
1 ) Text in the center of the image .
This kind of image can be produce by creating a polar subplot , then using the ` ax.bar ` method : #URL
Artifacts in a filled contour plot on 3D axes
I have a frustrating problem that only manifests itself when plotting filled contour plots on 3D axes and only in certain situations .
If I do not fill the contour , there is no mis-contouring .
This issue does not occur when the same data is plotted on 2D axes , e.g. :
This plot has some extra data on it , but you can see that the filled contouring does not have the same artifact from mis-filling the contour that occurs on the 3d axes .
In this case the mis-filling will go away if the number of contour levels is reduced .
I have a feeling the problem lies with contouring very strong gradients when the ` levels ` option causes dense contours , but oddly only on 3d axes .
On a second thought may be matplotlib is trying to compute contour polygons instead of just computing a background texture on a texel-by-texel basis and this could result in annoying accuracy problems that depend on the value .
Drawing contour lines is instead much easier because you can just compute the segments in a marching-square approach without worrying about rebuilding the full contour line topology ( and for example if a very tiny segment is missing from the line contour plot you're not going to notice anyway ) .
For certain polygons with holes , the loss of path info ( e.g. move , not draw ) causes the bad polygon generation .
This turned out to be a longstanding bug in matplotlib.mplot3d that ignores path information when taking 2D contourf sets and extending them into 3D .
in a scatter plot , make each grid cell as a square in matplotlib in python 3.2
I need to plot a 2D scatter from matplotlib in python 3.2 .
This can be done using ` ax.set_x / yticks ` to adjust the grid , then ` ax.set_aspect ` to adjust the scale .
Move 3D plot to avoid clipping by margins
In order to get the figure to draw larger , I added ` ax.dist = 7 ` based on this post .
Lastly , based on this post I was hoping that ` plt.tight_layout() ` would roll back the margins and prevent the red / yellow surface shown below from being clipped , but that didn't work either .
Plot multiple sets of data with tripcolor - transparency in colormaps
I thought you could create custom colormaps with non constant transparency ( so triangle of low level for the cmap will appear transparent ) , but it does not seem possible : ` matplotlib.collections.TriMesh ` seems to force the alpha channel to be constant on all triangles .
Each subplot nmay have 240k to 400k data points .
Update ( 2015-07-27 ): When there is some problem saving a fig to pdf because there is too much data to render or in the cases of complex and detailed colormaps , it may be a good idea to rasterize some of the elements of the plot that are problematic .
By only rasterizing the ` scater ` , the rest of the figure ( axes , labels , text , legend , etc . ) still remains in vectorial format .
So overall , the loss in quality is not that much noticeable for some type of graph ( like colormaps or scatter plots ) , but it will be for graphs with sharp lines .
But the 8 subplots should not be a problem , unless you are plotting a lot of datapoints or colormaps .
By only rasterizing the ` scater ` , the rest of the figure ( axes , labels , etc . ) still remain in vectorial format .
So overall , the loss in quality is not that much noticeable for some type of graph ( like colormaps . ) .
I'd like to do two things : 1 . replace the default factor labels , e.g. ' bot = 0.0 ' , with meaningful text , and 2 . draw vertical lines at the mean number following for each category .
If you don't want to change the data you're plotting , then you'll have to set the attributes on the matplotlib axes directly , something like : #CODE
Label axes on Seaborn barplot
It is possible to do this through the ` frac ` arrowprops key , which corresponds to the fraction of the arrow length occupied by the head .
@USER -MSFT , you choose whatever type of plot you want , if you want a scatter plot then use a scatter plot
you are right i suppossed that because nothing was showing up i would get an error but this just pops up so i assumed it was an error but I guess not however I am realy confused now because even after running for 2 hrs it still does not show anything just the figure window no axes nothing
You're using it like an append , when it's a set .
... or on second thought just have 1 plot area and then in your timer just clear the axes , and re-plot the next item in the sequence .
That way you don't have a bunch of figure / canvas / axes object floating around .
Just 1 figure / canvas / axes and a several Data arrays .
I'm not sure what type of stuff you are plotting or if the you can re-use the axis ( all line plots ? all Cartesian ? ) but if so you could just add a new line to the existing axes and only toggle the visible state of the lines themselves with ` set_visible ` .
This way you only add 1 addition line object for each plot instead of 1 Fig , 1 canvas , 1 axes , 1 line for each plot .
Python boxplot showing means and confidence intervals
How can I create a boxplot like the one below , in Python ?
I want to depict means and confidence bounds only ( rather than proportions of IQRs , as in matplotlib boxplot ) .
Arguments to ` boxplot ` can turn off the interquartile box ( ` showbox=False `) and specify confidence intervals ( ` conf_intervals =[[ a , b ] , [ c , d ] , [ e , f ] ,... ]]`) .
But the confidence intervals plotted by boxplot are for medians .
Note that boxplot is not the right approach ; the conf_intervals parameter only controls the placement of the notches on the boxes ( and we don't want boxes anyway , let alone notched boxes ) .
The plot shows up but without axes .
In matplotlib , what is the most appropriate way to plot an image with its native aspect ratio , and optionally its native size , inside existing axes at a specific data location ?
How can I move the title of my subplot such that the second axis do not write on top of the title , but instead below it ?
Since your title applies to the whole figure rather than just the subplot , @USER rgy Solymosi's answer is probably the way to go ( rather than adding a new line , which is kind of a hack ) .
By clicking with mouse button on Figure :
I could receive signal and generate answer by printing " Button pressed " in status bar ` self.statusBar() .showMessage ( " Key pressed " , 400 )`
In my situation I want to have the default axes being displayed in the toolbar and such be the subplot created , and have the second axes generated via ` twiny() ` not be displayed .
The coordinate system in the bottom right is using the ` twiny() ` axes , when I want the program to use the other one .
only called for the artists in the top-most axes
I realize I need to make these the first axes the top most axes , how can I do that ?
So , if you add these two lines of code anywhere after you create the two axes objects , I think it should work : #CODE
I'm using the following code to try to generate a contour plot using matplotlib .
How to display a given number of colors in a matplotlib contourf and colorbar
How to change fontsize of individual legend entries in pyplot ?
What I'm trying to do is control the fontsize of individual entries in a legend in pyplot .
My expectation is that the default size for all legend entries would ' small ' .
I then get a list of the Text objects , and change the fontsize for only a single Text object to medium .
However , for some reason this changes all Text object fontsizes to medium , rather than just the single one I actually changed .
Ultimately , I just need some way to change an individual entry's fontsize for a legend .
It appears that the font of each legend entry is managed by an instance of ` matplotlib.font_manager.FontProperties ` .
The " hack " to get around this is to simply create a distinct instance of ` FontProperties ` for each legend entry : #CODE
How to make a legend with only text
I just want ' C3H8 ' and ' CO2 ' to be in the legend , excluding the blue boxes .
seems like you don't need a legend at all and labeling the axes ( via ` ax.set_ylabel `) or adding text directly would suffice ( via ` ax.annotate ` or ` ax.text `)
Here the ` xy ` parameter inside the annotate refer to the ` x and y ` co-ordinates of your text .
I tried passing the ` arrowprops =d ict() ` kwarg to the function , but that seems to only work with annotate function .
However , all I get is empty sets of axes then .
you should have a look at the GridSpec documentation for more flexibility when creating axes #CODE
I need to create a rather complex Figure without pyplot - I would like to use gridspec , but how can I do it ?
I would like to create all axes as a list , except the last column which spans all rows .
Matplotlib alternative for 3D scatter plots
After doing a scatter plot , I cannot rotate the data or change the point of view while zooming easily ( Rotation axis stays the same even after you zoom , and if you zoom too much points just disappear ) and every change takes one second to occur .
Is there an alternative to Matplotlib in Python that can handle 3d scatter plots better and where one could fluidly navigate through the cloud ?
I now want to just have one shared , centralised Y Axis label but I'm not sure how to do this .
How can I manipulate the max value of this dist ?
Because when I plot it together with histogram , the normal dist . flattens out and thus looks like a straight line at the bottom .
Tho , the best would be 2 axes on two sided , one for histogram and one for distr .
Because of the auto-scaling of the axes to get " nice " tick values , just using ` twinx ` is probably going to result in a plot that isn't quite accurate in terms of equating the normalized density and count values along the vertical axis of the figure .
Index error within a subplot command in matplotlib
I am not sure if this is a small bug to the source code , but the subplots will not scatter plot two arrays shaped ( 1018 , ) a piece .
I've never had problems performing a scatter plot with the variables until I used the specified subplot commands .
If you specify one row and three columns , ` axes ` has shape ` ( 3 , )` , not ` ( 1 , 3 )` , so you index the figures at ` [ 0 ]` , ` [ 1 ]` , ` [ 2 ]` .
Alternatively ( if you already have ` axes ` as a one-dimensional array ) , you could use : #CODE
I did not realize when you input only one row into the axes that the object becomes one dimensional .
But in your case you'd have to write ` n ` number of times , but here you append the values to a list and then plot them easily by calling just your ` x list ` and ` y list `
You don't say what is the format of the date column , but I think the problem lies with your converter in ` np.loadtxt() ` .
matplotlib : fail to plot line or bar ; valid axes
The axes are valid , I can see that when I print the numpy arrays .
the axes limit do not make any sense anymore and you're seeing a region where there are no data .
I'm not sure where the disconnect in my understanding occurred .
Matplotlib - draw rectangle outside of unit square
I would like to draw rectangle with bottom left corner at ( 2 , 3 ) and height and width ( 3 , 4 ) in matplotlib .
There is a great tutorial Rectangle tutorial , but it only talks about drawing within unit square .
There is even question on stackoverflow.com how to draw outside unit square stackoverflow.com , but when I ran it , it does not draw anything , it only displays axis of unit square .
The first example in the tutorial you linked works fine , you just need to rescale the axis to see the rectangle if you draw it outside of the unity square as you call it : #CODE
I am trying to modify the color / thickness of a specific gridline in a 3D matplotlib scatter plot , in this case I want the -30 z axis grid line to be black , bold , or thickened so it stands out amongst the other gridlines .
Here is the basic code seen from the mplot3d scatter plot tutorial : #CODE
I see your point , but when I use your code , matplotlib doesn't draw any of the axes until after another=False .
Using the implicit axes of ` pyplot ` can cause problems as the ' current axes ' is set by the last axes the user clicked on .
I first tried to use the ` hist ` method for DataFrames , but encountered an error , and a blank 4x4 series of histograms .
Realizing ` DataFrame.hist() ` " plots the histograms of the columns on multiple subplots " , moved away from this and tried ` outer_df.plot ( kind= ' hist ' , stacked=True )` .
` ValueError : Invalid chart type given hist ` happens when I tried the above .
Labels of the xaxis and in legend all appears ok .
I'm guess a bit at what your problem is , so let's start by stating my interpretation You have some 2D data ` d ` that you plot using ` imshow ` and the units on the ` x ` and ` y ` axes are in the number of pixels .
Plot areas of high occupancy as a densitymap or contour in Python
Having a large dataset of ( x , y ) point positions I would like to plot areas of high occupancy as a densitymap or contour in Python .
I used matplotlib's contour , but it does not give me good information about the density : #CODE
Have you tried ` matplotlib `' s [ ` contour `] ( #URL ) ?
You will have to specify ` time ` in the ` color ` option in ` scatter ` .
What you have to do is to use matplotlib's animation system .
So I don't have a complete set of data to be plotted when I call the ` draw ` or ` show ` .
I tried first using subplot2grid method , then basic figure and subplot method .
I could see that the subplots were plotted but it seemed that the final pdf contained only the last subplot , so I guess the problem comes from the subplots saving ?
I tried it but it seems that only the last subplot ( the one just before the savefig and close ) appears on the pdf , taking up all the room
Ok , I filled the code you gave me with a piece of mine , corresponding to the first subplot , and it returned a cthulhean picture ...
no just the subplot hidding behind its neighbours , so I guess it is a matter of figure size , stupid !
Actually , can we control subplot size ?
I added some axes after 1 and 2 , I filled 1 and 2 with plot data .
Moreover , I specify the location of the legend as well .
Sometimes , reducing the size of the legend ( particularly the font size of the labels ) is not an option .
remove the frame of the legend ;
fine-tune the font size of the labels and their vertical spacing in the legend .
But , if you still want to keep a frame around your legend , you can also play around with the ratio between the width and the height of your figure until the legend fits in the graph .
How to annotate multiple lines in matplotlib ?
How can I modify it to write the labels on the line instead on the legend ?
I don't think you are calling ` annotate ` correctly #CODE
` annotate ` adds text at a specific point on the plot ; it can't be used to label the coordinates of a bunch of data points ( at least not in one call ) .
Then you could run the Hough transform for circles on it to find the center .
Or you can use the distance transform of the thresholded white pixels and take the maximum of this distance transform : #CODE
Say I have a heatmap that looks like this ( axes are trimmed off ):
One approach is to access the ` Text ` objects directly and change their weight / style .
To set the hatch of an individual cell , you need them to be distinct patches , and things get messy .
Nonlinear colourmaps for 3D contour plots in matplotlib python
But then I am left with a 3d contour plot with very few discrete levels .
Is there any way I can change the number of discretisation levels of the 3d contour plot ?
with your own ` Normalize ` function .
matplotlib scatter plot colour as function of third and fourth variable
Is there some way I can color my scatter plot using two variables to set the color ?
error met in plot two curves in one Figure ( python-pandas-matplotlib )
If I removed the ` hold() ` line and the ` axes ` two line , it produces one figure , but the ` x-lim ` starts with day ` 2014-12-10 ` rather than ` 2014-10-18 ` .
Note : When I replace ` hist ` in my code below with ` describe ` , it perfectly gives me 100 describe series .
Matplotlib can't render multiple contour plots on Django
Whenever ( at least ) 2 people try to generate a contour plot in my application , at least one of them will receive a random error depending on how far the first person managed to draw ..
( " unknown element o " , " ContourSet must be in current Axes " are just two of the possibilities )
( Easiest way I found to do this was to click the refresh page button in chrome with the middle mouse button a couple times )
I've also tried using a ` ThreadPool ` and ` Threading ` to no avail , from what I can tell it seems like creating a contour plot in matplotlib cannot support multiple instances which will never work for a website ...
Is there a way to generate contour plots with matplotlib that will work for me ?
The simple reason for this is that the pyplot module is not designed for multithreading and therefore the two charts are getting their data mixed up as they attempt to draw .
Plot dashed line interrupted with data ( similar to contour plot )
Something similar , regarding the labeling , is already existing with Matplotlib - as I saw in the contour line demo .
Do you want to annotate each point in ` grid_x ` and ` grid_y ` with values from ` temp ` ?
# annotate point temperature
Note that there is a big part of the code that is only to make the xticks format visually appealing .
How does the fig , axes work in this case ?
does not work because ` subplots() ` is a function in ` pyplot ` not a member of the object ` Figure ` .
How it looks now . the time axes are not perfectly aligned because the colorbar of the lower plot is wider .
Python : Using Pandas to plot more than one series in each subplot
I would like to plot series1 and series 2 on the first subplot , using colors : black and blue .
In the second subplot I would like to plot series3 , using the color : red .
You'll want to use the subplot function .
` plt.plot ` internally calls ` gca ` ( get current axes ) which then calls ` gcf ` ( get current figure ) , which returns the current ( last used ) figure .
I have a function which returns a ` Figure ` created with ` pyplot ` .
I can easily save the returned ` Figure ` to a file , but I cannot find the way to display it ( i.e. : have a popped window showing the figure ) .
Matplotlib scatter intensity
I have created a global contour for d1 8O with a specified range and colorbar .
I am trying to plot a scatterplot of the arctic with the color intensity equal to the intensity of d1 8O ( Figure a ) .
( Figure 1A )
see the documentation for scatter
and tons of examples on SO : matplotlib colorbar for scatter
Is it possible to add a legend that shows the arrows properly ?
That's because the first number in subplot is the number of rows of plots ( the second number is the number of columns ) .
Plotting Single Quiver Arrow with basemap
` rowspan=2 ` makes me think that you want the middle axes to be half as tall as the outer axes , but you haven't really verbalized that goal .
For the simplified example I just want to plot all of those 3 axes .
Since you have two axes with a ` rowspan=2 ` , your grid needs to be 2+1+2 = 5 blocks tall .
But you could scale your axes so the negative values are positive and apply a log
I think your only option would be indeed to create a custom projection for your axes .
If you want the logo to be faded , set it's ` alpha ` to a low value , if you want the plot to overlap the logo set the zorder of the second axes to be less than that of the first .
I am making a scatter plot where some points are very close one to each other , or even overlapping .
You can use ` set_sizes ` on the object you get back from ` scatter ` .
#URL You should write functions which take in an axes and return the new artists added .
` sns.barplot ` doesn't explicitly return the barplot values the way ` matplotlib.pyplot.bar ` does ( see last para ) , but if you've plotted nothing else you can risk assuming that all the ` patches ` in the axes are your values .
just draw a recatngle without boarders .
@USER Right -- the keys of a are just identifiers , so the only time I'd use them is in building the legend .
I'd like to be able to add a legend that shows the quantile cut-off values , but it appears that the Geopandas plot currently only allows for legends based of categorical data .
As an alternative option I've been playing around with is using polygon patches in matplotlib .
If necessary to go down this route in order to build a legend I can follow-up with another question and will include my code so far .
The ` tracts.plot ( .. )` returns an Axes object , from which you can start to adapt the figure using matplotlib .
However , I'm not that familiar with matplotlib and am not sure how I can add a legend or change the thickness of the polygon outlines .
For adding a colorbar as legend , you need the colormap .
So to clarify , you're suggesting that I edit the code for the plot_dataframe function ( found here : #URL ) to add a color bar legend as well as gain the ability to adjust the polygon outline width ?
Added an answer for the legend .
I made a small patch to the ` plot_dataframe ` function of geopandas to enable a legend when using a PySAL scheme .
You could also overlay a scatter plot with a hover text field on the heatmap , but set the mode of the scatter plot to text .
This would make only the text show and not the scatter plot points .
I would like a specific panel of my ` wxPython ` GUI to plot the density contours of my data based on bandwidth values of a Gaussian kernel , according to Seaborn's kdeplot function , along with a scatter plot of the data points .
I don't know anything about wxPython but if you want to plot onto a specific axes use the ` ax ` keyword argument .
You could probably just replace the plotting code with sns stuff and just make sure to plot on " Figure " object from MPL .
How to plot a ylabel per subplot using pandas DataFrame plot function
By default pandas.DataFrame.plot() using the subplots option doesn't seem to make it easy to plot a ylabel per subplot .
I am trying to plot a pandas dataframe having a subplot per column in the dataframe .
@USER If layout is a tuple , you get a * 2D * array of axes i.e. you need to use ` axes [ 0 ] [ 0 ] .set_label ( ... )` etc .
Pandas : Y Axis consistency across graphs
To use ` sharey ` , you'd need to create a single figure containing two ( or more ) axes : #CODE
Text under x-axis , additional ticks corresponding to start and end
Text under x-axis or in graph , dashed lines throughout the figure
I might be tempted to use ` plt.annotate ` to draw labelled arrows : #CODE
From the comments it seems you want to represent ranges of values on the time axis rather than single timepoints , and you want to plot multiple series on the same set of axes ( so you don't want any aspect of the annotation to vary with the y-values of the timeseries ) .
One fairly straightforward option would be to plot colored shaded regions using ` plt.axvspan ` ( similar to chepyle's answer , except without varying the height ) and use a legend to display the labels : #CODE
Using a legend has the advantage that you don't need to worry about cramming in a text label for the last range , which is quite narrow .
This method requires a lot more tweaking in order to fit the labels in without overlapping one another or the axis spines .
Do you want to annotate particular points in time , or ranges of times ?
To highlight the ranges , you may use the axhspan or axvspan to draw boxes around the ranges , along with annotate for the text : #CODE
How can I keep the limits of my axes and avoid the scaling ?
Matplotlibs ` imshow ` sets the aspect ratio of the axes automatically .
Wanting to perhaps use ` xticks ` to solve this , I tried adding this code , which makes it even worse , actually : #CODE
It appears that Seaborn does its axes a bit differently .
So if you have two rows and two columns , axarr is a [ 2 , 2 ] array of axes , but the subplots method only will return two objects , not five .
I proceed by plotting a spherical surface , and then overlaying it with a scatter plot .
If the list are not dividible by N , you can uncomment the last commented line so the bars stay alined on the last subplot : ( ` ax.set_xlim ( 0 , N )`) :
I have a figure with subplots , whereas each subplot features as contourplot .
( With a scatter plot you'd have some more options , like using the ` s ` kwarg , although I'm not sure it's ultimately any better than this solution . ) #CODE
How can I generate this and the legend dynamically in matplotlib for Python3 ?
I think using yticks property as in : #CODE
Instead of calling ` a , b , c , ` and ` d ` in ` scatter ` , I am calling the entire array ` r0_array , gamma_array , etc ..
matplotlib : Remove subplot padding when adding tick labels
The text may " overlap " with the next subplot .
Perhaps you could simply create the axes with ` plt.subplots ` : #CODE
My question is : how do I retrieve the color cycle used to create the stacked plot , so that I can assign the right colours to the legend ?
I know it's possible with plot and scatter , but stackplot doesn't accept the ' marker ' parameter .
I think you have to create a second ` Axes ` with 0 height ( and hide the ` yaxis `) to have a second ` xaxis ` that you can place wherever you like .
As an alternative to the answer from @USER , you can use ` spines ` in a similar way to the ` matplotlib ` example posted here .
You could create a 2d scatter plot and use ` v , w ` as ` x , y ` coordinates , the ` y ` value to color the points and ` z ` value to scale the size of the points
What about a 3-D scatter plot , which actually comes out to be 4-dimensional when the color scale is included ?
I have a simple matplotlib scatter plot which uses this code
Edit : I need to do something like this , with the interactive scatter plot being displayed in the webpage .
If you want one ` Axes ` object with diamond markers , another with diamond markers and a line , and a final one with just a line , you could do : #CODE
Seaborn / Matplotlib Date Axis barplot minor-major tick formatting
Python - matplotlib modify xticks for a " loglog " plot
I typically use ` vlines ` or ` hlines ` for this ( I think the caps are just distracting ): #CODE
Python Pandas DataFrame - Cannot plot bars and lines on the same axes
The makeGraph function simply returns a matplotlib Figure object .
Also , that doesn't save the animation in some usable format .
I know I can draw the network with the ` nx.draw() ` function in networkX .
One possible solution might be to plot the graph in each step of the process with different node colors , save each of them and make a gif animation with all the saved pictures .
Preferably the animation would run in an IPython notebook .
" One possible solution might be to plot the graph in each step of the process with different node colors , save each of them and make a gif animation with all the saved pictures .
I implemented a animated Networkx heat diffusion using matplotlib ` animation ` framework .
If you install the JSAnimation plugin for IPython notebooks , you can even visualize the animation in your notebook !
In my application you could see heat diffusion propagating from different sources in a nice animation in an IPython notebook .
Set xlim , ylim on polar plot in Matplotlib
Can I adjust the xlim and ylim ?
I can make this look more like what I want by screwing with overlapping axes ,
I'm wondering if there's a way to " pan " within the axes , though .
hist does only support 1D Histograms , what do you wnat to achieve with passing x and y ?
I was not aware hist could only take one set of data .
This suggests using ` hlines ` : #CODE
But the arrays I pass into the contourf function are misshapen and I'm not sure how to correct this ?
Matplotlib basemap + contourf with irregular 2d numpy array
The values are correct but pcolormesh and contourf show discontinuities .
The code to draw the plot : #CODE
I am a bit stuck with the matplotilb subplot tools .
I'm sure it has something to do with axes or subplots , but I don't think I fully understand those paradigms ( a fuller explanation would be great ) .
I think this is one of the things that I'm getting hung up on with subplots / axes , because it seems like you need to set them ahead of time .
So I managed to get a little bit farther by adding an additional Axes instance in each loop .
Both of these cases are not ideal in my case as I would like to achieve reasonably high refresh rates .
Figure 1 : Transposed image ( blue ) and non transposed image ( green ) .
Each data point is the time taken to draw all 10 frames in sequence .
Figure 2 : Zoom of same figure
The code ( it's crude , learning and limited time to spend on this . I ran the first one for 1000 frames , closed the window , uncommented the second animation , commented the first and ran again for 1000 frames then plotted the two . ): #CODE
Is it possible matplotlib is clever enough with numpy arrays do draw efficiently ?
How to add labels to a boxplot figure ( pylab )
There is my code for the boxplot I am creating .
I would like to label the axes and have a title .
I have two independent datasets , z_p and z_g here , and I would like to put two tricontourf() instances on the same axis , each instance corresponding to a contour of one dataset .
I already tried ` alpha= 0.5 ` , however , both patches become improperly dim , which I do not want at all .
If you want to use contourf instead ( it's actually simpler ) , you can do the same thing - use NaNs to make matplotlib ignore things .
How can I separate the xlabel from the title ?
get the same results when pl.savefig ( ' tex_demo ') is commented ( no axes ) or uncommented ( OS Error ) .
Figure in a figure in a figure
I'm experimenting with ` matplotlib ` to draw figures in figures in figures .
Since squares are the most straight-forward to draw , I started with those .
How should I draw polygons with a certain width using ` matplotlib ` , assuming the polygon will be surrounded on the outside with a band of the same form and at least the same width and completely filled on the inside ?
Adding a subplot into SpikePlot Python module
In one the example , it is saying " The spike_axes will be set to the first axes object assigned to the figure " .
I just want to plot spikes2 in subplot instead of the same axis .
I haven't been able to generate your layout by using ` subplot ` and ` gridspec ` , while still preserving ( 1 ) the ratio of the axes and ( 2 ) the limits imposed on the axis .
An alternative solution would be to place your axes manually in your figure instead and to control the size of the figure accordingly ( as you already mentioned in your OP ) .
Although this requires more work than using ` subplot ` and ` gridspec ` , this approach remains quite simple and can be very powerful and flexible to produce complex layouts where a fine control over the margins and the placement of the axes is desired .
Below is an example that shows how this can be achieve by setting the size of the figure accordingly to the size given to the axes .
Inversely , it would also be possible to fit the axes within a figure of a predefined size .
The aspect ratio of the axes would then be kept by using the figure margins as a buffer .
The shared axes are linked , which is useful in interactive environments .
I am trying to input these as the c argument in 3d scatter I tried zip ( names , colors ) #names is the list of names and colors is the cmap# and I got an error in matplotlib .
On Ubuntu I installed latest matplotlib version 1.5 from source with all dependencies and Eclipse seems to draw plots just fine , but version 1.3.1 of matplotlib is still working as a default one .
Basically I am making this animation , and I want the same thing but without all the whitespace :
How do I completely remove the legend title ?
range ( axis ) for the subplot ?
You need to set the ` xlim ` and ` ylim ` of sub_axes #CODE
( Note also that you don't need to define a wrapper function to create an alias to ` np.sqrt ` , etc . Functions are first class objects in Python and you can simply assign a name : ` sqrt = np.sqrt ` . )
Hi I am trying to make a scatter plot and annotate data points with real value of each point
I am trying to set the default font for axes ticks in matplotlib .
` ax.hlines() ` is a shorter way to draw horizontal lines in matplotlib .
\mathrm mode for legend labels and legend props in matplotlib
So I am having a little alignment issue with my legend in matplotlib .
I also have the following legend label : #CODE
How to change legend font only without affecting other parameters in matplotlib ?
I am trying to change the font of the legend by defining a global function following steps given here .
It seems that is adding more complexity and having the undesired result of altering your legend location for you .
It seems like @USER addresses how to change legend font , but your actual question is how to change axis label and legend font without moving the legend - is that right ?
Yes , I change the axis tick fonts using the function for multiple fonts , and I am trying to change the legend font only without moving it .
Just pass the font-prop-dict to ` legend() ` directly , as the ` legend ` docstring suggests .
Combining the matplotlib gallery legend example with your legend-on-the-side , specifying location and font properties at once : #CODE
I can't figure out what your actual use case is -- if you get a new font definition after making a plot , the easiest way to change the legend is to make the exact same ` legend() ` call again ( with the prop dictionary it points to altered ) .
You can place them around the circle with a scatter plot , using the value to set the color using : #CODE
Python Matplotlib Multi-color Legend Entry
I would like to make a legend entry in a matplotlib look something like this :
It has multiple colors for a given legend item .
Probably not exactly what you're looking for , but you can do it ( very ) manually by placing patches and text yourself on the plot .
The solution I am proposing is to combine two different proxy-artists for one entry legend , as described here : Combine two Pyplot patches for legend .
Two different colours can then be attributed to each marker in order to produce the desired two-colour legend entry .
Disclaimer : This will only work for a two-colors legend entry .
If more than two colours is desired , I cannot think of any other way to do this other than the approach described by @USER ( Python Matplotlib Multi-color Legend Entry )
In order to draw a line chart , I fill the smaller arrays with None values ( not really relevant to ` fill_between `) .
Matplotlib animation , moving square
I want to make an animation in which square will be moving ( following coordinates from file ) and with exact yaw angle.One animation tick should represent be one square movement .
Instead of creating a new Rectangle in ` animate ` , use ` set_* ` methods to modify the existing ` patch ` : #CODE
When I try to autoscale it , nothing plots and it just defaults to a view of - .6 to + .6 on both axes .
Or that you wanted a moving animation of the existing data ?
Then you use ` animation ` and talk about incoming data over a period of time , which implies an input data * stream* .
The ` FuncAnimation ` will draw things for you , but by telling it to use blitting , it's only updating the inside of the axes and not the ticks , etc .
Therefore , you need to manually call ` draw ` , but the animation will be calling ` draw_artist ` , as well .
Furthermore , by setting ` interval=0 ` , you're forcing it to draw constantly , which will effectively force things to lock up .
I've also added ` ax.margins ( 0.05 )` to avoid the axes limits snapping to the next nearest " even " number and giving a " jerky " appearance .
Internally the artists in the ` Figure ` are placed / sized in a [ 0 , 1 ] unit space .
I think you can set this property ( space between edge of figure and axis ) when you create the axes ( add_axes to a figure object ) .
Here is some simple example code that produces two axes with generous spacing on all sides : #CODE
Seems like a reasonable solution to control the size of the margins as you which .
This is how I usually setup my code if I want to have a fine control over the size of the figure's margins in matplotlib .
In addition , I show how the position of the ylabel can be setup , so you can easily align the ylabels of your two figures together .
This results in a 8in x 4in figure , with margins of exactly 0.95 , 0.2 , 0.5 , and 0.25 inch at the left , right , bottom and top of the figure .
One benefit of this approach is that the size of the margins are defined in absolute units ( inches ) , meaning they will remain consistent even if you change the size of the figure .
As for the ylabel , horizontally , the top of the label is located 0.25 inch from the left edge of the figure , while vertically the centre of the label corresponds to the centre of the axe .
Note that due to the 90 degrees rotation on the ylabel , the meaning of the ` verticalalignment ` and ` horizontalalignment ` are in reality inverted .
Can you also explain your 3rd last line - this one ` ax.yaxis.set_label_coords ( xloc , yloc , transform = fig.transFigure )` ?
i.e. how would you pick the margins and ` xloc , yloc ` ?
@USER In this case , if your 4 subplots have the same horizontal dimension , I would define the yaxis location manually in coordinate relative to the axes instead , like shown here : #URL It requires to adjust manually the x-position though .
That is because when you create a standalone ` Figure ` instance using ` Figure() ` , the canvas is not automatically set , you have to set the canvas using the method - ` fig.set_canvas() ` .
I'm currently using mplot3d on python and I have a scatter data like
I tried ` ax.scatter ( xp , yp , zp )` , then scatter graph can be shown .
I tried ax.scatter ( xp , yp , zp ) , then scatter graph can be shown , but when i try ax.plot_trisurf ( xp , yp , zp ) for all the data , and plt.show() then nothing appears on graph .
Difficulty with annotate function in Python 2
I found some difficulties with the annotate function : I don't know how to configure it or whether the place where I have put the annotate function is the right place or not .
` annotate ` takes at least two arguments .
Additionally , since you want to annotate every point , you will need to call ` annotate ` inside a loop .
Bottom line : can I draw a circle in Python / Matplotlib which is defined in the proper vector / Bezier curve way , and which has an edge color defined according to a colormap ( or , failing that , an arbitrary color gradient ) ?
I thought the bounds on the call to ` Normalize ` would do that , but apparently not .
Note you'll have to apply the transform to each element separately ( the mentioned software provides functionality to do this automatically ) , rather than to the whole drawing , otherwise it has no effect .
Note you'll have to apply the transform to each element separately ( the mentioned software provides functionality to do this automatically ) , rather than to the whole drawing , otherwise it has no effect .
Problems with colorbar and multiple subplot
Python now attaches the colorbar to the second subplot and shrinks it therefore .
you can create a separate ` Axes ` instance for the colorbar #CODE
The problem in your usage is the NFFT setting , which controls how many data points go into each block of the fast-fourier transform ( FFT ) .
I don't think attaching a label to a line is meant to draw this label to the plot , it just associates this label with the line and can be used to create a legend .
The label kwarg for plot sets the label that's used by legend .
To display it you can add a legend to your plot .
Alternately , you might want to use annotate instead .
I think you mean ` from matplotlib.figure import Figure ` ( upper case " F ")
I changed it and now am getting an error on the next line for subplot .
NameError : name ' subplot ' is not defined @USER
I want to draw a 2D histogram with each row normalized .
It's probably easier to prepare your data in a matrix , normalize as you wish and then use ` matshow ` or ` imshow ` to draw your matrix .
You can use masked array to draw multiple lines .
I was thinking about maybe using the YIQ colour space with Y= 0.5 for an equivalent quaternary colour scheme ( square legend ) .
Also , this is the first time I've used barycentric co-ordinates , so my plotting of the legend is probably not ideal ( a better legend might not ' bleed ' out of the edges , for example , or need so many points ) .
This gives our legend as follows :
And then ` abc_to_rgb ` can be used to get a suitable colour for a given point in a scatter or line graph ...
Matplotlib wont join data points when the x axis isn't equally spaced
I'm trying to contour irregularly sampled data on a sphere , but tricontourf is not behaving well .
Using matplotlib boxplot with groupby
But as for those , did you look at the documentation for boxplot ?
2D Color coded scatter plot with user defined color range and static colormap
I want to get multiple scatter plots with the following conditions :
I want to filter the G and H data and plot in matplotlib animation .....
issue in using tooltip in scatter plot through mpld3 in ipython and Spark
I then display the scores on a ` scatter plot ` using ` mpld3 ` .
Detect loops / intersections in matplotlib scatter plot
At some point in my work , I came up with that kind of scatter plot .
I was thinking about detecting clusters , or maybe even detecting lines in the scatter plot and then see if there are any intersections between any two lines , but I am afraid my skills in image processing only go so far .
How can I further achieve a legend of titles for each curve ?
` plt.xlabel ( " X Axis Label ")`
` plt.ylabel ( " Y Axis Label ")`
Interpolation differences on polar contour plots in Matplotlib
I am trying to generate contour plots on a polar plot and did some quick scripting in matlab to get some results .
Out of curiosity I also wanted to try out the same thing in python using the matplotlib but somehow I am seeing different sets of contour plots for the same input data .
You can use the ` c ` keyword in the ` scatter ` command , to tell it how to color the points .
Basic scatter plot with reference data on diagonal ( identity line )
I have two arrays x , y obtained from a machine learning calculations and I wish to make a scatter plot with the reference data x on the diagonal in a way to visualize better the predicted values y against the true ones x .
matplotlib scatter animation ; original plot always on screen
My animation is not working as expected :
the existing ` Artist ` will improve animation speed .
Are you doing that while the animation is running ?
Python : Grid line drawn over plot_surface() in animation
So far all the animation works , and the surface is plotted nicely .
The workaround is to clear the axes manually by removing all the objects .
When I run my ` setup_plot ` and ` dataq ` functions on their own the pyplot window behaves as expected , i.e. after the run finishes the buttons ( pan / zoom etc ) in the navigation toolbar are active .
I'm using matplotlib and basemap to draw some maps .
When plotting matrix with imshow in Matplotlib , how to change ` colorbar ` legend bar size , location , font and other parameters ?
In a real use case , I got complex labels and the legend bar becomes much higher then the matrix itself .
I want to change the legend bar to make the plot more efficiently use the space .
I found a documentation for the ` matplotlib.pyplot.colorbar ` , however have not figure out a good way to set the size , location and font size for the color legend bar .
+1 , ` make_axes_locatable ` method calculates the location and size of axes at drawing time .
Alternatively , we can specify the location and size of axes before drawing time .
To always get consistent result , I might suggest manually specify the size of axes : #CODE
I want to draw a graph that shows the rate at which the sensor was touched as time passes on ( the derivative of the first graph ) .
` highlight ` returns unique identifiers for the highlighting lines created and the actual line styles used to allow the legend entries to be edited to produce what you see in the image , but as far as I can tell that has to be done after all plot commands , i.e. outside of ` highlight ` , assuming other things will be added to the Axes e.g. the ' Fine pitch ' and ' 10 degrees ' lines in my example .
I manage to generate an accurate legend entry for the highlighting by making use of HandlerTuple when calling plt.legend() by looping over all legend entries and replacing legend keys where ` gid ` is one of the values returned by ` highlight ` .
Is there a way in matplotlib to define a " compound " line style such that one plot command produces the desired appearance and has only one legend entry ?
Adding Radial Axis Label in matplotlib
I am making a polar scatter plot for a college project with matplotlib and I can't find out how to add a label to the radial axis .
You can change ` lower right ` to ` upper right ` or even to ` best ` to leave the alignment of the legend to matplotlib .
I think I've figure out what these numbers representing the ` xticks ` mean .
Unfortunately , when you zoom or pan the plot , the labels change and do not align with the data points .
My normal use case is to plot timeline data , then interact with it via the pop-up GUI ( pan and zoom ) , to explore regions of interest .
Currently I use the ` add_patch ( Rectangle ( ... ))` , but it does not fit really well .
I would like to draw edges on the borders between different regions .
I tried with contour ( commented out in the code ) but that gave me 2 undesirable results :
The contour lines are not on the cell boundaries .
Then you just need to use ` PairGrid ` , which is a bit more flexible than ` pairplot ` and will allow you to map other plot attributes by the hue variable along with the color ( at the expense of not being able to draw histograms on the diagonals ): #CODE
The first two plots are working perfectly , and I would have thought the one in the loop would add an nth subplot that is 1 wide and 2 tall , but I get the error : IndexError : index out of range .
In this case you have to make sure ` n ` can only be either 1 or 2 , as you specified 2by1 subplot grid .
Matplotlib legend vertical rotation
Does someone perhaps know if it is possible to rotate a legend on a plot in ` matplotlib ` ?
There was a question on the matplotlib mailing list , and the answer was that it is not possible with the current ( 2009 ) implementation of the legend ( #URL ) .
First , it seems that we can certainly rotate and translate the bounding box ( bbox ) or frame around the legend .
In the first example below you can see that a ` transform ` can be applied , albeit requiring some oddly large translation numbers after applying the 90 degree rotation .
But , there are actually problems saving the translated legend frame to an image file so I had to take a screenshot from the IPython notebook .
Next , I thought it would be smart to explore the ` get_methods() ` of other legend components .
You can sort of dig through these things with ` dir ( legend )` and ` legend.__dict__ ` and so on .
In particular , I noticed that you can do this : ` legend.get_title() .set_transform ( transform )` , which would seem to imply that we could translate the legend text ( and not just the frame as above ) .
The legend title seems to have disappeared in the screenshot from the IPython notebook .
But , if we look at the saved file the legend title is now in the bottom left corner and seems to have ignored the rotation component of the transformation ( why ? ):
It might be a sensible idea to dig into the differences in behaviour between the legend title and frame objects -- why do they both accept transforms , but only the frame accepts a rotation ?
Perhaps it would be possible to subclass the legend object in the source code and make some adjustments .
We also need to find a solution for the rotated / translated legend frame not being saved to output , even after following various related suggestion on SO ( i.e. , Matplotlib savefig with a legend outside the plot ) .
Admittedly , there was a lot of space above the first and below the last subplot , but you can fix that by playing with the figure dimensions or ` gs.update `
I'm aware that it's possible to update the x and y values of a plot by using its artist with set_xdata and set_ydata .
Can something similar be done with fill_betweenx to update its arguments ( y , x1 , x2 and where ) to avoid clearing the axes and plotting it again ?
Best I've come up so far is to remove only the ` fill_between ` artist from the plot with ` remove ` method and re- plot the ` fill_between ` .
Have to directly assign new ` Path ` to ` _path ` : #CODE
matplotlib circle , animation , how to remove old circle in animation
I am trying to simulate an animation of a circular shock wave from a selected data point using Matplotlib's circle and animation .
` ax.findobj ( match = type ( plt.Circle ( 1 , 1 )))` looks for all the circle patches on the axes , which you can then remove before plotting a new circle .
So you are not removing and redrawing patches every round , which I think may be more efficient .
Animation will not work on inplace ( or inline ? ) on notebook .
I would also make the bars bigger and move the xticks to the middle of the bars .
Transparent legend in Bokeh
In Matplotlib the legend function has a keyword argument called fancybox that makes the legend slightly transparent to see the lines behind the legend .
Judging by this one example in the documentation , I think you can change the legend transparency setting the ` plot.legend.border_line_alpha ` , which changes the transparency of the border line and also the legend itself , apparently .
( As of Bokeh 0.9.2 ) Configuring the legend background was only just added a few weeks ago in a recent PR .
Note also that the ` xy ` coordinates should be in data units , so it may be that ` ( 100 , 1000 )` is not within your axes area ( I don't know the range of values of your data . )
To check if this is the problem , you could specify both pairs of coordinates in fractional axis coordinates ( 0-1 ) for each x and y , and set ` xycoords= ' axes fraction '` and ` textcoords= ' axes fraction '` as arguments to ` annotate `
It sounds trite , but really you'll go far if you just check the documentation ( in this case , the ` s ` parameter to scatter . )
You can also then apply the same approach to transform the for loop inside your function ` get_zone_nbr ` into a map function call .
You'll have to transform the queryset into something matplotlib can work with .
One tip while you do that : when embedding stuff in Tkinter , do not use ` pyplot ` ; use the actual ` Figure ` you've imported .
This was a breakthrough , as it was suddenly clear why ` plt.pause() ` was able to replace ` plt.draw() ` , it had a draw function inside it with that same ~ ` 250ms ` overhead I was getting at the start of my program .
Their solution : To replace ` plt.draw() ` with individual calls to each ` artist ` which needed to be updated , rather than every single one !
How do I modify the xyz data of a 3d scatter plot in matplotlib for fast on-line animations ?
I am not sure if this is faster than just clearing the figure and calling ` scatter ` again with new coordinates , which should have the same effect .
I have a 2D array of floats , each cell representing a magnitude at the col / row of said array and would like to create a surface plot and contour for it .
Either I cannot figure it out , or there is a bug in matplotlib when drawing ` text() ` with ` rotation ` to ` loglog ` or ` xscale ( ' log ') ; yscale ( ' log ') ; ` plot .
The 3d axes seems to not support these masked arrays .
Yes , there is an old old issue [ here ] ( #URL ) that is still open regarding plot_surface() and masked arrays , so it looks like this is still on the wishlist for 3D axes .
Control Matplotlib legend box width for wrapping
I am trying to fix the width of the legend box in Matplotlib ( Python 2.7 ) .
I need to get the legend box to :
When there are a small number of entries ( eg . first plot ) , then I want the legend to be centered .
However , I need to change the behavior when there are so many entries that the legend needs to wrap around to a new row ( 2nd plot ) .
Is there a way to specify the size of the legend box ?
A solution would be to iterate over the ` ncol ` argument until the width of the legend becomes larger than the width of the axe .
Then , make the legend to expand the entire width of the axe using the optimal value found for ` ncol ` and the ` mode= ' expand '` option .
In the case all the entries can fit in a single row , your " centered layout " is kept , without expanding the legend to the width of the axe .
You will have to explicitly specify the number of entry in your legend each time .
The default value for a new axes is 9 ( in other words , a maximum of 10 ticks / ticklabels ) .
Instead , one trick I like to use is to " prune " the first and last ticks from the axes .
However , this will also link the interactive zooming and panning of all axes so that the x-range is shared : #CODE
` locator_params ` and ` margins ` are the two most under-advertised but incredibly useful features of matplotlib .
Some of the points are spaced a large distance from one another so scatter is not appropriate as I'd like to show a line interpolating that distance .
Python Numpy add hspace between 3D plot and 2D plot with shared axes
Alternatively , you can manually place the top axes .
When working with matplotlib text objects , you can use the argument ` transform= ax.transAxes ` to use ` Figure ` coordinates instead of ` Axes ` coordinates if you want to loop through the subfigures .
` get_label() ` might return the text from the * legend * rather than the axis label .
In this case , it's probably easier to not use the ` ylabel ` at all .
Instead , use ` annotate ` to place the text at a constant offset from the left side of the axes .
To solve this , it's easiest to use ` annotate ` .
The trick is to position the text at ` y= 0.5 ` in axes coordinates , and then 5 points from the left hand edge of the figure in the x-direction .
#URL You can muck with the ylabels with out having to resort to annotate ;)
Using yticks is shown in examples such as #URL and there is no warning about using it in #URL
If you pan at all you will loose your ticks .
and should the tick labels be different to the actual contour levels ?
It might be better to use ` vmin ` and ` vmax ` for contourf to control the range shown on the colorbar
It's because your third subplot is in a grid whose shape differs from what you already use .
However , you seems to want to make plot with pandas and display them in a specific ` axes ` of a ` figure ` with subplots .
but I want the plot to have a legend , and if I do #CODE
I end up with a legend which contains 10 items .
If I put the ` plt.legend() ` inside the loop , the legend grows at each iteration ...
Currently , you are creating a new Axes object for every time you ` plt.plot ` in the loop .
So , if you clear the current axis ( ` plt.gca() .cla() `) before you use ` plt.plot ` , and put the legend inside the loop , it works without the legend growing each time : #CODE
Better , but if I do that , the legend is not visible until the loop has ended
Where did you put the legend ?
You can do better if you use ` %matplotlib notebook ` which gives you a live figure that you can update and re-draw ( as well as pan / zoom and have mouse+keyboard events )
Matplotlib animation slows down when adding patches
So I wrote a short Python code , that produces such a animation .
Since the number of patches gets bigger and bigger each frame , matplotlibs rendering gets slower and slower .
Then the animation just changes the facecolor so only the rectangles which need be shown are displayed , #CODE
Black points in scatter plot
This is likely an elementary question , but I can't figure out how to plot black points in a scatter plot !
Animation of xy data in matplotlib
My goal is to plot these files one after another to make an animation , ideally using ` matplotlib ` but other software will also do .
The animation tutorial suggested by @USER are probably the ideal solution , however the simplest way to do what you want is to use interactive plotting with filenames padded by zeros and numpy's genfromtxt , #CODE
Are there any limitations for filling patches or am I doing something wrong ?
Basically I have a figure with 4 subplots , the 2 on the left show longitudinal plots and the ones on the right show scatter plots at certain points of the longitudinal plots .
You can click through the scatter plots at different points of the longitudinal plot with buttons , and the tick label of the longitudinal plot you're currently at will be highlighted in blue .
I thought something like ` ax1.get_xgridlines() ` might be used , but I have no idea how I could transform it into a useful list .
The code is a little messy because you have to have access to your numpy array and the axes and canvas in that function , but this works : #CODE
You can use a contour plot , as follows ( based on the examples at #URL ): #CODE
Isn't that a * very * inefficient way to draw a circle ?
You need to create two grids of 10000 variables and then run a contour algorithm on it .
You can easily draw the circle directly .
Given ` 0 = x1**2 + x**2 - 0.6 ` it follows that ` x2 = sqrt ( 0.6 - x1**2 )` ( as Dux stated ) .
But what you really want to do is to transform your cartesian coordinates to polar ones .
Changing the xlim by date in Matplotlib
The xlim is what I am struggling with .
To set the ` xticks ` to the first of the month ( thanks to @USER ): #CODE
@USER : See me edit , which uses the method from @USER ( but limits the xticks to your ` dstart ` to ` datenow ` range )
I also tried to append timestr and remove YMD altogether but I get an error saying datetime object not subscriptable ..
You could do this in ` matplotlib ` , probably using patch objects to build up a cube and colour the patches as needed , however for 3D plotting , ` mayavi ` is generally easier / better .
Now , what I want to do is to draw two facets , one for each team .
must draw a plot on the " currently active " matplotlib Axes .
So , my question boils down to this : how do I have to change the function plot_area() so that the axes produced by the pandas plotting function appear on the subplots created by Seaborn's FacetGrid ?
The comment by mwaskom set me on the right track : I have to provide the current axes to the plot function ( now this seems so obvious ... ) .
@USER : Thank you for your comment -- I thought that I had read that section carefully , but apparently I missed the one crucial bit in which you advise to use the plt.gca() function to set the current axes if needed .
Can matplotlib lib annotate / add arrow to a FIGURE not an AXIS ?
I have a multi-component figure containing numerous axes , and want to be able to draw arrows between them .
Is it possible to draw only a table with matplotlib ?
But the scaled on the axes look right .
The data for the below code can be found here , including the code and the animation produced .
The dots at y = 0.0 are the original positions and the animation moves the dots up and down .
Using the basic writer example ( but without the line ` matplotlib.use ( " Agg ")` , because python complained ) works fine and produces an animation that can be played back .
Given that the basic writer example worked , the problem may be with the animation itself .
Can you post code for an animation that does not save properly ?
Take coordinates from a scatter plot file
With that I am able to get a windows that allows me to save my list of coordinates ( from my string ) to a bar graph ( or a scatter plot if I do plt.scatter ( x , y ) instead of plt.plot ( x , y )
matplotlib subplot animation trouble
, I get the correct arrays for each random walk ( ` arr [ 0 ]` , and ` arr [ 1 ]`) , however I am having a lot of trouble actually getting these to work in a subplot animation .
your problem is that you keep ` append `' ing your new random walks to the array ` arr ` but you always plot the same results ( namely ` arr [ 0 ]` and ` arr [ 1 ]`)
I want my updateData() function to be able to continuously update the last x-y co-ordinate of each random walk , so both can be displayed together on the animation .
The code is generating two random walks , and plotting every data point in one animation , and then restarting .
I want the animation to be a video of the random walk progression from time t0 to tN .
I'm building a function to draw custom box plots .
Plot lines and / or markers to the Axes . args is a variable length
Alignment of text and the icon in the legend box ( matplotlib )
I want to reduce the size of the text in the legend of my plot so that the tikz numbers could stay relatively large .
The problem is when I reduce the size of the font in the legend , the alignment between the icon in the legend and the text get impaired .
As you can appreciate in the below picture the text in the legend is not any more central with respect to the green figure on its left :
How to set the size of thumbnail in legend for matplotlib
How can I set the size of thumbnail / icon in the legend for matplotlib ?
one way is to manipulate the text size in legend so that the icon would look relatively big / small using ` plt.setp ( fig.gca() .get_legend() .get_texts() , fontsize= ' 15 ')` .
Is there any direct way to change the size of the thumbnail / icon representing the plot in the legend ?
As far as I know , the labels property of any ` Artist ` object is primarily useful only when auto-generating a legend ( #URL ) .
However , If you want , you can set the labels explicitly and use them in generation of a legend .
I'm trying to draw objects ( lines / patches ) with a fixed size ( in device coordinates ) at a certain position ( in data coordinates ) .
This behavior is akin to markers and the tips of annotation arrows , both of which are ( size- ) invariant under zoom and pan .
If your transform implements a non-affine transformation , then it should override the ` transform_non_affine ` method , rather than the generic ` transform ` method .
Therefore , simply reimplementing the ` transform_non_affine ` instead of the ` transform ` method , as said above , in the ` FixedPointOffsetTransform ` class seems to solve the issue : #CODE
I don't want the axes , numbers , borders or anything , just the color image ( as ` imsave() ` provides for example ) with text ( and maybe arrows ) inside .
Reading the FAQ entry Move the edge of an axes to make room for tick labels , I found a way to make the ` figsize ` parameter set the output image size directly , by moving the axes ' ticks out of the visible area : #CODE
Matplotlib : How to put individual tags for a scatter plot
I would like to plot the 2 output variables , say map1 and map2 , as a function of 2 input variables , say x and y using colormaps .
For example , for every day I would like to count the number of the error occurrences of Level 1 of Category 1 , and plot this data with date on X axis and number of occurrences on Y axes .
For your purposes , just plot your data twice ( once on each axis , ` ax ` and ` ax2 ` and set your ` xlim ` s appropriately .
However when I try to save the animation as a mp4 file , it says that it cannot create the necessary writer : #CODE
Here is a simple as possible version of the code that substitutes content on the axes for background colour : #CODE
Have you tried adding ``` alpha= 0.5 ``` to the subplot params ? that should define the transparency levels .
After you add the artist to the axis , it is not drawn until another action tells ` matplotlib ` to redraw the axis .
Your problem is that your event-handling function only listens to `' pick_event '` which are inherently associated with an artist ( AFAIK ) .
Text missing from graph using networkx and matplotlib
Instead of removing / recreating the lines artists with each iteration with ` remove ` and ` plot ` , I would use the same artist throughout the whole animation and simply update its ` ydata ` .
I'll use explicit handlers for the axe and figure and call ` show ` and ` draw ` explicitly on the figure ` manager ` and ` canvas ` instead of going with implicit calls through ` pyplot ` , following the advices given in a post by tcaswell .
You can get the locations of the points , that is the original data you plotted , from a scatter plot by first setting the offsets to data coordinates and then returning the offsets .
Matplotlib not showing xlabel in top two subplots
However , when I run this function with valid data , the ` xlabel ` for both of the top two graphs , ` ax1 ` and ` ax2 ` does not show up , nor do any of the date values that I need to be showing .
It uses the following code to create Figure .
I'm not sure about QtDesigner but with a ` matplotlib ` figure , you would add a number of ` subplots ` to the figure , plot initial data on these ( e.g. a line ) and then update the data for each artist ( the line ) as part of the widget's ` update ` process , e.g .
@USER From the docs , what I understand is that these two methods provide different ways of locating the subplot or axes .
But conceptually the subplot and axes are the same thing , am I right ?
@USER : Its not that a subplot and an axes are the same thing , but the both ` add_subplot ` and ` add_axes ` return an ` Axes ` instance .
This is because you are setting ` N = 51 ` , that overrides the ` vmin ` and ` vmax ` , to just contour 51 levels based on the input array .
I think that you might need to set the ticklabels at the time the axes are created .
Why does the text leave the axes if the x coordinate is negative ?
The location of the text in the second annotation is outside the axes , even
Notice that for physical coordinate systems ( points or pixels ) the origin ( xy ) is the ( bottom , left ) of the axes .
If the value is negative , the origin is from the ( right , top ) of the axes .
@USER Asahi hacked a solution by violating the rules for ' axes fraction ' textcoords , but as mentioned , it is not the expected behavior .
PyPlot , PyCall Legend Font Size from Julia
When I try and change the legend fontsize using PyPlot from julia , I get an error message saying " Pyerror .. got an unexpected key word "' fontsize '" .
Note that changing fontsize works fine with other objects e.g. xlabel
The help for legend states that :
The font properties of the legend .
I'm a little confused as to exactly what you want but it sounds like ` griddata ` may help with what you need #URL Another alternative is to use a scatter plot with points coloured by Z value ...
The scatter plot isn't a great option as the data really do form little boxes of known size and scatters make that hard to replicate .
Add a legend to my heatmap plot
But it miss a legend !
How can I have a legend to this plot ?
If that doesn't work , you might consider just creating a subplot with a 1D heatmap below it , where input is just a list from 0 to your highest number .
I have Mayavi open , I go to file -> run Python script , and load my matplotlib 3d axes example .
A window " figure1 " pops up in Mayavi showing my plot , which I can rotate the axes of .
But , one thing I feel uncomfortable with matplotlib is when I draw a figure using ` plt.show() ` , then the process is stuck there , so I cannot type any new commands nor launch another window to draw another figure before closing that window .
Do you need to create the subplot at every iteration ?
Pass param ` rot=0 ` to rotate the xticks : #CODE
I would like to add a legend for the color map .
First define a mappable such as an image ( with imshow ) or a contour set ( with contourf ) .
Matplotlib draw to plot within function immediately
Is there any way to draw to a plot within a function and then have the changes show up on the plot before the function is finished executing ?
How to add legend on Seaborn facetgrid bar plot
As you can see I get the legend wrong .
col_wrap=4 , aspect=1 , size=5 , palette= " Set3 ") .add_legend() ` which work but legend did not appear .
Some how there is one legend item for each of the subplot .
Looks like if we want to have legend corresponds to the bars in each of the subplot , we have to manually make them .
I think OP wants the legend labels to be the unique values in the dataframe ` step ` column
I don't see what's difficult here , just use a scatter plot for both data series as demonstrated in this answer #URL
Therefore , your solution does not work and he will need to use an ` axes ` object .
If you want the X axis to show all the ` X ` values in the order they appear in your list , you could use scatter , then just set the ` xticklabels ` to the values in ` X ` , as shown in the second example below ( ` ax2 `)
The problem is that I can't figure out how to create the animation .
Do you have a good tutorial on animation with pyplot ?
As @USER comments you should have figure handle as the first argument to animation .
The criptic error results from animation expecting a ` fig ` object , which has attribute ` canvas ` but instead gets ` scatter ` , a ` PathCollection ` object , which does not .
As a minimal example of animation in the form you want , consider , #CODE
There are many good animation tutorials , however the answer here is particularly nice .
adjust colour bar range to visible part of basemap contour plot
I have a contour plot on a basemap and i wish to adjust the range of the colour bar so that they fit to the visible data .
matplotlib animation multiple datasets
I have multiple datasets that I want to plot at the same time in a matplotlib animation .
Each dataset is an array of ( x , y ) co-ordinates , so I want to be to animation to cycle through ( x , y ) co-ordinates , and continuously update until the end of the array .
This works fine for plotting just the first dataset , however I don't know how to plot both data1 and data2 together ( and in the future I would like to have 10 datasets on the same animation ) .
the animation function is only called once per frame , so you have to make sure you're updating both of your plots in that one single call .
This gives the desired effect , but I would like to be able to also show the axes themselves in stereoscopic 3d .
I can only find how to set the elevation and azimuth of the camera , using the ` view_init ` method of the Axes object .
I am adding rectangular patches .
Would I have to pull out all the wedge objects and manipulate their text ( perhaps itself being a series of Text objects ) or is there some simpler way ?
Python 2.7 Plotting with pandas xlabel settings
What I want to change is to display more nicely xlabel .
First thing that I am working on is to change display time format it should only display when we change day on Date and Time next thing is if there is more then 20 x ponts it should skipp to evry 5 or so and over all minimize displayed xlabel .
So , I'm using ` distplot ` to draw some histograms on separate subplots : #CODE
for the subplot option , you're going to need to cycle through add_subplots 241 , 242,243,244,245,246,247,248 ( and the plt.show() at the end ) , instead of 111 .
And if you want to plot them all in one plot ( no subplot ) , then delete the ` ax = fig.add_subplot ` line , and replace ` ax.plot ` with ` plt.plot ` , which will automatically plot on the existing figure .
You can also do this with indexed color maps or boundary colormaps
Advantages of this approach would be the increased control over labeling and plot icons / colours , as well as the potential addition of a legend as shown .
Pylab - ' module ' object has no attribute ' Figure '
AttributeError : ' module ' object has no attribute ' Figure '
When a change of configuration occure in the GUI , the Figure is cleared ( ` figure.clf() `) and its subplots ( axes and lines ) replaced by new ones .
It worked for the first animation , but as soon as the configuration changed , I had artifacts from previous animations all over the new ones
There were no more previous animation artifacts , so far so good , but ...
If you call the private method ` anim._stop ` that will re-register the animation object from the timer callback .
To sort out what is going on here involves going down into the guts of how the animation module and two callback registries work .
When you create the ` Animation ` object it registers a callback into the mpl callback registry on the ` draw_event ` so that after the first time that the canvas is drawn after the ` Animation ` object is created the timed animation sets it self up ( by registering a callback into a timer object ) and a callback into the mpl callback registry on the ` close_event ` to tear the timer down .
Thus , if you you create an animation object but don't keep a ref to it , it's refcount will go to zero , the weakref to it in the mpl callback registry will fail , and the animation will never start .
The way that the timer works it ` Qt ` is that you register a callable which is added to a list ( I am getting this from your diagram at the bottom ) so it is holding a hard reference to the ` Animation ` object , thus removing the ref you hold in your object is not enough to drive the ref count to zero .
By artifacts , I now understand to mean you are creating a second ` Animation ` object and what you get is both of them running in parallel ( which I am not sure what I expect to happen there ) .
To stop a running ` Animation ` and remove it from the timer's callback list use the private method ( which should be public ) ` _stop ` which is what responsible for the tear down ( and is the method registered on ` close_event `) .
The animation module has had some issues with it's interaction with the new auto-redraw functionality so I have been digging around in it for debugging purposes a lot recently .
EDIT : following @USER ' s comment , I also propose this other solution ( create 2 Axes , one for each type of plot ) .
Notice however , that if you're going to route , you'll have to rework the legend , since they end up superimposed in the present example .
@USER unfortunately , these seaborn calls return the Axes instance , and since both calls act on the same Axes , the second call adds on its artists to the first .
I guess a simpler way to do this would be to create a second subplot ( whith sharex and sharey ) on top of the first one , and to the ` sns.pointplot ` using that Axes .
Since we're setting the zorder , we don't need to draw the plots in the order we want them to appear , which saves the trouble of sorting the artists .
I'm also making it so that the pointplot doesn't appear in the legend , where it is not useful .
` get_children ` returns all of the artists included in the ` Axes ` draw tree , including the ticks , labels , etc ( not all of which participate in the zorder sorting ) but this can have surprising side effects .
On matplotlib logarithmic axes labels
Is there anything like a sharex for secondary axes ?
Can you provide either a code that can be executed , or better explain / draw the result that you are trying to achieve ?
matplotlib finance candlestick2_ohlc : vertical line color and width
Your problem is that instead of modifying your ` Arc ` patch as you do the circles , you create a new one at each step , but do not add it to the axes after it's created .
I've checked briefly , but I don't know how to modify the properties of an ` Arc ` instance , although I'm sure it's possible .
In the mean time , I've modified your function to remove the previous ` Arc ` from the ` patches ` list , create a new arc , and add it back to the ` Axes ` #CODE
I have not seen anything that allows for modification of Arc properties .
However , I will need to use more complex shapes to draw bridges soon , so it is not a significant issue .
But in a subplot .
Plotting Bar and Line charts with Pandas data frame using secondary Y axis and adding the legend together
This creates the desired chart but shows only the primary legend .
But this gives me an error as " TypeError : There is no line property " legend "" could you guys please look into it as how to show the combined legends belonging to both the attributes .
You can do use the ` legend ` method to handle the legends for each axis , e.g. #CODE
It supports categorical axes , and additionally supports datetime categorical axes ( docs link )
Matplotlib : Copy one axes to another
Or you can design a different function to use axes arrays ...
And you should return the artists added , not the the figure / axes
@USER Returning the artists makes sense , also in this case I'd also return figure and axes .
Is there any reason you are trying to create a new ` Figure ` and not simply new ` Axes ` on the already defined ` Figure ` ?
An animation with GUI in python
I have used only simple plots like heat maps or scatter plots but never done this sort of plot before . can anybody help with this ?
with ` axes ` a variable to which I assigned a subplot .
Since I use ` axes ` but have no use for the y-axis itself , the return-value of ` axes.yaxis.set_major_locator ( DayLocator() )` is not assigned .
However , there are other cases such as ` ax.set_ylim ( ... )` that do return the new limits in addition to modifying the axes .
As it happens , I partly got a pylint error due to a typo and then ended up looking at several methods related to axes in matplotlib .
Update tripcolor graph in matplotlib animation
I have been trying to create an animation in ` matplotlib ` from the graph ` tripcolor ` .
How do I change the value of C after each iteration of the animation ?
How to draw a cylinder using matplotlib along length of point ( x1 , y1 ) and ( x2 , y2 ) with specified radius ?
I would like to draw a cylinder using matplotlib along length of point ( x1 , y1 ) and ( x2 , y2 ) with specified radius r .
Normally you can find the coordinates of a circle with x = x0 + cos ( theta ) * R and y = y0 + sin ( theta ) * R , but the circles aren't in the xy plane , so we're going to need to make our own axes with unit vectors perpendicular to the axis of the cylinder and each other and then get the xyz coordinates from that .
The answer also says that it can't be done with a single line with ` plot ` and that I have to use scatter .
I'm thinking that there must be a workaround to get the same results ( a line ) with scatter .
This may help : [ A logarithmic colorbar in matplotlib scatter plot ] ( #URL ) , which says to use ` plt.imshow ( ..., norm= matplotlib.colors.LogNorm() )`
In full , it would be : ` plt.imshow ( lum_img , cmap= ' spectral ' , norm= matplotlib.colors.LogNorm() )`
So far , I understand how to get the x-data and y-data from the artist , so I can compile the x- and y- data points I want to display on the datatip .
When clicking on the " Show Figure " button :
How can I highlight the last data point of the following dataframe in this scatter plot ?
Maybe scatter would be better since it might allow for different colors of each circle .
It seems that it can not recognize the button events , while in other cases the ` widgetlock ` command seems not to make the axes available .
The canvas seems to get locked and after the call of the pick event I can not use the other functionalities as well .
python matplotlib : retrieving colors used in contour plot
I make a contour map with ( say ) 10 contours , like this : #CODE
How to draw probability plot with standard errors in Python ?
I know how to draw scatter plots using ` matplotlab ` , but how to draw the standard errors bounds like this ?
You may want to label your axes .
I already have a plot of some data for which I use ` contourf ` and ` cm.jet ` as my colormap .
When I pass the cartopy projection as a transformation to triplot with ` transform =p rojection ` , as I would do for plotting a line , not all triangles are drawn and I get an ` IndexError ` when trying to save the figure .
On the other hand , when I transform all points in the triangulation manually and call triplot , it works .
In the second example , the resulting ` Line2D ` objects from triplot with ` transform =p rojection ` and from triplot after the manual transformation differ in the result of their transformations applied to their data .
I had the same problem with other combinations of axes and data projections .
When trying to save any of the figures created with ` transform =p rojection ` , ` cartopy._crs.CRS.transform_points ` raises the ` IndexError ` .
And is there a way to avoid the manual transformation and pass a ` transform ` argument to triplot ?
I'm just guessing that your problem could be that your actual triangulation ( which points are connected in triangles ) is no longer appropriate when the points have been passed through the transform .
They also appear when triplotting in an ordinary matplotlib axes .
I think there is no easy potted solution available for this : you must draw it out yourself using graphics elements .
You'd think it might be possible to add some kind of ' floating Axis object ' for this , to deliver an automatic self-rescaling graphic , but I couldn't work out a way of doing that ( and I guess I still couldn't ) .
Do you mean the same data coordinate difference between where ticks are located , as shown in @USER ' s answer , or the same axes coordinate difference ( meaning that ` ymax - ymin ` is the same for all plots of the same size ) ?
you could use a ` MultipleLocator ` from the ` ticker ` module on both axes to define the tick spacings : #CODE
Here is a function that will change the limits of the y axes to make sure ` ymax-ymin ` is the same for both subplots , using the larger of the two ` ylim ` ranges to change the smaller one .
Note that the first subplot here has expanded from ` ( 40 , 50 )` to ` ( 30 , 60 )` , to match the y range of the second subplot
I tried to comment out ` ctf = ax.contourf ( a , b , B , cmap=cma )` which is responsible for plotting and if it don't need to draw it is so fast .
blitting lets you update and artist and only redraw _that_ artist which can save a lot of rendering time .
` cax ` specifies which axes colorbar is going to .
I have tried two solutions : just plotting both data sets such as what I have in my code , or using a subplot .
How to create labels and subplot for a trajectory graph using matplot in R ?
Also , is there a way to put a subplot in the middle of the main graph that zooms in on a narrow limit range of the trajectory graph ?
I think the issue is that your main plot has ` xlim=c ( 0,100 )` , but you placed the subplot at x=125 , which is outside the plot coordinates .
I was looking to see if I could somehow move the subplot in the middle while removing the default legend at the top right .
However , I can't get the subplot to work .
I want to annotate each point with its characteristics e.g x.y.z.
Pandas scatterplot categorical and timeseries axes
I was thinking that scatter would be my best geom , using ' | ' as markers , and setting the alpha , but I am running into all sorts of issues setting the parameters .
I do have a bit of a shift on my axes though .
From my original dataset , the scatter point should be at the intersection of the column and the index , with the point darkened according to the degree in the data .
I haven't found a way of assigning an individual color to the segments of a ` mpl.patches.Path ` - and from the documentation , that does not appear to be possible ( ` Path ` does not take any arguments related to its color / linewidth / etc . )
The individual patches are stored in a list , ` pat ` , the looping is done in place
All the patches in ` pat ` are assembled using ` collections.PatchCollection ` - here , the important argument is ` match_original=True ` , otherwise all lines will be the default black with a default line thickness
then you could replace ` plt.gca() ` with ` ax ` , since ` plt.gca() ` returns the current axes .
And you probably should not call ` graph = fig.add_subplot ( 111 )` since this overlays a second axes on top of ` ax ` .
Two or more axes could be used to draw inset axes inside another axes .
Python Matplotlib : Centering figure around a moving artist
I have made some planetary orbit programs , and I would like to know if I could possibly center the figure around an artist that changes position , so that the figure window moves , instead of staying at ( 0 , 0 )
So if the center of the artist is defined in simData like so : #CODE
Plus , the axes and figure are only defined once at the beginning of the program .
Could you clarify what exactly you want to move with your artist ?
From the wording of your question it sounds like you want to move the whole figure window around on the screen , but from your pseudocode it looks like you're trying to make the axes move around within the figure window .
Perhaps you just want to update the data x and y limits for the axes .
I want to move the whole figure window , but wouldn't that be done through adjusting the limits for the axes ?
No , changing the axis limits ( e.g. using ` ax.set_xlim ` and ` ax.set_ylim `) changes the ranges of x and y data values that are represented within the axis area without changing the shape or position of either the axes or the figure .
Oh , so instead of moving the whole figure window ( maybe I misunderstood what the figure window actually is ) could I still kind of " pan " the camera so that the view stays centered on one object by changing the axes limits ?
Assuming that you actually just want to adjust the Axes limits to " follow " one of your planets , you can access the planet's center just like you did to assign it - the planets and the axes are all global variables .
These modifications to ` simPoints ` keeps the blue planet at the center of your axes .
I didn't think about calling the axes into simPoints .
But even the hiding of one subplot isn't working .
Just when i want to hide the subplot then , the program throws an error , but continues running : #CODE
GridSpec of multiple subplots " the figure containing the passed axes is being cleared "
It's like a subplot inside the same plot .
You can do this by just setting the ` ylim ` larger than you need it , and explicitly setting the ` yticks ` .
I want to create a 3D plot animation that accurately animates the trajectory from start to finish according to this time series .
I've looked into existing animation solutions , particularly the ` matplotlib ` animation library , but I can't find any example in which the time step of the animation is not fixed , but is rather based on the input data .
When the scroll bar is moved , it takes about 2 seconds to refresh the plots .
matplotlib.backends.backend_qt4agg as the backend and use canvas.draw() to refresh each plot .
By interactive , I mean the zooming and panning of the axes with the mouse , for example .
` import pandas.io.data as web ` ` web.DataReader ( Ticker , ' yahoo ' , start , end )`
Python- changing x- and z-date in contourf
I can get some visual output if I use a scatter plot ( I use cartopy for plotting with geographic transforms ) : #CODE
I found this page ( actually that's how I got interested in the first place ) and played around with the scatter plots showed there ( working , no problem ) ...
I guess I'm stuck in building a working function ( like the scatterplot function in the link ) that translates properly from my data frame of cols lat , lon , value , facetid to something that makes a proper image contour etc .
Pandas boxplot covers / overlays matplotlib plot
Following what reported here I tried to create a boxplot with an overlayed scatter plot .
I tried using the following code to make my legend draggable but it fails : #CODE
Plots made with two legends one legend for bar chart on primary axis and the other one is for line chart on secondry axis , How to combine both the legends together .?? and save the plot to be used in a Power point
Below are my codes which is placing the legend to two locations but I want them to be combined one below the other .
This generates the plot but the Legend B is placed at the upper right hand side corner and Legend A is by default placed at the left hand upper corner .
Also I could see that Legend B is cut and not showing all the characters .
Then both the legend superimpose on each other.Quite a mess actually .
But this saves the figure with legend superimposed on each other at LOC=1
You can combine legends from multiple axes , but you need to do it ( semi ) manually .
See matplotlib's legend guide for more details .
Notice also that I passed ` legend=False ` to ` pandas ` plot function to suppress the automatic creation of the first legend .
Unfortunately it seems that the ' Rectangle ' object has no attribute ' set_bottom ' .
For some reason , the ` set_bottom() ` function you want is ` set_y ` under ` patches ` in the return object from ` bar ` .
Note , I change the height generation using random numbers each iteration so the two arrays of patches can be zipped instead ( would get a bit messy otherwise ) .
You may find animation ends up a bit jerky and it's better to set a constant limit throughout ( based on maximum expected from your data ) .
I tried setting ylim by determining the max and min of each separate series .
You could set ` showfliers=False ` in the boxplot , so the outliers don't get plotted .
You could do the same calculation and set your ` ylim ` to that .
One question : I am using a form of boxplot df.boxplot ( column = ' Feature1 ' , by = ' Feature2 ') - e.g. , I'm using a form of groupby to create the plot feature .
@USER I move the code to show the zoom axes all the way down to before calling plt.show() --> same result
I'm trying to draw a sphere like this one using matplotlib :
If auto , changes the image aspect ratio to match that of the axes .
If equal , and extent is None , changes the axes aspect ratio to match that of the image .
If extent is not None , the axes aspect ratio is changed to match that of the extent .
As well as @USER ' s answer of setting ` aspect ` ( you may also want to try out ` equal ` rather than ` auto ` , since ` auto ` doesn't guarantee the two plots will look the same ) , you also need to make sure the ` xlim ` and ` ylim ` are the same between the two subplots , as it currently looks like both the ` x ` and ` y ` range in the ` imshow ` extend much beyond that of the scatterplot .
Also , as you transform the y and x coordinates , you need set the ranges to ` -X , 0 ` and ` -Y , 0 `
Maybe I'm misunderstanding the problem here , but if you just want your xaxis to start at 1 instead of 0 ( without changing any of your values ) you can just set the x limit on your axes : #CODE
These values , however , do not at all match the result I get when I draw the following network : #CODE
For the plot of the network I get 3 clearly distinct colors , but for the hlines they are virtually indistinguishable .
The desired output would have only 2 elements in the legend .
You cannot show A with two colors in the legend .
You can ignore the legend .
Remove edgewidth of matplotlib boxplot flier
In the boxplot below , I would like to remove the black edges of the fliers ( pink circles ) .
Adjust width of box in boxplot in python matplotlib
I would like to reduce the width of the boxes in the boxplot below .
Try working via the ` axes ` and see if it works : #CODE
` scatter ` is probably better for you than ` plt.Circle ` though it won't make anything run faster .
Unfortunately , scatter does not allow you to specify the radius in " data " units , but rather takes input in pixels .
Matplotlib optimizes drawing many similar artists through using collections .
This speeds up many other miscellaneous operations that need to operate on each artist every time the plot is drawn .
` scatter ` actually is much faster than your current approach , as it will add a collection instead of separate artists .
To get around that , you can use the same approach ` scatter ` does , but create the collection manually .
An ` EllipseCollection ` will only make one path , but will scale and translate it at draw time to be in the places / sizes you specify .
To give some idea of the time difference , here's the time to create and draw a figure with the same 5000 circles with each of the three methods : #CODE
By " same X Axis " I mean the plots where graphed over each other and only the bottom graph had a labeled axis , which was used to fit both series .
That window can have one or more axes , where each axes is a plot .
` plt.subplot ` lets you create multiple axes in a figure .
Both a figure and an axes are objects , with their own methods .
For example , ` plt.plot ` is just a thing wrapper around an ` axes ` object's ` plot ` method .
This a convenience function that will create a figure , put one are more axes in that figure , and then return both the figure and all the axes .
You can then pass the axes to the pandas ` plot ` function to force it to plot on that axes .
You can also call set the ` legend ` , and ` title ` for that axes , but it is probablz easier to do that inside pandas .
Note that , rather than using ` plt ` , you are interacting with the figure and axes directly .
Still getting error on the ax.title line - message is : "' Text ' object is not callable .
Still not 100% confident on how to a ) use axes , and b ) how I can create loop and define / call different axes ...
Stylistically , I would not have more than a 3x3 grid of axes on a single figure , I would plot to individual files .
As for axes in a loop , look at the ` subplots ` documentation .
It creates a ` ( n , m )` numpy array of ` Axes ` objects , matching the shape of the axes in the figure .
You can loop over that as you would loop over any other numpy array , and either pass an individual ` Axes ` object to pandas , or plot using it directly , such as with ` ax.plot ( x , y )` .
Based on combination of mouse button and key events , different functionalities are applied to the points of a scatter plot .
Last , but not least , when I press the ` RMB ` a pick event is triggered and the index of the selected point in the scatter plot is given .
When it is triggered it seems that the canvas gets locked and I can not use any other functionality .
The problem you're having this time is that you have both a ` PickEvent ` and a ` MouseEvent ` that are generated at the same time when you click on an artist .
Custom legend to matplotlib not working
I'm trying to make a custom legend using matplotlib .
How can I make it produce the desired legend ?
I think the issue with your code is that the first ( positional ) argument to ` legend ` is otherwise taken to be a sequence of objects you wish to label and you don't have any .
On the other hand , it does seem that this issue is related to the fact that you don't have any objects plotted on your axes , so you could try adding them ( before adding the legend ! )
I'm trying to run Nicolas Rougier's raindrop animation using ` matplotlib ` ( version 1.4.3 ) on my Python 2.7.10 IDLE ( running on a Mac , OS X 10.10.5 ) but am getting the following import error : #CODE
Draw an arrow on scatterplot subplot
I am trying to draw an arrow on the scatterplot .
But I get ` AttributeError : ' Figure ' object has no attribute ' arrow '` .
in that example ` ax ` is an ` Axes ` instance , in your code ` fig ` is a ` Figure ` instance .
Is there a way to use this method to draw an arrow on the scatterplot ?
` arrow() ` is a method of ` Axes ` object , so you'll have to split your one-line ` scatter() ` call : #CODE
Animating 3D scatter plot sequence in Matplotlib
How to set fontSize for xticks in boxplot using Python pylab module ?
I'm not sure if the axes are part of your image , if they are , you might also have to apply some offsets to account for them .
By I am incorrect hist .
Have you already looked into the demos for contour plots ?
How to plot contourf colorbar in different subplot - matplotlib
This is a very similar question to " How to plot pcolor colorbar in a different subplot - matplotlib " .
I am trying to plot a filled contour plot and a line plot with a shared axis and the colorbar in a separate subplot ( i.e. so it doesn't take up space for the contourf axis and thus muck up the x-axis sharing ) .
which produces an x-axis scaled from 0 to 20 ( inclusive ) rather than 0 to 19 , which means there is unsightly whitespace in the filled contour plot .
Commenting out the ` sharex=ax1 ` in the above code means that the x-axis for the contour plot is scaled nicely , but not for the line plot above it and the ` plt.tick_params ` code has no effect on either axis .
It seems to be unexpected ( to me ) behaviour of ` contourf ` which is interfering with or blocking the axis methods .
setting the ` xlim ` as suggested by @USER works for me : #URL
this doesn't answer the question , which was how to remove the white space between ` x=19 ` and ` x=20 ` on the ` contourf ` plot
You can get around this by explicitly issuing the command directly to the axes , which is how I always do it in my code .
To add the fourth dimension as a colormap , you must supply another 2d array of the same dimension as your axes variables .
The important thing is that the function should return an array that is of the same dimension as your axes variables .
I'm making some interactive plots and I would like to add a colorbar legend .
I don't want the colorbar to be in its own axes , so I want to add it to the existing axes .
I'm having difficulties doing this , as most of the example code I have found creates a new axes for the colorbar .
I have tried the following code using ` matplotlib.colorbar.ColorbarBase ` , which adds a colorbar to an existing axes , but it gives me strange results and I can't figure out how to specify attributes of the colorbar ( for instance , where on the axes it is placed and what size it is ) #CODE
It'll just be easier for me to not have to create a new axes for the colorbar
@USER That creates a new axes for the colorbar .
Doing fig.colorbar ( ax=ax , cax=ax ) does not create a new axes , but creates similarly strange plots .
The colorbar has to have its own axes .
However , you can create an axes that overlaps with the previous one .
Then use the ` cax ` kwarg to tell ` fig.colorbar ` to use the new axes .
It has now plotted however the ylabel has jumped from the left to the right .
matplotlib : Fliers in boxplot object not setting correctly
How to annotate seaborn pairplots ?
Since all of the bins have the same labels , but not bin names , I need to annotate the pairplots with the bin name ' n ' below so that I can later associate them with their bins .
I have been unable to figure out how to annotate the legend on the left , or provide a title above or below the paired plots .
Preserving the xticks in multiple bar plots in matplotlib
1 ) I am not able to see the text-based xticks which are stored as list in the variable x .
When I have only one single column based bar plot , I can see the xticks as text but not for more .
2 ) how can I control the font properties of xticks and the values in y axis ?
@USER ` plt.subplots ` will create a ` figure ` and an ` axes ` object ( or multiple ` axes ` objects ) for you .
This is handy because it allows you to keep references to the specific ` figure ` and ` axes ` you want to work on .
Most of the functions you want to call will then be part of the ` axes ` api .
If I have 111 within subplot , I get " TypeError : ' AxesSubplot ' object is not iterable " .
Possible values are : Spectral , summer , coolwarm , ...
( And then the complete list of originally installed colormaps . )
Inverting the x and y axes won't change that .
whose rows represent the scatter of a variable at the corresponding x coordinate .
I want to make a scatter plot of this , i.e. for each x , there are 4 different y values , which I want to plot .
May be I wasn't clear , but each row contains the scatter , so for x=1 the scatter values are [ 1 , 2 , 3 , 4 ] , for x=5 the scatter values are [ 2 , 3 , 1 , 4 ] and so on .
Python : plots with different line styles having the same legend
The plots have different line styles and the legend required for them should describe both or in other words a custom legend that can support both the plots .
I am trying to get a merged legend for both the plots .
If your plots styles just differ in marker and linestyle ( as in your example ) you could create a third plot mixing those styles and just put this into the legend .
I've built a PyQt application to show three subplot using ` gridspec ` : #CODE
However , the labels of different axes still overlapping each other , nothing changed at all , it seems ` tight_layout() ` didn't work in ` Qt ` widget , so is there another way to arrange subplots in ` Qt ` widget ?
Where ` left ` , ` right ` , ` bottom ` and ` top ` adjust the width of the margins at the edge of the figure , and ` hspace ` and ` wspace ` change the vertical and horizontal spaces between plots , respectively .
You can use ` xticks ` as : #CODE
In an interactive shell ( ipython ) all your data shows on a xscale 10^0 to 10^3 , y scale 10^2 to 10^6
pandas - boxplot median color settings issues
I have this issue coloring the median of the boxplot generated by the following code : #CODE
Looking at the code for ` DataFrame.boxplot() ` there is some special code to handle the colors of the different elements that supersedes the ` kws ` passed to matplotlib's ` boxplot ` .
Thanks , but for my purposes in plotting a multindexed dataframe I need the boxplot function ( with ' by ' column ) instead of the kind= ' box ' version .
Actually the following workaround works well , returning a ` dict ` from the boxplot command : #CODE
Now I want plot in an distance matrix format which should look something like as shown in Figure below .
frames in a saved matplotlib animation are out of order
I can produce an animation with matplotlib.animation.FuncAnimation , displayed on screen .
When I save the animation as an mp4 , however , the frames are " rotated " out of order .
Let's say the animation is 100 frames long .
Then saved animation shows the last 25 frames or so first , and then starts from the beginning and shows the rest of the frames .
I believe it's because you're not assigning axes to your first two plots .
Can you have one row and six columns for your subplot ?
OR specify the same * scale * for all the y axes in your 3x2 subplots .
" specify the same scale for all the y axes " .
You can get from the min / max value of the data you use to plot or just get the minimum and maximum for all axes .
why not specify the figure layout explicitly and say ` fig , axes = plt.subplots ( nrows=rows , ncols=cols , sharey=True )` .
Then you can loop through the elements in ` axes ` and pass them to ` graphData.plot() `
For completeness , I'll add your subplots method with the extra code to show axes , e.g. ( ` [ plt.setp ( sp.get_yticklabels() , visible=True ) for sp in subplots.reshape ( -1 )]` .
In order to get the same axis range repeated for each plot , you can ` get_ylim ` from all existing and use global min / max to set all the axes , #CODE
You can also specify ` sharey= " col "` or ` sharey= " row "` to share axes alone the column or row respectively .
I cannot for the life of me figure out how to animate points ( earthquake epicenters ) on a Matplotlib basemap plot , using the animation function .
Expanding on this code , I was wondering if you had an idea about how to keep the points from disappearing after they're plottted , so that once the animation is complete , all the points ( or epicenters ) are on the map .
How to join these two 3D lines together with a surface in Python's matplotlib
I plot them in 3D , but I wish to join them together with a surface .
I feel the best way to visualize this is to join them up with a surface - in this way , the orbits will trace out a deformed , double-barreled cylinder , which will shrink and pinch off at the end .
Are these parametric orbits , so that you could draw vertical lines for each time ( or whatever ) _t_ ?
I am dissatisfied with the figure I posted because the surface does not join up , instead it simple hangs down vertically like a shower curtain .
I making an application to plot Airfoils profiles in matplotlib and I need to plot a number of profiles in the same subplot .
You can make several ` plot ` calls for a single subplot .
I would like to show all 3 line plots in subplot 1 and all 3 scatter plots in subplot2 .
I don't want to build a scatter plot .
The first - and perhaps most important - thing to making colormaps this way is that you understand RGB colors .
The second thing that is important to learning to make colormaps this way is this : always make the 2nd and 3rd values of each tuple the same until you get comfortable with creating simple linear colormaps .
Eventually you can change those values to make discontinuities in the colormaps , but it will only confuse you as you get started .
I've follow this subject : How to draw planes from a set of linear equations in Python ?
Adding labels to legend post plotting
This distance then becomes the label for the legend .
Bar chart in seaborn
you're getting the ` 0.0 `' s because you're looping through all of the patches , so you need to include a condition that doesn't annotate when the value of ` p.get_height() ` isn't greater than zero .
Also for this kind of plot , much more straightforward to get the bar height out of the data object than out of the axes .
I have axes that are loaded via the following code : #CODE
where the axes were saved via the following code : #CODE
The problem is that when reloading the axes from the first set of code , they no longer share the x axis .
I would like to keep the tight_layout and xlim and ylim .
Matplotlib save individual " ims " ( animation parts ) as image
Say I have this boring animation ( documentation ): #CODE
The way that ` ArtistAnimation ` works is by having a list of artists and then controlling the visibility of them to create the animation .
First you have to stop the animation .
import matplotlib.collections as collections
from .mlab import dist
I looked into using a ` Path ` to draw marker a half-rounded marker .
Sublime Text , like vim , emacs , and Notepad++ ( among others ) , is a programming editor , and there are tens of thousands of questions about them on this site that are perfectly on-topic .
However , the xlabel and xticklabel are still not shown for the top subgraph , even though I've never used sharex option ( changing sharex = False does not solve the issue ) .
One common way is to return an ` Axes ` object from your function .
You can do additional plotting directly from the ` Axes ` .
Note that in addition to returning the Axes , sometimes it's useful to also have your plotting function also take an existing Axes as the argument .
: I didn't use matplotlib's subplots function because I noticed a bug in pandas or matplotlib : whenever I use an inset axis , the xlabel and xticklabels will not show .
As shown in the image , the second subfigure ( the part within the axes ) appears smaller than the first one .
When I am faced with this situation , I simply hard code the axes placement on the figure , then things will line up ...
I made a contour plot out of 3 data columns using the following piece of code : #CODE
Now I want to keep a constant value for the x value and " Slice " through the contour plot so I can get a 2d profile of the z values as the y-axis and the y values as the x-axis on the sliced 2d plot .
matplotlib's contour function modifying previous plot ?
I'm converting some simple octave / matlab programs into python , but in using matplotlib's ` contour ` function , previously plotted 2D points all seem to align or flatten onto x=1 .
This last part is done with ` contour ` : #CODE
but when then immediately after using ` contour ` as below , the first image is output : #CODE
A few different google searches haven't yielded much and I haven't spotted anything in the python or matlab ` contour ` documentation .
The only possible mistake I see from you question is ` u ` and ` v ` should probably be from ` np.meshgrid ( x , y )` in contour .
There are examples of contour / scatter ( e.g. #URL ) which may be a good starting point ( to see if bug in your version of ` matplotlib ` and build up to your example .
I recommend getting used to the axes object in python .
You can create an axes explicitly using ` fig = mp.figure() ` and ` ax = fig.add_axes ([ 0.1 , 0.1 , 0.8 , 0.8 ])` and plot your data directly into the new axis ` ax.plot ( ... )` and ` ax.contour ( ... )` .
How to customize a scatter matrix to see all titles ?
I'm running this code to build a scatter matrix .
Yes , you could simply use the existing number of ` xticks ` if you don't need the option of having more / fewer ticks .
Show legends at the top of all of subplot
I'm trying to show subplot's legend at the top all of subplots .
How do I show legend at the top of all of subplots ?
Have you tried replacing ` plt.legend ` by ` axes [ i ] .legend() ` ?
In general , it's best to avoid mixing the pyplot and axes methods .
In fact , I'd recommend using more-or-less only ` plt.subplots() ` and ` plt.show() ` and use axes / figure methods everywhere else .
It makes it much clearer which axes is being plotted on , as well as what operates on the figure vs . the axes .
2 ) My question is I want a plot with an x axis being 1 to 100 , my y axis displaying variable B , C and D values , and one line for each Z variable category ( between 1 and 6 ) with a legend for this .
I am trying to use the xticks to show all x-axis data but its failing as m_srcaddr not integer .
I am able to draw with all variables at x-axis if convert it to bar graph .
Just change your ` xticks ` call to : #CODE
The keyword args , if any , are Text properties .
matplotlib scatter plot with custom cmap - colors not right
So I'm following a pattern to create a custom color map and cbar for my scatter plot .
Blit=True doesn't allow for 3D axes to move ( matplotlib )
After running the source code for this example , I was able to rotate the plot around with my cursor , and the axes followed .
However , simply changing ` blit=False ` to ` blit=True ` still allowed me to move the lines around , but the axes stayed fixed .
What do I have to change to allow both ` blit=True ` and this movement of the axes ?
Adding subplot to a program changes the way histograms are displayed
But in my particular case I have to draw Line2D instances using Points coordinates on top of the regular plots that are all using Data coordinates .
You can use the ` transform ` keyword to change between data coordinate ( the default ) and axes coordinates .
As @USER mentioned , the key is the ` transform ` kwarg .
A transform takes coordinates that the artist's data is in and converts them to display coordinates -- in other words , pixels on the screen .
For example , if we want to draw a line across the entire figure , we'd use something like : #CODE
This line will always extend from the lower-left corner of the figure to the upper right corner , no matter how we interactively resize / zoom / pan the plot .
However , to draw in points / pixels , you actually want no transform at all .
In that case , you'll make a new transform instance that does nothing : the ` IdentityTransform ` .
This specifies that the data for the artist is in " raw " pixels .
Any time you'd like to plot in " raw " pixels , specify ` transform= IdentityTransform() ` to the artist .
One of the more useful things about matplotlib's transforms is that they can be added to create a new transform .
With seaborn.facetgrid , how do I specify the color of a mapped scatter plot to reflect the values of a column in the data frame ?
The easiest thing to do is write a little wrapper function around ` plt.scatter ` that makes its signature ` scatter ( x , y , c )` instead of ` scatter ( x , y , s , c )` : #CODE
Automatically make matplotlib axes square and equal xlim and ylim
I've gotten close to what I'm looking for with contourf , but I haven't been able to figure out how to get exactly what I'm looking for .
` [ Figure 1 on pastebin ]`
` [ Figure 2 on pastebin ]`
I also tried implementing the function described in references 2 and 3 with pcolor , but I couldn't figure out how to make them work with my data instead of a scatter plot and the results were not as close as I could get with contourf , so I stopped pursuing them .
Alternatively , is there a way where I can explicitly control the ratio of width and height of a subplot in matplotlib ?
You can explicitly control the figure size , and you can explicitly set the axes ' positions within a figure , as a fraction of the figure size .
In addition , you can supply ` aspect= ' equal '` to functions that create axes ( ` add_axes ` , ` add_subplot `) to force the axes shape to match the axes scales ( not relevant for your linear-log plot ) .
How to make a legend with r-values and regression function in matplotlib ( python ) ?
So that the function and the r-value is shown as an own legend or in the legend or what you experts find best .
' best ' tries to guess a suitable location for the legend ( in which corner it should go without overlapping with the data in the plot )
I've tried to make a " ylim " , " xlim " but it doesn't change anything .
And my second scaling problem : I've used autoscale , but it's like it doesn't do anything ?
xlim and ylim to force the plot to scale with 1e-X and 1e+X
used autoscale to let the plot scale the graph better for me
To force ` xlim ` and ` ylim ` to the data , you should use ` autoscale ( True , tight=True )`
How can I draw axis lines inside a plot in Matplotlib ?
When I plot data using Matplotlib , the axes are always plotted by default as a box framing the plot .
Let's say I am plotting data within axis limits ` -2 x 2 ` and ` -2 y 2 ` , but I would like to draw axis lines inside this plot area through the origin , preferably with ticks and tick labels along these axis lines - not along the outer frame .
Yes , you can easily draw the axis lines .
The original axes will remain , but can be turned off with ` plt.axis ( ' off ')` .
Drawing the coordinate axes is something that I have wanted to do myself several times , but never had the time to completely solve .
This is well documented in the spines example
You are going to turn off the right and top spines ( e.g. ` spines [ ' right '] .set_color ( ' none ')`) , and move the left and bottom spines to the zero position ( e.g. ` spines [ ' left '] .set_position ( ' zero ')`) .
The key was knowing that these are called spines ;-)
Maybe more explicit is to define a custom version of the matplotlib module for use on your server which imports and patches any functions you need to ( using #URL ) .
I don't know whether that is a bug , but when I use ` shapely.geometry.Polygon() ` to build a Polygon from my coordinates , ` poly.intersects ` and ` poly.contains ` work as expected !
You seem to want a the intersection of the Polygon only .
If you're using this kind of plot more than once , make a function -- pass args through to ` scatter ` ( or the ` draw ` functions in your PIL version ) .
matplotlib multiple plots - show yticks for all subplots
I have a multiple plots figure , using this command ( all subplots share x and y axes ): #CODE
How do I make the yticks to appear on all subplots ( shown in red ):
Matplotlib Animation : Plot a changing number which corresponds to increment
I created an earthquake animation that plots earthquake epicenter locations over time .
How to assign color to scatter point
I'm trying to assign a color to points in a matplotlib scatter plot based on a value that is not related to the x or y value .
You have to hide the legend though because you don't want to see that there is 3 groups sets .
setting ` makeredegcolor= ' none '` helps with the appearance of small scatter markers with light colors .
I'm not sure how to modify my legend for this graph .
How does one specify to cycle through the default colors instead of using Dark2 as in the above case for the legend rectangles ?
In other words , how would you add a legend to the example you gave ?
Don't use a legend to explain colors alone ; that's what a colorbar is for ( added ) .
In my case the values are discrete whole numbers which is why I opted for a legend initially .
Conflict between Matplotlib animation and Matplotlib widget ?
I created this very simple animation of a circle with Matplotlib : #CODE
I added a slider to dynamically update the diameter of the circle during the animation .
When I drag the mouse on the Slider , the animation is slowed down ...
( Not sure that the animation isn't slowed down at all , but it feels smoother )
I'm plotting some ellipses and would like to add a legend ( something like
At the moment I manage to plot some ellipses , but I don't get how to do the legend .
` legend ` checks a few particular lists of artists to decide what to add .
` ax.add_artist ` is a low-level call for any type of artist .
It's often used to add things that you wouldn't want in a legend .
However , the ` add_ foo ` variants add the artist using ` add_artist ` , but then append it to the appropriate list .
Therefore , using ` ax.add_patch ` will append the artist to ` ax.patches ` , which ` legend ` will then check .
And of manually specifying the artists and legend labels : #CODE
Each file will need to be plotted on a total of 25 plots but must be plotted on the same set of axes .
This means that you generate a new subplot every time you hit that line ( in your case , 50 times ) .
I also switched ' autoscale ' off but I can then only see a handful of pixels .
All I need to do now is adjust the subplot size so that sub-plots are plotted in a portrait aspect ratio of eg 2:1 , but with the plot filling the entire sub-plot .
` imshow ` will set the aspect ratio of the axes to 1 when it is called , by default .
This will override any aspect you specify when you create the axes .
` aspect ` in matplotlib refers to the ratio of the xscale and yscale in data coordinates .
It doesn't directly control the ratio of the width and height of the axes .
There are three things that control the size and shape of the " outside box " of a matplotlib axes :
The size / shape of the Figure ( shown in red in figures below )
The specified extent of the Axes in figure coordinates ( e.g. the subplot location , shown in green in figures below )
The mechanism that the Axes uses to accommodate a fixed aspect ratio ( the ` adjustable ` parameter ) .
Axes are always placed in figure coordinates in other words , their shape / size is always a ratio of the figure's shape / size .
( Note : Some things such as ` axes_grid ` will change this at draw time to get around this limitation . )
However , the extent the axes is given ( either from its subplot location or explicitly set extent ) isn't necessarily the size it will take up .
Depending on the ` aspect ` and ` adjustable ` parameters , the Axes will shrink inside of its given extent .
In the basic case ( no fixed aspect ratio set for the axes ) , the axes will fill up the entire space allocated to it in figure coordinates ( shown by the green box ) .
When we resize the figure ( interactively or at figure creation ) , the axes will " squish " with it :
However , if the aspect ratio of the plot is set ( ` imshow ` will force the aspect ratio to 1 , by default ) , the Axes will adjust the size of the outside of the axes to keep the x and y data ratios at the specified aspect .
The maximum space the Axes can take up is shown by the green box .
There are two ways this could be accomplished : Change the x and y limits or change the shape / size of the Axes bounding box .
Because the ` adjustable ` parameter of the Axes is set to the default `" box "` , the Axes shrinks inside of its maximum space .
And as we resize the figure , it will keep shrinking , but maintain the x and y scales by making the Axes use up less of the maximum space allocated to the axes ( green box ):
If you're using shared axes , and want to have ` adjustable= " box "` , use ` adjustable= " box-forced "` instead .
If you'd like to control where the axes is positioned inside of the " green box " set the ` anchor ` of the axes .
In this case , matplotlib will keep the x and y scales in data space by changing one of the axes limits .
The Axes will fill up the entire space allocated to it .
However , if you manually set the x or y limits , they may be overridden to allow the axes to both fill up the full space allocated to it and keep the x / y scale ratio to the specified ` aspect ` .
However , if we specify ` imshow ( ..., aspect= ' auto ')` , the aspect ratio of the plot won't be overridden , and the image will " squish " to take up the full space allocated to the Axes :
On the other hand , if you wanted the pixels to remain " square " ( note : they may not be square depending on what's specified by the ` extent ` kwarg ) , you can leave out the ` aspect= ' auto '` and set the adjustable parameter of the axes to `" datalim "` instead .
Axes Shape is Controlled by Figure Shape
The final part to remember is that the axes shape / size is defined as a percentage of the figure's shape / size .
Therefore , if you want to preserve the aspect ratio of the axes and have a fixed spacing between adjacent subplots , you'll need to define the shape of the figure to match .
Moreover , It seems you are using the pyplot interface for plotting your data by calling directly ` subplot ` and ` plot ` for example in mystatic .
and I got the error ` AttributeError : ' list ' object has no attribute ' errorbar '` and when I use ` ax.errobar ` instead of ` ax.axes.errorbar ` I get the error ` AttributeError : ' Figure ' object has no attribute ' errorbar '
` Figure.axes ` is a list of ` Axes ` ( not an instance of one , because you can have more than one ` Axes ` object for each figure ) .
You can get at the axes by indexing into it : #CODE
Depending on your set-up , you might also have to add the axes first ( e.g. if you get an ` IndexError `) .
The documentation for ` Figure ` has more details .
I read the documentation for ` Figure ` but I didn't get how would that work for me with ` fig.add_axes ( ax )` .
Did yout try adding the ` [ 0 ]` to pull the ` Axes ` instance out of the ` axes ` list ?
Yes I did and I got the index Error , so I referred to the ` Figure ` documentation and didn't know how adding axes will help or how to do it
you could adjust where the edges of the axes object is with ` subplots_adjust `
Here is a code example how I plot two different plots with legend #CODE
When you make a list from ` line1 ` and ` line2 ` to give to ` legend ` , you want just the ` Line2D ` , not the list
Add points to matlibplot scatter plot live
I would like to add points " live " to a scatter plot in matplotlib , so that the points appear on the graph as soon as they are computed .
You can append new points to the ` offsets ` array of the return value of ` ax.scatter ` .
This draws from a 2d standard normal distribution and adds the point to the scatter plot : #CODE
I added a few lines to update the xlim and ylim
Plot semi transparent contour plot over image file using matplotlib
I'd like to plot a transparent contour plot over an image file in matplotlib / pyplot .
I would like to plot a contour plot over this image ( having the image file be ' below ' and a semi-transparent version of the contour plot overlaid ) using matplotlib and pyplot .
... but I'm not getting the result I want ... instead I just see the contour plot part .
Secondly , you set the alpha of the contour lines , but you probably also ( or especially ) want to set the alpha of the ` filled contours ` .
So change your ` contourf ` command to : #CODE
And since you already create the subplot object yourself , i would advice also using it to do the plotting instead of the ` pyplot ` interface , which operates on the currently active axes .
matplotlib axis tick labels covered by scatterplot ( using spines )
I want to have my axis through the origin ( 0 , 0 ) in a scatter plot , which is why I have set the spines positions in the below example .
The problem is that my actual data points on the scatter plot are covering up the axis tick labels so they cannot be seen .
You can fix this by setting the ` zorder ` of scatter to something ` 0 `
You can see that more clearly if you change the color of the scatter plot and the labels ( note that the labels are clearly above the scatter plot in the image below ) , so you may need to experiment to find something you like #CODE
swendel , what if i wanted to use a plot instead and not the scatter plot ? but still want the warning point to be red ?
It * is * possible to have markers in different colors within one plot but getting the legend right might not be as easy .
You probably could create a colorscheme and plot and annotate that but due to simplicity I'd prefer it this way .
How do I change the yticks on pyplot ?
I have two boxplots on a pyplot and I want to change the yticks from ' 1 ' and ' 2 ' to two stings ' Post Index ' and ' Pre Index ' .
You just need to set the ` yticklabels ` of the current axes ( ` gca() ` gets the current axes ) #CODE
Plot single data with two Y axes ( two units ) in matplotlib
I'm trying to plot a single time series , but want to represent it in two units on left and right axes .
Also I would like enter texts in the middle of the differently colored patches .
I can do it , but I have to refresh my memory from Uni .
The plot is good enough to draw conclusions from .
I think maybe now's the time to go try to implement the solution suggested in the answer to this old question [ Set autoscale limits on plot to have buffer around all points ] ( #URL ) .
How can I account for identical data points in a scatter plot ?
I would like to visualize the data in a scatter plot , but scatter plotting doesn't do a good job of showing the duplicates .
But you may have many * almost * equal values that overlap on the scatter plot .
b ) Button has been clicked once
The thing is when I click button several times , points are still being generated in the old coordinates , while grid , axes and labels are being redrawn in the ones with offset .
use the mpl event stack to grab the background after that draw
Have a look at the blitting code in the ` animation ` module for a full set of the functions you need to make this work ( there is also a re-size event ) and after a force re-draw you will need to re-blit what ever the last data was .
In this case , the full draw is triggered by the repaint logic in Qt ( ex , a figure resize ) .
However , this is where it gets weird : When I just get the labels ( labels= ax2.get_xticklabels() ) , and have the plot function return the list of text instances ( return labels ) , the Text instances in the list do have the correct string , and the code above produces a list of strings as intended .
This is what I have now , if I add an argument ' subplot = True ' #CODE
That is close now I want to subplot on ' type2 ' .
First , the subplot on the left eventually seems to converge so that one dimension gets fixed on a number and the others get stuck on $0$ .
Secondly , the subplot on the right clearly isn't matching the one on the left .
Draw 3D Polygon Using Vertex Array Python ( Matplotlib )
I need to draw polygons using vertex arrays in the form P = ( X , Y , Z ) , a Cube would be represented by : #CODE
With that given I want to be able to draw the lines between the points and show the object in 3D , I already have matplotlib installed but if you have the solution for it using another library it's totally fine .
However my code ( shown below ) does not seem to draw it correctly .
` scatter ` plots the data you pass to it .
if I just draw the data again on the axs object it doesn't erase the previous information , resulting in a clutter of charts .
Is there any way to efficiently erase the ax and draw it again ?
maybe some way to refresh the canvas ?
You need to call remove on the instance of the ` Annotation ` object .
How to make a scatter plot of different sizes , colour , and positions ?
How to make a scatter plot with random values of delta_x and delta_y positions ; where each point has certain frequency value ( color intensity changes depending upon intensity ) , i.e. , a certain symbols .
If I'm understanding you correctly , you're asking how to have ` scatter ` share a color scale but have different symbols for different groups , correct ?
The key is to call ` scatter ` multiple times ( one for each different group ) , but pass in the same ` vmin ` , ` vmax ` , and ` cmap ` arguments .
Python matplotlib Plot Line2D object with animation package
It works fine If I save every timestep as figure , but it is not working for animation .
This generate the data based on current animation iteration ` num ` , which can be used as an array index if you already have the data .
Otherwise you can directly access the relevant artist instances , which avoids reassigning the text : #CODE
I agree that it is somewhat inconsistent that some of the getter functions return the artists and some just an attribute of the artist ( e.g. , ` axis.get_xlabel() ` which only returns the text and not the text-artist ) .
I have no idea why the diagram appears at first attempt and at second it only shows a plot with legend but without data .
I just had to append the IList and RList along with the SList
In other words , I want to first group the data by area , then by month of the year and then plot the result as boxplot .
If you want to plot all 9 areas in the same figure , you should create a 9x12 subplot and plot on the relevant axes in your for-loop
animation gives zero division
I want to perfomr an animation for a given function .
what is your animation supposed to do ?
: So , I changed to frames = n , I have no division by zero error but I have no animation also .
The size of my matrix is 256x256 , and I already have a legend and a colorbar with proper ticks .
Typically , you'd use ` annotate ` to do this .
The key is to place the text with the x-coordinates in axes coordinates ( so it's aligned with the axes ) and the y-coordinates in figure coordinates ( so it's at the bottom of the figure ) and then add an offset in points so it's not at the exact bottom of the figure .
The key is the ` annotate ` call .
The Annotation guides ( intro and detailed ) in the documentation are quite useful as further reading .
No need to ask for further details as all the ` annotate ` parameters are clearly visible .
pandas plot replace xticks
I would like the ` x ` axis be a counter of the boxplot .
The ` boxplot ` method doesn't return the axes object like the ` plot ` method of DataFrames and Series .
The ` boxplot ` method returns a ` dict ` or ` OrderedDict ` of ` dicts ` of line objects by the look of it .
Matlplotlib plot with inset : make legend in original axis
But after that I want to plot a legend in the main plot again ( because the legend contains something found in the meantime ) .
As in how do I go back to the original plot and make the legend ?
This is one of the many reasons why you'll often see people recommend avoiding the ` pyplot ` interface and using Axes / Figure methods instead .
It makes it very clear which axes you're operating on .
The most similar question I found adressing a similar issua was How to change the font size for multiple axes labels ( created with host_subplot API ) , which changes the font size property ( not individual labels attached to the xaxis ticks ) .
By assigning with ` set_text ( my_text )` , even though ` my_text ` does indeed pass in the ` Text ` object , for some reason it is not picking it up afterwards .
The strategy was to add a new axes over the figure and then hide everything , except the x axis .
Regardless , you shouldn't be calling ` plot ` multiple times in your animation .
It deletes the axes that existed before , so there's no way to retain the previous axes limits .
You can just pass the heights of the bins to it and it will will do nothing to them and just draw a histogram .
How to make a scatter plots with lines like errorbar using time and datetime ?
Changing your plotting functions to just return the axes , you can instantiate a figure with two subplots and add an axes to each subplot : #CODE
Seeing that ` scatter ` and ` plot ` each can do half of what I need , is there a way to do both ?
UPDATE following @USER ' s question , I realized ` scatter ` raised an ` KeyError ` deep in the ` default_units() ` in ` matplotlib / dates.py ` on the line : #CODE
First , I tried modify the DataFrame index to ` 0 .. len ( x )` , which led to a different error inside ` matplotlib / axes / _axes.py ` at : #CODE
This almost worked except scatter seemed to have trouble auto-scaling ` x ` axis and collapsed everything into a straight line , so I have to reset ` xlim ` explicitly to see the plot .
All of this is to say that ` scatter ` could do the job albeit with a bit of convolution .
Can you make an issue for that , scatter _should_ work with the unit frame work .
@USER now that you ask , I went back and noticed that ** ` scatter ` ** raised a ' KeyError ' which is at least in part due to ` x ` ( and ` y `) being a pandas Series .
and then pass it to ` scatter ` #CODE
I'm using imshow() to draw a 2D numpy array , so for example : #CODE
Is there the possibility to define colormaps with absolute values ?
By default , a ` Normalize ` instance will be created that scales between the min and max of the data or the ` vmin ` and ` vmax ` kwargs , if they are supplied .
If we wanted to use a continuous colormap instead , we can either specify the same ` vmin ` and ` vmax ` arguments or create our own ` Normalize ` instance and pass it in as the ` norm ` argument for all images .
I am using matplotlib pyplot to trace a function curve and then draw a secant line from two points I specify ( p1 p2 ) .
The other is to tell matplotlib to only autoscale for the " main " curve and leave the limits alone for the other curve .
If we change the ` plot ` function slightly , we can tell matplotlib not to change the axes limits when plotting the second line : #CODE
The colored region should take up the entire axes if I could update the extent properly .
More generally , though , almost any kwarg you can pass in to a matplotlib artist during initialization will have ` get_foo ` and ` set_foo ` methods .
For example , ` scatter ` returns a ` Collection ` , so you need to call ` set_offsets ` instead of ` set_xy ` to change the x , y data .
Draw and refresh two independent windows with pyplot
I want to draw two graphs in two different windows , but I want the graphics that may be dynamically updated .
The method ` add_subplot ` creates an Axes object on the figure which its called on .
You call it on ` fig ` twice , so obtain the same Axes object .
I am plotting rectangular patches in matplotlib in interactive mode .
I do not want to annotate them as it decreases the speed .
If you really want to display all your existing labels in a legend - see ` plt.legend() `
` annotate ` gives a more powerful API to this sort of thing .
If I add text / annotate object it decrease speed .
How can I draw three lines clearly in the same window ?
the problem that I can't draw y_opgave4 in the same windows
I need to draw all function in the same window
I need to draw all function in the same window
The code , as shown , gives me plot window , but no trajectory and no animation .
How to clear all dynamically plotted points on pyplot scatter graph ?
This is an example that keeps the axes and clears the points : #CODE
But I'm not getting what I would like , which is to have just lines in the ` y ` -axis and also that the lines don't show in the bar graphs ( right now I'm getting in both y and x axes and I can see the lines in the bars ) .
Subplots with equal and shared axes in Pyplot.jl
As the title suggests , I'd like to make a plot in Pyplot.jl with equal ( circles look like circles ) and shared ( plots have same limits ) axes .
I get errors whenever I try to use ` setp() ` as in new pythonic style for shared axes square subplots in matplotlib ? or use the ` subplots() ` command and access the figure and axis elements that are returned .
display plots side-by-side with the same axes so that they are directly comparable .
On Julia 0.3.11 with PyPlot 2.1.0 and PyCall 1.0.3 , I got an error using two indices for the axes , so I used ` ax [ 1 ]` and ` ax [ 2 ]` .
Your ticks and grid look evenly distributed , but the range limits are not , so maybe try ` plt.ylim ( 0,100 )` ( or ` ax.set_ylim ( 0,100 )` if you're using an axes object ) .
Range limits were the problem ( I'm using axes object ): #CODE
Anti-aliased Fonts in Animation
I'm trying to create an animation with two subplots -- one 3D and another 2D .
I can't seem to figure out if there is a way to get better font rendering from the 2D axes however .
Most questions deal with diverging , jet , centering , linear , non-linear as opposed to a consistent coloring of specific colormaps .
Without the use of plt.tight_layout() , the overlap of the subplot axes is also worse .
Is there a solution that will also work when I've adjusted subplot parameters , added colour bars and legends etc .
Hi im trying to make an animation of a quiver plot from data in my data frame
All the examples I saw for Quiver Animation involved scaling previous function by some scalar that is incremented .
example of similar quiver animation I'd like to generate , I have tried but cannot figure out how to change update_quiver to work for my application :
yes like in this example the animation shows quiver plot changing by frames . but it is updating based on a scalar .
The first call to ` plt.plot ` is creating a new ` Axes ` , the call to ` plt.axes ` is then creating a new ` Axes ` , the second call to ` plt.plot ` plots to the new Axes and then the call to ` plt.axes ` returns the same ` Axes ` object as the last time it was called ( because it keeps track of what a ' signature ' for the axes and does not re-create it if it does not have to ) , and then the third ` plt.plot ` plots to the same axes as the second call to ` plt.plot ` .
I want to draw a small red box around one of the ticklabels , as so :
However , if we zoom or pan interactively , the tick label with the red border will not necessarily be at 2000 .
To do it fully repeatably so that it will stay there regardless of how you interactively zoom and pad , you'd need to connect a callback to the draw event .
Using Annotation Instead of Ticklabels
Rather than make it a tick label , draw it using annotation instead .
And no matter how we zoom or pan , it will stay at 2000 on the x-axis ( though it doesn't guarantee there will be a tick or tick label at 2000 ):
More often , though , you'd use this to place or annotate some specific value .
Note that this will also stay at the a position of 2000 on the x-axis no matter how we zoom or pan and will be there regardless of whether or not the ticklabel is there .
Passing an empty string to matplotlib's yticks
Remove xticks in a matplot lib plot ?
The ` yticks ` function from matplotlib expects a list as an argument rather than a string .
Matplotlib Bar Graph Overlapping of Bars
Changing the colour of a boxplot when its paired
Considering that the first boxplot of each pair should be blue and the second one red .
I've read that the solution is related with the fact that ` plt.boxplot ( ... )` returns a kind of dict object that contains a list of the lines created so the way to modify the colour of each boxplot would be access to the indexes ?
You can set the colour of the return dict from boxplot as follows , #CODE
Where you loop through all boxes in ` bp [ ' boxes ']` and use the method ` set_color ` ( you can also ` box.set_markerfacecolor ` and other standard matplotlib artist attributes ) .
I could do this , however I only want to show the region of interest of the upper subplot by changing its height .
Median line for a scatter plot
I'm realizing a scatter plot with the following data :
First boxplot missing or not visible
Why is the first boxplot missing ?
Your boxplot is there but it's hidden .
Notice that you are defining your positions as ranging from 0 to 12 , but you append ` ticks ` as ` range ( 0 , 12 ) + 0.5 ` .
Thus , when you later do ` set_xticks ( ticks )` , your x axis will begin from 0.5 but your 1st boxplot is plotted at position 0 .
Figure :
From the legend guide .
Your suggestion is problematic as it would require matplotlib to shrink the main axes to allow that bottom legend to stay " on-image " and not be truncated as the right axis is typically very close to the edge of the display .
So I think you'd have to manually place the legend and shrink the main axes to accomplish what you want .
daryl , I can control the width of the legend using a textwrap .
When I run this example with ` fig.savefig ( " test.png ")` , the bottom legend is truncated in the PNG file .
Animation in matplotlib with scatter and using set_offsets : How to update color of scatter point
I am trying to create an animation that plots GPS data from a run .
I have code that plots the points and creates the animation .
I draw 4D plot .
I have used following code to plot graph using matplotlib with 4 parameter ` X =d epth , y1=temp , y2=salinity , y3=velocity ` but value of velocity is not display properly and 2nd and 3rd axes are not adjustable ( scale value ) as 1st when zoom that has constant scale value , how could i make it adjustable ( scale value ) , I mean scale value will be variable for all axes when zoom in zoomout .
Thanks for the solution and by providing the limit of range of y axis using ylim problem with the weird y-axis scales will be solved .
I'd like to draw / plot an horizontal line on top of the heatmap like in this figure
The clustermap figure has multiple axes , ` plt.plot ` plots on the the " active " one , but that's probably not the heatmap axes .
So you just need to call the plot method on the relevant axes , which will be an attribute on the object you've called ` result ` .
The axes object that you want is hiding in ClusterGrid.ax_heatmap .
This code finds this axis and simply uses ax.plot() to draw the line .
Matplotlib Navigation Toolbar : remove " Edit curves lines and axes parameters "
It works well for every button except for the last one , with a check box drawing which description " Edit curves line and axes parameters " .
1 subplot per ' type ' with x and y being ' distance ' and ' frequency ' respectively and separating the ' pos ' and ' neg ' datasets by using continuous and dashed lines .
Which gives a fairly ugly output : the ' pos ' dataset appears transparent and the legend disapeared ( I cannot post an image , sorry )
For the legend I guess this is a conflict between the two hue definitions .
Is there a way to display a double legend with colors for the limits and linestyle for the dataset ?
According to #URL you have to pass neccessary argument ` mappable ` to ` colorbar ` method of ` Figure ` .
As for the first example , ` plt ` is just a wise shortcut to latest ` Figure ` instance .
As far as you created only 1 plot and 1 artist , everything works good .
Python 3 figure subplot only shows one plot
I've reworked you script to make sure that all your commands are working on the correct ` axes ` .
Then , you can set the ticks and axes limits using ` ax1.set_yticks() ` , ` ax1.set_ylim() ` , ` ax1.set_xticks() ` and ` ax1.set_xlim() ` #CODE
but does anyone know how to take the legend outside of the graph completely ?
You can set up a loop and write a PDF with hundreds and thousands of pages where each page is a nicely formatted chart with a title , legend , axis labels etc .
Check this awesome answer to solve your legend issues .
you can set the limits of the plot with xlim and ylim .
avoiding the local cache when fetching yahoo finance data from matplotlib.finance in python
I am fetching yahoo finance data in Python through this interface :
Python Radar chart multiple scales / multiple axes + tight_layout
I used python code found on this website from the question ( ' Radar chart with multiple scales on multiple axes ') .
#URL UserWarning : This figure includes Axes that are not compatible with tight_layout , so its results might be incorrect .
warnings.warn ( " This figure includes Axes that are not "
How do I draw edge labels for MultiGraph in NetworkX ?
I would like to draw edge labels ( say weight , ` ( u , v , key ): 10 `) for MultiGraph by using ` draw_networkx_edge_labels ` .
I could not even find how to draw a multigraph with matplotlib ( because the multiple edges won't show up ) .
Getting pixel location for matplotlib contour plot
I have a contour plot application that I'd like to know the pixel location of the axes origin .
pyplot axes labels for subplots
I am trying to get the values of ` xticks ` from one plot and then use these values for another plot but set the new ticks as 10 to the power of the other plot's ticks .
What about sharing axes ?
Then your code will do the trick since you are sure that both subplots have the same ` xticks ` #CODE
barh.subplot ( 111 ) <--- Error : "' Figure ' object has no attribute ' subplot '" .
New error : ' Figure ' object has no attribute ' barh ' <-- barh.barh ( range ( len ( states )) , tempArray )
I have limited knowledge of how to properly use ` matplotlib ` ( and the ` pyplot ` module in it ) to know how to transform the Counter dict object that it spits out into a dict object that ` matplotlib ` could plot with ` pyplot ` .
these are OP words " to know how to transform the Counter dict object that it spits out into a dict object that " Many people are confused initially by Counter object ...
I have a function that generates a heterogeneous mesh and then plots the patches .
I have a function that generates a heterogeneous mesh and then plots the patches .
You should also be using ` figure.colorbar ( patches , cax=cax )` .
@USER Should I be doing this with a QuadMesh instead of generating individual patches ?
How can I scale them so that the bottom legend is visible as well ?
I'm trying to create a scatter plot of a series of x , y pairs , where each series has a different colour .
The background has become white but the axes and inside space is still grey
So I have a simple scatter plot , with a picker event .
My graph lines for the first subplot ( ax1 ) completely disappears after plotting ` df1 [ ' Volume ( BTC )'] .plot ( label= ' EUR Volume ')` .
Two matplotlib / pyplot histograms with the same axes or on the same figure
If I plot them separately , the axes of the two plots are never the same .
where we create a Figure objet called ` fig ` with 2 Axes object within called ` ax1 ` and ` ax2 ` .
The Axes object are where you draw your graph .
So , here we create a figure with 2 axes on a grid with 1 line and 2 rows .
Use of bbox to correctly animate 3D axis with blitting animation in matplotlib
A previous answer that illustrates how to animate objects outside of the 3D axes utilizes a customized ` _blit_draw ` function , as described here .
I am trying to draw a lot of Lines in a matplotlib 3D axes , but I am failing .
Generally I have no clue where to find documentation about collections and artists ...
matplotlib : change stem plot linewidth
I want to change the linewidth of one plot ( stem plot ) .
The problem is the combination of subplot and stem .
But instead of adding another subplot beneath the first one , it adds it in it .
What I'd like to achieve would be another plot from a different data set with the same color bar and the same x and y axes right beneath the first one .
You can do it your way too ( using ` fig.add_subplots ` instead of ` AxesGrid `) , but you'll need to manually position the axes and also resize the figure .
Correct Colorbar Text Spacing in Matplotlib
I would like to graph a bar chart , which uses matplotlib with legend on it .
matplotlib : get the subplot layout ?
However , if I want to add a new figure to the ` grid ` , I don't know of a good way to get the subplot layout .
But I have to deal with special cases like a ` ( 2 , 4 )` subplot array for which I would get ` n_rows = 2 ` and ` n_cols = 3 ` , which means that I would be passing ` ( 2 , 3 , 8) ` to ` ax.add_subplot() ` , which clearly doesn't work because 8 > 3*2 .
As ` ax ` returned by ` fig , ax = plt.subplots ( 4 , 2 )` is a numpy array of axes , then ` ax.shape ` will give you the layout information you want , e.g. #CODE
You can also get the locations of the various axes by looping over the children of the figure object , #CODE
With gridspec you setup the gridspec object and pass to subplot , #CODE
I can set up a ` gridspec ` and only add axes as needed .
In your picture the axes are clearly not just rotated , but moved as well ( the ( 0 , 0 ) point is not on the x-axis ) .
In the example I used the aspect 1 and the same scale for x and y axes , so I could just use the ` rotate_deg() ` method without any additional corrections .
Removing a dot in a scatter plot with matplotlib
The below code creates a scatter plot with a white dot .
With your second plot call you draw a white marker , with a black border .
` imshow ` , ` pcolormesh ` and ` contourf ` all do what I think you are asking
You can set the figure size ( in inches ) explicitly when you create a ` Figure ` object with ` plt.figure ( figsize =( width , height )) , and call ` plt.tight_layout() ` to make room for your tick labels as follows : #CODE
You could use ` plt.axes ` to control where the axes are plotted so you can leave more space in the left area .
I want to draw contours around these regions according to the density.Like so :
I would like to assign for x axis in matplotlib plot full date with time but with autoscale I could get only times or dates but not both .
I think that it's some option in matplotlib in matplotlib.dates.AutoDateFormatter but I couldn't find any one that could allow me to change that autoscale .
If you want to have two subplots with the same xaxis , you can use the ` sharex ` -keyword when you create the second axes : #CODE
I am trying to have a 3d plot ( a surface with scatter plot ) for a multilinear regression model I have .
Also you can force the graphs to be on the same axes by specifying the axis when calling the plot function ( in your code above you have two axes ax1 and ax2 instead of a unique one ) .
However , they are methods of the ` Axes ` object ( ` ax `) , so you have to call them , with the ` headers ` list as the argument .
I'm trying to draw real time plots with Python and matplotlib in a Qt5 application .
With subplot it is possible to split page into grid and add charts into grid positions .
( The legend indicates the most significant plots , and their inner index in the list of lists - notice how the numbers are all near each other )
Figured out how to to do it with the original axes .
Figured out how to to do it with the original axes .
getting custom legend on canvas on matplotlib
But not sure how to get the ` legend ` done .
Now I can utilize some idea on how can I get a legend box like :
You can assign the labels during the call to ` legend ` , if you also name the ` Line2D ` objects that ` plot ` returns .
Change Axis for Historgram with PyPlot
Is it possible to detect if a matplotlib artist is a mappable suitable for use with colorbar ?
Some matplotlib functions ( e.g. , ` contourf ` and ` imshow `) return artist objects that can be used to produce colorbars when passed as the ` mappable ` argument to colorbars .
Is it is possible to detect if an artist is such a suitable object ?
It is usually OK telling lines and points apart from colorbar-material mappables ( countour ( f ) , pcolor , scatter , etc ) .
I'd like to keep ( and even bold ) the axes and add ticks for each of the axis labels .
Here is the code that I'm working with , an image of the plot , and an image of what I want for the axes .
I tried using ax.set_thetagrids ( thetaticks , frac= 1.3 ) and adjusting the frac but it won't space them evenly .
But it is possible to transform your domain so that your valid values take up a the full array .
How to transform a list ( or numpy array or matrix ) into an image ?
Imagine for example a scatter plot with 10 arrays of points , all plotted vs . common x .
For plots which take more time , e.g. a ` contour ` plot or ` pcolormesh ` , this approach may be sensible ...
Another option may be to look into blitting techniques , rasterization or other techniques used to speed up animation , for example using ` fig.canvas.copy_from_bbox ` or ` fig.canvas.tostring_rgb ` to copy the entire figure as an image ( see why is plotting with Matplotlib so slow ? ?? low ) .
You could also draw the figure , save it to a non-vector graphic ( with ` savefig ` or to a StringIO buffer ) , read back in and plot a zoomed in version .
Plotting 2 distplots or scatterplots in a subplot works great : #CODE
Pass your axes objects ( i.e. , ` ax1 ` and ` ax2 `) to ` seaborn.regplot ` or you can skip defining those and use the ` col ` kwarg of ` seaborn.lmplot `
With your same imports , pre-defining your axes and using ` regplot ` looks like this : #CODE
As previously discussed here , you could fetch the label locations from ` yticks ` add the offset you want and " manually " add its value in the top left corner .
Matplotlib evenly spaced contour lines
I'm learning how to use the contour function and I was assigned the task of plotting 25 evenly spaced lines using a 4th parameter .
It says ` contour ( X , Y , Z , V ) - draw contour lines at the values specified in sequence * V* ` .
This will set the ` contour ` levels such that it divides the span of your ` z ` data to 24 equidistant intervals , giving 25 lines .
Envelope of signal + how to generate nice smooth 2d lines animation
Also I would like to make a smooth animation of these lines to show them generating over time , and I know that this is not a very good result .
I'm not sure how my axes turned green , but I want them to be black .
Could you tell me what code to add to change my axes color to black and where to add the code ?
I would like the axes to be solid black lines .
I have an aesthetic issue when plotting multiple cumulative histograms in python on the same axes .
Manipulating Legend in Pickled Matplotlib Figure
Is it possible to manipulate a legend in a pickled matplotlib figure
Is there a way to do this without the legend appearing on the plot ?
If you don't want the legend why you use label ?
I'm extracting the label to use in an interactive widget ( to turn on / off specific series ) but don't actually want the legend on the plot .
When I add ` labels = [ label.get_text() for label in ax.legend() .texts for ax in fig.axes ]` the legend automatically appears .
draw line or color area when exceeding a range in matplotlib
I want to draw a line or color an area at a specific limit
for example color or draw line at / above 10 and at / under -10
My Problem is that the Histogramm overlaps with the frame / margin of the subplot which causes black lines between the subplots .
How can I reduce these black lines i.e how can i reduce the frame / margins size of each subplot ?
PCA is a rotation transformation that aligns the data with the axes in such a way that the first dimension has maximum variance , the second maximum variance among the remainder , etc .
I know the scatter plot doesn't plot with size as a radius , it plots with size as a point .
The result is what you hope for ; simple scatter plot on the left , scaled plot on the right :
You can find more examples of using collections in the matplotlib docs .
but ` # ( 0-5 , 0-10 , 26-30 , 36-40 ) # ( 11-15 , 16-25 , 31-35 )` bar chart plot on each other but i want first part would be 0 to 5 and second part will be 6 to 15 but it gives 5+15=20 that is wrong i don't want to join it .
It is easy to add left / right to the xaxis , but top / bottom + left / right will require much more major changes to the ` Axis ` family
I'm working in iPython Notebook and am attempting to create a scatter plot .
Then I am running some very simple code to initially look at the scatter plot .
I another word : I have a plot where I display many different graphs , each graph is a line and it has its own legend .
Thanks cel :) my question is : I have a plot where I plotted 9 different graphs ( lines ) , each one has its own legend .
` %matplotlib notebook ` will give you an interactive figure you can pan / zoom .
The plotting methods attached to the DataFrame objects return the ` Axes ` object they plotted to instead ( this is useful for simple things , but makes complex things impossible ) so , some plotting code : #CODE
For a plot label like this , I would use axes coordinates to draw the text in relation to the axes .
Well , to get a figure object , you should initialize it first with ` fig = figure() ` , but then you should also create your other objects as childs of ` fig ` , otherwise the returned figure will have nothing to do with your axes .
Using a scatter plot and world map image to display meteor impacts on a map , Aspect ratio problems
To do this I am using a tuple list of lat and lon coordinates ( from a NASA csv file ) that have been normalized ( represented between 0 - 1 ) to plot points on a scatter plot this is then overlapped with the map image .
My problem is scaling the scatter plot to line up with the world map image .
using the above fix multiplying the 1.998 *a seems to have all the scatter plot points stuck in the top left hand corner as shown below .
In particular , there is no set_dashes code in the draw method of the PolyCollection .
To implement this , tt appears you would require a way for setting a dash sequence variable in your PolyCollection instance and then calling gc.set_dashes ( dash_seq ) during the draw command .
However , you might find it better to write a new function to draw your squares instead of using the fill_between function since that is not what it's meant for .
They may actually say that you can inject code in the draw command with proper subclassing .
Here is the example , the testOrigin() works , 2nd axes flipped the image .
The testGridOrigin() however always show flipped images or non-flipped images in all axes .
It won't have the nice ` inline ` feature that hides the contour under the labels though .
I'm not looking to incrementally draw the network as all I'm doing it is saving it to a high dpi image .
I believe the only way to do it is to accommodate the source code of draw function to print something saying 10% , 20% complete ....
But when I checked the source code of draw_networkx_nodes draw_networkx , I realized that it is not a straight forward task as the draw function stores the positions ( nodes and edges ) in a numpy array , send it to the ax.scatter function of matplotlib ( sourcecode ) which is a bit hard to manipulate without messing something up .
I also , looked in the source code of the scatter function but I could not pin point a loop or something to print an indication that some progress has been done .
Yes indeed , you may look into the scatter source code of matplotlib to get more detailed status .
Another idea is to do some experiments to get the time elapsed during the draw function ( that is by capturing time before and after calling the function ) and then divide the average time by the number of nodes to know time taken for each node .
Matplotlib : ( Automating ) Plotting unknown number of data sources / line / plots on 1 subplot
For this I need to be able to plot an unknown number of different data sources ( what will form lines on the plot ); all within the same subplot .
Must things I have found are geared up for having a new subplot for each data source which is not what I'm after .
I've been trying to use dictionaries , however they seem to mess up the legend .
I know that I can access the underlying heatmap axes using the ax_heatmap parameter , but I don't what the name of the matplotlib attribute is that I should be changing .
You'll need to change the dendrogram axes , too , of course .
Determining size of figure axes , not of entire figure
You can obviously plot several graphs at the same time using ` subplot ` as follows : #CODE
If you've overwritten the ` xlim ` function which is indeed in the namespace of that module , you can still use the ` set_xlim ` method of class ` matplotlib.pyplot.Axes ` .
Modify the legend of pandas bar plot
I am always bothered when I make a bar plot with pandas and I want to change the names of the labels in the legend .
Now , if I want to change the name in the legend , I would usually try to do : #CODE
Can you try ` legend ( df.columns )`
Could you help me move the labels that run along each of my axes so that they're all visible ?
I have this code in there to adjust the axis labels , but it moves all axes labels at once .
I would turn to Seaborn but I can't work out how to format the xlabel as timeseries .
How to bring figure legend to front ?
I have a series of subplots where each one has a legend I want to be outside each subplot overlapping the neighboring subplot .
The problem is that the legend is ' on top ' of its own plot but below the neighboring plot .
Legend does not take zorder as an argument so I am not sure how to solve the problem .
Legend does not take a ` zorder ` argument , but ` ax ` object does :
and as your legend is an object of ` ax1 ` , it will bring the legend ( of ` ax1 `) on top of the second plot .
Pyplot 3d scatter : points at the back overlap points at the front
( the order of the axes are just for perspective purposes ) .
This means the order in which you draw your different plots ( in this case your red and black dots ) matters , and if you draw your black dots after your red dots , they will appear to be in front of the red dots , regardless of their position .
In this case you would probably have to break up the inside line into " infront_of_helix " and " behind_helix " parts and then draw them in front and behind the helix respectively .
I'm plotting using the Matplotlib scatter plotter .
I can achieve this if I simply plot it twice ( once with the outline then again with the dot ) but then my legend isn't correct .
So yeah , would like something like those markers but with the ability to have them like that on the legend ( unlike how it is currently split up into the two parts ) .
I know I can get rid of one of the legends , but what I'm trying to achieve is a single legend entry with the combined marker ( i.e. a circle with a ' dot ' inside it ) .
If I can't achieve then yes I'll just disable the legend for the outer circle but would quite like to get the marker used ( which is a combination of two markers ) on the plot to also be used on the legend .
Basically I wish to combine the two markers on the legend like I have on the plot .
So on the legend there would be one entry with the marker of a circle with a ' dot ' inside .
You can mark your scatter plots and include only one in your legend :
Basically , instead of having one marker or the other ( or both separately ) on the legend , I'm looking to have one legend entry with the marker being the circle with a ' dot ' in the middle ( the same as how it's displayed on the plot ) .
I am wondering if I should try to add a converter to read the float values in the data file ?
Using Matplotlib , I want to draw six plots side-by-side .
However I would like the xlabel between ` 08:00 : 00 ` to ` 16:00 : 00 ` hour by hour , so : ` 08:00 : 00 ` , ` 09:00 : 00 ` , ` 10:00 : 00 ` ,...., ` 16:00 : 00 ` .
Seems like it has to do with the animation , because when I rerun the file without streaming in new data it plots just fine .
So I guess I need to combine multiple distributions and then fit the data to the resulting dist , is that right ?
on the line after you set ` xlim ` .
Its also probably safest to change to using ` ticker ` and a ` MultipleLocator ` to choose the minor tick locations ( and the ` yticks ` too ) , since if you then pan around the plot , the ticks aren't hardwired and won't break .
How to add tickmarks to polar axes
Could you help me add tickmarks to each of the axes in my polar plot below ?
Here is an image of a polar plot with the tickmarks I want on the axes : #URL
This is an image of my current plot without tickmarks on the axes :
To print continuous 4 line graphs in subplot .
My current code works for scatter plot .
How to label a seaborn contour plot
In matplotlib you would simply do ` plt.clabel ( CS , CS.levels , inline=True )` but seaborn doesn't return the contour collection ` CS ` .
I was attempting to get the levels so I could insert a legend .
Changing Figure Size in Sympy.mpmath.plot
` save_count ` parameter animation matplotlib ``
I have a PyPlot Figure on a FigureCanvas with multiple plots which frequently clears and replots on a timer .
It was important to redefine the yticks before redrawing , as these were reset in autoscale .
Never use pyplot to draw anything .
The only thing it's really good for is creating figures , axes , and some artists .
I made a stem plot ( aka lollipop ) using Python / Matplotlib .
It looks like ` stem ` returns a triplet , the third value of which is the baseline object .
Bar graph doesn't fill the Axis
I want to use matplotlib to draw the graph of #CODE
Annotation on top of the bars show the actual percentage of that category .
I used ` matplotlib `' s twin axis and plotted the data as bars on the second ` Axes ` object .
You can do this by making a ` twinx ` axes for the frequencies .
You can switch the two y axes around so the frequencies stay on the left and the counts on the right , but without having to recalculate the counts axis ( here we use ` tick_left() ` and ` tick_right() ` to move the ticks and ` set_label_position ` to move the axis labels
Matplotlib animation not saving properly
The animation works fine with ` plt.show ` but I am having trouble outputting a movie file .
The problem now is that though there are 61 frames of animation , I can't get the movie to stop there .
I have attempted to manually set the x-axis , which limits what is shown on the screen , but the animation continues beyond the shown axis nonetheless .
Still no answer , but somehow , the ` interval ` option is ignored when the animation is saved .
Oddly , the call to ` animation.FuncAnimation ` does not actually create the animation .
However , the ` anim.save ` just calls your animation 61-times , but without obeying the ` interval ` .
` repeat=False ` - do not repeat the animation after the max number of frames
This results in a animation which steps through 25 frames ( in your case , moves the vertical line from ` 0 ` to ` 24 ` in one second intervals ) - and stops there .
Matplotlib animation in for loop ?
I'm trying to plot some data by animation in a for loop .
I want it to wait until the animation is finished and then proceed in the for loop .
You can enter another parameter to select on which axes to plot the colorbar .
Normalize histogram2d by bin area
I want to plot a scatter plot , that has a colorbar , and the data has errorbars .
I want to draw them according to the colorbar , how can I do this ?
Change axes scale in matplotlib
If plt.show() actually runs , I expect that since ` fig ` is a ` matlab.pyplot.figure() ` or ` Figure ` instance , and that class does not have a tkinter pack method , ` fig.pack() ` raises an AttributeError .
Please see above append to question .
Python Matplotlib figure title overlaps axes label when using twiny
The coords you give it are ` x ` and ` y ` , and by default the transform is the axes coordinate system : so ` ( 0 , 0 )` is ` ( left , bottom )` , ` ( 0.5 , 0.5 )` is in the middle , etc .
You might choose a plot with Cartesian axes representing the real ( x ) and imaginary ( y ) axes and to plot the absolute value of w ( s ) as a colour , or you might choose to plot the real and imaginary parts separately .
How to change scatter plot color according to certain rule
I have to do a scatter plot that has colors depending on a third variable .
How to draw a contour plot using Python ?
I tried to draw a contour plot using Python .
Frame-by-Frame animation in MATLAB
My goal is to watch an animation of an x-by-y-by-t array .
This helps me to define my axis , as well as the limits of the animation box .
Obviously , last line runs the animation .
Inside the decrease method , you're accessing ` self.canvas ` to call the draw method .
How to set the range of y-axis for a seaborn boxplot ?
From the official seaborn documentation , I learned that you can create a boxplot as below : #CODE
Or , better , ` ax.set ( ylim =( 10 , 40 ))`
3d trajectory animation flocking goes out of screen in python
This is the code for group motion ( flocking ) generation / animation ; While running this code object disappear in the animation when axis values goes high .
I managed to created a nice heatmap out of the scatter plot of points but the plot seems to be rotated 90 degrees to the right ...
Yes , I got the axes wrong , sorry .
matplotlib boxplot xticks shifting towards y axis
I am beginner to matplotlib and trying to plot a boxplot for my data I extracted using pandas .
I am successful in getting boxplot which looks perfectly like what i want except xtics .
And below is my matplotlib boxplot code : #CODE
How to set axes dimensions and locations in millimeters in matplotlib ?
Also , I want two axes stacked with 10 mm spacing .
Getting Colorbar instance of scatter plot in pandas / matplotlib
Here is an example for generating a colored scatter plot : #CODE
Maybe ... but is ` ax = df.plot ( kind= ' scatter ' , x= ' x ' , y= ' y ' , c= ' score ' , s=500 )` really more direct than ` s = ax.scatter ( df.x , df.y , c =d f.score , s=500 )` ?
I guess I prefer this to hunting around for the correct axes ;-)
Probably , using matplotlib directly has more advantages , especially if you want to use and modify the axes later .
2 , how many axes does this figure have ?
3 , The first axes ( that is , the first one created ) , contains the plot #CODE
4 , Therefore , the second axis is the colorbar axes #CODE
Ok , that gives me the axes where probably the colorbar is located .
But how can I be sure that this is the right axes ?
I know in my setting that the second one in the axes list is my colorbar .
You can identify colorbar axes by checking if the axis contains a ` matplotlib.collections.QuadMesh ` as one of its children ( colorbar axis will have it ) , which is the color gradient .
So I think it is better to figure out the order of creation of the axes and pick the colorbar axis ( axes ) that way .
My graph is currently just a plain scatter graph .
Looks like it could be your ` ylabel ` .
It was actually some math formatting related issue although not in ylabel .
seaborn violinplots : change violin color , axes names , legend
Well , my major problem is that I don't know what do I have to modify in order to change violin colors , axes names , or place the legend where I want .
replace axes ` names `
make my own ` legend with the blue category only `
For the legend , in theory it should place the legend outside , but it's ignoring it .
Replace axes names : with ` set_axis_labels ` method
Do you have any idea on how to join both x spines as if they were one single axis ?
Is there a way to use the pan / zoom tool when a matplotlib script is running ?
The calculations take several minutes and I would like to be able to pan and zoom the plot in the usual way while it is updating .
Failing that , is it possible to interrupt the script ( canceling the rest of the calculation ) and then pan / zoom the plot ?
The plot updates very nicely , but you cannot use the pan / zoom tool .
I want to convert these to be used as color for a matplot scatter plot .
Matplotlib animation , xdata and ydata must be the same length
But when the function that does the animation is called , I get a ` RuntimeError : xdata and ydata must be the same length ` .
I am trying to plot a basemap with my contour / quiver plot .
Also , I want to remove the red and have it start on the orange , giving it only 5 contour levels .
Size of matplotlib contourf image files
I've got a contourf figure in matplotlib that is about 5 megs .
Though my experience is usually with scatter plots .
Is there a way to rasterize the plot , but keep the axes labels and title as vector data ?
@USER that works for some types of Axes object , but not ` contourf ` .
The issue is that you have many elements of the ` contourf `
For some types of ` Axes ` objects , you can set the ` rasterized ` option to ` True ` right when you call the plotting function .
However , for ` contourf ` this does not seem to work , but there is a way around it .
You can set the ` zorder ` to some low number , then set the ` rasterization_zorder ` for the ` Axes ` to some number above that , and when you save the figure , it the ` QuadContourSet ` returned by ` contourf ` will be rasterized .
How can I draw axes with a 45 degree rotation ?
I have a set of 7x4 plots arranged in a grid using subplot .
I now want to add diagonal axes on top of these .
I know you can superpose axes on top of previously made subplots by setting the background to ' none ' : #CODE
Currently I'm trying to use a top view 3D axes , but I'm far from a usable solution there .
EDIT : using the ` floating_axis ` module , I was able to draw rotated ( and sheared ) axes , but unable to edit the ticks , which is very necessary for what I need .
Any manipulation of the axes ' ticks fails .
Have you tried looking at [ this example for floating axes ] ( #URL ) ?
The problem is that you are constantly plotting on a different set of axes than you think .
` self.line , = ax.plot ( tft [ self.event_num ] , tf1 [ self.event_num ] , ' . ')` refers to the axes that you created outside your class , not the axes in the figure you created in the ` App ` class .
The ` hold ` property of an axes determines whether or not the axes reset with every call to ` plot() ` .
When ` hold ` is ` True ` , calls to ` plot() ` append the line objects they create to the plot's current list .
You are plotting to an axes in the global namespace but redrawing the canvas on another , unrelated global object .
There are two sets of figure / axes objects created in your code .
You can fix this up by always referencing an Axes associated with your Tkinter root window :
` self.fig , self.ax = plt.subplots ( 1 , 1 )` to create enduring Axes .
` self.ax.set_xlim ( x_min* 0.9 , x_max* 0.9 )` and ` self.ax.set_ylim ( y_min* 1.1 , y_max* 1.1 )` to keep the axes window consistent so as to visualize movement of the mean of data among inner lists .
matplotlib animation plots are moving up
Does that cause problems with the animation ?
Instead , use ` numpy.sqrt ` which broadcasts the sqrt operation across every element in the array .
" twin " axes without shared axis in matplotlib
I'd like to have two axes in matplotlib , sharing the same frame , but without link between any axis .
Do you mean you want two different subplots rather than twin axes on one subplot ?
This way ` ax1 ` and ` ax2 ` share no axis but are on the same subplot .
Why don't you try a contour plot instead ?
Wouldn't a contour plot be more useful for seeing the magnitudes of the stresses ?
Plot those in the same axis as the previous points as a scatter plot .
@USER , I just meant you actually need to play around with figure / axes within matplotlib instead of just pandas calls .
Matplotlib or wxpython draw lines
Is there any way to draw the lines in the following figure in the red circle ?
This will clear the axes .
Here is the code I have written to generate a 2 by 2 subplot .
Apart from your subplot issue , there are many things you could fix or simplify in your code .
Subplot takes 3 arguments subplot ( nrows , ncols , plot_number ) ( #URL ) , where the plot_number is the active plot starting from 1 ( top left ) and finishing at nrows*ncols ( bottom right ) .
I would like to create a animation where my data points would gradually appear on my graph and freeze when all the data points have appeared .
EDIT : To make the animation look stopped when finished in matplotlib window , you need to make it infinite ( omit ` frames ` parameter in ` FuncAnimation `) , and set the frame counter to the last number in your frame series : #CODE
EDIT 2 : To animate a scatter plot , you need a whole bunch of other methods .
Ok , then you need a scatter plot .
Using a proxy artist inside a legend , matplotlib , Python
When I perform the above , I only see ` $1\sigma\ / confidence\ / limts$ ` mentioned in the legend .
This does not get plotted in the legend .
How do I add all the above three labels inside the legend ?
you need to grab the ` scatter ` and ` plot ` artists as you plot them , and then feed the handles and labels from them to ` legend ` .
You can then use ` .get_label() ` on ` pplot ` and ` pscat ` to give the labels to the legend .
Making a filled contour plot in python with netcdf files
I want to transform the data in order to plot them in matplotlib as a rectangle .
Do you mean a rectangle with sides parallel to the axes ?
I have to deal with the problem of transform the coordinates for each rectangle without loose the position in the trajectory , but for now I'm stuck on the transformation problem .
You can use ` skimage.transform.ProjectiveTransform ` from ` scikit-image ` to transform coordinates inside your quadrilateral into the local square space [ 0 , 1 ] [ 0 , 1 ] .
Now , the transformation ` t ` is ready to transform your points into the unit square .
Define your axes and modify the xticklabels , not the axis itself .
I'd like to draw a matplotlib surface plot with 4 dimensions .
Specify color of each point in scatter plot ( matplotlib )
You need to specify the axes you want the regression line to be drawn on .
You need to specify the axes you want the ` regplot ` to appear on .
When matplotlib is embedded in PyQt4 how are axes / subplots labelled without using pyplot ?
Staying with the example from the matplotlib example , the labels in the subplot ` self.axes ` can be set using ` self.axes.set_xlabel ( x Label ")` or ` self.axes.set_ylabel ( " y Label ")` .
In matplotlib , how to add plot() or scatter() to axes without adjusting x / y axis limits ?
In matplotlib , I have an Axes object ` ax ` that already has some lines plotted .
Now I want to add a new line ( ` ax.plot() `) and some scatter points ( ` ax.scatter() `) without allowing those new operations to automatically adjust the existing x / y axis limits .
In my present code I create an axes with the menu dosomething() then add other red lines with the menu dosomethingelse() over the same axes .
Everytime I dosomething() , a new figure is appended bellow the current one , but I actually want to replace the current axes by a new one in the same figure .
So apparently , I somehow need to transform the blue function in order for it to fall onto the experimental data , supposedly via the scale factor .
Finally , the way the axes are labelled in the original figure is confusing .
1- I have a 2D histogram w 1D histograms along the x y axes .
Maybe I should use np hist , but then I don't know how to do a matplotlib.bar plot with log scale and colored bars ( again , mapping the colors I use for the 2D hist ) .
2 ) The bounds of your different ` LogNorm ` colormaps are changing throughout your code ( e.g. [ 1 , 8 ] vs . [ 2 , 9 ]) .
Hum ... got the ScalarMappable object created , but I thought the frac would already be a scalar -- nope .
And here's how I was able to normalize the matplotlib hist by the logarithmic bin width ( and the volume of my simulation -- a scalar value ) .
How to make axes transparent in matplotlib ?
Ok , so just after playing a little bit I discovered that this can be achieved by controlling the ` patch ` property or the axes .
matplotlib legend guide example using mpatches not working
The second effort is by using the set_picker of legend :
I could go with a combined option for both where a checkbutton would select the mod ( which is the more general a.k.a the group selector ) and there would be a legend that I could switch the lines on and off ( line selector ) but in the worst case scenario this would create a huge legend that would hide all of my plot .
I have a few lines of making a scatter plot out of a collection of points ( x 0 , y 0 ) , ...
If I remove the `' extra_args '` , the animation will show , but the ` .mp4 ` file is never created .
hist by default uses 10 bins but in the min to max range which is not 0 to 10 since your numbers are random
If you set the ` bins ` option of ` hist ` to ` bars ` , it all works fine #CODE
To set the ` yticks ` to only integer values , you can use a ` MultipleLocator ` from the ` matplotlib.ticker ` module : #CODE
However , if I set the axes height in PyPlot #CODE
If I set the axis height after running the plot , PyPlot puts the picture in a box in a legend off to the side of the main picture , and the main picture is empty ?
EDIT : Using xlim =( -10 ., 10 . ) and ylim =( -2 ., 12 . ) doesn't work either .
PyPlot still adapts the axes to the data .
Try ` xlim ( -10 , 10 )` and ` ylim ( -2 , 12 )` after the ` plot ` command : #CODE
It's not entirely clear whether you want your axes to be of equal length , or whether you want the scaling on your axes to be equal .
To get a square aspect ratio , I created a figure with a square dimension ` fig = plt.figure ( figsize =( 5 , 5 ))` this is enough to get axes that are the same length .
To get the same scaling on all axes , I added the ` set_scaling() ` instructions
set legend for plot with several lines ( in python )
1 ) My legend does not appear as I intend ( even trying to plot a extra point out of the range of the figure I can't give them a name - workaround )
Try the following , you will see both lines show up on the legend : #CODE
@USER : yes name it at creation is the best way but in my case I would have 71curves with the same name and no spece for the legend at all .
@USER I believe that if you give them all the same label , they'll just show up as one item in the legend , which I think is what you want .
I'm surprised you're not getting an error message when you try to create your legend .
A boxplot depicts quantiles .
How do contour plots work ?
So I'm trying to work out a way to make a contour plot where the contours label the percentage of enclosed data points say 75% , 50% and 25% of the total .
I would like to avoid using matplotlib to draw and redraw everything .
So my question is : how does the contour algorithm work ?
Most likely a contour plot is to visual 3d data in 2d plots .
A simple contour plot is a triangulation of the points with the color of each triangle determined by the average value from the three vertices .
I am trying to plot a contour and quiver plot over a basemap .
@USER I think the easiest way to draw a nice histogram is to preprocess your data properly and then call matplotlib's ` plt.hist() ` or pandas ' ` pd.hist() ` .
It greatly helps if you transform your list ` X ` into a NumPy array using ` np.array() ` .
Connect scatter plot points in specific order matplotlib
I would like to use matplotlib to plot a scatter plot of a list of tuples , whose elements are x and y coordinates .
Recover data from matplotlib scatter plot
From a matplotlib scatter plot , I'm trying the recover the point data .
but I don't see any of that data correlate with the actual scatter input data .
Or , given the ` axes ` object , ` ax ` , you could access the PathCollection via ` ax.collections ` , and then call ` get_offsets ` : #CODE
Widgets and draw function issue
The Button Code : #CODE
How to draw more type of lines in matplotlib
There are two classes in my code . class Qt4MplCanvas is used to draw a Line2D figure . class ApplicationWindow is to write a window and add a widget on it .
matplotlib animation in wxpython panel
Whats the correct way to add a title or a colorbar or a legend ?
A matplotlib graph consists of a figure ( a ` matplotlib.figure.Figure ` instance ) , which has one or several axes ( ` matplotlib.axes.Axes ` instances ) in it .
Each of them , in their turn , contains ` Drawables ` ( lines , images , scatter plots etc ) .
A title can be added ( or modified ) to the ` Figure ` or to each ` Axes ` with setter methods , such as ` Figure.suptitle ` or ` Axes.set_title ` ( or , in your case , ` self.figure.suptitle() ` or ` self.subplot.set_title `) .
Achieving that is easy : instantiate ` self.colorbar ` with ` None ` in constructor , and then check it against ` None ` in animation function : if it is ` None ` , then create colorbar , if it is not , then update it : #CODE
Thanks , in between i solved it by MANY Try and Error Loops : I was confused by the names ( why do I use ` add_SUBPLOT ` to add sth called an ` axes ` ? ) .
I found the ` set_title ` in the ` axes ` -documentation ( which isn't the same as an ` axis ` , confusing for non-native-english readers ) .
I would like to draw multiple figures with multiples sub-plot in it .
It seems that ` plt.hold ( False )` alters the way of polygons and ` boxplot ` are displayed .
When hold is True , subsequent plot commands will be added to the current axes .
When hold is False , the current axes and figure will be cleared on the next plot command .
If hold is False , the axes are cleared between each of those commands , so parts of the boxplot don't show up .
I'm not sure why you call ` plt.savefig ` before doing more stuff with the figure like adding a legend .
I suppose if you call the legend after having pyplot compute the bounding box , the legend will of course not care about that .
Embarrassingly , I could not produce a graph of the boxplot to actually look at .
Without knowing more , could you instead draw text inside the plot : #URL ?
My hist is ( 11L , 10L ) but the picture that I get have 12 rows , how can I fix it ?
Also , I suggest Mad Physicist's comment on properly specifying x and y axes .
Stacked Bar Plot with Two Key DataFrame
I would like to disconnect by clicking off , or to the side of , the figure .
Seaborn PairGrid : show axes labels for each subplot
Is there a way that I can easily add the axes labels for each of the subplots in Seaborn pair plot ?
This is related to this question but instead of adding the tick labels I want to add the axes labels as the pairplot I am having is 9*9 and I dont want to scroll down every time to check the column name .
You first need to get all the labels from the axes ( e.g. ` ax.xaxis.get_label_text() `) and the set the label text ( ` ax.xaxis.set_label_text() `) .
looks like ` annotate ` is what you want :
Matplotlib : How to put individual tags for a scatter plot
matplotlib scatter plot with different text at each data point
Hi I wanted to draw a histogram with a boxplot appearing the top of the histogram showing the Q1 , Q2 and Q3 as well as the outliers .
I need to draw an ellipsoid of same major and minor axes , centered around the geographic co-ordinates
I used matplot lib and numpy to draw the ellipsoid .
Is that the right way to shift the ellipsoid , so that if I draw another ellipsoid with a different geographic co-ordinate I will be able to visualize / calculate their overlap area #CODE
I changed the coef calculation to directly use a , b , c in the 3D model and now the axes are proper #CODE
The problem I am facing is that the subplots will render , the labels , axes and everything looks great , but no data is ever plotted !
In order to get the data to display , I had to change ` axes [ i , j ] .plot ( ... )` to ` axes [ i , j ] .scatter ( ... )` , which I could've sworn I'd tried before :
By now , I am able to create a figure of appropriate size , keep the margins at the bottom and top of the figure at a reasonable size , and I managed to create a pdf which displays the results nicely for up to a number of around 200 subplots ( using evince on Linux ) .
Figure no .
Figure no .
The image to the right ( in the code , ` Figure no . 2 `) is correct .
The one to the left ( ` Figure no . 1 `) is wrong , in that it should only show the regular structure you see and not the red dots , which obviously come from the second image .
That way you always know which ` Axes ` you are plotting on
what @USER said . really , you should just avoid using ` plt ` entirely except to create figures and axes
Given this case , I want to be able to draw ` G2 ` by calling : #CODE
I'm not sure where you can find more info on ` host_subplot ` ( I presume you have seen this page ? ) , but the ` 111 ` argument must get passed onto ` subplot ` at some point , and is shorthand for saying ` 1 row ` , ` 1 column ` , ` plot number 1 ` .
` subplot ( nrows , ncols , plot_number )`
Where ` nrows ` and ` ncols ` are used to notionally split the figure into ` nrows * ncols ` sub-axes , and plot_number is used to identify the particular subplot that this function is to create within the notional grid .
actually , looking at it , I think it uses ` add_subplot ` ( which is the ` Axes ` method similar to ` subplot `) .
How to obtain the contour plot data for each scatter points ?
I have plotted a contour plot as background which represent the altitude of the area .
And 100 scatter points were set represent the real pollutant emission source .
The axes labels use scientific notation .
But I get 10 bars in the expenditures , the colours don't match the legend and the totals are not correct ( should be 26686 for exp , 46950 for inc ) .
How to create multiple series scatter plot with connected points using seaborn ?
I'm trying to use seaborn's pointplot() to create a multiple-series scatter plot with connected points .
Is there an easier / better / more elegant way to plot multiple-series scatter plots with connected points using data stored in a pandas data frame ?
Remove repeated lables in matplotlib legend
matplotlib , combine 2 individual axes and then , plot data
I'd like to create individual axes , and then , choose 2 of them to plot data .
( I used 2 plotting areas to draw 2 axes , I hid unwanted spines , unwanted ticks , unwanted background , I used a 3rd plotting area to draw my data , it's a very ugly trick )
I don't know if it's possible to handle individual axes with matplotlib .
For me , an axis is a straight line , but for matplotlib , it makes no sense to draw an individual axis .
My final objective is to create an application to handle axes , draw them anywhere at any ( x , y ) position , without any ugly trick , and of course , plot graphs within those axes .
One more addition : you can just as well draw reverse cumulative distribution ( that is , percentage of events after the given year ) , simply by passing ` cumulative = -1 ` :
I also need to label each curve and add axis label and a legend to the figure .
That means you initialize an aggregator to an empty list prior to a ` for ` loop , and each time through the loop , append to the aggregator .
You can also do this an interactive fashion to plot on the " active " axes , but the object-oriented approach shown here will be more effective in teaching you programming skills .
Read more about the plot function at #URL where you can enter ` plot ` into the search box at the right and follow the link the method of an Axes : matplotlib.axes.Axes.plot
I can reproduce from the matplotlib website #URL the example code for a 3D scatter plot #URL , however the plot renders as a static image .
This is possible by directly using the ` animation ` submodule of ` matplotlib ` ( the underlying Python library that ` PyPlot.jl ` wraps ) .
One way you could achieve creating these dual axes that relate to the same data , but just have different labels goes like this : first create an axes , then create another one over that ( the ` twinx ` / ` twiny ` methods could be used but not strictly necessary , I'll use them here for convenience and explaining an important issue that resulted in you setting the xticks for your first axes ) .
Then ensure the limits of both x-axes are the same , set the position of the x-ticks the same as in the first axes and finally change the labels : #CODE
I try to use matplotlib.finance to download some data from yahoo finance .
Seems like you are looking for an animation .
I am having a hard time to reproduce this figure in a subplot ( 2X2 ) .
How can I have a 2X2 subplot of the above graph ?
Of Course I would only keep one legend at the bottom of the subplots .
I would like to add a second secondary axis to each of my subplots similarly like in this example but in a subplot .
Is it possible to have a subplot where each figure has two secondary axes ?
If you want to create special axes , you will have to initialize them the ' hard ' way .
You will have to initialize all axes by hand .
The two series have different scales so I want the values to be plotted on two " y " axes .
Now if I try to plot the " Release " as a bar chart and the " Hold " column as lines with twin axes I get only the line .
Is there a way to have the xticks have the values 2012 , 2014 etc ..
Take a look at this [ bar chart example ] ( #URL ) to know more tricks , like adjusting the bar-widths , getting the axes ticks in the center of the bars , etc .
Matplotlib Subplot Animation with Basemap
I am trying to generate a four-panel animation of temperature change with time .
Each of the four panels in the subplot should be an animated map ; the difference between each panel being the data used .
I have managed to generate the animation using one set of data ( without subplots ) with the following code : #CODE
I have looked at numerous examples ( 1 , 2 , 3 ) of subplot animations , but still have no idea how to go about doing it with Basemap .
Your animation function needs to update four different maps in four separate axes within the figure .
The axes are indexed .
The way I suggested placing them in a 2x2 layout , they are indexed as a 2-d array , so reference the axes as ` ax [ 0 ] [ 0 ]` , ` ax [ 0 ] [ 1 ]` , ` ax [ 1 ] [ 0 ]` , and ` ax [ 1 ] [ 1 ]` when you create the maps .
When you create your four instances of Basemap , assign each map to a different axes using the
In your ` animate ` function , change the coloring of each axes .
Can someone explain to me what " bins " in histogram are ( the matplotlib hist function ) ?
This works just like ` plt.hist ` , but lets you use syntax like , e.g. ` hist ( x , bins= ' freedman ')` for choosing bins via the Freedman-Diaconis rule mentioned above .
My data is about some 100 thousands of points and I need to draw a probability density function of it .
Here is the modified version of your code to draw histogram : #CODE
An alternative approach is to use pylab.boxplot and to prodice a boxplot for each model , but therefore I guess I'll need the full distribution per model per parameter instead of just mean and std .
This works great when both axes are numbers as per your example .
You could define a function that executed Circle several times , drawing concentric shapes of varying color and / or alpha .
I'd have to draw a lot of circles to obtain a nice gradient .
Masked contour plot in python without filler between True-False
I would like to draw a single contourline from a masked array .
You can tell ` contour ` how many levels to plot using a forth argument :
` contour ( X , Y , Z , N )`
contour up to N automatically-chosen levels .
I wish to plot a contourf plot of a scalar variable on this grid using matplotlib .
Given a set of cell faces with known vertices in space and a known scalar field variable , create a contour plot as one would get if one had created a ` numpy.meshgrid ` and used ` plt.contourf / plt.pcolormesh ` etc .
Now I wish to create a contour plot of this data ( fill each cell in space according to an appropriate colormap of the scalar field variable ) .
Also , all your points are on a plane , so this example would be trivial to draw using ` plot_trisurf ` .
I guess one solution is to manually zoom in on sections of it using the GUI and save / join those images , but I would really prefer to not do something like that !
Third I also would like to remove the legend in the plot , considering the following example : #CODE
I also would like to remove the legend in the plot
I am sure there should be a way to access the axes of these plots and manipulate them accordingly but I don't know how ?!
Therefore , it is not clear just how this data is being plotted on the axes for the Python script , because the data appears to smooth ?
I wrote script which create animation ( movie ) from fits files .
How I can read 9000 files and create animation ?
You might be better off creating your animation with FuncAnimation instead of ArtistAnimation , as explained in ArtistAnimation vs FuncAnimation matplotlib animation matplotlib.animation FuncAnimation is more efficient in its memory usage .
Animation is created when I have readed array img [ ]
datafiltred contour plot
data contour plot
So I can make a histogram plot in this frame but when I use ` kde ` and generate data and use ` fill ` to overlay to the ` hist ` it won't rotate .
You can use the ` fill_betweenx ` function of the ` axHisty ` axes to do this : #CODE
Python - Changing Matplotlib Axis from Days to Years
How do I make a numpy array's numbers plot on different axes ?
How to change order of plots in pandas hist command
Matplotlib animation in real time
In the example below I want to make an animation where a point moves around a circle in T seconds ( for example T=10 ) .
You can increase it in order to get a more consistent ( but slower ) framerate , but reducing it will not magically make your animation render faster .
If the machine cannot serve a new plot in 1ms , how can the animation be updated in 1 ms ?
Matplotlib animation : first frame remains in canvas when using blit #CODE
I do not only want a smooth animation but also a real time one .
You can get the counts for each bin using the ` .get_array() ` method of the ` matplotlib.collections.PolyCollection ` object returned by ` hexbin ` , then use this to set the alpha channel for the face colors of the patches : #CODE
You might need to force a draw event between plotting the hexbins and calling ` get_colors ` , e.g. by calling ` ax.figure.canvas.draw() ` or ` plt.draw() `
Batch matplotlib scripts don't save axes
I'm a bit new to matplotlib , and am having difficulty outputting image or pdf files of plots that include my axes when using a batch script .
Plot with no axes or labels
My hunch is that perhaps the axes and labels are being drawn , but for whatever reason they're being drawn as white , rather than black .
I used matplotlib to draw a 3d image in my project .
Possible duplicate of [ Applying colormaps to custom axis in Matplotlib 3D surface ] ( #URL )
Find coordinate in each closed field in contour plot
I need to extract one coordinate pair and the color for each closed field in several generated contour plots .
Do you also need to segment the plot , find coordinates range , and find colors from legend ?
I do not have the colors from the legend .
The best thing would be if I somehow could extract this data from the contour plot object that I have generated with .
By default ( False ) , widths and heights of axes in the grid are scaled independently .
Perhaps you are looking for a scatter plot : #CODE
That looks good , but what about the legend ?
@USER : you can use ` annotate ` .
@USER : you can read the [ ` annotate ` documentation ] ( #URL ) .
When hold is True , subsequent plot commands will be added to the current axes .
When hold is False , the current axes and figure will be cleared on the next plot command
` pyplot.subplot() ` requires ` subplot ( nrows , ncols , plot_number )` , all three options are integers .
It's not clear from your code what you want the subplot to look like , so I can't provide a complete example .
Using a subplot works with one plot but you don't need it , so I don't know what type of logic error that is ( do you want two plots ? )
Plotting PCA results including original data with scatter plot using Python
Please advise on how to plot my original iris data and the PCAs derived using a scatter plot .
Easiest way to draw a full neo4j graph in networkx
I have a neo4j graph and I want to draw the entire graph in an ipython notebook with network x .
I wrote a python code below to draw a bar chart for my data .
Is it possible to draw multicolored edges between nodes ?
@USER Talking with a work colleague , he said it would be very polluted visually various colors have an edge , so I decided that I will draw several graphs , and not just one .
I've tried for several hours to change the default white background black labels / axes when plotting with sunpy to a black background white labels / axes .
Do you mean the * entire * background black ( Rather than just inside the axes ) ?
And no , it doesn't include the drawn limb , as you only mentioned the background and axes / labels .
you can set the tick locations explicitly later , and it will draw the grid at those locations .
do you want the label next to the point , or on a legend ?
You need to append your ` end_date ` to ` x1 ` after you plot the actual data , then remake ` x2 ` with the new appended value , before you plot the trendline .
Color seaborn boxplot based in DataFrame column name
The column names contain strings that indicate an experimental condition based on which I want the box of the boxplot colored .
Now I want to give every boxplot that has ' prog + , DMSO+ ' in its name a red color , leaving the rest as blue .
If I could somehow put these boxplot nicely in one plot below each other I'd be almost at what I want .
Matplotlib : filled contour plot with transparent colors
Does somebody know in Matplotlib how to produce a good-looking filled contour plot with semi-transparent colors ?
According to the docs , this is not a bug ( "` contourf() ` [ ... ] does not draw the polygon edges ") .
To draw the edges , it is suggested to " add line contours with calls to ` contour() `" .
Then I assign each datapoint a " class / category " due to some criteria ( depends on the number of the filename the datapoint was drawn from ) and plot everything as a scatter plot with a legacy
In Matplotlib , I want to draw a sphere with a mesh on its surface , divided into 30 degrees steps in spherical coordinates .
Weird interpolation results when compare the raw scatter plot with contourf after interpolation python
I would like to compare my scatter plot with contour plot ( hovmoller plot ) which using the same data set , but was shocked by the results .
Those scatter data ( spots ) are plotted using plt.scatter , and contour plot are made by griddata interpolation and plt.contourf .
What about laying them out in a three subplot format and then putting something in that middle space that is forced to 6 cm ?
I would like to have a window that is divided in 4 sectors : in the ( 0 , 0 ) a imshow image ( ax1 ); ( 1 , 0 ) a subplot image that uses twinx() image that divides the window ( ax2 ax3 ); ( 1 , 1 ) a regular plot image ( ax4 ); and an iterative section ( 0 , 1 ) of plots that should give " number_of_subplots " plots one above the other ( ax5 ) .
This is how the frame should look like before the iterative subplot creation .
This is how the window looks after the " for " cyle for the subplot creation
Anyways , I guess you could just use the original strings for your ` xticks ` and leave the line that builds the ` x ` list for your plot alone , since it seems to work adequately .
Then , of course , get rid of your other ` xticks ` assignment and change your ` plt.xticks ` call to this : #CODE
I forgot to mention that I want the x axis to be the ` %H : %M ` times , not what I had defined in the xticks array .
Did you get rid of the line where you made your ` xticks ` list ?
Notice in the ` for ` loop in my answer it is loading up a new , empty ` xticks ` list .
Forgot to delete the previously-defined xticks array .
I can't figure out how to use colours while trying to create a scatter plot in matplotlib .
I'm trying to plot multiple scatter plots with different colour points to show the clusters .
I've rotated the axes all I could but still I couldn't see the paraboloid ; it looks like one of the axes ( ` carga_final `) is yielding constant values :
It works fine , the problem is because your x and y axes are of different length .
For example , using the following line ( ` x = 0-100 , y = 0-500 `) which seems to match your axes limits , you get a slightly curved surface in the y direction : #CODE
It seems that I can't have both setting equal axes scales AND setting the size of the plot .
Edit : The graph does not necessarily have to be square , just bigger .. please assume that I don't now the exact ratio of the axes
If you want to change the data limits to make the axes square , add ` datalim ` to your call to ` set_aspect ` : #CODE
If you want the scaling to change so that the limits are different but the axes look square , you can calculate the axis size ratio and set it explicitly : #CODE
I'm a python beginner trying to draw a bunch of points and a line on a plot using the matplotlib.pyplot library .
Firstly , you probably only want to zoom along the first two axes of your image array ( not the RGB axis , or you'll end up with an array of the wrong shape , ` ( nx , ny , 6 )`) .
You can specify which axes to zoom as a tuple : #CODE
In the example below I want to add contour labels to a filled contour .
I * think * ` clabel ` only works with ` contour ` , not ` contourf ` .
From the docs : " Adds labels to line contours in cs , where cs is a ContourSet object returned by contour "
I'm not quite sure what you mean by " rotating the sphere in real-time " - you should be able to do that already by clicking and dragging on the 3D axes .
The colors of the scatter points ( representing your original voltage values ) match the interpolated values in the heat map exactly .
( I will need both zoom and pan functionality though - since matplotlib provides that " out of the box ")
You're almost there , but your logic sends the code to draw a line on a double click without storing where the double click was , so it then requires two single clicks to draw a line .
Also , you needed to draw the canvas in the circle code .
You can alter this by fixing the ` xlim ` and ` ylim ` .
I store the reference to the picked object in the relevant axes object .
Plotting points on a map without basemap shifting scatter graph origin .
Is there way I can shift where the origin of the scatter graph is while keeping the origin of the image the same ?
In order to plot a bunch of points on 3 axes , each point needs to have an x , y and z value .
So if you want to plot 10 points , for example , the 3 lists that you will pass to ` plot_surface ` ( one each for the x , y and z axes ) should have 10 , 10 and 10 values in them .
I am working on spectral analysis of vowel sounds using iPython , numpy , matplotlib , plus WORLD analyser .
Have you looked at the matplotlib animation examples ?
This is not specific to this animation in any way .
However , I notice that double the legend symbols are being added .
As you can see , the legend is getting replicated .
I think Matplotlib plots two points in the legend by default .
There's a lot more details in the answers for : matplotlib Legend Markers Only Once
I'm looking at trying to obtain the Orientation of a plane that's plotted as a best fit line in a 3D scatter diagram using python 3.4.3 and Matplotlib .
Yes I already have the plane @USER that's plotted as a best fit of my scatter points , so I'm simply trying to get the orientation of that plane in degrees as an output .
I am trying to create a pie subplot in a plot using a DF .
It's a bad idea to mix state-machine ` pyplot ` calls and normal axes method calls .
` plt . whatever ` will refer to the last axes created in this case .
You're only calling ` axis ( ' equal ')` on the last axes object .
You can see the colormaps reference page here .
Get a contour ( x , y ) coordinates of a shape in an image with python
I need to get a matrix with the coordinates ( x , y ) of the contour of the following image with python .
I just need an array with the ( x , y ) coordinates of the contour .
I think it is in the contours output of ` cv2.findContours() ` but I don't find the contour that I want
But I just have closed contours and not the open contour which is going from the left to the right of the image .
What do you mean by ' contour ' ?
By contour I mean a line going from left to right and passing through the points where intensity gradient is maximal .
First of all , there is a difference between edge detection and contour detection .
Fundamentally , edge detection results in what you call ( improperly ) " open contour " ( i.e. edge ) and contour detection results in what you call " closed contour " ( i.e. contour ) .
@USER I mean some kind of animation .
Why does my pylab animation slow down with each update ?
But the workaround of setting xlim and ylim manually works !
Using matplotlib , you can create figure , manage axes of this figure ( subplot actually ? ) but I do not understand why and how , at the end you do ` plt.show() ` to see the plot .
Axes , Figure or plt ?
But if I get a Figure or Axes object .
Edit curves lines and axes parameter option not showing in matplotlib
Ah my bad , ` set_xlim ` is actually a member of ` Axes ` .
Pyplot : single legend when plotting on secondary y-axis
The plots are correct , but only the last line with label ` Size ` is shown in the legend .
How can I get all 3 lines in a single legend ?
You need to get the legend ` handles ` and ` labels ` from each ` Axes ` , and then pass lists of all the handles and labels to legends .
That works ( I did the same by changing color to background color ) , but the lines are still pickable by the picker and appear in the legend :( I will edit the question according
An Arrow would appear with data about the invisible line one , but he wanted info about line two .
matplotlib , nested axes position transformation
I want to add a big plotting area ( axes ) , and then , a small plotting area ( axes ) nested inside : #CODE
It looks like you might be trying to relate the scales / extents of the two axes .
If so , you might have a look at inset axes in ` axes_grid1 ` : #URL On the other hand , if you just need to know " given screen position x , y , what's the data coordinates position in either / both axes " , then that's overkill .
I wanted to plot a scatter of x against y over an image and have labels appear when mouse over .
matplotlib set legend title position ignored when saving figure
When adding a title to a legend that is centre aligned , the title is offset .
What is the easiest way to not show the intermediate-level artist in the bbox of the top-level artist while retaining the low-level artist visible throughout the whole area ?
How to update 3D arrow animation in matplotlib
I am trying to reproduce the left plot of this animation in python using matplotlib .
Importantly , can I generate them in such a way so that I can easily modify for each frame of the animation ?
And here is the nice animation that I was able to generate ( not sure what's going wrong with the colors , it looks fine before I uploaded to SO ) .
And the code to generate the animation : #CODE
I need to draw the density of a truncated variable .
How can I draw the density such that there is no probability mass outside the boundaries ?
In both I remove nodes from the network and attempt to draw it .
Each time you tell it to draw ` G ` , it draws the current version of ` G ` .
How to put the legend on first subplot of seaborn.FacetGrid ?
My problem is that I want to move my legend inside one of the subplots .
You see that the legend here is totally at the right , but I would like to have it inside one of the plots ( for example the left one ) since my original data labels are quite long and the legend occupies too much space .
This is the example for only 1 plot where the legend is inside the plot :
I tried the example of an answer where they have the legend in one of the subplots : #CODE
As you see the legend is in the third subplot and neither the colors nor labels match .
Finally I tried to create a subplot with a column wrap of 2 ( ` col_wrap=2 `) with the idea of having the legend in the right-bottom square : #CODE
but this also results in the legend being at the right :
Question : How can I get the legend inside the first subplot ?
Or how can I move the legend to anywhere in the grid ?
You can set the legend on the specific axes you want , by using ` grid.axes [ i ] [ j ] .legend() `
I've used this to list some variables next to my plot ( like ' A=1 ' , ' B=2 ') , in such a way that the ' = ' are aligned vertically , so it's a bit like an extra legend ( but the handles are also text ) .
But I can't figure out how to set the properties of the frame like you can for a legend .
How can I draw shapes in matplotlib using point / inch dimensions ?
I've gone through the patch / transform documentation so I understand how to work in pixel , data , axes or figure coordinates but I cannot figure out how to dimension a rectangle in points / inches .
I currently position the black and red boxes in ( data , axes ) coordinates .
You could do the transform at the end .
I suppose I could read the figure size and calculate what portion of the axes would represent a certain number of inches but that seems very fragile .
There is no built in way to specify patch dimensions in points , so you have to manually calculate a ratio of axes or data coordinates to inches / points .
This ratio will of course vary depending on figure / axes size .
This is accomplished by running a ( 1 , 1 ) point through the axes transform and seeing where it ends up in pixel coordinates .
I tried to run an animation within matplotlib ( Python ) animate and I got the error #CODE
Ellipse is an object of type " patches " ...
The program runs and produces the first subplot - it should move the ellipse along the read " line " .. however produced the above error message .
Use the a Counter from collections library .
Once you have done this you can relabel your independent ( ` x `) vector using the ` xticks ` command .
Text File .
The marker size is specified in ` pt^2 ` , with ` 1pt=1 / 72inch ` , the resolution in Pixel Per Inches , and the figure size in pixels ( also the proportion that main subplot represent out of the main figure size : 0.8 ) .
PS : both my main figure and my subplot are squares
If you specify the figure size in inches and matplotlib uses a resolution of 72 points per inch ( ` ppi `) , then for a given number of markers the width of each marker should be ` size_in_inches * points_per_inch / number_of_markers ` points ( assuming for now that the subplot uses the entire figure ) ?
Without the plt functions to draw the GUI , I can receive varying values from the USART .
But you need an equidistant grid , since [ ` imshow `] ( #URL ) is designed for plotting images , and interprets your data as pixels ( and might flip the coordinate axes ) .
Notice that the output ( i.e. , the plot ) labels the x and y axes with Avant Garde ( as specificied in matplotlibrc ) , but the numbers are not Avatn Garde type .
If you mean that some parts of the ROC just coincide with the axes limits , you may simply write this before ` plt.show() ` : #CODE
I've followed the indications found in strange matplotlib zorder behavior with legend and errorbar but it doesn't work .
If you try this you will see that the legend is still underneath the curve , despite the ` zorder ` ing .
To me it seems that legend and curve are in the right order , but the legend rectangle does not have an opaque background .
I tried this with ` matplotlib 1.4.3 ` and the legend is opaque .
Following on from @USER ' s comment , I agree you need to add an opaque background to the legend .
Alternatively make sure the ` fill ` of the legend frame is set to ` True ` : #CODE
I'm using Ubuntu and Sublime Text .
It has nothing to do with ` imshow ` , just call ` xticks ` on your ` plt ` object #CODE
The plot you are looking for is actually a scatter plot , as you have very little data points as compared to the whole image .
In fact , your included example looks like a scatter plot with pixel-wide markers .
I suppose it does not necessarily have to be ` imshow ` but could also be ` hist2d ` or ` contourf ` plot .
you have x , y and color in scatter , so you have 3 values to work with , exactly in the same way as here .
plots beautifully , but profiling suggests it's around 5 times slower than my method , i'm assuming it's because you have to iterate over each trace , so you're plotting hundreds of smaller collections rather than one large one .
I am making a scatter plot by plotting every point one after another in a loop : #CODE
Sorry , so m is just because I plot every scatter point on a map .
The whole point of scatter is to feed it a whole bunch of points and plot them in one go
Now I would like to create a 2x2 subplot , with 4 different heatmaps , and all having the same heatbar .
The divider is just a method in ` matplotlib ` to help split up axes ( for example , to add a colorbar ) .
How to draw 3 million circles in python
Question : why would you want to draw 3 million circles anyway ?
Instead of invoking the " Circle " patch , can you just draw a scatterplot ?
Note that you can provide a list of sizes to the " s " argument , so as far as I can see there's nothing in the " Circle " patch that you can't get from a scatterplot .
Have you tried the pandas scatter plot ?
Ahhh ... another tricky thing with the scatterplot seems to be the inability to draw circles with an absolute diameter .
Instead , I suggest to reduce the number of circles to draw to some sensible value , e.g. 50 or 100 .
Pandas : Creating a matplotlib legend from a dataframe
I'm attempting to use a dataframe to create a scatter plot .
For whatever reason , this adds 1 item to the legend and the label for that item is the entire ' name ' column repeated 2x .
How can I get the legend to display each item separately in the name column and only show that column once ?
` plt.scatter ` gets only one legend label per call .
You can read more about selecting colormaps in the official documentation .
In contrast , ` plt.savefig ` renders the whole figure canvas ( including the margins , axes , other plot elements etc . ) , and scales this according to ( 1 ) the size of the figure in inches and ( 2 ) the ` dpi= ` keyword argument .
Although you could achieve a high enough resolution just by setting the DPI to be much greater than you need , it would be much more difficult to render your array at actual size using this method , since you would need to fiddle around with the figure size and / or DPI , as well as the position and size of the axes etc .
How can I draw a multi colored bar plot in matplotlib where each bar has a unique color combination ?
Can I now draw the bar plot in a somewhat easy way such that the bar for f ( 0.0 , 5.0 ) would be half light-red and half light-blue ( such that the split is vertical ) ?
I would also want to have a legend on the plot which shows in one line A , 0.0 : [ light-red box ] , 10.0 [ dark-red box ] and analogous for B .
Alternatively , you can control the edges of your subplot area with ` subplots_adjust ` , a method of the ` plt.figure ` instance , which you can access with ` ax.figure.subplots_adjust() ` : #CODE
` annotate ` offers much more power and flexibility in terms of the style and placement than ` text ` , which comes at the price of greater complexity ( I always end up having to check the docs in order to remember how to use it ... )
Now I want to plot a scatter plot of this model using Matplotlib .
I am doing this to have thinner axes and to make my data stick out by having everything else a little grey-ish .
Matplotlib Animation in Eclipse
The code where I attempt to create the animation is this : #CODE
I am new to matplotlib and perhaps I am not getting the meaning of the parameters in the boxplot function right .
However , when I plot the boxplot with #CODE
Mathplotlib contour error : Input z must be a 2D array
Also note that you either have to set an appropriate ` xlim ` and ` ylim ` to capture the entire data series , or update them every step ( like I did in this example ): #CODE
I'm trying to create a basic scatter plot based on a Pandas dataframe .
But when I call the scatter routine I get an error " TypeError : invalid type promotion " .
The problem is that individual ` Text ` objects have a single color .
To write the first character we need to know how far below the axis to draw -- this is accomplished using transformers and the example found here .
In Mathematica , it is possible to replace a grid ( with specific axes ) to a collection of points , where the x , y points are given for each point .
Firstly , a spectrogram is a representation of the spectral content of a signal as a function of time - this is a frequency-domain representation of the time-domain waveform ( e.g. a sine wave , your file " song.wav " or some other arbitrary wave - that is , amplitude as a function of time ) .
To make the axes more intuitive in the plot , use x- and y-axes labels and you can also scale the axes values ( i.e. change the units ) using a method similar to this
I think you need to set the major formatter for the ` xticks ` : #CODE
i have an error ' Figure ' object has no attribute ' get_current_fig_manager ' .
Your code runs without errors for me ( but does not plot any xticks ) .
` lines , the code still runs , and I get xticks labelled as ` ( 2007 , winter ) , ( 2007 , summer )` etc .
You just need to make a ` twinx ` axes to plot ` list 4 ` on a separate y axis .
And what if I wanted to move the legend under the x-axis label that I call ` events ` ?
Just gonna edit that in . in short : add ` loc =( 0 , - 0.3 ) , ncol=5 ` to the legend call .
I've also modified so all 5 lines appear in the same legend
But I don't need them to appear on the same legend : two legends are ok , as they need be differentiated .
` ax1.set_ylabel ( ' Left hand label , top subplot ')` , ` ax2.set_ylabel ( ' Right hand label , top subplot ')` , ` ax3.set_ylabel ( ' Left hand label , bottom subplot ')`
Animation using matplotlib with subplots and ArtistAnimation
I have two animations both somehow coupled and want to show each of them in a different subplot .
the first animation in the first subplot works fine - however the second ( coupled to the first ) animation in the second subplot just influences the first animation ...
So how do I decouple the subplots in a way that the second subplot doew NOT influence the first one :
The animation on matplotlib is a little rough around the edges and certainly isn't very intuitive .
Matplotlib : subtitle in the wrong position and legend not visible
In subplot 1 I want list 1 , 2 , 3 and 4 ; in subplot 2 I want list 4 and 5 .
The subtitle is not above the first subplot but above the second
I cannot see / read the legend , which I want to be centered , but below the ` x labels ` of subplot 2
Possibly , I want to get rid of the ` y-axis ` ticks in the second subplot
I would like the chart title , Some trends , not to be " glued " to the first subplot
I showed you in your last question how to make room for the legend at the bottom .
you only have 9 points because you are cutting out the first by setting ` xlim ` to ` ( 1 , len ( list ) +1 )` , since python indexes from 0 , not 1
Plot the subtitle using ` ax1.set_title ` , not ` plt.title ` ( as that will plot a title on the last active subplot )
I showed you in your last question how to make room for the legend at the bottom .
you only have 9 points because you are cutting out the first by setting xlim to ( 1 , len ( list ) +1 ) , since python indexes from 0 , not 1 .
Your answer #1 : if I call ` ax1.title ( subtitle_string , fontsize= 8) ` , I get ` TypeError : ' Text ' object is not callable ` pointing right to the line where ` ax1.title() ` is .
You can set the legend position with as described here : #URL Try this as suggested by user Joe Kington #CODE
Since you give no x values in your plot , Python plots from 0 to 9 but you limited the axes from 1 to 10 .
I am experimemnting using pyQT to build a GUI and want to be able to have a push button that displays a graph on an axes , and then another button that loads on image on another axes .
Im using subplot .
For instance , I wanted to get this scatter plot with hovering tooltips ( #URL ) functionality in my python application , because they are really useful for visualizations .
You can see the mouseover text box over the link in the legend in the generated PDF file myfig.pdf .
Instead of that , the active element allowing you to display a mousetip text is a form element , primarily a Button .
Note that the documentation says that it is an experimental function and that for complex animations you should use the animation module .
Unless I'm wrong you'll have to break up your calculation in smaller parts and use ` plt.pause ` ( or even better , the animation module ) to update the figures .
Alternatively , you can also use Matplotlib's animation capabilities to update a plot periodically : #CODE
Which makes the folowing Figure :
However when I open it in the folder where is saved , the legend dissapears .
Note : If I discomment the legend line , the result is the same , and the saved imaged looks like this :
I am trying to draw a histogram using ` matplotlib ` .
It seems that with ` share_all=True ` , all axes are updated when changing a single one .
However , in my case , ` a ` is simply an a sorted array of integers and I would like to explicitly specify the number of bins ( not bin edges ) on the x and y axes .
I have a set of given set of points ( x , y , F ( x , y )) and I would like to plot a contour plot with ( x , y ) shown as dots and the contours calculated as level curves of F ( x , y ) .
I made a mistake including the patches outside the function .
So each time when I called the function it added the previous rectangles to the figure basically increasing the size of patches [ ] .
Is there an easy way to draw a zigzag or wavy line in matplotlib ?
I removed ` color=axcolor ` from the ` Button ` call ; and I added a ` plt.show() ` before the event connect , otherwise a figure window didn't appear for me ( neither through ` ipython ` , nor with ` python `) .
Animated rotating markers with scatter
I haven't found anything to animate this with the possibility to update the angle of a scatter marker .
So far the animation is a bit laggy so , could you help me out ?
Probably because I was not using the subplot when writing each half .
Matplotlib scatter plot with ticks at second intervals and tight xlim
I simply want a scatter plot where the x axis are times and with tick marks every n seconds ( say 3 ) .
Simply setting the xlim to the min / max of my data does not work .
Some strange caching issue going on I guess . xlim seems to be respected properly now .
Create animation of an image overlaid with a circle and cross
I would like to create an animation , in which each individual frame making up the animation comprises an image overlaid with a transparent circle and central cross-hairs .
p.s. currently I initialise the plot before starting the animation as well as having a init_func ( I was simply trying both and have left both in ) .
Matplotlib : align axes across different figures
Keeping the same axes margins should do the trick ?
I have played around with colormaps and interpolation but I can't quite seem to get this to work in the way I want .
matplotlib collections update
I would like to use additive blending to improve this , but have not been able to find how to do it in matplotlib with a scatter plot .
Basically , what I would like to have in the end is , in this case , a plot ( probably a scatter plot , although a line would serve just as well right now ) .
1 ) I would like to have a figure of 4 subplots - one subplot for each animal .
The title of each subplot should be the animal .
2 ) In each of the subplots , I would like to plot the numbers ( for example number of cubs born each year ) , i.e. the values of ' first ' , ' second ' and ' third ' for a given row and give it a label , which would show the ' name ' in the legend .
And for each subplot ( each animal ) , I would like to plot the male and the female separately ( e.g. male in blue and female in red ) and in addition , plot also the mean for the animal ( i.e. the average in each column for the given animal ) in black .
So for example , for the first subplot with the title ' dog ' I would like to plot something like ` plt.plot ( np.array ([ 1 , 2 , 3 ]) , x , ' b ' , np.array ([ 1 , 2 , 3 ]) , y , ' r ' , np.array ([ 1 , 2 , 3 ]) , np.mean ( x , y , axis=1 ) , ' k ')` where x would be ( in the first case ) 5 , 6 , 3 and the legend for this blue plot would show ' Ben ' , y would be 2 , 3 , 5 and the legend for the red plot would show ' Lilly ' and the black plot would be 3.5 , 4.5 , 4 and in the legend I would define that it's " mean " ( for each of the subplots ) .
To get an idea what a subplot should look like , this is the product in excel :
` plt.subplots() ` is just a wrapper around creating a new figure and adding subplots ( axes ) to that figure , so that is safe to use in any context AFAIK
Popping off and creating a new line with a call to ` axes.plot() ` will work , but will be slower than just using the existing line artist and calling ` artist.set_data ( x_data , y_data )`
( 2 ) Are you plotting more than one line per axes ?
How to plot Horizontal Bar Chart in Bokeh ( Python )
Bar Graph aka Horizontal Bar Graph ( we currently don't have a chartfor )
Column Graph aka Vertical Bar Graph ( currently Bar )
To access the colorbar's ` Axes ` , you can use ` clb.ax ` .
You can then use ` set_title ` , in the same way you can for any other ` Axes ` instance .
I don't want to remove the spines and replace them with pure arrows because I need their functionalities ...
You could remove all spines and expand the arrows to cover the data range ( found this code here ): #CODE
I don't want to remove the spine as I still need the grid , the ticks and all other functionalities of the spines .
I need to be able to add arrows to the spine while keeping the spines and all their functionalities
add legend for some of the lines
I want to add legend to illustrate different value of a , there are 6 lines in the picture , however the two have the same color have the same value of a.I want to add a legend has only three lines in it , indicating $a=1$ , $a=2$ , $a=3$ for different color .
This adds only three lines to the legend : #CODE
My yticks Overlap in matplotlib
Tha labels of the yticks are the values in y , but when some values are very similar the ylabels overlap .
I change a comma to a decimal point below so the lengths line up between axes .
I am trying to get two TKinter ' pages ' each one with a different plot updated using the matplotlib animation function .
It seems to be poor interaction between the animation callbacks and the Tk details you are using to to the paneling as the problem is that one of the animations is never being called .
The problem was that the animation is kicked off the first time that the figure is drawn .
For what ever reason ( which is going to be some nasty internal detail of either Tk or mpl ) the draw event event for the non-initially visible axes never gets fired ( or is fired before the animation is created ) so the second animation never even gets started .
split the animation functions into a function per figure
creating and holding it's animation object
I struggled getting animation done at all ( having issues with matplotlib backend on a mac ) , but a very basic animation now works using this code from the web : #CODE
what happens if you set the format after you draw the bars ?
Remove top and right axes of all Matplotlib figures
I have Python code similar to the example below to remove the top and right axes of plots created with Matplotlib .
The tick marks are also removed for all plot axes .
To remove the top / right axes and tick marks for all figures , I have to place the following code after each figure : #CODE
Is it possible to customize the axes of all figures at once using Matplotlib ?
I looked at ` rcParams ` but there is not a way to hide the top and right axes or turn off all the tick marks .
Seaborn's ` despine() ` method ( see [ this link ] ( #URL ) turns off top and right axes .
I have to draw all possible values in two charts .
I'm looking to layer two maps ( identical outlines axes ) on the same plot , so I can then use a slider to alter the alpha value of the top map to see the differences in the choropleth between each layer .
You can then set the size and color on that ` Text ` object .
Why can't I specify the xycoords= ' axes fraction ' ?
Because you are trying to use the ` annotate ` api with ` text ` .
However , I want the coordinates to be the axes fraction .
As @USER said in comments , ` xycoords ` is a kwarg for ` annotate ` , and not ` text ` .
To achieve what you want , you can use the ` transform ` kwarg .
To use axes fraction coords , use ` transform = ax.transAxes ` .
The default transform specifies that text is in data coords , alternatively , you can specify text in axis coords ( 0 , 0 is lower-left and 1 , 1 is upper-right ) .
The example below places text in the center of the axes :
Bar plot counts for given period by minute interval
I would say that those red lines are inverted . they go to the negative of the axes , not positive .
The only thing I changed was adding these two lines to annotate different areas of the plot : #CODE
I have no clue and I need to annotate the plot ...
The error is saying that your resultant image is > 32k pixels in one or both axes .
If you were only just below that size before , perhaps your annotation is being placed outside the axes and pushing the size over this limit ?
UnicodeDecodeError in IPython Notebook because of negative numbers in Matplotlib legend
for " -5 " in the legend , which causes a UnicodeDecodeError in JSON via IPython / Jupyter client
Internally mpl converts dates -> floats ( which it knows how to plot ) and converts back to date-time for labeling the axes .
Matplotlib Tick lines and labels of different color
after making your ` Axes ` and setting the appropriate tick locations , you can access the ticks with ` ax.get_xticklines() ` and ` ax.get_yticklines() ` .
If you iterate over all the ` xticks ` or ` yticks ` , you can change their colours using ` set_color() `
For example if you have ` x =[ 1 1 3 2 5 5 5 2 ]` , then hist ( x ) will give a bar graph with height 2 at position 1 , height 2 at position 2 , height 1 at postion 3 , height 0 at position 4 and height 3 at position 5 .
How to change the text of the legend of a choropleth map in Python ?
But how can I change the text of the legend to the words like the map below , rather than numbers ?
I suspect you could find something useful in [ matplotlib legend guide ] ( #URL ) , but I don't have a complete answer .
Getting this flexibility out to all backends is one of the main goals for 2.1 ( next summer ? )
To have a unique set of axes per lineplot in your figure , you'll need to add subplots .
See subplot example for more details .
I'm comparing the pcolormesh method with a scatter plot using this code : #CODE
Edited : as per Tom's suggestion , if I try contourf I get the following image ( zoomed approx to same as first image ) .
It still doesn't deal with the edges very well because it cannot draw a surface between a finite value and a nan , so there are a lot of missing points .
I would suggest averaging the x and y coordinates of each quadrilateral of points in your ` x ` and ` y ` , and then using those coordinates for the ` scatter ` , to centre your points .
However , my scatter points are already in the correct location .
contourf uses cell centres .
I'm trying to draw an ellipse on my plot in such a way to represent a cluster .
How do I draw an ellipse based on the values that I use to plot these graphs ?
File " C :\ Python27\lib\ site-packages \matplotlib\ pyplot.py " , line 2896 , in hist
File " C :\ Python27\lib\ site-packages \matplotlib\ axes_axes.py " , line 5603 , in hist
File " C :\ Python27\lib\ site-packages \matplotlib\ pyplot.py " , line 2896 , in hist
File " C :\ Python27\lib\ site-packages \matplotlib\axes\ _axes.py " , line 5578 , in hist
Using Matplotlib I'd like to remove the grid lines inside the plot , while keeping the frame ( i.e. the axes lines ) .
You need to change the colour of the ` spines ` .
You can see this example and this example for more about using ` spines ` .
However , if you have removed the grey background and the grid lines , and added the spines , this is not really in the ` ggplot ` style any more ; is that really the style you want to use ?
I believe that's a problem with how you make your ` hist ` .
Second problem is ( at least this is my guess on how to proceed ) calculating a height ratio that will make the width of the upper subplot equal the combined width of the lower subplots ( plus any wspace ) .
How to change the size of individual legend label size ?
` plt.legend ` returns a ` Legend ` object with methods that allow you to modify the appearance of the legend .
So first we'll save the ` Legend ` object : #CODE
This will return a list of ` Text ` objects whose methods control the size , color , font , etc . of the legend text .
We only want the second ` Text ` object : #CODE
The ` Text ` object has a method called ` Text.set_fontsize ` .
It looks like both of the legend entries have been made bigger .
The short of it is that the size , color , etc . of each of the legend entries are managed by an instance of a ` FontProperties ` class .
And we can now try setting this legend entry's size : #CODE
Each subplot may be long , and I want to put the subplots
I just wanted to draw 10 sine graphs arranged horizontally
then may it be possible to draw a single very long figure ( not subplots ) with horizontal scroll in a pdf ?
But each one is a little small ( is shrunk to be fitted in a one page . ) Is it possible to make each subplot larger and make a vertical scroll bar ?
How can I extract data points contained in matplotlib Path vertices ?
Curly braces can be escaped by doubling , but format removes a pair after substituting g ( and frac expects its arguments in curly braces ) so you need three pairs for the denominator #CODE
Correct way to plot vector field on contour with matplotlib
I'm implementing steepest descent and I want to plot the path to the solution on a contour plot .
For this purpose , I save the necessary data within the for loop , then I try to plot the path ( a bunch of orthogonal vectors ) on the contour plot but I get things messed up ( Vectors heads should get to others vector tails ):
Then I inspect a y co-ordinate of each centre of the circle I plot and put append its radius to the list of wanted circles IF the y co-ordinate is the same as one of the lines of interest .
Note : I'm using the plot.subplots() method because in actuality I will be creating multiple axes for my own purposes .
Module ' pylab ' has no attribute ' scatter '
Hmm , that seems to eliminate the scatter error , but it causes a new error on the line ` k , b = plt.polyfit ( day , points , 1 )` .
Python my scatter plot not working
I am plotting scatter plot ( using ` matplotlib `) of float ` numpy ` arrays .
I'm in the process of making a scatter plot from thousands of points in python using pyplot .
Is there some kind of functionality to make pyplot plot points up until it reaches some critical density and then make it a contour plot ?
My question is similar to this one , where the example plot has contour lines , in which the color represents the density of the plotted points .
If the points are loose , then the contour lines will not be too visible , but the points themselves will convey the information .
However if the points are dense , as in the image above , then they will create a nice background over which the ` contour ` should be visible .
So I suggest first using a ` scatter ` with filled markers , and a ` contour ` on top of that .
You just have to define a density which you can ` contour ` plot .
And if this doesn't work for you , * then * try doing a switch , probably to a ` contourf ` .
Then , you can plot it with ` contour ` with #CODE
matplotlib , including more than one defined variable on legend label
Im trying to include two or more variables , previously defined in the code , to the label for the legend or when plotting text .
For example , I have a bunch of functions plotted and I want the equations for each on the legend .
and on the legend I would see the real value of A on the equation .
BaseMap : draw all districts for each province using shapefiles
But I am new to BaseMap and what I would like to do is to draw one map per province ( administrative level 1 ) of all districts in that province .
I found a similar question ( matplotlib circle , animation , how to remove old circle in animation ) , but does not seem to apply for my case .
In my other subplot ( ax1 ) , I have a scatter plot that will have to be updated each time .
And how about your other suggestion : deleting old lines ( or scatter plots , etc ) ?
Adjusting Axis in Matplotlib
Or , to set it for all figures / axes : #CODE
I have a map in matplotlib basemap , on which I draw provinces of a country using shapefiles .
matplotlib / pyplot : print only ticks once in scatter plot ?
I am looking for a way to clean-up the ticks in my pyplot scatter plot .
To create a scatter plot from a Pandas dataset column with strings as elements , I followed the example in [ 2 ] - and got me a nice scatter plot :
Probably it is something easy , but how do I reduce the ticks for my subplot to unique once ( should they not already be uniqueified as returned by numpy.unique ? ) ?
Then , just add a new axes to the right , and plot the ` colorbar ` on that ` axes ` there ( using the ` cax ` kwarg ) .
Finally , its easy to only add the ` ylabel ` to the left hand plot ( only put it on ` ax1 `) .
I've used ` subplots_adjust ` to set the margins in sensible places , and make room on the right for the colorbar .
Prevent scientific notation in seaborn boxplot
I'm using pandas version 0.17.0 , matplotlib version 1.4.3 and seaborn version 0.6.0 to create a boxplot .
Seaborn Boxplot documentation says , I can pass an Axes object to draw the plot onto .
you need to set the axes limits .
Double check your axis limits - this line only works with normal plot objects , not patches , so if you remove this line you should see the rectangle ( though you also forgot to add the circle in your pasted code ) , as long you you update the axis limits ( I used ` plt.axis ([ -1 , 120 , -1 , 120 ])` below to achieve this ) .
How can I do the best fitting , taking into account my hist and bins arrays ?
For this you'd first define a fitting model ` myexp=lambda x , l , A : A* np.exp ( -l*x )` , then use it as ` popt , pcov= spy.optimize.curve_fit ( myexp , bins [ 1 :] +bins [: -1 ]) / 2 , hist )` .
Don't ` plt.plot ( stats.expon.pdf ( np.arange ( len ( hist )) , popt ) , ' - ')` , rather ` plt.plot (( x [ 1 :] +x [: -1 ]) / 2 , myexp (( x [ 1 :] +x [: -1 ]) / 2 , *popt ) , ' - ')` ( or with any ` x ` array you prefer ) .
Matplotlib : Time X Axis on 24h but starting at a specific time
I would like to plot something with matplotlib , with datas on Y Axis and time on X Axis .
The deltatime ( on X Axis ) is 24 hours , but I would like to start at a specific time ( eg . 5h31 ) and end at at this specific time +24h ( eg . 5h30 , one day later ) .
The Y Axis AND the X Axis are from a CSV file , the first row , ' time ' column starts at 5h31 and ends at 5h30 , in this order .
I'm plotting an animation of circles .
The ` pause ` docstring above says that it can only be used for crude anmiations , you may have to resort to the animation module if you want something more sophisticated .
I am now attempting to draw a 3d bar chart with this information in matplotlib , but I am having issues being able to unravel the pivot data , and see the count as something that could be seen as values of the z axis .
To clarify what you'd like to draw :
formatting math text in annotate of matplotlib
In order to get circles such that their coloring is radially symmetric , with center being the darkest , and exponential decay in color as one moves farther away from the center along the radius , I used ` imshow ` with ` clip_path ` s using ` Circle ` patches .
I would prefer if each ` SourceID ` and ` Type ` is a subplot on single plot.I have tried a lot of options using groupby , but can't seem to get it work .
The warnings are nothing to worry about - they occur whenever there is only a single point to plot , and therefore when the axes are automatically scaled the lower and upper limits are set to the same value .
You could make the warnings go away by either setting the x-axis limits at the time of plotting ( e.g. by passing the ` xlim= ` keyword argument to ` rows.plot ( .. )`) , or by preventing the axes from being autoscaled by passing ` scalex=False , scaley=False ` to ` rows.plot() ` .
One simple option would be to set ` sharey=False ` and omit the ` set_ylim ` line at the end to allow each set of axes to scale its y-axes independently .
How could I get price , length ,.. against each bar instead of xlabel .
either just draw the ` lambda ` -parameter as a separate line on top of the grid
Matplotlib : How to mirror an image with respect to both axes ?
I think you will have to mirror the axes too .
Mirroring axes would be quite easy I think .
Don't mirror the axes it's a differente chart I think
Yep , what I would really like to do is transform my image by mirroring the axes .
and have you tried reversing the axes lists ?
How to draw contourf plot for a particular shape in Python-Matplotlib-Basemap
Now I can read and plot shapefile in Basemap , but I can't find a way to draw some elements beyond it ?
By adding the dictonary keys to xticks and the values to bar and by measuring the length of D I was able to get each word for each x axis bar .
For the x values we join starts and stops together with ` np.append ` , sort them to get them in chronological order with ` np.sort ` and repeat each value twice with ` np.repeat ` .
One legend in python subplots
I have this code and I would like to add one single legend from both pictures in the right center of the image for the two pictures .
I mean is ok how both pictures are right now , the legend would be on the right and is the same for both graphs and with the 8 lines in it .
I changed your code slightly as I personally prefer to work explicitly with figures and axes .
For the legend handlers you just missed to add a comma .
Now you have to play with sizes and positions of axes and text to make it work for you .
Found a great method to automatically increase the figure size to fully include the legend placed outside the plot [ in this thread ] ( #URL ) .
rescale your axes to larger bounds ,
why does matplotlib contour plot fail when plotting 2d arrays
I am trying to plot some results using a contourf plot .
I thought it was as simple as passing those arrays to the contourf function .
As shown I can get an imshow plot of the Z data but the subsequent contourf plot fails #CODE
matplotlib : why inconsistent results between contour and contourf
Why would matplotlib's ` contour ` and ` contourf ` produce inconsistent results ?
When I plot the data with filled contours , ` contourf ` , I see the first picture below .
When I change ` contourf ` to ` contour ` , making no other changes , I see the second picture below .
The ` contour ` result with the blue is what is actually in the data , and therefore what I expect to see .
The ` contourf ` result is not what I expect .
However , I was wondering if there was a direct way internal to matplotlib that would do the coordinate transform for me directly .
I've collected tweets from twitter now I'm trying to draw the distribution of tweets geographically .
Finally , I use matplotlib to draw the following figure : #CODE
I'd like a way to draw smooth curve from the data .
One example for that in 2D is when we have a histogram of image , we can draw smooth curve over the distribution as follows :
So my question is that is there a way to draw a smooth surface from the discrete data ?
Or my approach to draw the height map of tweets count is wrong ?
Plot date and time on a matplotlib scatter graph using lists
Is it possible to create a python matplotlib scatter graph , where the x axis is the date and the y axis is time .
This uses ` plot_date ` instead of ` scatter ` .
The only thing that looks a bit suspicious is ` fig [: canvas ] [: draw ]` ( you are referencing the ` draw ` method of ` fig [: canvas ]` but to call it you would need ` fig [: canvas ] [: draw ] ( )`) .
Having said that , at least for me it doesn't seem necessary to explicitly call a draw on each iteration .
In the following example , I've plotted the exact same values through ` scatter ` , and they appear where I would expect them to - but the error bars are miles off .
This can be done with the ` draw ` function .
In interactive mode every pyplot command calls ` draw ` as well .
the condition now becomes re.search ( reg_exp , f ) , means search for the pattern reg_exp in f , and if there is a match then append filename to the list of files
matplotlib Legend sign and text are not aligned
I am facing this issue while putting subscript in the legend of my graph .
If I don't use subscript in the legend text , it all looks fine and the handle and text are aligned , but with subscript , the font of the text changes and also , it gets stuck on the top of the legend box .
This is how I am setting the legend #CODE
and the legend is #CODE
I have also seen multiple questions about alignment of text and legend on stackoverflow but the solutions suggested did not work for me .
I tried getting text from the legend and setting alignment to ' center ' to no avail .
So , I saved my image ( showing legend text not aligned ) and reopened .
AMAZINGLY , it does not show the legend text sticking to the roof :/ .
Now my problem is why the subscripted portion appear in a different font than the rest of the legend ?
by plot ([ 1 , 2 , 3 ] , label= " $test_r$ ") for font size 18 , ' r ' looks really small compared to the rest of the legend text , which I don't want .
edit : sorry , I now see that you wanted to add a legend , not axis labels ...
As you mentioned already , I was looking for the way to add a legend .
Main idea : add ' fake ' objects , which can be not shown in the plot , then use it to form a handles list for legend method .
It is overriden in ` legend ` method call , that's why it changes nothing .
The legend on the right of figure can't show entirely even I enlarge the L / h ?
you need to create some space on the right hand side for the two-column legend .
As well as setting the ` hspace ` and ` wspace ` , ` subplots_adjust ` can also change the subplot locations and margins , using the kwargs ` left ` , ` right ` , ` bottom ` and ` top ` .
Creating a subplot instead of separate plots
I have managed to create the following subplot which needs to have the bar chart on the left , and the matrix / color mesh on the right : #CODE
I need the bar chart on ` axes [ 0 ]` and the matrix / color mesh on ` axes [ 1 ]`
Labels missing on subplot
The exact way you draw it is a matter of taste .
I have data that I would like to plot with contourf / tricontourf using a nonlinear colormap .
Unfortunately , adjusting the levels to my case does not work at all ( see figure , subplot 3 ) .
It seems that functions like ` pcolor ` and ` contourf ` rescale the input data between 0 and 1 before passing them to the colormap .
The plot shows what I need , but it is slow and I cannot use the controls ( zoom , pan ) efficiently , e.g. when I zoom in and out , the axes are not updated any more .
I'm working on an open source project that involves mouse interaction ( via mpl_connect ) with a scatter plot using pyplot in matplotlib .
When you plot you can use the kwargs ` xlim ` and ` ylim ` to set the axis limits .
I think you want to specify the colorbar axes for the heatmap plot .
I want to draw a pictrue with matplotlib .
I know I can get histogram values with ` np.histogram ` , but I want to use pandas hist method .
However , if you really want to use the pandas ` hist ` function , you can get this information , from the ` patches ` that are added to the ` hist ` ` AxesSubplot ` when you call ` serie.hist ` .
Here's a function to loop through the patches , and return the bin edges and histogram counts : #CODE
matplotlib : change line color of error bar component in boxplot
These are the " whiskers " and are returned by ` boxplot ` .
When I pan the plot at some point during the execution and then click " Reset original view " in the interactive matplotlib window , I am taken back to the plot state from the moment when I started zooming / panning it .
Transposing fixes that , because it matches the axes , that need to be put together .
I have a graph that plots a series circles , however , because of the axes they aren't coming out as circles , but as ovals , as you can see in the image below .
I am trying to draw a polar plot using following script .
And , as for your question in the comment below , you can change the tick label offset using the ` frac ` argument to ` thetagrids ` .
` frac ` is the fraction of the polar axes radius at which to place the label ( 1 is the edge ) .
e.g. , 1.05 is outside the axes and 0.95 is inside the axes .
So , to increase the padding between the axes edge and the label , just make ` frac 1 ` , e.g. #CODE
The very same code that will draw a histogram of df will not work for df0 .
Matplotlib : How to draw bars within table cells ?
Excel has a feature to draw data bars inside table cells .
I think you will either have to draw things manually , or tweak a bar plot a little bit .
If I run the first subplot alone ( just half of my data frame ) , it works fine .
The second subplot shows up , but It happens a mismatch between the bars and values .
IPython Notebook 101 , how to draw scatter charts
How to draw scatter charts in IPython Notebook ?
I'm not a Python programmer but I want to draw scatter charts by following some exiting examples , but I didn't find any .
As the result , my IPython Notebook scatter charts drawing is failing .
I.e. , I didn't see any scatter charts drawn .
#URL why he can draw that scatter charts inline while I can't ?
Grid lines are ** not supposed ** to be aligned on different axes .
I'm not sure why this behavior would just start with matplotlib v1.5 , as aligning the grid lines for different axes has never been a feature ( to my knowledge ) .
Tick marks are always really weird / difficult to mess-with .
@USER I'm just guessing , but probably because the limits ended up being adjusted at draw time ( e.g . ) while the ticks were set at a different time ...
from which I can't access it from Sublime Text 3 .
Your ` X ` is ordered randomly , so it's not a good set of x values to use to draw one continuous line , because it has to double back on itself .
After I run it in Sublime Text 3 ( with crl+b ) an empty window is shown plus the following error : #CODE
or specifically set the margins , e.g. using ` subplots_adjust() ` :
Try to remove rotation from xticks .
Adding all the patches to the plot at once with a ` PatchCollection ` produces around a 2-3x speedup with n = 10 , 000 , I'm not sure how well it will scale to larger numbers though : #CODE
However , when I draw this plot with the same code , ( - ) sign in the y tick labels doesn't have ( - ) .
Why does this scatter plot only plot one point ?
I am expecting a scatter plot similar to the example in the tutorial with a lot of date points .
Why is my scatter plot only seeing the single point for all categories and why is it only seeing 4 total lines , instead of all of my ` X_train_small_pca ` , which is the expected size ?
@USER having used ` scatter ` a few times I don't _think_ it works like that , but I'm not sure .
At any rate the ` print ` statement output shows that the problem is not with ` scatter ` , it lies in the iteration somehow .
I've generated random time series data having 288*30 observations and tried to draw it in scatter plot .
Note that if you have set the axis limits using ` set_xlim ` or ` xlim ` or equivalent , this will save only the portion of the figure that is visible within the given limits .
To do so , you can pass the ` figsize =( width , height )` keyword argument when creating the figure , or use the ` set_size_inches ( width , height )` method on an existing ` Figure ` object .
I want to create a horizontal bar chart with a legend .
But in the legend I have only one element .
But I want a legend with one element for each person with a rectangle in the rigth color .
Pass the handles to your bars and the legend labels separately to ` plt.legend ` : #CODE
Also , adding white patches just feels like something you would do in PowerPoint .
i'm trying to make a 2x1 subplot figure in seaborn using : #CODE
i want to get the prettyness of seaborn `` factorplot `` but simply inside a subplot
The following is a bit of a hack , if you really want to , for whatever reason , tell ` factorplot ` which ` Axes ` to perform its plotting on .
You can tell ` factorplot ` to plot on a given ` Axes ` using the ` ax ` kwarg , which gets passed on down to ` matplotlib ` , so the linked answer does sort of answer your query .
It does not make sense to try to draw a ` factorplot ` onto an existing subplot .
Within a single subplot , there is nothing ` factorplot ` does that ` pointplot ` doesn't do , because ` factorplot ` is literally just calling ` pointplot ` on each of the axes .
This is to print the following scatter chart time / usd and then run a best fitting 3rd degree polynomial through #CODE
Add either a density or box plot to the margins of a plot in Matplotlib
I have a scatter plot in linear scale .
I want to add a box plot to the margins ( left and bottom ) of my scatter plot like this figure from Marginal Histograms and Box Charts ?
You can achieve this by creating additional ` axes ` for the bar plots .
So now you have to either pass three axes or generate the others inside the function .
For the legend you can pass the argument ` frameon = True / False ` .
The problem is that the background is gray , and there are odd white lines showing up for some reason when I add my extra axes to the right .
You can do this using the ` edgecolors ` argument to scatter .
You need to make a list of colours to feed to ` scatter ` .
Pyplot shows different colors in legend but plots in same color
Maybe something is wrong with how I'm using the plot / scatter function in a loop ?
Especially note that the legend shows the correct colors for my fronts , but all of the output is one color .
First , I'm surprised that on a normal ` log ` axis the line segment marked with the red cross is plotted : the point directly above that segment ( at ` y= 0.05 `) equals one , the point below at ` y=0 ` is zero and can't be plotted on a ` log ` axis , then why does matplotlib draw this segment ?
I have edited some of the content while writing the program to reflect the application i eventually want the program for , a calculator / converter for various engineering bits and pieces , such as ' reflection coefficient / VSWR ratio / Return loss conversion ' .
Matplotlib : Force Line2D to be redrawn from within Subclass of Text
I have implemented a LineText class in matplotlib by subclassing Text .
The ` .draw ` method calls ` ._blank_out_covered_segment ` which calls the ` draw ` method of the line object .
You can use twinx to have two different y-scales in the same axes .
Use matplotlib to draw 2-level xtick labels like excel
In excel , I can draw a " line with marker " graph with 2 level of xticklabels : categrory1 and category2 .
Is there any good method to draw a similar plot using python matplotlib ?
How do I change matplotlib's subplot projection of an existing axis ?
I'm trying to construct a simple function that takes a subplot instance ( ` matplotlib.axes._subplots.AxesSubplot `) and transforms its projection to another projection , for example , to one of the ` cartopy.crs.CRS ` projections .
but I was wondering if there is a proper ` matplotlib ` method to change a subplot axis projection after it was defined .
I don't get how to create a heatmap ( or contour plot ) when I have x , y , intensity .
Are you using it as the ` s ` argument to scatter ?
The ` markersize ` of [ scatter ] ( #URL ) is not the diameter in data units but the area of the markers in points**2 .
for example , I have drawn a graph with a few nodes using some software for example , yEd , open office draw , etc .
If you have access to the data from which the graphs are made you might want to draw those directly and not using something like open office .
And my animation function looks like this : #CODE
I found a similar question on SO for plotting a boxplot here , so I tried modifying it for line plot .
Matplotlib : enlarge , populate , and center legend in stacked up pie charts
I want the legend to be aligned to the central pie , but to be placed to its left .
As of now , I get a very small legend which is empty , unreadable , and in the wrong location .
How about using patches as follows : #CODE
You could look at the ` annotate ` function .
Matplotlib : Add a second legend to fake it as the plot title
How can I insert a second legend in the top left corner , outside the plot area , where to put my title ?
Yeah , but that is in axes coord .
use a transform ( ` transform= fig.transFigure `) .
The original reasoning is that I wanted something like the legend , which is shaded .
You can do this with ` xticks ` .
Plot pandas dataframe with subplots ( subplots=True ): Place legend and use tight layout
Subclassing matplotlib Text : manipulate properties of child artist
For this purpose I have made a subclass of the ` Text ` class which as a ` Line2D ` object as an attribute .
After changing the colour of the line , I call the lines ` draw ` .
I get the handle for the line object from ` plt.plot ` so it has already been added to the axes .
Also , I don't want to add the text itself to the axes in its own ` __init__ ` as this doesn't seem to be how artists behave in matplotlib ...
You can use the explicitly defined ` width ` parameter of the ` bar ` plot to manually draw a line which suits your needs : #CODE
I have read the question Matplotlib : Preventing overlaying datapoints and the question Adding a scatter of points to a boxplot using matplotlib however I would like to generate plots like these generated with R :
As pointed in the Edit of this question Matplotlib : avoiding overlapping datapoints in a scatter / dot / beeswarm plot and I did not read at the beginning , there is a python package for that kind of plots :
Is it possible to plot a figure generated by ` aplpy.FITSFigure ` in one of the axes instances returned by ` subplots ` ?
And , conversely , the ` xticks ` and ` xlabel ` and ` ylabel ` and ` savefig ` are all skew to the conversation they aren't part of what produces the error .
How can I make my axes visible with matplotlib ?
I am using matplotlib.pyplot to plot some graphs and for some reasons I can't see the lines of the axes , although I can see the xticks and yticks .
Here is an example figure that I get ( without the axes ):
pyplot hist , plotting binned data
File " / usr / lib / pymodules / python2.7 / matplotlib / axes.py " , line 8326 , in hist
I have a data frame with ( date , col1 , col2 , year , month ) and I would like to plot ( col1 , col2 ) on scatter with different markers to each year and different color for each month .
Below code plot the scatter plot with differnt markers for each year and different color for each month .
Alternatively , can someone show me a way to get the same effect ( placing pie charts on an axes at specific data co-ordinates ) .
#URL This allows me to use the pyplot pie chart in its own axes .
ax.draw_artist ( ax.patch ) File " / Library / Frameworks / Python.framework / Versions / 3.4 / lib / python3.4 / site-packages / matplotlib / axes / _base.py " ,
raise AttributeError ( msg ) AttributeError : draw_artist can only be used after an initial draw which caches the render
As you figured out , it is necessary to draw the canvas at least once in order to cache the renderer before you can call ` draw_artist ` :
This method can only be used after an initial draw which caches the renderer .
It is used to efficiently update Axes data ( axis ticks , labels , etc are not updated )
How to draw a point on the graph
@USER what do want to do , draw a point or to point out ?
You can use ` annotate ` method of the plot object to ' point out ' where the start is .
I'm new to this and I'm trying to represent a structured array , npy file as a scatter plot .
A scatter plot always between two vectors .
So a scatter plot cannot be made with this file ?
Are you sure that you understood the concept of a scatter plot ?
Well , a scatter plot requires x and y data .
A ( x , y ) pair creates a point , and all pairs together constitute the scatter plot .
If you only have data for one axis , you cannot do a scatter plot .
Here is an example of a scatter plot : #URL
I have no clue what they are , but in order to create a scatter plot , you need to specify two components , e.g. : #CODE
Assuming that `' m200 '` should be mapped to the width of the scatter points , you could use : #CODE
I want to have a figure with panel1 and panel2 as its constituent axes .
I have tried indexing the axes and adding them as subplots , but I can't figure out how to have a 1x2 figure with them as panels without having to extract the data from each data frame to plot normally .
ax : matplotlib axes object , default None
Be able to write the year underneath the month in order to be more economic with space , or add ticks on the x axis so that it is unambiguous where the xticks point to .
Be more conservative with my xticks , and ensure that Dec 2014 and Feb 2015 are included as ticks , always .
Is it possible to transform an jpg image programmatically or in matplotlib to have such an effect ?
The solution saves the matplotlib line as an image in order to apply a pointwise transform .
Lets say , If I define the curved page as having a functional form similar to the maxwellian function , I want to scale / transform my image to follow that curve , so that in it will appear as if its printed on an open curvy page .
Based on this now I can construct the transform I want to have .
You are receiving a list of arguments in ` pie_colours ` ( what i had as ` patches ` , ` texts ` and ` autotexts `) .
This will only affect one ` Axes ` at a time .
There is a performance hit for this ( as ` pcolor ` is more expensive to draw than ` AxesImage `) , but getting accurate ticks is worth it .
How can I configure the subplot figure sizes for 2 gridspaces I create using matplotlib ?
I am trying to plot 3 series with 2 on the left y-axis and 1 on the right using ` secondary_y ` , but it s not clear to me how to define the right y-axis scale as I did on the left with ` ylim =( )` .
I have seen this post : Interact directly with axes
tcaswell , working directly with axes
Matplotlib Plot Lines Above Each Bar
Adding caption below X-axis for a scatter plot using matplotlib
I have created a scatter plot using matplotlib and now I wish to add caption a little below the X-axis .
As you can see in the image my caption is way below the scatter plot , is there a way to bring it exactly below the X-axis ?
Also my scatter plot looks rectangular , is there a way to make it square like ?
It appears that the xlabel is appearing only in the last row .
Is there any workaround for getting the xlabel in each row ?
Upgrading Matplotlib from 1.4.3 to 1.5.0 kills scatter plot
I have a real-time scatter plot using Matplotlib .
I initially create the scatter plot empty like this : #CODE
Setting the scatter offsets manually will not automatically rescale the axes .
Arrow on a line plot with matplotlib
In my experience this works best by using annotate .
EDIT : Changed parameters of arrow to include position direction of function to draw .
I created a polar contour plot and try to close it by adding the data of first row to the end .
theta and contour is created equivalent .
My contour consists also of 100x100 elements .
After trying your " append " snippet I got always 101x100 elements and the plot is still " open "
Ok , so the weird circular * hole * in your plot looks like it is not just a matter of * closing * the contour by adding another column .
mollview : use matplotlib colormaps and change background color
I'm trying to use others colormaps on healpy.mollview
This seems like a bug in ` healpy ` to me , since this will affect most colormaps you try to use .
Save / export axes / plot area to file , not figure
multiple y axes ( matplotlib ) - unable to define scale increments
Two follow-up questions to a post from yesterday ( Multiple Y Axes ) , is it possible to :
Set the scale increments with ylim or yticks ?
Are you asking [ how to draw a bar chart ] ( #URL ) ?
matplotlib animation produces a blank
I have a bunch of PNGs that I want to turn into an animation .
I can display the resulting animation on the screen and everything looks fine .
` fig = pyl.figure() ` creates a new figure while ` pplt.imshow ( img )` added the image to the current plot axes that belongs to the default figure .
Using ` axes ` methods : #CODE
need to display an image with matplotlib with no " additional " margins or axes
I want to get rid of that new set of axes and I want the image to occupy the entire available plotting window .
I can use a pick event to pull off and re-plot the data in any one of the subplot .
Is it possible to read the pick event and to find out what subplot number was selected ?
axes = event.artist
I cant seem to format this code correctly , basically I can pull off the plotted data but I cant tell which subplot it came from .
You have the ` Axes ` object so you can probably do what ever you want with it .
Failing that , you can use ` Axes ` as keys in dictionaries to map back to what ever you want .
I ended up using exactly this approach and putting the axes in a dictionary I can reference .
Place the axes in a list or dictionary when creating .
How to scatter plot a dict of lists containing arrays in Matplotlib ?
How to make MxN piechart plots with one legend and removed y-axis titles in Matplotlib
Multiple Pie Charts with a Shared Legend
You can add a legend to only the first axes after plotting all of your pie charts : #CODE
If you'd like to have a 2x2 or other grid arrangement of plots , ` plt.subplots ` will return a 2D array of axes .
Therefore , you'd need to iterate over ` axes.flat ` instead of ` axes ` directly .
If you'd like a grid arrangement that has more axes than the amount of data you have , you'll need to hide any axes that you don't plot on .
However , when we do this , we'll need to build up the legend manually by passing in artists and labels for the artists .
This is also a good time to demonstrate using ` fig.legend ` to align the single legend relative to the figure .
We'll place the legend in the center , in this case : #CODE
I tried modifying to ` fig , axes = plt.subplots ( 2 , 2 , figsize =( 10 , 5 ))` but won't work .
@USER - In that case , you'd want to iterate over ` axes.flat ` , as ` axes ` will be a 2D array .
I tried but the legend is gone .
Lastly , is there a way to remove the label ' abcd ' around the pie , but keeping the 1 legend ?
I'm trying to plot wind barbs onto a map using basemap .
Your examples only draw from one file .
Note , however , that the legend by default is being generated from the first passed labels , so you'll need to pass all values explicitly to keep it intact .
I found out that your method affect the legend .
We want to keep the legend intact .
@USER , I also noticed the legend problem , answer has been improved .
mplot3d : contourf offset , limits and ticks
I'm trying to get a nice contourf plot under a mplot3d surface .
I'd like to not show any tick under the minimum but still extend the zaxis to offset the contourf plot .
How do I hide or not draw at all the red circled ticks ?
I'm trying to draw a map of Lower Super Ouptut Areas in Britain , using ONS boundary data ( converted to ` readshapefile ` readable format in QGIS ) generalized to 20m , which is a 33MB file .
Ends up almost crashing my system , with the memory maxing out at over 6GB , and takes several minutes to draw .
So instead I append data to the plot using ` myPlot ` but when I try to append data points to the twinx() subplot using a different style ( blue diamonds for example , the values don't show up .
ax2lines are the twinx() subplot lines ..
How do I append a marker on the line ( either ` self.lines ` or ` self.ax2lines ` really ) in case of xFail happening ?
The figure or the canvas or the axes ?
[ ` draw `] ( #URL ) can maybe also called on the figure directly .
Unless there's a way of plotting markers at specific x / y coords in the first subplot ( i.e ` self.ax `) ?
Also , the ` bins ` input to ` hist ` takes either an integer for the number of bins , or a sequence of bin edges .
How can I transform the coordinates of vertices so that they map to the meshgrid , like in the image below ?
printing values with matplotlib animation
it's an animation were a plot is showing a point with the value ' m ' for y axe at each time ' i ' for x axe , and I want to put a text were it shows the exact value of ' m ' at the time ' i ' with de plt.text , but it doesn't work , it doesn't appear in the plot ...
I would like to get an idea of how to proceed to get the final subplot !
The key is using the three parameter form of subplot : #CODE
do you mean the border of each table cell , or only the outside border ( axes ) of the table ?
I've been working with python , pandas and seaborn to get a heatmap with different colormaps / columns .
This produce a heatmap with different colormaps / column ( the values are only there to clarify the problem ):
I came up with the " solution " below ( although it ain't pretty ... ); it does an ` ax.transData.transform ` from the data coordinates to figure coordinates , and uses ` ax.annote ` to draw the arrows , but this solution unfortunately only works if you keep the figure ` dpi ` ( dots per inch ) equal to the figure ` ppi ` ( points per inch ) .
Matplotlib.pyplot Bar Plot Grouping Subplots
But as you can see , it is taking taking the items from arrays below and spreading them across the xticks .
If you transpose your data so that the ` index ` you show below makes up the ` columns ` and your ` xticks ` make up the new ` index ` , you should get what you are looking for .
I have an arduino from which I'm pulling data from over a serial connection and plotting it in real time with a matplotlib animation #CODE
If you look closely , you will find that the the bar and legend are in reverse order -- Beef shows on top in legend but on bottom in the graph .
Nah , the problem is not the legend , take a look at #URL A , B , C , D is in correct order .
The issue is , I think , that the * convention * for a legend is " top-down " rather than " bottom-up " .
If you really want to reverse it , probably changing the legend convention would be easiest .
Try reversing the ` y ` axis of your axes as in this pandas-less example : #CODE
I think you should be able to use the same solution : ` plt.gca() ` is an axes , and ` df.plot ` is supposed to return an axes too .
Have a look at an [ animation example ] ( #URL ) .
Limits on axes using matplotlib inline
Hi , I'm having a problem , as you can see in the photo I'm putting limits to my " x " and " y " axes but the graph doesn't change even though I indicated the limits I want to use .
But you are never setting the limits of the axes to these values .
if OP has imported everything from ` pyplot ` or ` pylab ` ( which is what it looks like ) , its also possible to just call ` xlim ` and ` ylim ` .
Basically just need to remove the ` = ` sign on those lines : ` xlim ( x0 , x1 )` , ` ylim ( y0 , y1 )`
I've set both the ` prop_cyle ` and the ` facecolor ` keys for ` axes ` and ` patch ` respectively to no avail .
To check , draw lines in the center of your plot : #CODE
But in that case , you might also simply draw a filled rectangle
Custom legend for overlapping transparent areas with exact colors in a python pandas dataframe for stacked=false ?
When producing an unstacked area plot with pandas dataframe.plot , one gets more colored surfaces than the number of legend entries .
Now , I learned how to make a custom legend with specific colors in pyplot with line2D objects as follows : #CODE
But how does one access the exact colors for the overlapping surfaces from the original pandas plot of unstacked areas , providing a means to create a legend with seven entries ?
For an easier comparison of the legend items with the blended color of the overlapping circles , I Photoshopped the legend items into the figure ( small squares at the edges of the circles ) .
That is a good idea , but it seems that the calculation of the colors is quite different as can be seen in the legend ...
Apparently I'm very bad at comparing colors ; I just checked in in Photoshop , moving the legend around , and the colors are indeed to light .
You could just set the ` ylabel ` by calling ` pylab.ylabel ` : #CODE
Alternatively , the ` groups.plot ` command returns the ` Axes ` instance , so you could use that to set the ` ylabel ` : #CODE
I have a interesting equation I want to defined that has a Fourier transform with two equations inside of it .
I would think to start out by defining my first function , L , but i don't know what to implement first , my first function , the fourier transform , or the functions inside the fourier transform then the fourier transfrom .
Then just plug them into the Fourier transform .
If I were you , I would start out by making a single plot on normal 2D axes corresponding to one ' row ' in your matrix .
You should separate your data for every line and then draw them separately to the same axis ovject .
Matplotlib - two different colormaps with different ranges
I tried specifying two different colormaps inside each ` imshow ` call , I tried changing the values of ` vmax ` .
I've looked at the other Similar Questions ( Two different color colormaps in the same imshow matplotlib ) that talk about creating masked arrays or my own colormap , but because of the ` png ` file origin for ax0 , I don't really see how I should proceed .
Yes , I think this is equivalent ( without ` subplot `) to : ` plt.plot ( result ); plt.legend ([ ' C ' , ' D ']) ; plt.show() ` .
The ` subplot ` thing still looks strange to my newbie eyes , but I guess it's the pandaic way to go !
Pandas , Bar Chart Annotations
How to properly give Annotations to Pandas Bar Charts ?
I'm following Bar Chart Annotations with Pandas and MPL , but somehow I can't make it into my own code -- this is as far as I can go .
It appears your ` autolabel ` function is expecting a list of ` patches ` , sssuming your plot only those bars as its ` patches ` , we could do : #CODE
Accordint to the aformentioned * Bar Chart Annotations with Pandas and MPL* , ` autolabel ` would be different for vertical and horizontal bars .
Use matplotlib : plot error bars on two y axes
I'd like to plot a series with x and y error bars , then plot a second series with x and y error bars on a second y axis all on the same subplot .
Make a second axes that shares the x-axis .
The new axes will overlay ax ( or the current axes if ax is None ) .
Python same colorbar for subplots of real / imaginary contour plots of function
What you're trying to achieve will be considerable simpler if you use ` ha= ' right '` for the first and ` ha= ' left '` for the second text artist .
I already asked about labeling the axes and I have got the answer that satisfied me for the data that I had at that time .
so I'm using these pandas methods , that don't work in the same manner for ` kind=line ` as for ` kind =b ar ` , and though don't provide the labels for axes .
What else can I add to put labels on the axes ( both x and y ) ?
For the the legend , take a look here
How to add legend for text in matplotlib ?
Possible duplicate of [ Is it possible to add a string as a legend item in matplotlib ] ( #URL )
Thank you.But ax.text return a Text , example : Text ( 3523 , 16.4 , ' o ') , I can't use ax.legend ( plt_text , [ " Buy "]) .It seems ax.legend can just work on plot / bar / or else .
@USER Have you tried to add a text artist to a legend ?
Matplotlib prints a warning which says : " UserWarning : Legend does not support instances .
A proxy artist may be used instead .
So adding a proxy artist of a different object will * not * solve the problem .
But I really want to know how I can add legend for texts.Do you have any ideas ?
But as you said , the axes should probably correspond to something real like in your example for the plot to make any sense .
What I want to do : create a 3D contour plot in matplotlib
And I found the following sample code , but I couldn't understand how contour works in the code .
( based on what does contour draw the lines ? ) And is there a similar function for 3D output ?
You can control the spacing of the lines , but by default contour looks at your Z data and helpfully chooses some values that give a few visible contours .
If you capture the ` axes ` returned by ` pandas.plot() ` like so : #CODE
For your expanded question , the area can be modified through the collections API like so : #CODE
Changing the index for ` lines ` and ` collections ` allows for updating specific items .
As these are iterables , you can also iterate over ` lines ` or ` collections ` and do several things : #CODE
@USER : yes , access the ` collections ` from the ` Axes ` .
As noted by @USER , you can edit a lines ' ` color ` by accessing the ` lines ` from the given ` Axes ` .
To change the area under the curve , you want to access the ` collections ` stored in the ` Axes ` .
Obviously , you can change the index ` 0 ` in these examples to modify the other ` lines ` / ` collections ` .
ax.collections [ 0 ] .set_color ( ' yellow ') , however when I want to update the legend with ax.legend() , it appears differently now as if all the lines were only lines and not areas . any hint on that ?
This is a bit broad , you seem to already have code to add the edges and you should be able to draw a graph and determine all the nodes connected to your node either using pandas methods or after constructing a nx graph and calling ` edges ` on a specific node
I can add a legend to it , but the large number of lines means that it can be hard to spot the line to which a legend colour corresponds .
You can also try with a contour plot or a surface plot .
Move plot and legend in matplotlib
Another option is to specify the size of your plot and fix the legend to a location #CODE
The problem is that the function ` plt.plot ` returns a list of lines ( that were added to the plot ) , and not a ` Figure ` object --- while ` plt.close ` only accepts a ` Figure ` object .
You're misunderstanding the output of ` hist ` : on the ` x ` axis you have your data ( intervals of ` charges `) , and on the ` y ` axis you have the occurence of data points in each corresponding interval .
python matplotlib : spectrogram plot using pre-computed spectral data array
Background information -The reason for using pcolormesh is that I need to do arithmitic on the spectragram data array and then replot the resulting spectrogram ( for a three-component seismogram - east , north and vertical - I need to work out the horizontal spectral magnitude and divide the vertical spectra by the horizontal spectra ) .
My axes default to ` yaxis.offset_text_position = u'left '` .
But when I do this with pandas ' implementation of hist , as follows : #CODE
Does anyone know a way to get the histogram values off a histogram generated by pandas ' hist method ?
The ` pandas ` implementation of ` hist ` does not return the counts , bins and patches that you get from ` matplotlib `' s version .
Instead , it returns the ` Axes ` that it plotted the histogram on .
If you check the duplicate I linked above , I show a way you can back out the ` counts ` and ` bins ` from the ` patches ` associated with the ` Axes ` returned by ` pandas ` ; but its probably easier to just use ` plt.hist ` .
So far I've been able to accurately identify the petri dish rim edge with a hough circle finder and morphological gradient transform of image .
Adjust Bar Graph Location In Plot
That the legend is lost off the right-hand side ?
To control the position of the subplot to make room for the legend , you can use ` fig.subplots_adjust ` : #CODE
I use paint to draw what I really wanted to show .
You can pass a matplotlib ` axes ` object to ` df.plot() ` using the ` ax ` keyword argument and then plot the additional bars on top .
Show only a specified sub-region in a matplotlib contour plot
Am using matplotlib's contourf to do some contour plotting .
I would like the contour plot to be filled with a particular sub-region of the data I want to display , leaving the rest of the data out of the picture .
Is there a way to do this with contourf ?
The xlim / ylim keywords do not help .
No error returned , but no effect on the contour plot .
Giving contourf just a subsection to plot is not an option ( not an easy option , I should say ) because my data is on an irregular grid .
I do the contour and then I set x and y limits with matplotlib.pyplot.xlim and ylim : #CODE
` plt.subplots() ` is a function that returns a tuple containing a figure and axes object ( s ) .
Also , all axes objects ( the objects that have plotting methods ) , have a parent figure object anyway , thus : #CODE
` boxplot ` will happily plot a sequence of data distributions .
I'm trying to use Seaborn to create a boxplot and a stripplot , as in this example .
However , the data points of the stripplot can be hard to read on top of the boxplot .
My goal is to have an ' open ' boxplot , like the ones made by a pandas DataFrame.plot ( kind= ' box ') .
My attempt has been to use the PatchArtist rather than the Line2D artist .
From the seaborn boxplot documentation ,
` Other keyword arguments are passed through to plt.boxplot at draw time .
As it turns out , seaborn returns the subplot axis that it just generated .
Then , use ` imshow ` on the ` Axes ` that you create with ` fig.add_subplot ` .
Show Y Axis Grid Lines In Plot
The data gets plotted , but the x and y axes get interchanged in the plot ( it gets rotated 90 degrees clockwise ) .
For example , I draw a 2-D array data which presents the population density of some area .
set the user-defined levels like contourf plot .
This figure includes Axes that are not compatible with tight_layout , so its results might be incorrect .
After using seaborn heatmap I have several colorbars as axes instances but have no idea as to how to draw a black outline around the resultant colorbars .
I can use ` axhline ` and ` axvline ` to turn on the x axis and y axis but how do you draw right and top spines thus completing the box .
From matplotlib's ' axes ' API :
Set whether the axes rectangle patch is drawn
Just draw a regular plot ?
The patches that ` matplotlib_venn ` draws are scaled so that their total area is 1 .
This means that if you would simply set ` xlim ( -1 , 1 )` and ` ylim ( -1 , 1 )` for all the subplots , you would get diagrams that all have the same total area ( assuming all subplots are shown at the same scale ) .
If you now need to " scale down " one of the diagrams in order to reduce its area by 2 , one way to achieve it is to simply scale up all axis limits by ` sqrt ( 2 )` .
This is what the code above does : it first identifies the circle-set with the largest actual total area , and then simply scales up the limits of other diagrams proportionally to ` sqrt ( max_area / required_area )` .
Note , though , that ` tight_layout ` will start rescaling your subplots if it feels there is not enough space , so check the results ( e.g by adding axes around your subplots via ` ax.set_axis_on() ` and making sure all the subplots have the same width ) .
I am plotting a scatter graph using matplotlib in Python .
Simplest might be to use a scatter plot : #CODE
3 ) Iterate again through your original interaction list , and use ` add_edge ` to draw connections between the nodes .
setting margins in matplotlib / seaborn with subplots
i am running into the common issue of marker being hidden by the axis ( Add margin when plots run against the edge of the graph ) . when i try to adjust margins it doesn't work : #CODE
it gives no error but doesn't set margins either .
Which , when compared to the original figure , clearly has added margins :
I created a basic 3D animation , showing an object in 3D space , the coordinates are coming from an Arduino .
Most often after trying to close it the whole plot becomes white , the title changes to " Figure ( Not Responding )" , and after some seconds a new window with Python not responding message appears .
File " / usr / lib / python2.7 / site-packages / matplotlib / backends / backend_tkagg.py " , line 350 , in draw
Add tick marks to plotted line ( not axes ) in python ?
If you want to plot this , one possible way is to make a scatter plot with the x coordinate depending on which district is set .
You should also only have to set ` xlim ` once with ` ax.set_xlim ( 0 , 30 )` since you're putting everything on the same axes .
Thanks for the notes on sharex , xlim , and figsize .
Is there a way to draw connected streamlines using matplotlib of a 2D vector field ?
I'm plotting a magnetic flux on a regular grid and it is physically appeasing to draw connected lines .
Convert given value of contourf color to rgb code
I created a 2D contourf plot with viridis color scheme in bounds vmin=0 , vmax=4 .
Now I have from another calculation a data point at a specific location with data= 3.5 and want to superimpose this to the contour using a colored circle patch .
So how can I add the rgb color information to the circle within the range and used colorscheme of my contourf
Ok last question , how can I color with this results a a scatter point , tried to convert it to hex but it did not work
So , as an alternative , is it possible to tell ` py2exe ` to put the dependencies in another folder , but not directly inside the ` dist ` folder ?
Setting the axes tick values of a seaborn jointplot
I'm trying to make the x and y axes ( including axes tick values ) of my jointplot to start and end with specific values and to be scaled in set increments .
Notice that the lower and upper edges of both axes do not have any tick values .
I want the tick values to start and end at the axes edges using exactly the values I specified in xlim() and ylim() .
My preferred increments are 90 and 45 degrees for the X and Y axes respectively .
You can use ` matplotlib.ticker ` to set the ` major_locator ` on the axes .
Matplotlib - stop animation
I have made an animation using matplotlib and I'm trying to save it to a file .
For this it seems I would need to turn off automatic repeating of the animation .
But how do I keep the animation from looping ?
I have found that there is a keyword argument for the animation function , ` repeat ` , that can be set to ` False ` , but this has no apparent effect on my code !
I.e. making a figure and axes , and then calling ` ax.plot ` , ` ax.set_ylim ` , ` fig.savefig ` etc . rather than ` plt.plot ` , ` plt.ylim ` , etc .
Control the number of rows within a legend
However , when plotting the final results , the legend appears slightly off because I cannot control the number of rows within it .
Right now I use these options for the legend : #CODE
I also had this problem a couple of times and use this workaround by adding dummy items to the legend to fill the last column , if there are more elegant methods available I would also be very interested to hear about them .
The dummy items ( which I only added as _padding_ ) don't add anything here ( they only make things worse ) , and furthermore , I don't see how this answer addresses the question on how to create a legend with 4 columns with { 5 , 5 , 5 , 2 } items .
I'm binning data and plotting it on a map with a legend for each bin , but I get a line in my legend for each time I go through the loop .
How can I just get one line in my legend for each binned category ?
On each subplot I'd like to plot a dataset with error bars .
However , for one of the data sets , I'd like to also plot a polynomial fit to that data on the same subplot .
So I have the fit for data set 1 on the first subplot , nothing on the second subplot , data sets 1 and 2 on the third subplot and data sets 1 and 2 on the fourth subplot .
Is there any way for me to get what I want ( i.e. data set 1 with fit on subplot 1 , data set 2 on subplot 2 , etc . ) ?
But you can call ` plt.subplot ( 2 , 2 , 1 )` then do all your plot commands for the top left plot and then call ` plt.subplot ( 2 , 2 , 2 )` followed by your plot commands to the next subplot , etc .
Matplotlib stores your last subplot ( or axes object ) and all plot commands are plotted in to the last subplot .
Matplotlib : How to make a contour plot ?
I have a function that I want to do a contour plot : ` mixed_model_pdf ([[ x , y ]])` .
But that makes using ` contour ` even more confusing for me .
I've tried to implement pick events and the lasso selector to do the job , but I can't manage to interact with multiple figures , collections , and axes simultaneously .
@USER the main objective is to detect which point in a scatter plot is clicked on and then color that point and associated points on other plots .
Each of these plots represents different data from certain " collections " of data .
What I would try is call the draw function ` self.canvas.draw_idle() ` on every figure ( no matter which figure is clicked ) .
Does this generate the contour you are looking for ?
Do you know how to get the contour of the last value also ?
Then it should show the last contour line .
For a clean solution that properly prints ` legend ` and ` xticks ` , you could #CODE
( not to mention that the figure legend covers half of the plot if I show it ) .
Why UnicodeDecodeError when saving matplotlib animation ?
I try to use the following code to generate animation : #CODE
I see the animation that I expect to see .
It's only a workaround , but this works for most matplotlib routines like e.g. ` contourf ` ( where I had the same problem before ); calling the plot routine ( in this case ` plot_surface `) twice solves both problems :
With matplotlib scatter or line plots I can assign the x-axis as an array of datetimes .
This is the easiest way to add the dates -- labeling with xticks .
The colors are chosen according to the so-called color cycle , which you can set by ` ax.set_color_cycle ` for a given axes ` ax ` , for instance ` plt.gca() .set_color_cycle ` for the current axes .
it works but it also get rid of the legend !
You are re-using the same axes / figure multiple times .
As rightly pointed out by tcaswell , I was re-using the same axes / figure multiple times .
I've been trying to make a GUI in Python that will take 3 numbers as user input and graph them in a 3D scatter plot .
I wanted to define an empty list for x , y , and z variables , then append them with whatever the user inputs .
My question is , how do I create a figure , scatter plot all the points belonging to cluster 1 and then on the same plot have scatter of the remaining points in another color .
For each cluster of points , figure out the right points in ` M ` to extract out through ` logical ` indexing , extract out the ` x ` and ` y ` coordinates for those points then plot these points on your figure in a scatter formation where we manually specify the colour as a RGB tuple as well as the desired marker size .
We then create a cell array of labels that denote which set of points each cluster belongs to , then show a legend illustrating which points belong to which clusters given this array of labels .
enforce that horizontal and vertical colorbar have same size as axes
I have both , a scatter plot and an additional contour plot in the foreground .
The easiest thing to do is just construct the axes explicitly , using either ` plt.axes ` or ` fig.add_axes ` -- both of which accept a list / tuple of 4 parameters , ` [ left , bottom , width , height ]` in fractions of the figure size ( by default ) .
You can then use these axes when you construct the colorbar using the ` cax ` argument : #CODE
Plotting Pandas Multiindex Bar Chart
After using np.poly1d() in matplotlib plot double entry in the legend
But in the legend the ' linear ' line occurs twice .
There should be only one entry in the legend for both .
The ` xlabel ` should already be ' Year ' as this seems to be the ` name ` of the ` index ` .
` Legend ` is ` True ` by default .
You want to define your dates somewhere , though you'll also probably want to set the ` xticks ` to be the same as the dates you're plotting , as I can tell you care about the graph looking neat .
If I add the the plot to the figure with add_axes ( so that I can set its geometry ) , the configure subplot widget from the toolbar does not work .
However then I am not able to set the initial geometry of the subplot ( or at least I don't know how ) .
How can I make the widget work and still set the inital geometry of the subplot ?
plotting line and scatter plot in python
I use the following code to make a scatter plot with an additional contour-plot in its foreground .
I don't know where you got the coordinates for ` cax_h ` and ` cax_v ` , but for these kind of figures I often find it useful to specify the colorbar location relative to the axes of the figure .
My axes are ' ax ' : the axes reference
Generally , though , you are going to want to call one of the plot methods from the ` axes ` object that you have created .
1 ) When the loop runs , i see a lot of windows ( ' Figure 1 ') popped up .
2 ) better still , how to suppress blank Figure pop-up since it should really be writing to an external file in the background ,
I'm guessing that the semi-transparent patches overlap and give red lines .
For my purposes contourf also makes a good looking plot , too .
---> 34 import matplotlib.collections as collections
36 import matplotlib.contour as contour
25 import matplotlib.artist as artist
63 from matplotlib.path import Path
13 from matplotlib.path import Path
draw matrix as a table in python
I am trying to generate a data matrix with python and wish to draw it as a table .
matplotlib 3d projection , tick labels exceed margins
I don't know another solution than to play around with the view settings ` azim ` , ` elev ` and ` dist ` , for example : #CODE
I am trying to use Python to create a scatter plot that contains two X categories " cat1 " " cat2 " and each category has multiple Y values .
This is an iterator , so call ` next() ` on it each time you draw an ellipse : #CODE
One caveat is , that I found no way to make it work w / o refresh w / o calling ` output_notebook ` twice in two different cells .
I have imported counter from collections , networkx ( as nx ) and matplotlib ( as plt ) .
I'm not sure if it's something universal to Python functions or if it's something specific to the matplotlib animation package .
The code comes from Jake Vanderplas animation tutorial but similar examples of it around the web .
This is the animation function which is called : #CODE
Ok , thanks , would really not have guessed that , this is my first experiment with animation , needed to something , thought it might have been about leaving out a newline , but obviously not .
Makes an animation by repeatedly calling a function func , passing in ( optional ) arguments in fargs .
I think my animation will soon be working and will forget about this detail as you suggest .
This is his animation example which is the moving sine waves .
Now , explanation of subplot arguments : ` subplot ( rows , cols , axnum )`
In your case , if you want two graphics side by side , then you want one row with two columns --> ` subplot ( 1 , 2 ,... )`
In the second case , if you want two graphics one above the other , then you want 2 rows and one column --> ` subplot ( 2 , 1 ,... )`
Perhaps you should use the stateless API then , that is create the figure as ` fig = plt.figure() ` , subplots as ` s = fig.add_subplot ( 1 , 2 , 1 )` and then pass ` s ` to your functions that will plot there without caring whether it is a subplot or not .
A call to ` plt.plot() ` creates a figure and an Axes object behind the scenes ; with ` plt.figure() ` and ` add_subplot() ` you have control over these objects and can pass them to functions .
I have imported counter from collections , networkx ( as nx ) and matplotlib ( as plt ) .
Take for example , the following code for scatter plot : #CODE
I'm aware of the ` matplotlib.from_levels_and_colors ` function , but the problem is that the mapping isn't based on levels of the values on the x or y axes .
I created a list of colors based on the x and y values , and then passed that to the scatter function .
Pandas , Bar Chart Settings Customization
I.e. , all my y-labels are cut off , and margins are too big .
Matplotlib creates an axes subplot object independently from your figure object .
Often your subplot will not be " fit " correctly on your figure and you will need to manually adjust your subplot axes .
Then you can append bars with height equal to your y value , and located based on the index .
How to view all colormaps available in matplotlib 1.5 ?
I was wondering if there is a function call that can give me the name of all colormaps available in matplotlib 1.5 ?
But running this in mpl 1.5 does not return the new colormaps , such as ` viridis ` , ` magma ` and so on .
` plt.colormaps() ` returns a list of all registered colormaps .
Matplotlib provides a number of colormaps , and others can be added using register_cmap() .
This function documents the built-in colormaps , and will also return a list of all registered colormaps if called .
` seaborn `' s ` despine() ` remove any spines ( the outer edges of the plot ) from a plot .
The ` darkgrid ` style has no spines by default .
` despine ` actually removes the spine objects , whereas the ` darkgrid ` style sets the ` axes.linewidth ` ( aka the spines ) to 0 .
@USER I know that ` darkgrid ` has no spines by default .
Label is Missing from matplotlib legend
I'm plotting subplots with matplotlib and the legend does not show up for some plots .
In this example , the scatter plot legend does not show up .
Also , an issue with the workaround is that the Circle object still appears as a bar on the legend .
` plt.legend ` starts with a ` gca() ` ( which returns the current axes ): #CODE
So calling ` plt.legend ` will only get you a legend on your last subplot .
Adding that to the end of your code gives me a legend for both subplots .
Creating scatter plot out of function that returns many lists - Python
My question is , how do I combine the datelist and the lists returned from the function ( which could be many , indetermined number ) into one single scatter plot that have datelist as y and the lists items as x's ?
In your example I would like that for the first item in date_list ( which is y ) to create 3 different points in the scatter chart : [ y=1 ( the first date ) and x=1 ( the first item from the first list )] , [ y=1 ( the first date ) and x=4 ( the first item of the second list ] and [ y=1 ( the first date ) and x=7 ( the first item of the third list ] .
Instead , use ` annotate ` .
Tick locations will still be automatically chosen , but reducing ` nbins ` will reduce the maximum number of tick locations .
Finally , to avoid manually setting limits with a set padding , consider using ` margins ( some_percentage )` to pad the extents by a percentage of the current limits .
The ' window ' according to me is where you can see " Figure 1 " and the red button and ends where it cuts my plot .
I want to create an image from a numpy array very much like can be done with ` imshow ` or ` matshow ` , but I do not want any axes , borders , labels , shading or other additional effects / artifacts .
You have ` plt.figure ( figsize =( 2 , 2 ) , dpi=400 )` that amounts to requiring a square canvas , you have ` ax =( fig.add_subplot ( 111 , aspect= ' equal '))` that requires that the scales of the ` x ` and ` y ` axes are the same and you don't want the white space around your figure ...
A direct quote is as follows : " tight_layout automatically adjusts subplot params so that the subplot ( s ) fits in to the figure area .
Pandas Bar Graph : Side By Side ( No X or Y axises shared )
Two Bar Plots- Non side by side
Pass the axes to the plot calls : #CODE
instead of ` gridspec.GridSpec ` to create the axes .
better looking spacing between the axes " out-of-the-box " .
I have looked at .plot function on pandas and reaches to [ #URL pyplot's subplot [ #URL
I'm trying to create a simple scatter plot in d3 ( similar to this one from matplotlib ):
Not sure what you meant by the ` .mpl_colormap ` bit , colormaps do not have such attribute .
change dash style of negative values in a default contour - matplotlib
I tried the answer in link : How can I set the dash length in a matplotlib contour plot
But this sets all the lines in the contour to dashes which I do not want .
I need to hack the negative contour line styles alone !
You can loop though the line collections created by the ` CS ` object and for any non solid lines ( from ` get_linetype ` with value ` [( None , None )]`) set them however you want .
Matplotlib legend on first subplot
I want to draw only one legend into my figure with subplots of different numbers ( from one to five depending of results ) .
The legend should be always drawn above the first plot 1 .
Is there a way to explicit tell matplotlib to use the first plot to draw the legend and not the last 2 ?
I know how to draw only one legend for many subplots ( as you can see in image 2 ) but I want to know how to fix the legend to the first plot which was drawn and not to the last .
I tried to calculate the positions depending of the plot numbers but it is not precise and sometimes looks ugly ( legend comes into plot ) .
I want to know whether I can tell matplotlib to fix the legend always to subplot1 .
I know the link you referred but I want to know how to say directly to matplotlib to fix the legend to plot one .
Then you can call ` legend ` on a specific subplot's axes .
if i understand correctly plt.colorbar is for image and contour plots that are ScalarMappable and it's not usefull in my case .. and colorbar.ColorbarBase should be more universal but it don't work for me and i don't know why .
You can do this if you set the ` cmap ` of scatter , and set the color to the array of values , rather than the call to the colormap that you have now .
We set these for the ` major_locator ` and ` major_formatter ` of the ` xaxis ` of the ` Axes ` returned by ` pandas ` when you call ` spr.plot() `
I would like to write a routine allowing the user to specify a plane slicing through the data with arbitrary orientation and returning a contour plot of the data in the plane .
At present all the contour labels are vertical .
I ran the code below in ` matplotlib 1.4.3 ` and obtained rotated contour labels as you wanted , so , I don't know why you have that problem .
For your second question , what about using less contour levels ?
Errorbar plot for pandas DataFrame shows weird items in the legend
Although data and errorbars were plotted correctly , an additional weird item whose name is a column name of y-axis data was added to the legend .
Would you tell me how to remove this additional weird item in the legend ?
You can see that there is an additional item " y " in the legend , which I'd like to remove .
I have formatted all the axes ticks and labels .
The legend ( hue ) appears too small .
When I use the ` plotting_context ` decorator I get large text in the legend .
Plotting_context decorator should give a large text in the legend .
When I draw a picture using plot in pandas timeseries .
It looks like all the pictures , saved in ims , are shown at once and there's no animation .
You can see the difference between ` append ` and ` extend ` by playing with this example : #CODE
To make a smoother animation , avoid calling ` plt.bar ` and ` plt.plot ` so many times .
You can also use hex codes and set no outline for the bar graphs , and give some spacing for the actual plot , along with adding log axes :
Both axes need to be equal and the units need to be set to ` xy ` .
According to the documentation , you can give ` scale_units = ' xy '` and it will render the arrow lengths using the same units as the axes .
The use of kwarg wrap for a pyplot.text artist in matplotlib
This makes a decent animation from the data in your output file : #CODE
Solution for a real-time animation as the values are computed
Here a version that allows real-time animation of data produce by ` regr_magic ` : #CODE
Thus if you look at the graph of ` plot ( a , f ( a ) ); ` you'll notice that each ( imaginary ) vertical line that you draw on the graph intersect the line you draw at most once .
So , what happens if you want to draw / represent mathematically curves that do not abide this rule ( e.g. , a circle or the trajectory you attached in your question ) ?
Note that the parameter ` t ` is not explicitly participating in the plot : it is not one of the axes .
You could use ` fig.clear() ` and then re-add a new subplot ` fig.add_subplot ( 111 )`
` plt.spy ` will automatically set the aspect ratio of the axes to `' equal '` in order to ensure that the sparsity plot for a square matrix looks square .
Saving a matplotlib animation in Linux
I'm having a problem saving a matplotlib animation .
1.0 , the unit is the same with the axes
1.0 , the unit is the same with the axes
How to anchor a text artist to a legend artist ?
How can I position a text artist relative to for example another text artist or a legend artist .
Suppose I want to have some arbitrary text placed under the legend , but the legend will have a variable number of entries .
Therefore the legend spans an unknown distance in the y dimension .
Regardless of how large or small the legend gets to be , I want to position my text immediately below it .
In this script I want to anchor the text artist to the bottom of the legend artist .
Assuming that you want to change the current set of axes , you could use something like ` plt.setp ( plt.gca() .xaxis , ' major_locator ' , mloc )` .
@USER is partly right - ` plt.subplots ` will return a tuple containing the figure and axes ( although ` plt.gca ` just returns the axes ) .
It creates one subplot array of one row , one column , and one subplot .
creates subplot 1 and subplot 6 in array of 2 rows and 3 columns :
I have read through the contour demo , the API examples , the pcolormesh levels example , and this closely-related SO post ( my data is already gridded , so the solution doesn't help ) .
But nothing I have tried thus far has created 4 simple contour lines atop my pcolormesh data .
It looks like your data is pretty noisy which is probably why contour does not looks as desired .
You could try smoothing your data before using contour plot .
@USER , I forgot to mention that I had tried specifying my own contour levels , as well , without any luck .
and try to pcolormesh / contour , #CODE
Here's the result of scatter plot using Matplotlib
And now here's the result of calling scatter plot using Pandas
Is there bug in Pandas scatter function or is it supposed to work like this ?
You can set a colour as the third variable on a scatter graph ( see this answer ) .
IP addresses as x and y labels in a pandas scatter plot
I'd like to change the x and y labels of a pandas scatter plot .
screenshot of the resulting scatter plot
What are you trying to visually gain by graphing source and destination IP addresses in a scatter plot ?
Have you tried turning it around , and passing ` ax1 / ax2 ` to ` sh ` to make it use the existing axes for plotting ?
I meant changing the definition of ` sh ` , so that you can call it with ` sh ( ax1 , 6 , 6 )` , and * inside * ` sh ` you can call a necessary plot command as ` ax.plot_surf ` ( or something similar ) using the input ` ax ` handle of the axes to use .
So you create the axes with ` subplots ` , just as you did , and then * pass those axes to the spherical harmonic plotting function* .
I would do this : write ` sh() ` such that it plots a * single * spherical harmonic with a given ` l , m ` , and generate the necessary amount of axes * outside * ` sh() ` .
Then each axes can be passed to each ` sh() ` .
Matplotlib animation is not saved correctly
I produced an animation of a contour field with pyplot and would like to save it as movie file .
With the following Python code , I can detect texts ( and some non-texts ) and draw polygonal curves around each alphabet .
Limit Range on X Axis Scatter Plot Pandas MatplotLib
You can create axes and then use ` ax.xlim() ` .
Using the command : df1.plot ( x= ' time ' , y= ' number_of_pedestrians_injured ' , kind= ' scatter ')
I have a scatter plot ` plt.scatter ( x , y , z )` where x , y and z are 1D arrays .
e.g. [ make contour of scatter ] ( #URL )
change the zorder of the main Axes or the colorbar Axes .
( ` cb.ax.zorder = -1 `) . mpl draws axes at a time so you need to change the axes zorder to control overlap between axes .
Your plot function should also take in an ` Axes ` object as the first argument instead of relying on global state to hit the ' right ' axes .
If anyone knows how to fix the legend position ( see original question ) , let me know !
` plt.draw ` uses ` canvas.draw_idle ` which lets the gui decide when to draw .
Switch the draw line to ` PyRun_SimpleString ( " plt.get_current_fig_manager() .canvas .draw() ") ; ` will reproduce it with the gui backends too
Note that this will automatically place tickmarks that span the whole x-axis , regardless of how you pan or scale the axes of the plot .
Is it necessary to create a subplot and figure .
@USER ` set_xticks ` since it seemed closest to the OP's original code , but you're right that using a Locator would be cleaner .
Very conveniently , ` graph-tool.draw.graph_draw ` lets you specify a matplotlib Axes object as a canvas for drawing .
How to wait until matplotlib animation ends ?
Now , try to append the following piece of code to the above code : #CODE
Apparently , the " Animation " class of Matplotlib runs the animation in a separate thread .
2 ) How to say to python to wait until the animation has ended ?
We can run the animation function in a separate thread .
The loop is executed but the movie freezes until the end of the loop , so no animation can be seen .
But what is more surprising for me is that the command p.join() stops the execution of the animation , while according to the doc , it should stop the execution of the subsequent code until the thread end .
For me , copying into ipython works as expected ( animation plays first then the infinite loop ) but when running the script it freezes .
Which defines two threads and sets one to work on animation , one to loop .
For me , the script then behaves as expected with animation and then loop .
With the Qt4Agg backend , the animation actually occurs , but is executed after the loop ( use a for loop and time.sleep ( 1 ) inside the loop to visualize this effect ) .
Note : Even if the animation were executed in parallel with the loop ( which would be still useful for me ) , this would not really be the answer to the question , because I asked how to block the execution of the program following the animation until it has ended .
Blocking should be automatic with ` plt.show() ` until the end of the animation .
Another option is to avoid animation and use interactive mode with ` plt.ion() ` , I'll add an example .
It simply don't use the Animation class and builds its own animation from crash .
I have a last question : if no loop is typed in my example above , the animation runs endlessly on my system .
So , how is it possible that you've got the animation end and pass to the loop after show ( block=True ) in your second solution above ?
You can close the animation in the script after a number of loops with something like ` if args == 100 : plt.close() ` or set max number of frames ( which also doesn't seem to work as expected for me ) ...
Furthermore , it allows total control on the animation process .
I am drawing a scatter plot using Matplotlib on IPython notebook .
I try to draw some forms and polygons in a Javascript file with SVG and from that Matplot gave me ( Coordinates of points , LineString , Polygon , ... ) .
Basically , what I try to do is to draw some points in a Polygon .
However , as soon as I try to embed a ` FigureCanvas ` that has had a subplot added to it , my ActiveX component crashes with a generic Visual C++ Runtime Error :
They both seem to add a subplot if one isn't there .
In particular , the statefulness is why ` plt.set_xlim ` works -- ` pyplot ` has a reference to the figure ( and axes ) that you're currently working with .
The problem is that the object passed into the ` set_limits ` function as written as used is the ` Collection ` artist returned by scatter which does not have any notion of limits .
Matplotlib One Figure Multiple Page PDF
ValueError while adding colorbar to scatter plot in python
By default , it will create a new figure , unless the specify with the ` ax ` keyword argument a subplot on which to add the plot .
Use the ` range ` attribute to adjust the range in which the histogram buckets are created , and use ` xlim ` to control the exact range displayed on the x-axis .
I tried the xlim alone before , which is not sufficient , despite what the docs say on the range parameter : ' If not provided , range is ( x.min() , x.max() )' which it seems is NOT true .
I have the following code which produces a scatter plot with a colorbar : #CODE
This is a feature that has been requested previously , and would be nice to offer more directly , e.g. as ` mpld3.plugins.BarTooltip ` ; patches welcome !
How can I make a subplot in a subplot ?
I'm looking to make a 2 by 1 subplot , where the second subplot is a 1 by 2 subplot .
how to draw the dataframe without the breaktime
When i draw it , it shows all time with a straight line , but I don't need the middle of break time .
I want to write in the legend of a matplotlib figure a variable with a subscript using LaTeX .
Matplotlib suppress legend entries and replace with common entry
The plot has 6 y-variables - I only need 3 of these to be shown in the legend .
For the remaining variables that are to be skipped , I need them to be plot as a common name in the legend .
In order to determine which ones to skip in the legend , I have a Python list .
eg . for variables A , B , C , D , E , F I need to replace A , C and D with one variable named H so that the legend has H , B , E , F instead of A , B , C , D , E , F .
This code drops the required variables in the legend and replaces it correctly in the legend .
However , in the output , there is lightblue appearing in the legend .
Is there a way to suppress the plot labels A , C , D in the legend and replace them with H in lightblue ?
Matplotlib legend , add items across columns instead of down
SOURCE for main plotting code ( showing legend outside plot ):
How to put the legend out of the plot
In the final legend , the label H should be for the lightblue curves .
The same color should be chosen for those variables that will be suppressed in the legend .
The other colors will be for the variables that are not to be suppressed in the legend .
I need the legend to show : H as lightblue , B as red , E as purple and F as darkgrey .
To be clear what I'm asking for : what I want to do is to run some simulation code for a few iterations , then draw a plot of its current state , then run it for a few more iterations , then update the plot to reflect the current state , and so on .
So the idea is to draw a plot and then , without any interaction from the user , update the data in the plot without destroying and re-creating the whole thing .
The way I think about it is that ` pyplot.ylim() ` is the convenience function ( it's not technically a property ) providing a MATLAB-like functionality to set the y-limits of the current axes ( the one most recently created or plotted on ) , whereas ` ax1.set_ylim() ` sets the y-limits of a specific axes object ( there could be more than one ) which you have named ` ax1 ` .
So to create the very first subplot ( top left ) #CODE
Where I would have expected ` 0 ` to be the first subplot #CODE
It returns an array of ` Axis ` objects and you can index the array in the usual Python way .
There is one minor advantage in terms of the shortcut integer notation ( ` subplot ( 231 )` instead of ` subplot ( 2 , 3 , 1 )`) .
what does ` xscale ` call ?
It seems like your are calling some ` xscale ` function and some other is being called , it could be due to a scope issue , or may be you are showing some other code and running some other .
` set_xscale ` is an ` axes ` method that takes the same arguments .
The ` plot ` method probably delegates to the ` axes ` method .
The call signature of ` plt.xscale ` is ` xscale ( *args , ** kwargs )` , however in the documentation the call signature is actually ` plt.xscale ( scale , ** kwargs )` .
I use ` wxpython ` and ` matplotlib ` to draw a figure .
The data is from fpga , and I have to refresh the figure when data comes .
In my code I use the matplotlib restore_region .blit method to draw faster , but sometimes I want to change the xticks yticks and labels to see the detail of the figure , but I dont know how to .
The following is my function to set xticks and yticks .
and labels , and at the same time refresh the plot data ?
Matplotlib's ` pyplot ` interface uses a state machine to keep track of the currently active figure , axes , image , etc .
` plt.plot ` tries to get the current ` Axes ` instance .
Because there hasn't been one created yet , it creates a ` Figure ` and adds an ` Axes ` to it .
The ` Axes ` instance's ` plot ` method is called and a line is added to the axes ( the line object is also returned ) .
The gui mainloop for the ` Figure ` is entered when we call ` show `
That way it's much clearer what Axes you're plotting on , which Figure you're saving , etc .
Here , we've used a few ` pyplot ` functions to create a new figure / axes and display the figure .
` subplots ` creates a new ` Figure ` instance ( ` fig `) and adds one or more ` Axes ` ( subplots ) to the figure .
By default , a single Axes ( ` ax `) will be added to the figure .
We add a line to the ` Axes ` instance by calling its ` plot ` method ( ` ax.plot ( data )`) .
python matplotlib blit to axes or sides of the figure ?
Since the ` sns.kdeplot() ` returns a matplotlib Axes object , i cant use ` l.set_ydata() ` as shown in the widget example .
At some point , I need to draw a rectangle over an image to select an area .
The only " problem " that I have is that the rectangle that I draw on the axis disappears after I release the mouse button .
How to scatter ( draw ) on basemap in an streaming manner in Ipython Notepbook ?
I am trying to scatter some points on basemap , using python in IPython notebook .
The first shows the data in the three grids with their respective contours , but the second shows only the data in the first two grids and the third shows an offset version of a contour .
From the MPL mailing list , I tried modifying the matplotlib.contour.QuadContourSet._transOffset attribute from the contour , but that didn't help , either .
Also , I'm not sure if this would be valid as the figure and axes that generated the contours are no longer valid because the ` save_fig ` function ( called in between the contours being generated and being used in the second set of plots ) calls ` plt.close() ` .
I have seen discussions ( can't find the references at the moment ) on the MPL forums that you can't , in general , assign an artist object created with one set of axes to a figure with an unrelated set of axes .
However , I feel that there is definitely some missing transformation to align the two sets of axes .
why unnable to do annotation adjacent to legend ?
I am trying to add text to a location that is adjacent to the legend .
This is exactly the script contained in the stackoverflow question at Get Matplotlib legend location ?
When I run this script the string " Annotation Text " appears at the bottom left of the figure .
How can I obtain the coordinates of the Legend , preferably in terms of axes coordinates ie .
Why not using the set_title() method for legend ?
leg.set_title ( " Annotation Text ")
The reason for not using the set_title() method is because ultimately I want to place annotation outside the legend ; and said annotation is to be quite independent and disjoint from the legend .
You can use ` inverse_transformed ` to convert figure pixels to axes fraction : #CODE
Specifically , the routes are computed in some logical manner ( here at random ) each time the animation plots a new plot .
After looking up various examples and various posts about this class , I still am not able to plot the animation .
The output of the full model is an non-animating empty plot ( as defined before animation is called upon ) .
In the output it is apparent that the animation is running since it is printing out ` -- ` .
Either start with a reasonable extent ( in the ` init ` function or update the axes extents inside the update function .
have you considered using the xlim and ylim commands ?
If I use xlim ( -3 , 3 ) , ylim ( -3 , 3 ) then it will just zoom in to the top left corner and display the the V [ 0:3 , 0:3 ]
I am trying to draw helix ( shape of spring ) .
I was able to draw a single helix using axes3D and matplotlib .
Why cannot I do the same when there are three axes ?
[ whatever ]` always operates on the most current axes object .
If you have three different axes , you should call ` plot ` on them directly .
With your second snippet if you pan that figure at all the tick labels will not change , but the data space will ( that is to say your tick labels will be wrong ) .
To see what's going on , try ` hist ( bins=1 )` , you should get 72 on the y-axis , the length of the data .
Can I use pcolor / pcolrmesh to just draw the outline of the grid
An alternative approach would be to create a ` pcolormesh ` inside a set of polar axes : #CODE
I want to draw box plot , but I don't have raw data but aggregated results in Pandas DataFrame .
Is it still possible to draw box plot from the aggregated results ?
Split marker and line in Legend - Matplotlib
I want to make a legend where I specify the value for the markers and the value for the lines but not the combination of both .
What I wanted is a ` function_to_split ` to automatically end up with a legend like this : #CODE
What is the difference between a Text instance and string in python ?
As the matplotlib Artist tutorial says this function gives a list of ` Text ` instances .
Now the question is , what is a ` Text ` instance and is there any way I can convert a ` Text ` instance to strings or numbers ?
Text instance is an object , you can fetch the information of the instance using ` .__dict__() `
I want to draw the outlines of the grid squares where ` value == 2 ` : #CODE
I am trying to scatter some streaming points on a plot .
Every 5 second I will scatter the points .
Values missing : Overlaying points on boxplot subplots from a pandas dataframe
I would like to plot each column on a separate subplot as a boxplot with values from df1 , and overlay it with scatter plots ( just one value per boxplot ) from df2 .
The following code does not give me any error but only one value on the second boxplot is visible ..
Getting boxplot subplots only is easy using #CODE
But I don't know how to specify y for the scatter plot #CODE
How to add axes for subplot in matplotlib
I open a file , read the columns and plot each fit as a subplot after fitting .
However , I need to see the fit and also the residual for each subplot like in the figure .
I thought I could add axes to subplot but it does not work .
But I do not know how to add axes to subplot to plot the residual with the fit as a subplot to the subplot .
But I do not know how to add axes to subplot to plot the residual with the fit as a subplot to the subplot .
I guess , most of the code after 11th line is not of much concern , just to show what I have . after the line " axi.plot (( x , fit , ' m- ' , label= ' Fit ')" I need to plot " Fit-ydata " which is the resudual as a subplot to this subplot .
The figure supposed to show fit and the residual as an added axes sharing the xaxis below the subplot showing the residual .
I use ` subplot2grid ` to make a subplot like the following :
In order to make the ticks sufficiently large for publication , I need to increase the vertical and horizontal spacing between axes .
Here is the code I use to plot things and create the axes : #CODE
There is a brief example / tutorial on how to do wireframe plots ( as well as 3d scatter ) at the matplotlib site #URL
